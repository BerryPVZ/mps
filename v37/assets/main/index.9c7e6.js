window.__require=function t(e,a,o){function n(r,p){if(!a[r]){if(!e[r]){var c=r.split("/");if(c=c[c.length-1],!e[c]){var l="function"==typeof __require&&__require;if(!p&&l)return l(c,!0);if(i)return i(c,!0);throw new Error("Cannot find module '"+r+"'")}r=c}var s=a[r]={exports:{}};e[r][0].call(s.exports,function(t){return n(e[r][1][t]||t)},s,s.exports,t,e,a,o)}return a[r].exports}for(var i="function"==typeof __require&&__require,r=0;r<o.length;r++)n(o[r]);return n}({ShufenManager:[function(t,e,a){"use strict";cc._RF.push(e,"96dc0OzT0RL6K7Cl70Ja7Mk","ShufenManager"),Object.defineProperty(a,"__esModule",{value:!0}),a.ShufenEvent=void 0,a.ShufenEvent={login:"login",signup:"signup",custom:"custom",video:"video",prop:"prop",guide:"guide",level:"level",load:"load",onlineTime:"onlineTime"};var o=function(){function t(){}return t.report=function(e,o){void 0===o&&(o=!1),e&&e.event?e.event==a.ShufenEvent.load?1==e.type?(t.uuidStr=t.generateUUID(),t.uuidStr?(t.loadStartTime=t.getTime(),e.userId=t.uuidStr,e.len=0,t.send(e,o)):console.log(".....is loaded")):2==e.type?t.uuidStr?(t.loadStartTime?e.len=""+(t.getTime()-t.loadStartTime):e.len=0,e.userId=t.uuidStr,t.send(e,o)):console.log(".....is loaded 2"):console.error(".....shu fen load type error"):e.event==a.ShufenEvent.login?e.userId?(t.openid=e.userId,t.send(e,o)):console.error("......shufen no openid..."):t.send(e,o):console.error(".....shu fen data error")},t.sendAll=function(){if(t.sendT&&(clearTimeout(t.sendT),t.sendT=null),t.sendDataList.length>0){for(var e=0;e<t.sendDataList.length;e++){var a=t.sendDataList[e];t.send(a,!0)}t.sendDataList=[]}},t.send=function(e,a){if(e.appid||(e.appid=t.appid),e.userId||(e.userId=t.openid),e.timestamp||(e.timestamp=""+Math.floor(t.getTime()/1e3)),a){var o=t.object2String(e,"&")+"&"+t.secret;e.sign=t.getMD5(o),t.httpRequest(t.shufenUrl,e,null,null,"POST")}else t.sendDataList.length>0?(t.sendDataList.push(e),t.queueToSend()):t.send(e,!0)},t.queueToSend=function(){if(t.sendDataList.length>0){var e=t.sendDataList.shift();t.send(e,!0),t.sendDataList.length>0?t.sendT=setTimeout(function(){t.queueToSend()},50):t.sendT=null}},t.getTime=function(){return(new Date).getTime()},t.generateUUID=function(){var e="mj_rsck_local_uuid"+t.appid,a=cc.sys.localStorage.getItem(e);if(a&&a.length>0)return null;var o=(new Date).getTime(),n=Math.floor(o/1e5)%1e6,i="xx-xxx-yxx-xx".replace(/[xy]/g,function(t){var e=(o+16*Math.random())%16|0;return o=Math.floor(o/16),("x"==t?e:3&e|8).toString(16)}),r="mj_"+t.appid+"_"+n+"_"+i;return cc.sys.localStorage.setItem(e,r),r},t.object2String=function(t,e){for(var a=Object.keys(t).sort(),o="",n=0;n<a.length;n++)n==a.length-1?o+=a[n]+"="+t[a[n]]:o+=a[n]+"="+t[a[n]]+e;return console.log("\u6570\u636e1",o),o},t.getMD5=function(t){function e(t,e){return t<<e|t>>>32-e}function a(t,e){var a,o,n,i,r;return n=2147483648&t,i=2147483648&e,r=(1073741823&t)+(1073741823&e),(a=1073741824&t)&(o=1073741824&e)?2147483648^r^n^i:a|o?1073741824&r?3221225472^r^n^i:1073741824^r^n^i:r^n^i}function o(t,e,a){return t&e|~t&a}function n(t,e,a){return t&a|e&~a}function i(t,e,a){return t^e^a}function r(t,e,a){return e^(t|~a)}function p(t,n,i,r,p,c,l){return t=a(t,a(a(o(n,i,r),p),l)),a(e(t,c),n)}function c(t,o,i,r,p,c,l){return t=a(t,a(a(n(o,i,r),p),l)),a(e(t,c),o)}function l(t,o,n,r,p,c,l){return t=a(t,a(a(i(o,n,r),p),l)),a(e(t,c),o)}function s(t,o,n,i,p,c,l){return t=a(t,a(a(r(o,n,i),p),l)),a(e(t,c),o)}function u(t){var e,a="",o="";for(e=0;e<=3;e++)a+=(o="0"+(t>>>8*e&255).toString(16)).substr(o.length-2,2);return a}var h,f,d,m,y,z,b,g,v,_=new Array;for(_=function(t){for(var e,a=t.length,o=a+8,n=16*((o-o%64)/64+1),i=new Array(n-1),r=0,p=0;p<a;)r=p%4*8,i[e=(p-p%4)/4]=i[e]|t.charCodeAt(p)<<r,p++;return r=p%4*8,i[e=(p-p%4)/4]=i[e]|128<<r,i[n-2]=a<<3,i[n-1]=a>>>29,i}(t=function(t){t=t.replace(/\r\n/g,"\n");for(var e="",a=0;a<t.length;a++){var o=t.charCodeAt(a);o<128?e+=String.fromCharCode(o):o>127&&o<2048?(e+=String.fromCharCode(o>>6|192),e+=String.fromCharCode(63&o|128)):(e+=String.fromCharCode(o>>12|224),e+=String.fromCharCode(o>>6&63|128),e+=String.fromCharCode(63&o|128))}return e}(t)),z=1732584193,b=4023233417,g=2562383102,v=271733878,h=0;h<_.length;h+=16)f=z,d=b,m=g,y=v,z=p(z,b,g,v,_[h+0],7,3614090360),v=p(v,z,b,g,_[h+1],12,3905402710),g=p(g,v,z,b,_[h+2],17,606105819),b=p(b,g,v,z,_[h+3],22,3250441966),z=p(z,b,g,v,_[h+4],7,4118548399),v=p(v,z,b,g,_[h+5],12,1200080426),g=p(g,v,z,b,_[h+6],17,2821735955),b=p(b,g,v,z,_[h+7],22,4249261313),z=p(z,b,g,v,_[h+8],7,1770035416),v=p(v,z,b,g,_[h+9],12,2336552879),g=p(g,v,z,b,_[h+10],17,4294925233),b=p(b,g,v,z,_[h+11],22,2304563134),z=p(z,b,g,v,_[h+12],7,1804603682),v=p(v,z,b,g,_[h+13],12,4254626195),g=p(g,v,z,b,_[h+14],17,2792965006),z=c(z,b=p(b,g,v,z,_[h+15],22,1236535329),g,v,_[h+1],5,4129170786),v=c(v,z,b,g,_[h+6],9,3225465664),g=c(g,v,z,b,_[h+11],14,643717713),b=c(b,g,v,z,_[h+0],20,3921069994),z=c(z,b,g,v,_[h+5],5,3593408605),v=c(v,z,b,g,_[h+10],9,38016083),g=c(g,v,z,b,_[h+15],14,3634488961),b=c(b,g,v,z,_[h+4],20,3889429448),z=c(z,b,g,v,_[h+9],5,568446438),v=c(v,z,b,g,_[h+14],9,3275163606),g=c(g,v,z,b,_[h+3],14,4107603335),b=c(b,g,v,z,_[h+8],20,1163531501),z=c(z,b,g,v,_[h+13],5,2850285829),v=c(v,z,b,g,_[h+2],9,4243563512),g=c(g,v,z,b,_[h+7],14,1735328473),z=l(z,b=c(b,g,v,z,_[h+12],20,2368359562),g,v,_[h+5],4,4294588738),v=l(v,z,b,g,_[h+8],11,2272392833),g=l(g,v,z,b,_[h+11],16,1839030562),b=l(b,g,v,z,_[h+14],23,4259657740),z=l(z,b,g,v,_[h+1],4,2763975236),v=l(v,z,b,g,_[h+4],11,1272893353),g=l(g,v,z,b,_[h+7],16,4139469664),b=l(b,g,v,z,_[h+10],23,3200236656),z=l(z,b,g,v,_[h+13],4,681279174),v=l(v,z,b,g,_[h+0],11,3936430074),g=l(g,v,z,b,_[h+3],16,3572445317),b=l(b,g,v,z,_[h+6],23,76029189),z=l(z,b,g,v,_[h+9],4,3654602809),v=l(v,z,b,g,_[h+12],11,3873151461),g=l(g,v,z,b,_[h+15],16,530742520),z=s(z,b=l(b,g,v,z,_[h+2],23,3299628645),g,v,_[h+0],6,4096336452),v=s(v,z,b,g,_[h+7],10,1126891415),g=s(g,v,z,b,_[h+14],15,2878612391),b=s(b,g,v,z,_[h+5],21,4237533241),z=s(z,b,g,v,_[h+12],6,1700485571),v=s(v,z,b,g,_[h+3],10,2399980690),g=s(g,v,z,b,_[h+10],15,4293915773),b=s(b,g,v,z,_[h+1],21,2240044497),z=s(z,b,g,v,_[h+8],6,1873313359),v=s(v,z,b,g,_[h+15],10,4264355552),g=s(g,v,z,b,_[h+6],15,2734768916),b=s(b,g,v,z,_[h+13],21,1309151649),z=s(z,b,g,v,_[h+4],6,4149444226),v=s(v,z,b,g,_[h+11],10,3174756917),g=s(g,v,z,b,_[h+2],15,718787259),b=s(b,g,v,z,_[h+9],21,3951481745),z=a(z,f),b=a(b,d),g=a(g,m),v=a(v,y);return(u(z)+u(b)+u(g)+u(v)).toLowerCase()},t.httpRequest=function(t,e,a,o,n){void 0===n&&(n="GET");var i="";for(var r in e)i&&(i+="&"),i+=r+"="+e[r];var p=new XMLHttpRequest;p.onreadystatechange=function(){if(4==p.readyState)if(p.status>=200&&p.status<400){var e=p.responseText;if(console.log("\u8fd4\u56de\u6210\u529f",e),e){if(-1!=t.indexOf(".json"))n=JSON.parse(e);else var n=JSON.parse(e);o&&o(n,a)}else console.log("\u8fd4\u56de\u6570\u636e\u4e0d\u5b58\u5728"),o&&o(!1,a)}else console.log("\u8bf7\u6c42\u5931\u8d25"),o&&o(!1,a)},"GET"==n?(p.open("GET",t+"?"+i,!0),p.send()):(p.open("POST",t,!0),p.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),p.send(i)),console.log("\u8c03\u7528\u94fe\u63a5\uff1a"+t+"?"+i)},t.appid="yr1lmttwpf89lwaw29ng",t.secret="bugj9akhlb2t23g91ieppkofbabx1j",t.shufenUrl="https://ddht.jinkezhexin.com/shufen/writeLog",t.loadStartTime=null,t.sendDataList=[],t.sendT=null,t.uuidStr=null,t.openid=null,t}();a.default=o,cc._RF.pop()},{}],pzaAES:[function(t,e,a){"use strict";cc._RF.push(e,"b3fcfx7pd9Mp7FHwnuJb1Jb","pzaAES"),Object.defineProperty(a,"__esModule",{value:!0}),a.pzaAES=void 0;var o=t("./pzakc"),n=function(){function t(e){if(this.outMap={base64:t.base64,hex:t.hex,binary:function(t){return t}},this.inMap={base64:t.base64_to_binary,hex:t.str2hex,binary:function(t){return t}},this.modMap={cbc:{mEncrypt:function(e,a,o){a=t.pad(a);for(var n=new Uint8Array(a.length),i=o,r=0;r<a.length;r+=t.blockSize)i=e.encrypt(t.xor(a.slice(r,r+t.blockSize),i)),n.set(i,r);return n},mDecrypt:function(e,a,o){for(var n=new Uint8Array(a.length),i=o,r=0;r<a.length;r+=t.blockSize){var p=a.slice(r,r+t.blockSize);n.set(t.xor(e.decrypt(p),i),r),i=p}return t.unpad(n)}},cfb:{mEncrypt:function(e,a,o){for(var n=new Uint8Array(a.length),i=o,r=0;r<a.length;r+=t.blockSize)i=t.xor(a.slice(r,r+t.blockSize),e.encrypt(i)),n.set(i,r);return n},mDecrypt:function(e,a,o){for(var n=new Uint8Array(a.length),i=o,r=0;r<a.length;r+=t.blockSize){var p=a.slice(r,Math.min(r+t.blockSize,a.length));n.set(t.xor(p,e.encrypt(i)),r),i=p}return n}},ecb:{mEncrypt:function(e,a){if((a=t.pad(a)).length%t.blockSize!=0)throw"Message is not properly padded";for(var o=new Uint8Array(a.length),n=0;n<a.length;n+=t.blockSize)o.set(e.encrypt(a.slice(n,n+t.blockSize)),n);return o},mDecrypt:function(e,a){if(a.length%t.blockSize!=0)throw"Message is not properly padded";for(var o=new Uint8Array(a.length),n=0;n<a.length;n+=t.blockSize)o.set(e.decrypt(a.slice(n,n+t.blockSize)),n);return t.unpad(o)}}},this.opt={mode:"cbc",iv:new Uint8Array(16),padding:"pkcs5",output:"base64"},!e)throw new Error("AES requires key!");switch(e.length){case 16:this.NK=4,this.NR=10;break;case 24:this.NK=6,this.NR=12;break;case 32:this.NK=8,this.NR=14;break;default:throw new Error("AES supports only 16, 24 and 32 bytes keys!")}this.KEY=new Array(t.AES_NB*(this.NR+1)*4),this.expandKey(e)}return t.subWord=function(e){for(var a=0;a<4;a++)e[a]=t.AES_SBOX[16*((240&e[a])>>4)+(15&e[a])]},t.rotWord=function(t){for(var e=t[0],a=0;a<3;a++)t[a]=t[a+1];t[3]=e},t.gmult=function(t,e){for(var a=0,o=0,n=0;n<8;n++)1&e&&(a^=t),o=128&t,t<<=1,o&&(t^=27),e>>=1;return a},t.coefAdd=function(t,e,a){a[0]=t[0]^e[0],a[1]=t[1]^e[1],a[2]=t[2]^e[2],a[3]=t[3]^e[3]},t.coefMult=function(e,a,o){o[0]=t.gmult(e[0],a[0])^t.gmult(e[3],a[1])^t.gmult(e[2],a[2])^t.gmult(e[1],a[3]),o[1]=t.gmult(e[1],a[0])^t.gmult(e[0],a[1])^t.gmult(e[3],a[2])^t.gmult(e[2],a[3]),o[2]=t.gmult(e[2],a[0])^t.gmult(e[1],a[1])^t.gmult(e[0],a[2])^t.gmult(e[3],a[3]),o[3]=t.gmult(e[3],a[0])^t.gmult(e[2],a[1])^t.gmult(e[1],a[2])^t.gmult(e[0],a[3])},t.xor=function(t,e){for(var a=new Uint8Array(t.length),o=0;o<a.length;o++)a[o]=t[o]^e[o%e.length];return a},t.hex=function(t){for(var e="",a=0;a<t.length;a++)e+=t[a].toString(16).padStart(2,"0");return e},t.str2hex=function(t){if(t.length%2!=0)throw"Invalid hex format";for(var e=new Uint8Array(t.length>>1),a=0,o=0;o<t.length;o+=2)e[a++]=parseInt(t.substring(o,o+2),16);return e},t.concat=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var a=t.reduce(function(t,e){return t+e.length},0),o=new Uint8Array(a),n=0,i=0;i<t.length;i++)o.set(t[i],n),n+=t[i].length;return o},t.random_bytes=function(t){for(var e=new Uint8Array(t),a=0;a<t;a++)e[a]=1+(254*Math.random()|0);return e},t.pad=function(t){var e=16*Math.ceil((t.length+1)/16),a=e-t.length,o=new Uint8Array(e);return o.set(t,0),o.set(new Array(a).fill(a),t.length),o},t.unpad=function(t){var e=t[t.length-1];return new Uint8Array(t.slice(0,t.length-e))},t.base64=function(e){return t.base64encode(String.fromCharCode.apply(null,e))},t.base64encode=function(e){var a,o,n,i,r,p;for(n=e.length,o=0,a="";o<n;){if(i=255&e.charCodeAt(o++),o==n){a+=t.base64EncodeChars.charAt(i>>2),a+=t.base64EncodeChars.charAt((3&i)<<4),a+="==";break}if(r=e.charCodeAt(o++),o==n){a+=t.base64EncodeChars.charAt(i>>2),a+=t.base64EncodeChars.charAt((3&i)<<4|(240&r)>>4),a+=t.base64EncodeChars.charAt((15&r)<<2),a+="=";break}p=e.charCodeAt(o++),a+=t.base64EncodeChars.charAt(i>>2),a+=t.base64EncodeChars.charAt((3&i)<<4|(240&r)>>4),a+=t.base64EncodeChars.charAt((15&r)<<2|(192&p)>>6),a+=t.base64EncodeChars.charAt(63&p)}return a},t.base64decode=function(e){var a,o,n,i,r,p,c;for(p=e.length,r=0,c="";r<p;){do{a=t.base64DecodeChars[255&e.charCodeAt(r++)]}while(r<p&&-1==a);if(-1==a)break;do{o=t.base64DecodeChars[255&e.charCodeAt(r++)]}while(r<p&&-1==o);if(-1==o)break;c+=String.fromCharCode(a<<2|(48&o)>>4);do{if(61==(n=255&e.charCodeAt(r++)))return c;n=t.base64DecodeChars[n]}while(r<p&&-1==n);if(-1==n)break;c+=String.fromCharCode((15&o)<<4|(60&n)>>2);do{if(61==(i=255&e.charCodeAt(r++)))return c;i=t.base64DecodeChars[i]}while(r<p&&-1==i);if(-1==i)break;c+=String.fromCharCode((3&n)<<6|i)}return c},t.utf16to8=function(t){var e,a,o,n;for(e="",o=t.length,a=0;a<o;a++)(n=t.charCodeAt(a))>=1&&n<=127?e+=t.charAt(a):n>2047?(e+=String.fromCharCode(224|n>>12&15),e+=String.fromCharCode(128|n>>6&63),e+=String.fromCharCode(128|n>>0&63)):(e+=String.fromCharCode(192|n>>6&31),e+=String.fromCharCode(128|n>>0&63));return e},t.utf8to16=function(t){var e,a,o,n,i,r;for(e="",o=t.length,a=0;a<o;)switch((n=t.charCodeAt(a++))>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:e+=t.charAt(a-1);break;case 12:case 13:i=t.charCodeAt(a++),e+=String.fromCharCode((31&n)<<6|63&i);break;case 14:i=t.charCodeAt(a++),r=t.charCodeAt(a++),e+=String.fromCharCode((15&n)<<12|(63&i)<<6|(63&r)<<0)}return e},t.base64_to_binary=function(e){for(var a=t.base64decode(e),o=a.length,n=new Uint8Array(o),i=0;i<o;i++)n[i]=a.charCodeAt(i);return n},t.computeMessage=function(t){if("string"!=typeof t)return t;for(var e,a,o=t,n=[],i=0;i<o.length;i++){e=o.charCodeAt(i),a=[];do{a.push(255&e),e>>=8}while(e);n=n.concat(a.reverse())}return Uint8Array.from(n)},t.create=function(e,a){var n=t.computeMessage(e),i=new t(n);return a&&(o.default.forMap(i.opt,function(t){a[t]&&(i.opt[t]=a[t])}),"string"==typeof i.opt.iv&&(i.opt.iv=t.computeMessage(i.opt.iv))),i},t.prototype.encString=function(e){var a=this.modMap[this.opt.mode];if(!a)throw"Unknown mode:"+this.opt.mode;var o=a.mEncrypt(this,t.computeMessage(e),this.opt.iv);return(0,this.outMap[this.opt.output])(o)},t.prototype.Uint8ArrayToString=function(t){var e,a,o,n,i,r;for(e="",o=t.length,a=0;a<o;)switch((n=t[a++])>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:e+=String.fromCharCode(n);break;case 12:case 13:i=t[a++],e+=String.fromCharCode((31&n)<<6|63&i);break;case 14:i=t[a++],r=t[a++],e+=String.fromCharCode((15&n)<<12|(63&i)<<6|(63&r)<<0)}return e},t.prototype.decString=function(t){var e=this.modMap[this.opt.mode];if(!e)throw"Unknown mode:"+this.opt.mode;var a=this.inMap[this.opt.output],o=e.mDecrypt(this,a(t),this.opt.iv);return this.Uint8ArrayToString(o)},t.prototype.encrypt=function(t){var e=this.createState(t);this.addRoundKey(e,0);for(var a=1;a<this.NR;a++)this.subBytes(e),this.shiftRows(e),this.mixColumns(e),this.addRoundKey(e,a);return this.subBytes(e),this.shiftRows(e),this.addRoundKey(e,this.NR),this.stateToResult(e)},t.prototype.decrypt=function(t){var e=this.createState(t);this.addRoundKey(e,this.NR);for(var a=this.NR-1;a>=1;a--)this.shiftRows(e,!0),this.subBytes(e,!0),this.addRoundKey(e,a),this.mixColumns(e,!0);return this.shiftRows(e,!0),this.subBytes(e,!0),this.addRoundKey(e,0),this.stateToResult(e)},t.prototype.createState=function(e){for(var a=new Uint8Array(4*t.AES_NB),o=0;o<4;o++)for(var n=0;n<t.AES_NB;n++)a[t.AES_NB*o+n]=e[o+4*n];return a},t.prototype.stateToResult=function(e){for(var a=new Uint8Array(16),o=0;o<4;o++)for(var n=0;n<t.AES_NB;n++)a[o+4*n]=e[t.AES_NB*o+n];return a},t.prototype.expandKey=function(e){for(var a=new Array(4),o=t.AES_NB*(this.NR+1),n=0;n<this.NK;n++)this.KEY[4*n]=e[4*n],this.KEY[4*n+1]=e[4*n+1],this.KEY[4*n+2]=e[4*n+2],this.KEY[4*n+3]=e[4*n+3];for(n=this.NK;n<o;n++)a[0]=this.KEY[4*(n-1)],a[1]=this.KEY[4*(n-1)+1],a[2]=this.KEY[4*(n-1)+2],a[3]=this.KEY[4*(n-1)+3],n%this.NK==0?(t.rotWord(a),t.subWord(a),t.coefAdd(a,t.roundConstant(n/this.NK),a)):this.NK>6&&n%this.NK==4&&t.subWord(a),this.KEY[4*n]=this.KEY[4*(n-this.NK)]^a[0],this.KEY[4*n+1]=this.KEY[4*(n-this.NK)+1]^a[1],this.KEY[4*n+2]=this.KEY[4*(n-this.NK)+2]^a[2],this.KEY[4*n+3]=this.KEY[4*(n-this.NK)+3]^a[3]},t.roundConstant=function(e){if(1==e)t.AES_R[0]=1;else if(e>1)for(t.AES_R[0]=2,e--;e-1>0;)t.AES_R[0]=t.gmult(t.AES_R[0],2),e--;return t.AES_R},t.prototype.addRoundKey=function(e,a){for(var o=0;o<t.AES_NB;o++)e[o]^=this.KEY[4*t.AES_NB*a+4*o],e[t.AES_NB+o]^=this.KEY[4*t.AES_NB*a+4*o+1],e[2*t.AES_NB+o]^=this.KEY[4*t.AES_NB*a+4*o+2],e[3*t.AES_NB+o]^=this.KEY[4*t.AES_NB*a+4*o+3]},t.prototype.mixColumns=function(e,a){void 0===a&&(a=!1);for(var o=a?[14,9,13,11]:[2,1,1,3],n=new Array(4),i=new Array(4),r=0;r<t.AES_NB;r++){for(var p=0;p<4;p++)n[p]=e[t.AES_NB*p+r];for(t.coefMult(o,n,i),p=0;p<4;p++)e[t.AES_NB*p+r]=i[p]}},t.prototype.shiftRows=function(e,a){void 0===a&&(a=!1);for(var o=1;o<4;o++)for(var n=0;n<o;){var i=a?e[t.AES_NB*o+t.AES_NB-1]:e[t.AES_NB*o+0];if(a){for(var r=t.AES_NB-1;r>0;r--)e[t.AES_NB*o+r]=e[t.AES_NB*o+r-1];e[t.AES_NB*o]=i}else{for(r=1;r<t.AES_NB;r++)e[t.AES_NB*o+r-1]=e[t.AES_NB*o+r];e[t.AES_NB*o+t.AES_NB-1]=i}n++}},t.prototype.subBytes=function(e,a){void 0===a&&(a=!1);for(var o=a?t.AES_INVERSE_SBOX:t.AES_SBOX,n=0;n<4;n++)for(var i=0;i<t.AES_NB;i++){var r=(240&e[t.AES_NB*n+i])>>4,p=15&e[t.AES_NB*n+i];e[t.AES_NB*n+i]=o[16*r+p]}},t.AES_NB=4,t.AES_SBOX=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],t.AES_INVERSE_SBOX=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],t.AES_R=[2,0,0,0],t.base64EncodeChars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t.base64DecodeChars=new Array(-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1),t.blockSize=16,t}();a.pzaAES=n,cc._RF.pop()},{"./pzakc":"pzakc"}],pzaAbsorbIronEquip:[function(t,e,a){"use strict";cc._RF.push(e,"d06f0s2FhRHL5NufHOcxmir","pzaAbsorbIronEquip");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaAbsorbIronEquip=void 0;var r=t("../../Common/pzaBaseComponent"),p=t("../../Common/pzaSpineController"),c=t("../Data/pzaZombieEnum"),l=cc._decorator,s=l.ccclass,u=l.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bucketAni=null,e.screenDoorAni=null,e.footballCatAni=null,e.jackBoxAni=null,e.boRodAni=null,e.shovelAni=null,e.ladderAni=null,e.absorbFlying=!0,e.returnTime=0,e.plantData=null,e}return n(e,t),e.prototype.init=function(t,e,a){var o=this;if(null!=t&&null!=e&&null!=e.zombieData){this.plantData=t,this.node.zIndex=5,this.bucketAni.node.active=!1,this.screenDoorAni.node.active=!1,this.footballCatAni.node.active=!1,this.jackBoxAni.node.active=!1,this.boRodAni.node.active=!1,this.shovelAni.node.active=!1,this.ladderAni.node.active=!1;var n=null;switch(e.zombieData.zombieType){case c.pzaZombieEnum.BUCKET_HEAD_ZOMBIE:case c.pzaZombieEnum.DUCKY_TUBE_BUCKET_ZOMBIE:this.bucketAni.node.active=!0,a==c.pzaHurtStateEnum.DYING?this.bucketAni.setAnimationSkin("3Buckethead_3"):a==c.pzaHurtStateEnum.HURT?this.bucketAni.setAnimationSkin("3Buckethead_2"):this.bucketAni.setAnimationSkin("3Buckethead_1"),this.bucketAni.pauseAnimation(),n=cc.v2(-15,-100);break;case c.pzaZombieEnum.SCREEN_DOOR_ZOMBIE:this.screenDoorAni.node.active=!0,a==c.pzaHurtStateEnum.DYING?this.screenDoorAni.setAnimationSkin("4ScreenDoor_3"):a==c.pzaHurtStateEnum.HURT?this.screenDoorAni.setAnimationSkin("4ScreenDoor_2"):this.screenDoorAni.setAnimationSkin("4ScreenDoor_1"),this.screenDoorAni.pauseAnimation();break;case c.pzaZombieEnum.FOOTBALL_ZOMBIE:this.footballCatAni.node.active=!0,a==c.pzaHurtStateEnum.DYING?this.footballCatAni.setAnimationSkin("maozi3"):a==c.pzaHurtStateEnum.HURT?this.footballCatAni.setAnimationSkin("maozi2"):this.footballCatAni.setAnimationSkin("maozi1"),this.footballCatAni.pauseAnimation(),n=cc.v2(-15,-100);break;case c.pzaZombieEnum.JACK_ZOMBIE:this.jackBoxAni.node.active=!0,this.jackBoxAni.setAnimationSkin("tiewang1"),this.jackBoxAni.pauseAnimation();break;case c.pzaZombieEnum.POGO_ZOMBIE:this.boRodAni.node.active=!0,this.boRodAni.setAnimationSkin("tiewang1"),this.boRodAni.pauseAnimation();break;case c.pzaZombieEnum.DIGGER_ZOMBIE:this.shovelAni.node.active=!0,this.shovelAni.setAnimationSkin("tiewang1"),this.shovelAni.pauseAnimation();break;case c.pzaZombieEnum.LADDER_ZOMBIE:this.ladderAni.node.active=!0,a==c.pzaHurtStateEnum.DYING?this.ladderAni.setAnimationSkin("tietong/tietong-3"):a==c.pzaHurtStateEnum.HURT?this.ladderAni.setAnimationSkin("tietong/tietong-2"):this.ladderAni.setAnimationSkin("tietong/tietong-1"),this.ladderAni.pauseAnimation()}if(null!=e.logicPos&&this.node.setPosition(e.logicPos.clone()),null!=t.logicPos){var i=t.logicPos.clone();null!=n&&(i.x+=n.x,i.y+=n.y),this.absorbFlying=!0,this.node.runAction(cc.sequence(cc.moveTo(.5,i),cc.callFunc(function(){o.absorbFlying=!1,o.returnTime=6,o.node.zIndex=10*-t.yIndex})))}}},e.prototype.logicUpdate=function(t){this.absorbFlying||(null==this.plantData||this.plantData.isDead?this.close():(this.returnTime-=t,this.returnTime<=0&&this.close()))},e.prototype.pauseSelf=function(){this.node.pauseAllActions()},e.prototype.resumeSelf=function(){this.node.resumeAllActions()},i([u({displayName:"\u94c1\u6876",type:p.pzaSpineController})],e.prototype,"bucketAni",void 0),i([u({displayName:"\u94c1\u7f51\u95e8",type:p.pzaSpineController})],e.prototype,"screenDoorAni",void 0),i([u({displayName:"\u6a44\u6984\u7403\u5e3d",type:p.pzaSpineController})],e.prototype,"footballCatAni",void 0),i([u({displayName:"\u5c0f\u4e11\u76d2\u5b50",type:p.pzaSpineController})],e.prototype,"jackBoxAni",void 0),i([u({displayName:"\u5f39\u8df3\u6746",type:p.pzaSpineController})],e.prototype,"boRodAni",void 0),i([u({displayName:"\u77ff\u5de5\u94f2",type:p.pzaSpineController})],e.prototype,"shovelAni",void 0),i([u({displayName:"\u68af\u5b50",type:p.pzaSpineController})],e.prototype,"ladderAni",void 0),i([s],e)}(r.pzaBaseComponent);a.pzaAbsorbIronEquip=h,cc._RF.pop()},{"../../Common/pzaBaseComponent":"pzaBaseComponent","../../Common/pzaSpineController":"pzaSpineController","../Data/pzaZombieEnum":"pzaZombieEnum"}],pzaAdNative:[function(t,e,a){"use strict";cc._RF.push(e,"cfc56ai9w5HdaBb5+sG/urM","pzaAdNative");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=t("./pzaChannel"),p=t("./pzakc"),c=cc._decorator,l=c.ccclass,s=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pic=null,e.close=null,e.clickArea=null,e.adKey=null,e.adList=null,e}return n(e,t),e.prototype.onLoad=function(){var t=this;this.close.on(cc.Node.EventType.TOUCH_END,function(){p.default.log("\u539f\u751f\u5c06\u5173\u95ed");var e=r.pzaChannel.instance().getCtrl("p8");e&&Math.random()<e/100&&r.pzaChannel.instance().reportAdClick(t.adKey),t.hide()}),this.clickArea.on(cc.Node.EventType.TOUCH_END,function(){p.default.log("\u539f\u751f\u70b9\u51fb"),r.pzaChannel.instance().reportAdClick(t.adKey),t.adKey.indexOf("Icon")<0&&t.hide()})},e.prototype.hide=function(){this.node.active=!1,r.pzaChannel.instance().closeNative(this.adKey),this.node.destroy()},e.prototype.show=function(t,e,a,o){var n=this;this.adKey=a,this.adList=o,p.default.log("\u539f\u751f\u5f00\u59cbshow",a,o);var i=o[0];if(i){var c=i.icon;if(i.imgUrlList&&i.imgUrlList.length>0?c=i.imgUrlList[0]:i.iconUrlList&&i.iconUrlList>0&&(c=i.iconUrlList[0]),p.default.log("\u539f\u751fpicUrl:",c),c){var l=".jpg";-1!=c.indexOf(".png")?l=".png":-1!=c.indexOf(".jpg")?l=".jpg":-1!=c.indexOf(".jpeg")&&(l=".jpeg"),cc.assetManager.loadRemote(c,{ext:l},function(o,c){if(o)return p.default.err("\u539f\u751f\u56fe\u7247\u52a0\u8f7d\u5931\u8d25",l,o),void r.pzaChannel.instance().closeNative(n.adKey);var s=new cc.SpriteFrame(c);n.pic.spriteFrame=s,p.default.log("adid==",i.adId);var u=r.pzaChannel.instance().getCtrl("p2");u>0&&n.adKey.indexOf("nsert")>0?setTimeout(function(){n.node.active=!0,n.node.parent=t,n.node.setPosition(e),r.pzaChannel.instance().reportAdShow(a,n.node)},1e3*u):(n.node.active=!0,n.node.parent=t,n.node.setPosition(e),r.pzaChannel.instance().reportAdShow(a,n.node))})}}},i([s(cc.Sprite)],e.prototype,"pic",void 0),i([s(cc.Node)],e.prototype,"close",void 0),i([s(cc.Node)],e.prototype,"clickArea",void 0),i([l],e)}(cc.Component);a.default=u,cc._RF.pop()},{"./pzaChannel":"pzaChannel","./pzakc":"pzakc"}],pzaAssessView:[function(t,e,a){"use strict";cc._RF.push(e,"173b5FvLf5FWof0z0h/yswq","pzaAssessView");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaAssessView=void 0;var r=t("../../Battle/pzaGameState"),p=t("../../Common/pzaGameCommonPool"),c=t("../../Common/pzaGameConfig"),l=t("../../Common/pzaGameManager"),s=t("../../Common/pzaWorldEventManager"),u=cc._decorator,h=u.ccclass,f=u.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.assessNode=null,e.noAssessNode=null,e.closeCall=null,e}return n(e,t),e.prototype.onEnable=function(){var t=c.pzaGameConfig.getPartStar(r.pzaGameState.curChapter,r.pzaGameState.curPart);this.noAssessNode.active=t<=0,this.assessNode.active=t>0},e.prototype.bindCloseCall=function(t){this.closeCall=t},e.prototype.clickBackGame=function(){this.closeCall&&this.closeCall(),this.close()},e.prototype.clickRestart=function(){l.pzaGameManager.removeBattleUI(),s.pzaWorldEventManager.triggerEvent(s.pzaWorldEventType.GAME_OVER,null),l.pzaGameManager.start(r.pzaGameState.curChapter,r.pzaGameState.curPart),this.close()},e.prototype.close=function(){p.pzaGameCommonPool.returnInstant(this.node)},i([f({displayName:"\u8bc4\u4ef7\u8282\u70b9",type:cc.Node})],e.prototype,"assessNode",void 0),i([f({displayName:"\u65e0\u8bc4\u4ef7\u8282\u70b9",type:cc.Node})],e.prototype,"noAssessNode",void 0),i([h],e)}(cc.Component);a.pzaAssessView=d,cc._RF.pop()},{"../../Battle/pzaGameState":"pzaGameState","../../Common/pzaGameCommonPool":"pzaGameCommonPool","../../Common/pzaGameConfig":"pzaGameConfig","../../Common/pzaGameManager":"pzaGameManager","../../Common/pzaWorldEventManager":"pzaWorldEventManager"}],pzaAttackType:[function(t,e,a){"use strict";cc._RF.push(e,"6732547mBFJwZjBvvCg1w3a","pzaAttackType"),Object.defineProperty(a,"__esModule",{value:!0}),a.pzaAttackType=void 0,function(t){t[t.FLOOR_ATK=1]="FLOOR_ATK",t[t.BOOM=2]="BOOM",t[t.EAT=3]="EAT",t[t.BANG=4]="BANG",t[t.SPIKE=5]="SPIKE",t[t.TWINE=6]="TWINE",t[t.ROLLING=7]="ROLLING",t[t.CLEAN_CAR=8]="CLEAN_CAR",t[t.BOWLING=9]="BOWLING",t[t.NORMAL_BOOM=10]="NORMAL_BOOM",t[t.KNOCK=11]="KNOCK"}(a.pzaAttackType||(a.pzaAttackType={})),cc._RF.pop()},{}],pzaBackPumpkin:[function(t,e,a){"use strict";cc._RF.push(e,"f2546d9ZlZCerwKwtGHxLQB","pzaBackPumpkin");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaBackPumpkin=void 0;var r=t("../../Common/pzaBaseComponent"),p=t("../../Common/pzaSpineController"),c=cc._decorator,l=c.ccclass,s=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.animation=null,e}return n(e,t),e.prototype.bindData=function(t){if(this.baseData=t,null!=t&&null!=t.yIndex){var e=10*-this.baseData.yIndex-1;this.node.zIndex=e}},e.prototype.logicUpdate=function(){(null==this.baseData||this.baseData.isDead)&&this.close()},e.prototype.logicLateUpdate=function(){null!=this.baseData&&0!=this.baseData.floatY&&null!=this.baseData.logicPos&&this.node.setPosition(cc.v2(this.baseData.logicPos.x,this.baseData.logicPos.y+this.baseData.floatY))},e.prototype.pauseSelf=function(){this.animation.pauseAnimation()},e.prototype.resumeSelf=function(){this.baseData&&this.baseData.isBePauseControlled()||this.animation.resumeAnimation()},i([s({displayName:"\u52a8\u753b",type:p.pzaSpineController})],e.prototype,"animation",void 0),i([l],e)}(r.pzaBaseComponent);a.pzaBackPumpkin=u,cc._RF.pop()},{"../../Common/pzaBaseComponent":"pzaBaseComponent","../../Common/pzaSpineController":"pzaSpineController"}],pzaBackupDancerZombie:[function(t,e,a){"use strict";cc._RF.push(e,"6429fMJWr9ANbWhxTI8PfRn","pzaBackupDancerZombie");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaBackupDancerZombie=void 0;var r=t("../../Common/pzaGameConfig"),p=t("../../Common/pzaGameManager"),c=t("../../Common/pzaSpineController"),l=t("../../Common/pzaUIManager"),s=t("../../Common/pzaWorldEventManager"),u=t("../../Load/pzaPreLoadManager"),h=t("../../View/Battle/pzaNewZombieView"),f=t("../Data/pzaBuffData"),d=t("../pzaGameState"),m=t("./pzaBaseZombie"),y=t("./pzaZombieState"),z=cc._decorator,b=z.ccclass,g=z.property,v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dirtAni=null,e.dacing=!1,e}return n(e,t),e.prototype.bindData=function(e){t.prototype.bindData.call(this,e),this.dacing=!1},e.prototype.breakDirt=function(t){var e=this;this.breakCall=t,null!=this.mask&&(this.mask.enabled=!0),this.breakDirtTime=.3,this.animation.node.y=-140,this.animation.playAnimation("walk",!0),this.animation.pauseAnimation(),this.dirtAni.node.active=!0,this.dirtAni.playAnimation("tu",!1,function(){e.dirtAni.node.active=!1})},e.prototype.logicUpdate=function(t){if(this.breakDirtTime>0){this.breakDirtTime-=t;var e=140*-Math.max(0,this.breakDirtTime/.3);return this.animation.node.y=e,this.equipAnimation&&(this.equipAnimation.node.y=e),this.toolAnimation&&(this.toolAnimation.node.y=e),void(this.breakDirtTime<=0&&null!=this.mask&&(this.mask.enabled=!1,this.animation.resumeAnimation(),this.breakCall&&this.breakCall()))}if(null!=this.baseData&&null!=this.baseData.zombieData&&!this.baseData.isDead){if(this.baseData.zombieData.needRefreshEquip)return this.baseData.zombieData.needRefreshEquip=!1,void this.refreshHurtState(!1);if(!this.hypnosisState&&this.baseData.zombieData.hypnosis&&this.beHypnosis(),this.updateRoleBuff(t),this.refreshFrostState(!1),this.animation.flashUpdate(t),this.equipAnimation&&this.equipAnimation.flashUpdate(t),!this.baseData.isBeControlled())if(this.lastBePasueControled&&(this.lastBePasueControled=!1,this.resumeSelf()),-1==this.changeTargetRow){var a=this.findTarget();null==a||a.isDead?this.updateMove(t):(this.dacing&&(this.dacing=!1),this.attack(t,a))}else this.changeRowMove(t)}},e.prototype.updateMove=function(t){if(!this.dacing){this.zombieState!=y.pzaZombieState.MOVE&&this.playMoveAnimation();var e=this.baseData.zombieData.moveSpd,a=1;if(e*=a+=this.getSpeedBuff(),this.hasStopZombie()&&(e=0),this.animation.changeAnimationTimeScale(a),this.hasEquip&&this.equipAnimation&&this.equipAnimation.changeAnimationTimeScale(a),this.hasTool&&this.toolAnimation&&this.toolAnimation.changeAnimationTimeScale(a),1==this.baseData.zombieData.direction?this.baseData.logicPos.x+=t*e:this.baseData.logicPos.x-=t*e,this.baseData.zombieData.hypnosis&&this.baseData.logicPos.x>=640)this.death(!1);else{this.baseData.logicPos.x<-500&&(this.zombieWin=!0,this.node.zIndex=100,p.pzaGameManager.zombieWin());var o=r.pzaGameConfig.getMapXIndex(d.pzaGameState.curChapter,this.baseData.logicPos);this.baseData.xIndex=o;var n=.1*r.pzaGameConfig.getYInterval(d.pzaGameState.curChapter,this.baseData.yIndex);if(r.pzaGameConfig.fixMapYOffset(d.pzaGameState.curChapter,this.baseData.yIndex,this.baseData.logicPos,n),d.pzaGameState.newZombie==this.baseData.zombieData.zombieType&&7==o){d.pzaGameState.gamePause=!0,s.pzaWorldEventManager.triggerEvent(s.pzaWorldEventType.GAME_PAUSE,null);var i=this.node.convertToWorldSpaceAR(cc.v2());l.pzaUIManager.baseShowPopUI(u.pzaResourceUrl.NEW_ZOMBIE_VIEW,function(t){var e=t&&t.getComponent(h.pzaNewZombieView);e&&e.showNewZombie(d.pzaGameState.newZombie,i),d.pzaGameState.newZombie=null})}}}},e.prototype.dance=function(){var t=this;this.dacing=!0,this.animation.playAnimation("dance",!1,function(){t.dacing=!1,t.playMoveAnimation()})},e.prototype.bePauseControl=function(){var t=this;null==this.baseData||this.baseData.isDead||this.lastBePasueControled||(this.lastBePasueControled=!0,this.pauseSelf(),null!=this.baseData.zombieData.wholeSummons&&this.baseData.zombieData.wholeSummons.forEach(function(e){if(e!=t.baseData&&null!=e&&!e.isDead){var a=window.pzazombieManager.getZombie(e);a&&a.bePauseControl()}}))},e.prototype.getSpeedBuff=function(){if(null!=this.baseData.zombieData.wholeSummons){for(var t=0;t<=4;t++){var e=this.baseData.zombieData.wholeSummons[t];if(null!=e&&!e.isDead){var a=e.buffData.releaseBuff(f.pzaBuffType.FROST);if(null!=a)return-a.buffValue}}return 0}var o=this.baseData.buffData.releaseBuff(f.pzaBuffType.FROST);return null!=o?-o.buffValue:0},e.prototype.hasStopZombie=function(){if(null==this.baseData.zombieData.wholeSummons)return!1;for(var t=0;t<this.baseData.zombieData.wholeSummons.length;t++){var e=this.baseData.zombieData.wholeSummons[t];if(e!=this.baseData&&null!=e&&!e.isDead){if(e.isBeControlled())return!0;var a=window.pzazombieManager.getZombie(e);if(null==a)continue;if(a.zombieState==y.pzaZombieState.EAT_ATK||a.zombieState==y.pzaZombieState.SPECIAL)return!0}}return!1},i([g({displayName:"\u571f\u52a8\u753b",type:c.pzaSpineController})],e.prototype,"dirtAni",void 0),i([b],e)}(m.pzaBaseZombie);a.pzaBackupDancerZombie=v,cc._RF.pop()},{"../../Common/pzaGameConfig":"pzaGameConfig","../../Common/pzaGameManager":"pzaGameManager","../../Common/pzaSpineController":"pzaSpineController","../../Common/pzaUIManager":"pzaUIManager","../../Common/pzaWorldEventManager":"pzaWorldEventManager","../../Load/pzaPreLoadManager":"pzaPreLoadManager","../../View/Battle/pzaNewZombieView":"pzaNewZombieView","../Data/pzaBuffData":"pzaBuffData","../pzaGameState":"pzaGameState","./pzaBaseZombie":"pzaBaseZombie","./pzaZombieState":"pzaZombieState"}],pzaBagPlantCard:[function(t,e,a){"use strict";cc._RF.push(e,"d4c9aa5gwhP3pERHLKMrPqN","pzaBagPlantCard");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaBagPlantCard=void 0;var r=t("../../Battle/pzaGameState"),p=t("../../Common/pzaGameCommonPool"),c=t("../../Common/pzaGameConfig"),l=t("../../Common/pzaSpriteFrameManager"),s=t("../../Common/pzaUIManager"),u=t("../../Load/pzaPreLoadManager"),h=t("../pzaWarningView"),f=cc._decorator,d=f.ccclass,m=f.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cardBoard=null,e.cardBoardFrames=[],e.cardIcon=null,e.priceLabel=null,e.mask=null,e.unselectTag=null,e.curPlantType=null,e.plantConfigData=null,e.clickCall=null,e.isSelected=!1,e.isFull=!1,e.isNoRecommend=!1,e}return n(e,t),e.prototype.onEnable=function(){this.node.on(cc.Node.EventType.TOUCH_END,this.clickCard,this)},e.prototype.onDisable=function(){this.node.off(cc.Node.EventType.TOUCH_END,this.clickCard,this)},e.prototype.bindData=function(t,e){this.curPlantType=t,this.plantConfigData=c.pzaGameConfig.getPlantConfig(t),this.clickCall=e,l.pzaSpriteFrameManager.loadPlantCard(t,this.cardIcon),this.cardBoard.spriteFrame=this.cardBoardFrames[this.plantConfigData.rareLevel],this.priceLabel.string=""+this.plantConfigData.price,this.node.stopAllActions(),this.unselectTag.active=!1,this.isSelected=!1,this.isFull=!1,this.isNoRecommend=c.pzaGameConfig.isNoRecommendPlant(t,r.pzaGameState.curChapter),this.isNoRecommend?(this.mask.active=!0,this.mask.opacity=150):this.mask.active=!1},e.prototype.moveTo=function(t,e,a){var o=this;null!=t?this.node.runAction(cc.sequence(cc.moveTo(e,t),cc.callFunc(function(){o.close(),a&&a()}))):this.close()},e.prototype.disSelect=function(){this.isSelected=!1,this.unselectTag.active=!1,this.isNoRecommend?(this.mask.active=!0,this.mask.opacity=150):this.mask.active=!1},e.prototype.selectFull=function(t){this.isFull=t,this.isSelected||(this.unselectTag.active=t,t?(this.mask.active=!0,this.mask.opacity=200):this.isNoRecommend?(this.mask.active=!0,this.mask.opacity=150):this.mask.active=!1)},e.prototype.clickCard=function(){if(!this.isFull&&!this.isSelected){if(this.isNoRecommend&&!r.pzaGameState.grayPlantWarning)return r.pzaGameState.grayPlantWarning=!0,void s.pzaUIManager.baseShowPopUI(u.pzaResourceUrl.WARNING_VIEW,function(t){var e=t&&t.getComponent(h.pzaWarningView);e&&e.show("\u4e0d\u63a8\u8350\u4f7f\u7528\u53d8\u7070\u690d\u7269","\u786e\u5b9a",null,null,null)});this.isSelected=!0,this.mask.active=!0,this.mask.opacity=200;var t=this.node.convertToWorldSpaceAR(cc.v2());this.clickCall&&this.clickCall(this.curPlantType,t)}},e.prototype.close=function(){p.pzaGameCommonPool.returnInstant(this.node)},i([m({displayName:"\u5361\u7247\u6846",type:cc.Sprite})],e.prototype,"cardBoard",void 0),i([m({displayName:"\u5361\u7247\u6846\u5143\u7d20",type:[cc.SpriteFrame]})],e.prototype,"cardBoardFrames",void 0),i([m({displayName:"\u5361\u7247\u56fe",type:cc.Sprite})],e.prototype,"cardIcon",void 0),i([m({displayName:"\u9633\u5149\u4ef7\u683c",type:cc.Label})],e.prototype,"priceLabel",void 0),i([m({displayName:"\u906e\u7f69",type:cc.Node})],e.prototype,"mask",void 0),i([m({displayName:"\u4e0d\u80fd\u9009\u62e9\u6846",type:cc.Node})],e.prototype,"unselectTag",void 0),i([d],e)}(cc.Component);a.pzaBagPlantCard=y,cc._RF.pop()},{"../../Battle/pzaGameState":"pzaGameState","../../Common/pzaGameCommonPool":"pzaGameCommonPool","../../Common/pzaGameConfig":"pzaGameConfig","../../Common/pzaSpriteFrameManager":"pzaSpriteFrameManager","../../Common/pzaUIManager":"pzaUIManager","../../Load/pzaPreLoadManager":"pzaPreLoadManager","../pzaWarningView":"pzaWarningView"}],pzaBalloonZombie:[function(t,e,a){"use strict";cc._RF.push(e,"9caderigZRMC6ujgVCOQMwS","pzaBalloonZombie");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaBalloonZombie=void 0;var r=t("../../Common/pzaGameConfig"),p=t("../../Common/pzaWorldEventManager"),c=t("../Data/pzaBuffData"),l=t("../pzaGameState"),s=t("./pzaBaseZombie"),u=t("./pzaZombieState"),h=cc._decorator,f=h.ccclass,d=(h.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hasBeenBlow=!1,e.falling=!1,e}return n(e,t),e.prototype.onEnable=function(){t.prototype.onEnable.call(this),p.pzaWorldEventManager.addListener(p.pzaWorldEventType.BLOW_WIND,this.onBlowWind,this)},e.prototype.onDisable=function(){t.prototype.onDisable.call(this),p.pzaWorldEventManager.removeListener(p.pzaWorldEventType.BLOW_WIND,this.onBlowWind,this)},e.prototype.bindData=function(e){t.prototype.bindData.call(this,e),this.hasBeenBlow=!1,this.falling=!1,e.buffData.addBuff(new c.pzaBuffInfo(c.pzaBuffType.FLY,-1)),e.buffData.addBuff(new c.pzaBuffInfo(c.pzaBuffType.IMM_ICE,-1))},e.prototype.findTarget=function(){return null!=this.baseData&&this.hasEquip?null:t.prototype.findTarget.call(this)},e.prototype.updateMove=function(e){if(!this.falling)return this.hasBeenBlow?(this.baseData.logicPos.x+=1300*e,void(this.baseData.logicPos.x>=640&&(this.baseData.zombieDie(),this.death(!1)))):void t.prototype.updateMove.call(this,e)},e.prototype.equipDeath=function(){var e=this;if(window.pzaMapManager.isInWaterWay(this.baseData.yIndex))return this.baseData.zombieDie(),void this.death(!1);t.prototype.equipDeath.call(this,!1),this.falling=!0,this.animation.playAnimation("bao",!1,function(){e.falling=!1;var t=r.pzaGameConfig.getZombieSpecialSpeed(e.baseData.zombieData.zombieType);e.baseData.zombieData.initMSpd=e.baseData.zombieData.moveSpd=r.pzaGameConfig.getBlockWidth(l.pzaGameState.curChapter)/t,e.baseData.buffData.removeBuff(c.pzaBuffType.FLY),e.baseData.buffData.removeBuff(c.pzaBuffType.IMM_ICE),e.playMoveAnimation()})},e.prototype.playMoveAnimation=function(){this.zombieState=u.pzaZombieState.MOVE,this.animation.playAnimation(this.hasEquip?"move1":"move2",!0)},e.prototype.onBlowWind=function(){null!=this.baseData&&!this.baseData.isDead&&null!=this.baseData.zombieData&&this.hasEquip&&(this.hasBeenBlow||(this.hasBeenBlow=!0))},i([f],e)}(s.pzaBaseZombie));a.pzaBalloonZombie=d,cc._RF.pop()},{"../../Common/pzaGameConfig":"pzaGameConfig","../../Common/pzaWorldEventManager":"pzaWorldEventManager","../Data/pzaBuffData":"pzaBuffData","../pzaGameState":"pzaGameState","./pzaBaseZombie":"pzaBaseZombie","./pzaZombieState":"pzaZombieState"}],pzaBaseBody:[function(t,e,a){"use strict";cc._RF.push(e,"4f0e6uxYcdOJIcW1JqOuhwC","pzaBaseBody");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaBaseBody=void 0;var r=cc._decorator,p=r.ccclass,c=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.body=null,e.circleBody=null,e.baseData=null,e.curTarget=null,e}return n(e,t),e.prototype.onEnable=function(){null!=this.body&&(this.body.enabled=!1),null!=this.circleBody&&(this.circleBody.enabled=!1)},e.prototype.bindData=function(t){this.baseData=t,this.curTarget=null,null!=this.body&&(this.body.enabled=!0),null!=this.circleBody&&(this.circleBody.enabled=!0)},i([c({displayName:"\u8eab\u4f53\u78b0\u649e\u76d2",type:cc.BoxCollider})],e.prototype,"body",void 0),i([c({displayName:"\u8eab\u4f53\u78b0\u649e\u76d2",type:cc.CircleCollider})],e.prototype,"circleBody",void 0),i([p],e)}(cc.Component);a.pzaBaseBody=l,cc._RF.pop()},{}],pzaBaseBullet:[function(t,e,a){"use strict";cc._RF.push(e,"25e84qr2r5CfK0bp6CEXb0Q","pzaBaseBullet");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaBaseBullet=void 0;var r=t("../../Common/pzaBaseComponent"),p=t("../../Common/pzaGameCommonPool"),c=t("../../Common/pzaGameConfig"),l=t("../../Common/pzaGroupEnum"),s=t("../../Common/pzaNodeManager"),u=t("../../Load/pzaBundleObjectPool"),h=t("../../Load/pzaPreLoadManager"),f=t("../Data/pzaBuffData"),d=t("../Effect/pzaShadowEffect"),m=t("../Zombie/pzaZombieBody"),y=t("../pzaGameState"),z=cc._decorator,b=z.ccclass,g=z.property,v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.speed=400,e.ySpeed=300,e.maxLifeTime=3,e.needShadow=!0,e.lifeTime=0,e.atk=0,e.realYSpeed=0,e.yTargetPos=null,e.direction=cc.v2(1,0),e.bulletYIndex=-1,e.isInAir=!1,e.maxPosX=null,e.curShadow=null,e.hitCall=null,e}return n(e,t),e.prototype.init=function(t,e,a,o,n,i){void 0===a&&(a=0),void 0===o&&(o=null),void 0===n&&(n=cc.v2(1,0)),void 0===i&&(i=null),this.bulletYIndex=t,this.atk=e,this.lifeTime=0,this.yTargetPos=o,this.realYSpeed=this.ySpeed,this.direction=n,this.hitCall=i,this.isInAir=!1,this.maxPosX=null,this.createShadow()},e.prototype.logicUpdate=function(t){this.lifeTime+=t,this.lifeTime>=this.maxLifeTime?this.close():this.updateMove(t)},e.prototype.updateMove=function(t){if(this.node.x+=this.direction.x*this.speed*t,this.node.y+=this.direction.y*this.speed*t,this.shadowMove(),null!=this.maxPosX&&this.node.x>=this.maxPosX)this.close();else if(null!=this.yTargetPos&&this.node.y!=this.yTargetPos){if(this.realYSpeed=Math.max(0,this.realYSpeed-400*t),this.node.y>this.yTargetPos){var e=this.node.y-this.ySpeed*t;this.node.y=Math.max(this.yTargetPos,e)}this.node.y<this.yTargetPos&&(e=this.node.y+this.ySpeed*t,this.node.y=Math.min(this.yTargetPos,e))}},e.prototype.createShadow=function(){var t=this;if(this.needShadow){var e=s.pzaNodeManager.getDownEffectNode();u.pzaBundleObjectPool.requestInstantByUrl(h.pzaResourceUrl.SHADOW,!1,function(a,o){if(null==a&&null!=o){o.setParent(e);var n=o.getComponent(d.pzaShadowEffect);n&&n.init(null,cc.v2(),.35),t.curShadow=n,t.shadowMove()}else console.error(a)})}else this.curShadow=null},e.prototype.shadowMove=function(){if(null!=this.curShadow){var t=cc.v2(this.node.x,0);if(this.bulletYIndex<0)t.y=this.node.y-60;else{var e=.2*c.pzaGameConfig.getYInterval(y.pzaGameState.curChapter,this.bulletYIndex);c.pzaGameConfig.fixMapYOffset(y.pzaGameState.curChapter,this.bulletYIndex,t,e),null!=this.yTargetPos&&this.node.y!=this.yTargetPos&&(t.y-=this.yTargetPos-this.node.y)}this.curShadow.followMove(t)}},e.prototype.onCollisionEnter=function(t,e){this.onCollision(t,e)},e.prototype.onCollisionStay=function(t,e){this.onCollision(t,e)},e.prototype.onCollision=function(t){if(null!=t&&t.node.group==l.pzaGroupEnum.ZOMBIE){var e=t.node.getComponent(m.pzaZombieBody);this.colliderZombie(e&&e.baseData)}},e.prototype.colliderZombie=function(t){if(t&&!t.isDead&&(-1==this.bulletYIndex||this.bulletYIndex==t.yIndex)&&!t.buffData.hasBuff(f.pzaBuffType.DIVE)&&!t.buffData.hasBuff(f.pzaBuffType.UNABLE_SELECT)&&(this.isInAir||!t.buffData.hasBuff(f.pzaBuffType.FLY))&&(!t.zombieData||!t.zombieData.hypnosis)){var e=window.pzazombieManager.getZombie(t);null!=e&&(e.hurt(this.atk),this.close(),this.hitCall&&this.hitCall(t))}},e.prototype.close=function(){null!=this.curShadow&&(this.curShadow.close(),this.curShadow=null),p.pzaGameCommonPool.returnInstant(this.node)},i([g({displayName:"\u5b50\u5f39\u98de\u884c\u901f\u5ea6"})],e.prototype,"speed",void 0),i([g({displayName:"\u5b50\u5f39Y\u8f74\u98de\u884c\u901f\u5ea6"})],e.prototype,"ySpeed",void 0),i([g({displayName:"\u5b50\u5f39\u6700\u5927\u751f\u547d\u5468\u671f"})],e.prototype,"maxLifeTime",void 0),i([g({displayName:"\u662f\u5426\u9700\u8981\u5f71\u5b50"})],e.prototype,"needShadow",void 0),i([b],e)}(r.pzaBaseComponent);a.pzaBaseBullet=v,cc._RF.pop()},{"../../Common/pzaBaseComponent":"pzaBaseComponent","../../Common/pzaGameCommonPool":"pzaGameCommonPool","../../Common/pzaGameConfig":"pzaGameConfig","../../Common/pzaGroupEnum":"pzaGroupEnum","../../Common/pzaNodeManager":"pzaNodeManager","../../Load/pzaBundleObjectPool":"pzaBundleObjectPool","../../Load/pzaPreLoadManager":"pzaPreLoadManager","../Data/pzaBuffData":"pzaBuffData","../Effect/pzaShadowEffect":"pzaShadowEffect","../Zombie/pzaZombieBody":"pzaZombieBody","../pzaGameState":"pzaGameState"}],pzaBaseComponentManager:[function(t,e,a){"use strict";cc._RF.push(e,"5c468O9/vFPubEpk5DzQ5Lm","pzaBaseComponentManager");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaBaseComponentManager=void 0;var r=t("../Battle/pzaGameState"),p=cc._decorator,c=p.ccclass,l=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.baseCmpSet=new Set,e}return n(e,t),e.prototype.onLoad=function(){window.pzabaseCmpManager=this},e.prototype.onEnable=function(){this.baseCmpSet.clear()},e.prototype.update=function(t){r.pzaGameState.gamePause||(this.baseCmpSet.forEach(function(e){null!=e&&e.logicUpdate(t)}),window.pzaplantManager.logicUpdate(t),window.pzazombieManager.logicUpdate(t))},e.prototype.lateUpdate=function(){r.pzaGameState.gamePause||this.baseCmpSet.size<=0||this.baseCmpSet.forEach(function(t){null!=t&&t.logicLateUpdate()})},e.prototype.addBaseCmp=function(t){this.baseCmpSet.add(t)},e.prototype.deleteBaseCmp=function(t){this.baseCmpSet.delete(t)},i([c],e)}(cc.Component));a.pzaBaseComponentManager=l,cc._RF.pop()},{"../Battle/pzaGameState":"pzaGameState"}],pzaBaseComponent:[function(t,e,a){"use strict";cc._RF.push(e,"450c507UNlIE55+Gb7BO0ny","pzaBaseComponent");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaBaseComponent=void 0;var r=t("./pzaGameCommonPool"),p=t("./pzaWorldEventManager"),c=cc._decorator,l=c.ccclass,s=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lastBePasueControled=!1,e.baseData=null,e}return n(e,t),e.prototype.onEnable=function(){window.pzabaseCmpManager.addBaseCmp(this),p.pzaWorldEventManager.addListener(p.pzaWorldEventType.BACK_HOME,this.close,this),p.pzaWorldEventManager.addListener(p.pzaWorldEventType.GAME_OVER,this.close,this),p.pzaWorldEventManager.addListener(p.pzaWorldEventType.GAME_PAUSE,this.pauseSelf,this),p.pzaWorldEventManager.addListener(p.pzaWorldEventType.GAME_RESUME,this.resumeSelf,this)},e.prototype.onDisable=function(){window.pzabaseCmpManager.deleteBaseCmp(this),p.pzaWorldEventManager.removeListener(p.pzaWorldEventType.BACK_HOME,this.close,this),p.pzaWorldEventManager.removeListener(p.pzaWorldEventType.GAME_OVER,this.close,this),p.pzaWorldEventManager.removeListener(p.pzaWorldEventType.GAME_PAUSE,this.pauseSelf,this),p.pzaWorldEventManager.removeListener(p.pzaWorldEventType.GAME_RESUME,this.resumeSelf,this)},e.prototype.bindData=function(t){this.baseData=t},e.prototype.logicUpdate=function(){},e.prototype.logicLateUpdate=function(){},e.prototype.bePauseControl=function(){this.lastBePasueControled=!0},e.prototype.pauseSelf=function(){},e.prototype.resumeSelf=function(){},e.prototype.hurt=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype.updateRoleBuff=function(t){null==this.baseData||this.baseData.isDead||null==this.baseData.buffData||this.baseData.hp<0||this.baseData.buffData.refreshBuff(t)},e.prototype.close=function(){r.pzaGameCommonPool.returnInstant(this.node)},i([l],e)}(cc.Component));a.pzaBaseComponent=s,cc._RF.pop()},{"./pzaGameCommonPool":"pzaGameCommonPool","./pzaWorldEventManager":"pzaWorldEventManager"}],pzaBaseData:[function(t,e,a){"use strict";cc._RF.push(e,"74bddgAawJMj7VtGs65WMFT","pzaBaseData"),Object.defineProperty(a,"__esModule",{value:!0}),a.pzaZombieData=a.pzaPlantData=a.pzaBaseData=void 0;var o=t("./pzaBuffData"),n=t("./pzaPlantEnum"),i=t("./pzaZombieEnum"),r=function(){function t(t,e){this._plantData=null,this._zombieData=null,this._maxHp=0,this._hp=0,this._atk=0,this._logicPos=null,this._floatY=0,this._xIndex=-1,this._yIndex=-1,this._isDead=!1,this._buffData=new o.pzaBuffData,null!=t&&(this._plantData=new p(t)),null!=e&&(this._zombieData=new c(e))}return Object.defineProperty(t.prototype,"plantData",{get:function(){return this._plantData},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"zombieData",{get:function(){return this._zombieData},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxHp",{get:function(){return this._maxHp},set:function(t){this._maxHp=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hp",{get:function(){return this._hp},set:function(t){this._hp=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"atk",{get:function(){return this._atk},set:function(t){this._atk=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"logicPos",{get:function(){return this._logicPos},set:function(t){this._logicPos=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"floatY",{get:function(){return this._floatY},set:function(t){this._floatY=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"xIndex",{get:function(){return this._xIndex},set:function(t){this._xIndex=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"yIndex",{get:function(){return this._yIndex},set:function(t){this._yIndex=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isDead",{get:function(){return this._isDead},set:function(t){this._isDead=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"buffData",{get:function(){return this._buffData},set:function(t){this._buffData=t},enumerable:!1,configurable:!0}),t.prototype.hurtPlanet=function(t){this.hp-=t,this.hp<=0&&(this.isDead=!0)},t.prototype.destroyIronEquip=function(){null!=this.zombieData&&(this.zombieData.equipType==i.pzaEquipType.IRON_EQUIP&&(this.zombieData.equipHp=0,this.zombieData.equipType=i.pzaEquipType.NO_EQUIP),this.zombieData.toolType==i.pzaEquipType.IRON_EQUIP&&(this.zombieData.toolType=i.pzaEquipType.NO_EQUIP),this.zombieData.needRefreshEquip=!0)},t.prototype.hurtZombie=function(t){if(!(null==this.zombieData||this.zombieData.hypnosis||this.hp<=0))if(this.zombieData.equipHp>0)this.zombieData.equipHp-=t;else{var e=Math.min(t,this.hp);this.hp-=t,window.pzazombieManager.reduceZombieLeftHp(e),this.hp<=0&&(this.isDead=!0)}},t.prototype.hurtZombieBody=function(t){if(!(null==this.zombieData||this.zombieData.hypnosis||this.hp<=0)){var e=Math.min(t,this.hp);this.hp-=t,window.pzazombieManager.reduceZombieLeftHp(e),this.hp<=0&&(this.isDead=!0)}},t.prototype.zombieDie=function(){this.hp<=0||(this.zombieData.hypnosis||window.pzazombieManager.reduceZombieLeftHp(this.hp),this.hp=0,this.zombieData.equipHp=0,this.isDead=!0)},t.prototype.isBePauseControlled=function(){return!(this.isDead||!this.buffData.hasBuff(o.pzaBuffType.FROZEN)&&!this.buffData.hasBuff(o.pzaBuffType.IMMOBILIZE))},t.prototype.isBeControlled=function(){return!(this.isDead||!this.buffData.hasBuff(o.pzaBuffType.FROZEN)&&!this.buffData.hasBuff(o.pzaBuffType.IMMOBILIZE)&&!this.buffData.hasBuff(o.pzaBuffType.DIZZ)&&!this.buffData.hasBuff(o.pzaBuffType.GARLIC)&&!this.buffData.hasBuff(o.pzaBuffType.HARD_BODY))},t}();a.pzaBaseData=r;var p=function(){function t(t){this._plantType=n.pzaPlantEnum.PEA_SHOOTER,this._readyTime=0,this._atkInterval=0,this._sleeping=!1,this.plantType=t}return Object.defineProperty(t.prototype,"plantType",{get:function(){return this._plantType},set:function(t){this._plantType=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"readyTime",{get:function(){return this._readyTime},set:function(t){this._readyTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"atkInterval",{get:function(){return this._atkInterval},set:function(t){this._atkInterval=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sleeping",{get:function(){return this._sleeping},set:function(t){this._sleeping=t},enumerable:!1,configurable:!0}),t}();a.pzaPlantData=p;var c=function(){function t(t){this._zombieType=i.pzaZombieEnum.ZOMBIE,this._equipType=0,this._toolType=0,this._equipHp=0,this._maxEquipHp=0,this._direction=-1,this._initMSpd=0,this._moveSpd=0,this._atkInterval=0,this._hypnosis=!1,this._needRefreshEquip=!1,this._wholeSummons=null,this.zombieType=t}return Object.defineProperty(t.prototype,"zombieType",{get:function(){return this._zombieType},set:function(t){this._zombieType=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"equipType",{get:function(){return this._equipType},set:function(t){this._equipType=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"toolType",{get:function(){return this._toolType},set:function(t){this._toolType=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"equipHp",{get:function(){return this._equipHp},set:function(t){this._equipHp=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxEquipHp",{get:function(){return this._maxEquipHp},set:function(t){this._maxEquipHp=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"direction",{get:function(){return this._direction},set:function(t){this._direction=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"initMSpd",{get:function(){return this._initMSpd},set:function(t){this._initMSpd=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"moveSpd",{get:function(){return this._moveSpd},set:function(t){this._moveSpd=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"atkInterval",{get:function(){return this._atkInterval},set:function(t){this._atkInterval=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hypnosis",{get:function(){return this._hypnosis},set:function(t){this._hypnosis=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"needRefreshEquip",{get:function(){return this._needRefreshEquip},set:function(t){this._needRefreshEquip=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wholeSummons",{get:function(){return this._wholeSummons},set:function(t){this._wholeSummons=t},enumerable:!1,configurable:!0}),t}();a.pzaZombieData=c,cc._RF.pop()},{"./pzaBuffData":"pzaBuffData","./pzaPlantEnum":"pzaPlantEnum","./pzaZombieEnum":"pzaZombieEnum"}],pzaBaseEffect:[function(t,e,a){"use strict";cc._RF.push(e,"b2afbvP8rxKZpOCQLPbuZGR","pzaBaseEffect");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaBaseEffect=void 0;var r=t("../../Common/pzaBaseComponent"),p=t("../../Common/pzaSpineController"),c=cc._decorator,l=c.ccclass,s=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spine=null,e.aniName="",e.endCall=null,e}return n(e,t),e.prototype.showEffect=function(t,e){var a=this;this.endCall=e,null==t&&(t=this.aniName),this.spine.playAnimation(t,!1,function(){a.endCall&&a.endCall(),a.close()})},e.prototype.pauseSelf=function(){this.spine.pauseAnimation()},e.prototype.resumeSelf=function(){this.spine.resumeAnimation()},i([s({displayName:"spine\u52a8\u753b",type:p.pzaSpineController})],e.prototype,"spine",void 0),i([s({displayName:"\u52a8\u753b\u540d\u79f0"})],e.prototype,"aniName",void 0),i([l],e)}(r.pzaBaseComponent);a.pzaBaseEffect=u,cc._RF.pop()},{"../../Common/pzaBaseComponent":"pzaBaseComponent","../../Common/pzaSpineController":"pzaSpineController"}],pzaBasePlant:[function(t,e,a){"use strict";cc._RF.push(e,"4a9690vgsxE/qlh9aEzanvc","pzaBasePlant");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaBasePlant=void 0;var r=t("../../Common/pzaBaseComponent"),p=t("../../Common/pzaGameConfig"),c=t("../../Common/pzaNodeManager"),l=t("../../Common/pzaSpineController"),s=t("../../Common/pzaTipManager"),u=t("../../Load/pzaBundleObjectPool"),h=t("../../Load/pzaPreLoadManager"),f=t("../Data/pzaZombieEnum"),d=t("../Effect/pzaShadowEffect"),m=t("../pzaGameState"),y=t("./pzaAttackType"),z=t("./pzaPlantBody"),b=cc._decorator,g=b.ccclass,v=b.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.animation=null,e.body=null,e.needShadow=!0,e.shadowOffset=cc.v2(),e.shadowScale=1,e.bodyBindData=!1,e.atkInterval=0,e.hurtState=null,e}return n(e,t),e.prototype.bindData=function(e){if(t.prototype.bindData.call(this,e),this.bodyBindData=!1,this.hurtState=null,this.refreshHurtState(!0),null!=e&&null!=e.yIndex){var a=10*-this.baseData.yIndex;this.node.zIndex=a}if(null!=e&&null!=e.plantData){var o=p.pzaGameConfig.getPlantConfig(e.plantData.plantType);null!=o&&(this.atkInterval=o.atkInterval)}this.createShadow()},e.prototype.logicLateUpdate=function(){this.bodyBindData||null==this.body||(this.bodyBindData=!0,this.body.bindData(this.baseData)),null!=this.baseData&&0!=this.baseData.floatY&&null!=this.baseData.logicPos&&this.node.setPosition(cc.v2(this.baseData.logicPos.x,this.baseData.logicPos.y+this.baseData.floatY))},e.prototype.pauseSelf=function(){this.animation.pauseAnimation()},e.prototype.resumeSelf=function(){this.baseData&&this.baseData.isBePauseControlled()||this.animation.resumeAnimation()},e.prototype.findAttackTarget=function(){return null},e.prototype.attack=function(){},e.prototype.wakeUp=function(){},e.prototype.createShadow=function(){var t=this;this.needShadow&&u.pzaBundleObjectPool.requestInstantByUrl(h.pzaResourceUrl.SHADOW,!1,function(e,a){if(null==e&&null!=a){var o=c.pzaNodeManager.getDownEffectNode();if(null!=o){a.setParent(o);var n=a.getComponent(d.pzaShadowEffect);n&&n.init(t.baseData,t.shadowOffset,t.shadowScale)}}else console.error(e)})},e.prototype.hurt=function(t,e,a){if(void 0===a&&(a=null),null!=this.baseData&&!this.baseData.isDead){if(a==y.pzaAttackType.ROLLING||a==y.pzaAttackType.BOOM||a==y.pzaAttackType.BANG)return this.baseData.isDead=!0,window.pzaplantManager.removePlant(this.baseData),this.death(e),m.pzaGameState.partStar>0&&2==m.pzaGameState.lossPlantCount&&(s.pzaTipManager.showLossStarTip(!1,!0),m.pzaGameState.partStar--),void m.pzaGameState.lossPlantCount++;this.baseData.hurtPlanet(t),this.refreshHurtState(!1),(this.baseData.isDead||this.baseData.hp<=0)&&(window.pzaplantManager.removePlant(this.baseData),this.death(e),m.pzaGameState.partStar>0&&2==m.pzaGameState.lossPlantCount&&(s.pzaTipManager.showLossStarTip(!1,!0),m.pzaGameState.partStar--),m.pzaGameState.lossPlantCount++)}},e.prototype.refreshHurtState=function(t){if(t)this.plantIntact();else if(null!=this.baseData&&null!=this.baseData.plantData){var e=this.baseData.hp/this.baseData.maxHp;e<=1/3?this.hurtState!=f.pzaHurtStateEnum.DYING&&this.plantDying():e<=2/3?this.hurtState!=f.pzaHurtStateEnum.HURT&&this.plantHurt():this.hurtState!=f.pzaHurtStateEnum.INTACT&&this.plantIntact()}},e.prototype.plantDying=function(){this.hurtState=f.pzaHurtStateEnum.DYING},e.prototype.plantHurt=function(){this.hurtState=f.pzaHurtStateEnum.HURT},e.prototype.plantIntact=function(){this.hurtState=f.pzaHurtStateEnum.INTACT},e.prototype.death=function(t,e){void 0===t&&(t=null),void 0===e&&(e=null),this.baseData.isDead=!0,this.close()},i([v({displayName:"\u52a8\u753b",type:l.pzaSpineController})],e.prototype,"animation",void 0),i([v({displayName:"\u78b0\u649e\u8eab\u4f53",type:z.pzaPlantBody})],e.prototype,"body",void 0),i([v({displayName:"\u662f\u5426\u9700\u8981\u5f71\u5b50"})],e.prototype,"needShadow",void 0),i([v({displayName:"\u5f71\u5b50\u504f\u79fb"})],e.prototype,"shadowOffset",void 0),i([v({displayName:"\u5f71\u5b50\u7f29\u653e"})],e.prototype,"shadowScale",void 0),i([g],e)}(r.pzaBaseComponent);a.pzaBasePlant=_,cc._RF.pop()},{"../../Common/pzaBaseComponent":"pzaBaseComponent","../../Common/pzaGameConfig":"pzaGameConfig","../../Common/pzaNodeManager":"pzaNodeManager","../../Common/pzaSpineController":"pzaSpineController","../../Common/pzaTipManager":"pzaTipManager","../../Load/pzaBundleObjectPool":"pzaBundleObjectPool","../../Load/pzaPreLoadManager":"pzaPreLoadManager","../Data/pzaZombieEnum":"pzaZombieEnum","../Effect/pzaShadowEffect":"pzaShadowEffect","../pzaGameState":"pzaGameState","./pzaAttackType":"pzaAttackType","./pzaPlantBody":"pzaPlantBody"}],pzaBaseZombie:[function(t,e,a){"use strict";cc._RF.push(e,"fabae/AhBdCuZz/pzZ7aC9g","pzaBaseZombie");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaBaseZombie=void 0;var r=t("../../Common/pzaBaseComponent"),p=t("../../Common/pzaGameConfig"),c=t("../../Common/pzaGameManager"),l=t("../../Common/pzaNodeManager"),s=t("../../Common/pzaSpineController"),u=t("../../Common/pzaUIManager"),h=t("../../Common/pzaUtil"),f=t("../../Common/pzaWorldEventManager"),d=t("../../Load/pzaBundleObjectPool"),m=t("../../Load/pzaPreLoadManager"),y=t("../../View/Battle/pzaNewZombieView"),z=t("../Data/pzaBuffData"),b=t("../Data/pzaPlantEnum"),g=t("../Data/pzaZombieEnum"),v=t("../Effect/pzaShadowEffect"),_=t("../Plant/pzaAttackType"),P=t("../pzaGameState"),E=t("./pzaZombieBody"),C=t("./pzaZombieState"),D=cc._decorator,S=D.ccclass,O=D.property,M=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.animation=null,e.equipAnimation=null,e.toolAnimation=null,e.body=null,e.aniName=[],e.idleAniName=[],e.moveAniName=[],e.deathAniName=[],e.attackAniName=[],e.equipDeathAniName="",e.skinName=[],e.needShadow=!0,e.shadowOffset=cc.v2(),e.mask=null,e.curShadow=null,e.curSkinName=null,e.zombieState=C.pzaZombieState.STAY,e.zombieHurtState=null,e.equipHurtState=null,e.showFrost=!1,e.hypnosisState=!1,e.bodyBindData=!1,e.hasEquip=!1,e.hasTool=!1,e.changeTargetRow=-1,e.zombieWin=!1,e.breakDirtTime=0,e.breakDirtHeight=140,e.animationYOffset=0,e.breakCall=null,e.zombieScale=1,e}return n(e,t),e.prototype.preview=function(e,a,o){void 0===o&&(o=1),t.prototype.bindData.call(this,e),this.hasEquip=!0,this.hasTool=!0,this.zombieWin=!1,this.refreshHurtState(!0),this.setZombieScale(o),this.node.scaleX=o,this.createShadow(a),this.randomZombieSkin(),this.playStayAnimation(),this.refreshFrostState(!0)},e.prototype.setZombieScale=function(t){this.zombieScale=t,this.node.scale=t},e.prototype.bindData=function(e){if(t.prototype.bindData.call(this,e),null!=e&&null!=e.yIndex){var a=10*-this.baseData.yIndex+5;this.node.zIndex=a}this.createShadow(),this.hasEquip=e.zombieData.equipType!=g.pzaEquipType.NO_EQUIP,this.hasTool=e.zombieData.toolType!=g.pzaEquipType.NO_EQUIP,this.zombieHurtState=null,this.equipHurtState=null,this.bodyBindData=!1,this.hypnosisState=!1,this.zombieWin=!1,null!=this.mask&&(this.mask.enabled=!1),this.breakDirtTime=0,this.randomZombieSkin(),this.refreshHurtState(!0),this.refreshOrientation(),this.playStayAnimation(),this.refreshFrostState(!0)},e.prototype.breakDirt=function(t){void 0===t&&(t=null),this.breakCall=t,null!=this.mask&&(this.mask.enabled=!0),this.breakDirtTime=.3,this.breakDirtHeight=140*this.zombieScale,this.animation.node.y=-this.breakDirtHeight,this.animationYOffset=0,this.equipAnimation&&(this.equipAnimation.node.y=-this.breakDirtHeight),this.toolAnimation&&(this.toolAnimation.node.y=-this.breakDirtHeight),this.curShadow&&this.curShadow.hideShadow()},e.prototype.breakWater=function(t){void 0===t&&(t=null),this.breakCall=t,null!=this.mask&&(this.mask.enabled=!0),this.breakDirtTime=.3,this.breakDirtHeight=160*this.zombieScale,this.animation.node.y=-this.breakDirtHeight,this.animationYOffset=-30*this.zombieScale,this.equipAnimation&&(this.equipAnimation.node.y=-this.breakDirtHeight),this.toolAnimation&&(this.toolAnimation.node.y=-this.breakDirtHeight)},e.prototype.update=function(t){this.zombieWin&&this.zombieWinMove(t)},e.prototype.logicUpdate=function(t){if(this.breakDirtTime>0){this.breakDirtTime-=t;var e=-Math.max(0,this.breakDirtTime/.3)*this.breakDirtHeight+this.animationYOffset;return this.animation.node.y=e*this.zombieScale,this.equipAnimation&&(this.equipAnimation.node.y=e),this.toolAnimation&&(this.toolAnimation.node.y=e),void(this.breakDirtTime<=0&&null!=this.mask&&(this.mask.enabled=!1,this.breakCall&&this.breakCall()))}if(null!=this.baseData&&null!=this.baseData.zombieData&&!this.baseData.isDead){if(this.baseData.zombieData.needRefreshEquip)return this.baseData.zombieData.needRefreshEquip=!1,void this.refreshHurtState(!1);if(!this.hypnosisState&&this.baseData.zombieData.hypnosis&&this.beHypnosis(),this.updateRoleBuff(t),this.refreshFrostState(!1),this.animation.flashUpdate(t),this.equipAnimation&&this.equipAnimation.flashUpdate(t),!this.baseData.isBeControlled())if(this.lastBePasueControled&&(this.lastBePasueControled=!1,this.resumeSelf()),-1==this.changeTargetRow){var a=this.findTarget();null==a||a.isDead?this.updateMove(t):this.attack(t,a)}else this.changeRowMove(t)}},e.prototype.createShadow=function(t){var e=this;void 0===t&&(t=null),this.needShadow?(null==t&&(t=l.pzaNodeManager.getDownEffectNode()),d.pzaBundleObjectPool.requestInstantByUrl(m.pzaResourceUrl.SHADOW,!1,function(a,o){if(null==a&&null!=o){o.setParent(t);var n=o.getComponent(v.pzaShadowEffect);n&&n.init(e.baseData,e.shadowOffset,e.zombieScale),e.breakDirtTime>0&&n&&n.hideShadow(),e.curShadow=n}else console.error(a)})):this.curShadow=null},e.prototype.updateMove=function(t){this.zombieState!=C.pzaZombieState.MOVE&&this.playMoveAnimation();var e=this.baseData.zombieData.moveSpd,a=1,o=this.baseData.buffData.releaseBuff(z.pzaBuffType.FROST);null!=o&&(a-=o.buffValue);var n=this.baseData.buffData.releaseBuff(z.pzaBuffType.SPEED_UP);if(null!=n&&(a+=n.buffValue),e*=a,this.animation.changeAnimationTimeScale(a),this.hasEquip&&this.equipAnimation&&this.equipAnimation.changeAnimationTimeScale(a),this.hasTool&&this.toolAnimation&&this.toolAnimation.changeAnimationTimeScale(a),1==this.baseData.zombieData.direction?this.baseData.logicPos.x+=t*e:this.baseData.logicPos.x-=t*e,this.baseData.zombieData.hypnosis&&this.baseData.logicPos.x>=640)this.death(!1);else{this.baseData.logicPos.x<-470&&(this.zombieWin=!0,this.node.zIndex=100,c.pzaGameManager.zombieWin());var i=p.pzaGameConfig.getMapXIndex(P.pzaGameState.curChapter,this.baseData.logicPos);this.baseData.xIndex=i;var r=.1*p.pzaGameConfig.getYInterval(P.pzaGameState.curChapter,this.baseData.yIndex);if(p.pzaGameConfig.fixMapYOffset(P.pzaGameState.curChapter,this.baseData.yIndex,this.baseData.logicPos,r),P.pzaGameState.newZombie==this.baseData.zombieData.zombieType&&7==i){P.pzaGameState.gamePause=!0,f.pzaWorldEventManager.triggerEvent(f.pzaWorldEventType.GAME_PAUSE,null);var l=this.node.convertToWorldSpaceAR(cc.v2());u.pzaUIManager.baseShowPopUI(m.pzaResourceUrl.NEW_ZOMBIE_VIEW,function(t){var e=t&&t.getComponent(y.pzaNewZombieView);e&&e.showNewZombie(P.pzaGameState.newZombie,l),P.pzaGameState.newZombie=null})}}},e.prototype.changeRowMove=function(t){this.updateMove(t),this.baseData.logicPos.y+=100*t*(this.baseData.yIndex<this.changeTargetRow?1:-1);var e=.1*p.pzaGameConfig.getYInterval(P.pzaGameState.curChapter,this.changeTargetRow),a=p.pzaGameConfig.getBlockLogicPos(P.pzaGameState.curChapter,this.baseData.xIndex,this.changeTargetRow,0,e);(this.baseData.yIndex<this.changeTargetRow&&a.y<=this.baseData.logicPos.y||this.baseData.yIndex>this.changeTargetRow&&a.y>=this.baseData.logicPos.y)&&(this.baseData.logicPos.y=a.y,this.baseData.yIndex=this.changeTargetRow,this.changeTargetRow=-1)},e.prototype.zombieWinMove=function(t){if(!P.pzaGameState.zombieWinShowUI){this.baseData.logicPos.x-=t*this.baseData.zombieData.moveSpd;var e=-690;if(3!=P.pzaGameState.curChapter&&4!=P.pzaGameState.curChapter||(e=-750),this.baseData.logicPos.x<=e)return P.pzaGameState.zombieWinShowUI=!0,c.pzaGameManager.showGameFail(),void this.node.setPosition(this.baseData.logicPos);if(P.pzaGameState.zombieWinShowMap)this.node.setPosition(this.baseData.logicPos);else{var a=300*t,o=300*t,n=!1,i=!1;this.baseData.logicPos.y>-130?(this.baseData.logicPos.y-=a,this.baseData.logicPos.y<=-130&&(this.baseData.logicPos.y=-130,i=!0)):this.baseData.logicPos.y<-130?(this.baseData.logicPos.y+=a,this.baseData.logicPos.y>=-130&&(this.baseData.logicPos.y=-130,i=!0)):i=!0,(3==P.pzaGameState.curChapter||4==P.pzaGameState.curChapter)&&this.baseData.logicPos.x>-570?(this.baseData.logicPos.x-=o,this.baseData.logicPos.x<=-570&&(this.baseData.logicPos.x=-570,n=!0)):n=!0,this.node.setPosition(this.baseData.logicPos),n&&i&&(window.pzaMapManager.failShowInfactMap(),P.pzaGameState.zombieWinShowMap=!0)}}},e.prototype.logicLateUpdate=function(){t.prototype.logicLateUpdate.call(this),this.bodyBindData||null==this.body||(this.bodyBindData=!0,this.body.bindData(this.baseData)),null!=this.baseData&&null!=this.baseData.logicPos&&this.node.setPosition(this.baseData.logicPos)},e.prototype.bePauseControl=function(){null==this.baseData||this.baseData.isDead||(t.prototype.bePauseControl.call(this),this.pauseSelf())},e.prototype.pauseSelf=function(){this.zombieWin||(this.animation.pauseAnimation(),this.equipAnimation&&this.equipAnimation.pauseAnimation(),this.toolAnimation&&this.toolAnimation.pauseAnimation())},e.prototype.resumeSelf=function(){this.baseData&&this.baseData.isBePauseControlled()||(this.animation.resumeAnimation(),this.equipAnimation&&this.equipAnimation.resumeAnimation(),this.toolAnimation&&this.toolAnimation.resumeAnimation())},e.prototype.hurt=function(t,e,a){if(void 0===a&&(a=_.pzaAttackType.FLOOR_ATK),!(null==this.baseData||this.baseData.isDead||this.baseData.buffData.hasBuff(z.pzaBuffType.HARD_BODY)&&a!=_.pzaAttackType.BOOM&&a!=_.pzaAttackType.EAT)){if(a==_.pzaAttackType.CLEAN_CAR)return this.baseData.zombieDie(),void this.flaserDeath();if(a==_.pzaAttackType.BANG)return this.baseData.zombieDie(),void this.death(!1);if(a==_.pzaAttackType.EAT)return this.baseData.zombieDie(),void this.death(!1);if(a!=_.pzaAttackType.TWINE){if(a==_.pzaAttackType.BOOM)return this.baseData.zombieDie(),void this.death(!0);if(a==_.pzaAttackType.NORMAL_BOOM)return this.baseData.zombieDie(),void this.death(!1);if(a==_.pzaAttackType.SPIKE?this.baseData.hurtZombieBody(t):this.baseData.hurtZombie(t),this.baseData.isDead||this.baseData.hp<=0)return a==_.pzaAttackType.KNOCK?void this.death(!1):void this.death(!0);this.refreshHurtState(!1),this.refreshFrostState(!0),this.animation.flash(),this.equipAnimation&&this.equipAnimation.flash()}else this.twineDeath()}},e.prototype.twineDeath=function(){this.baseData.zombieDie(),this.death(!1)},e.prototype.death=function(t){var e=this;this.baseData.zombieData.hypnosis?window.pzazombieManager.hypnoZombieDeath(this.baseData):window.pzazombieManager.zombieDeath(this.baseData),t?this.playDeathAnimation(function(){e.close()}):this.close()},e.prototype.flaserDeath=function(){var t=this;this.baseData.zombieData.hypnosis?window.pzazombieManager.hypnoZombieDeath(this.baseData):window.pzazombieManager.zombieDeath(this.baseData),this.pauseSelf(),this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.rotateTo(.15,90),cc.scaleTo(.15,.5*this.zombieScale,1*this.zombieScale),cc.delayTime(.1),cc.callFunc(function(){t.node.rotation=0,t.close()})))},e.prototype.attack=function(t,e){if(null!=e&&null!=e.plantData&&e.plantData.plantType==b.pzaPlantEnum.GARLIC)return this.baseData.zombieData.atkInterval=0,this.damage(e),void this.changeMapRow();this.zombieState!=C.pzaZombieState.EAT_ATK&&(this.baseData.zombieData.atkInterval=0,this.playAttakAnimation());var a=this.baseData.buffData.releaseBuff(z.pzaBuffType.FROST);null!=a&&(t*=a.buffValue),this.baseData.zombieData.atkInterval+=t,this.baseData.zombieData.atkInterval>=1&&(this.baseData.zombieData.atkInterval=0,this.damage(e))},e.prototype.damage=function(t){if(null!=t&&null!=this.baseData&&null!=this.baseData.zombieData)if(null!=t.zombieData){var e;this.baseData.zombieData.hypnosis?(e=window.pzazombieManager.getZombie(t))&&e.hurt(this.baseData.atk):(e=window.pzazombieManager.getHypnoZombie(t))&&e.hurt(this.baseData.atk)}else{var a=window.pzaplantManager.getCanAttackPlant(t.xIndex,t.yIndex);a&&a.hurt(this.baseData.atk,this.baseData)}},e.prototype.beHypnosis=function(){this.hypnosisState=!0,this.body&&this.body.hypnosischangeGroup(),this.refreshOrientation(),this.animation.node.color=cc.Color.fromHEX(cc.color(),"#F35CFC"),this.equipAnimation&&(this.equipAnimation.node.color=cc.Color.fromHEX(cc.color(),"#F35CFC"))},e.prototype.findTarget=function(){if(null==this.body||null==this.body.curTarget)return null;if(this.body.curTarget.isDead)return this.body.curTarget=null,null;if(null!=this.body.curTarget.zombieData)return this.body.curTarget;if(null==this.body.curTarget.plantData)return null;if(this.body.curTarget.plantData.plantType==b.pzaPlantEnum.PUMPKIN)return this.body.curTarget;if(this.body.curTarget.plantData.plantType==b.pzaPlantEnum.TALL_NUT){var t=""+this.body.curTarget.xIndex+this.body.curTarget.yIndex,e=window.pzaplantManager.pumpkinDataMap.get(t);return null==e||e.isDead?this.body.curTarget:e}if(this.body.curTarget.plantData.plantType==b.pzaPlantEnum.SPIKEWEED)return null;if(p.pzaPlantConfigData.isEnvPlant(this.body.curTarget.plantData.plantType)){t=""+this.body.curTarget.xIndex+this.body.curTarget.yIndex;var a=window.pzaplantManager.plantDataMap.get(t);return null==a||a.isDead?this.body.curTarget:a}return this.body.curTarget},e.prototype.changeMapRow=function(){var t=this;this.baseData.buffData.addBuff(new z.pzaBuffInfo(z.pzaBuffType.GARLIC,-1)),this.animation.playAnimation(this.aniName[0],!1,function(){if(t.playMoveAnimation(),t.baseData.buffData.removeBuff(z.pzaBuffType.GARLIC),Math.random()>.5){var e=t.changeToUpRow();t.changeTargetRow=e?t.baseData.yIndex+1:t.baseData.yIndex-1}else e=t.changeToDownRow(),t.changeTargetRow=e?t.baseData.yIndex-1:t.baseData.yIndex+1;var a=10*-t.changeTargetRow+5;t.node.zIndex=a}),this.equipAnimation&&this.equipAnimation.playAnimation(this.aniName[0],!0)},e.prototype.changeToUpRow=function(){var t=this.baseData.yIndex+1;if(t>=p.pzaGameConfig.getMapRow(P.pzaGameState.curChapter))return!1;var e=window.pzaMapManager.isInWaterWay(t);return p.pzaGameConfig.isWaterZombie(this.baseData.zombieData.zombieType)==e},e.prototype.changeToDownRow=function(){var t=this.baseData.yIndex-1;if(t<0)return!1;var e=window.pzaMapManager.isInWaterWay(t);return p.pzaGameConfig.isWaterZombie(this.baseData.zombieData.zombieType)==e},e.prototype.refreshHurtState=function(t){if(t)return this.animation.node.y=0,this.equipAnimation&&(this.equipAnimation.node.active=!0,this.equipAnimation.node.y=0),this.toolAnimation&&(this.toolAnimation.node.active=!0,this.toolAnimation.node.y=0),this.equipIntact(),void this.zombieIntact();if(null!=this.baseData&&null!=this.baseData.zombieData){if(this.hasEquip)if(this.baseData.zombieData.equipType==g.pzaEquipType.NO_EQUIP)this.equipDeath(!1);else{var e=this.baseData.zombieData.equipHp/this.baseData.zombieData.maxEquipHp;e<=0?this.equipHurtState!=g.pzaHurtStateEnum.DEAD&&this.equipDeath(!0):e<=1/3?this.equipHurtState!=g.pzaHurtStateEnum.DYING&&this.equipDying():e<=2/3?this.equipHurtState!=g.pzaHurtStateEnum.HURT&&this.equipHurt():this.equipHurtState!=g.pzaHurtStateEnum.INTACT&&this.equipIntact()}this.toolAnimation&&this.hasTool&&this.baseData.zombieData.toolType==g.pzaEquipType.NO_EQUIP&&this.toolDeath();var a=this.baseData.hp/this.baseData.maxHp;a<=1/3?this.zombieHurtState!=g.pzaHurtStateEnum.DYING&&this.zombieDying():a<=2/3?this.zombieHurtState!=g.pzaHurtStateEnum.HURT&&this.zombieHurt():this.zombieHurtState!=g.pzaHurtStateEnum.INTACT&&this.zombieIntact()}},e.prototype.refreshOrientation=function(){null!=this.baseData&&null!=this.baseData.zombieData&&(this.node.scaleX=-this.baseData.zombieData.direction*this.zombieScale)},e.prototype.randomZombieSkin=function(){null==this.skinName||this.skinName.length<=1||(this.curSkinName=Math.random()>.7?this.skinName[1]:this.skinName[0],this.animation.setAnimationSkin(this.curSkinName))},e.prototype.playStayAnimation=function(){this.zombieState=C.pzaZombieState.STAY;var t=h.pzaUtil.getRandomValueFromArray(this.idleAniName);this.animation.playAnimation(t,!0),null!=this.equipHurtState&&this.equipHurtState<g.pzaHurtStateEnum.DEAD&&this.equipAnimation&&this.equipAnimation.playAnimation(t,!0)},e.prototype.playMoveAnimation=function(){this.zombieState=C.pzaZombieState.MOVE;var t=h.pzaUtil.getRandomValueFromArray(this.moveAniName);this.animation.playAnimation(t,!0,null,null,1),null!=this.equipHurtState&&this.equipHurtState<g.pzaHurtStateEnum.DEAD&&this.equipAnimation&&this.equipAnimation.playAnimation(t,!0)},e.prototype.playAttakAnimation=function(){this.zombieState=C.pzaZombieState.EAT_ATK;var t=h.pzaUtil.getRandomValueFromArray(this.attackAniName);this.animation.playAnimation(t,!0),null!=this.equipHurtState&&this.equipHurtState<g.pzaHurtStateEnum.DEAD&&this.equipAnimation&&this.equipAnimation.playAnimation(t,!0)},e.prototype.playDeathAnimation=function(t){this.zombieState=C.pzaZombieState.DEAD,this.zombieHurtState=g.pzaHurtStateEnum.DEAD,this.animation.closeFlash(),this.equipAnimation&&this.equipAnimation.closeFlash(),this.animation.playAnimation(h.pzaUtil.getRandomValueFromArray(this.deathAniName),!1,t),this.equipAnimation&&(this.equipAnimation.node.active=!1)},e.prototype.equipDeath=function(t){var e=this;this.equipHurtState=g.pzaHurtStateEnum.DEAD,this.hasEquip=!1,null!=this.equipAnimation&&(t?this.equipAnimation.playAnimation(this.equipDeathAniName,!1,function(){e.equipAnimation.node.active=!1}):this.equipAnimation.node.active=!1)},e.prototype.toolDeath=function(){this.hasTool=!1,this.toolAnimation&&(this.toolAnimation.node.active=!1)},e.prototype.zombieDying=function(){this.zombieHurtState=g.pzaHurtStateEnum.DYING},e.prototype.zombieHurt=function(){this.zombieHurtState=g.pzaHurtStateEnum.HURT},e.prototype.zombieIntact=function(){this.zombieHurtState=g.pzaHurtStateEnum.INTACT},e.prototype.equipDying=function(){this.equipHurtState=g.pzaHurtStateEnum.DYING},e.prototype.equipHurt=function(){this.equipHurtState=g.pzaHurtStateEnum.HURT},e.prototype.equipIntact=function(){this.equipHurtState=g.pzaHurtStateEnum.INTACT},e.prototype.refreshFrostState=function(t){return t?(this.showFrost=!1,this.animation.node.color=cc.Color.fromHEX(cc.color(),"#FFFFFF"),void(this.equipAnimation&&(this.equipAnimation.node.color=cc.Color.fromHEX(cc.color(),"#FFFFFF")))):null==this.baseData||this.animation.flashTime>0?void 0:this.baseData.buffData.hasBuff(z.pzaBuffType.FROST)&&!this.showFrost?(this.showFrost=!0,this.animation.node.color=cc.Color.fromHEX(cc.color(),"#3B95FF"),void(this.equipAnimation&&(this.equipAnimation.node.color=cc.Color.fromHEX(cc.color(),"#3B95FF")))):!this.baseData.buffData.hasBuff(z.pzaBuffType.FROST)&&this.showFrost?(this.showFrost=!1,this.animation.node.color=cc.Color.fromHEX(cc.color(),"#FFFFFF"),void(this.equipAnimation&&(this.equipAnimation.node.color=cc.Color.fromHEX(cc.color(),"#FFFFFF")))):void 0},e.prototype.previewClose=function(){this.close(),this.baseData.isDead=!0,this.baseData.hp=0},i([O({displayName:"\u52a8\u753b",type:s.pzaSpineController})],e.prototype,"animation",void 0),i([O({displayName:"\u88c5\u9970\u52a8\u753b",type:s.pzaSpineController})],e.prototype,"equipAnimation",void 0),i([O({displayName:"\u5de5\u5177\u52a8\u753b",type:s.pzaSpineController})],e.prototype,"toolAnimation",void 0),i([O({displayName:"\u78b0\u649e\u8eab\u4f53",type:E.pzaZombieBody})],e.prototype,"body",void 0),i([O({displayName:"\u52a8\u753b\u540d\u79f0",type:[cc.String]})],e.prototype,"aniName",void 0),i([O({displayName:"\u5f85\u673a\u52a8\u753b\u540d\u79f0",type:[cc.String]})],e.prototype,"idleAniName",void 0),i([O({displayName:"\u79fb\u52a8\u52a8\u753b\u540d\u79f0",type:[cc.String]})],e.prototype,"moveAniName",void 0),i([O({displayName:"\u6b7b\u4ea1\u52a8\u753b\u540d\u79f0",type:[cc.String]})],e.prototype,"deathAniName",void 0),i([O({displayName:"\u653b\u51fb\u52a8\u753b\u540d\u79f0",type:[cc.String]})],e.prototype,"attackAniName",void 0),i([O({displayName:"\u88c5\u9970\u6b7b\u4ea1\u52a8\u753b\u540d\u79f0"})],e.prototype,"equipDeathAniName",void 0),i([O({displayName:"\u50f5\u5c38\u76ae\u80a4\u540d\u79f0",type:[cc.String]})],e.prototype,"skinName",void 0),i([O({displayName:"\u662f\u5426\u9700\u8981\u5f71\u5b50"})],e.prototype,"needShadow",void 0),i([O({displayName:"\u5f71\u5b50\u504f\u79fb"})],e.prototype,"shadowOffset",void 0),i([O({displayName:"mask",type:cc.Mask})],e.prototype,"mask",void 0),i([S],e)}(r.pzaBaseComponent);a.pzaBaseZombie=M,cc._RF.pop()},{"../../Common/pzaBaseComponent":"pzaBaseComponent","../../Common/pzaGameConfig":"pzaGameConfig","../../Common/pzaGameManager":"pzaGameManager","../../Common/pzaNodeManager":"pzaNodeManager","../../Common/pzaSpineController":"pzaSpineController","../../Common/pzaUIManager":"pzaUIManager","../../Common/pzaUtil":"pzaUtil","../../Common/pzaWorldEventManager":"pzaWorldEventManager","../../Load/pzaBundleObjectPool":"pzaBundleObjectPool","../../Load/pzaPreLoadManager":"pzaPreLoadManager","../../View/Battle/pzaNewZombieView":"pzaNewZombieView","../Data/pzaBuffData":"pzaBuffData","../Data/pzaPlantEnum":"pzaPlantEnum","../Data/pzaZombieEnum":"pzaZombieEnum","../Effect/pzaShadowEffect":"pzaShadowEffect","../Plant/pzaAttackType":"pzaAttackType","../pzaGameState":"pzaGameState","./pzaZombieBody":"pzaZombieBody","./pzaZombieState":"pzaZombieState"}],pzaBattleDownView:[function(t,e,a){"use strict";cc._RF.push(e,"980c1Mp5PZGYaDiC5mPrVDT","pzaBattleDownView");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaBattleDownView=void 0;var r=t("../../Battle/Data/pzaGuideType"),p=t("../../Battle/pzaGameState"),c=t("../../Common/pzaNodeManager"),l=t("../../Common/pzaUIManager"),s=t("../../Common/pzaWorldEventManager"),u=t("../../Load/pzaPreLoadManager"),h=t("./pzaMenuView"),f=cc._decorator,d=f.ccclass,m=f.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sunUIShowNode=null,e.sunCountLabel=null,e.sunUINode=null,e.shovelShowNode=null,e.shovel=null,e.blackShovel=null,e.guideArrow=null,e.pauseBtn=null,e.curSunCount=0,e}return n(e,t),e.prototype.onLoad=function(){var t=this.sunUINode.convertToWorldSpaceAR(cc.v2()),e=c.pzaNodeManager.getUpEffectNode();if(null!=e){var a=e.convertToNodeSpaceAR(t);p.pzaGameState.sunMoveUIPos=cc.v2(a.x,a.y)}},e.prototype.onEnable=function(){this.curSunCount=p.pzaGameState.sunLightCount,this.sunCountLabel.string=""+this.curSunCount,this.blackShovel.active=!1,this.guideArrow.active=!1,this.sunUIShowNode.active=p.pzaGameState.gameMode!=p.pzaGameMode.BELT&&p.pzaGameState.gameMode!=p.pzaGameMode.SMALL_ZOMBIE,this.shovelShowNode.active=p.pzaGameState.curChapter>1||p.pzaGameState.curPart>4,this.shovel.on(cc.Node.EventType.TOUCH_START,this.clickShovel,this),this.shovel._touchListener.setSwallowTouches(!1),s.pzaWorldEventManager.addListener(s.pzaWorldEventType.REMOVE_SHOVEL,this.refreshShovel,this)},e.prototype.onDisable=function(){this.shovel.off(cc.Node.EventType.TOUCH_START,this.clickShovel,this),s.pzaWorldEventManager.removeListener(s.pzaWorldEventType.REMOVE_SHOVEL,this.refreshShovel,this)},e.prototype.showSunUI=function(){this.sunUIShowNode.active=!0,this.shovelShowNode.active=!0},e.prototype.hideSunUI=function(){this.sunUIShowNode.active=!1,this.shovelShowNode.active=!1},e.prototype.update=function(){if(this.curSunCount!=p.pzaGameState.sunLightCount&&(this.curSunCount=p.pzaGameState.sunLightCount,this.sunCountLabel.string=""+this.curSunCount),window.pzaGuideManager.guideType==r.pzaGuideType.GUIDE_SHOVEL_1_5&&1==window.pzaGuideManager.guideStep&&!this.guideArrow.active){var t=cc.v2(this.shovel.x,this.shovel.y-70);this.guideArrow.active=!0,this.guideArrow.stopAllActions(),this.guideArrow.setPosition(t),this.guideArrow.runAction(cc.repeatForever(cc.sequence(cc.moveTo(.2,cc.v2(t.x,t.y+20)),cc.moveTo(.2,cc.v2(t.x,t.y)))))}},e.prototype.clickShovel=function(){p.pzaGameState.selectShovel=!p.pzaGameState.selectShovel,this.refreshShovel(),p.pzaGameState.selectShovel&&(p.pzaGameState.curPlant=null,s.pzaWorldEventManager.triggerEvent(s.pzaWorldEventType.CLICK_SHOVEL,null),window.pzaGuideManager.guideType==r.pzaGuideType.GUIDE_SHOVEL_1_5&&1==window.pzaGuideManager.guideStep&&(this.guideArrow.active=!1,window.pzaGuideManager.guideStepNext()))},e.prototype.clickPause=function(){p.pzaGameState.gamePause=!0,s.pzaWorldEventManager.triggerEvent(s.pzaWorldEventType.GAME_PAUSE,null),l.pzaUIManager.baseShowPopUI(u.pzaResourceUrl.GAME_MENU_VIEW,function(t){var e=t&&t.getComponent(h.pzaMenuView);e&&e.bindCloseCall(function(){p.pzaGameState.gamePause=!1,s.pzaWorldEventManager.triggerEvent(s.pzaWorldEventType.GAME_RESUME,null)})})},e.prototype.refreshShovel=function(){if(p.pzaGameState.selectShovel)return this.blackShovel.stopAllActions(),this.blackShovel.active=!0,this.blackShovel.opacity=0,void this.blackShovel.runAction(cc.repeatForever(cc.sequence(cc.fadeTo(.4,177),cc.fadeOut(.4))));this.blackShovel.active=!1},i([m({displayName:"\u9633\u5149\u663e\u793a\u8282\u70b9",type:cc.Node})],e.prototype,"sunUIShowNode",void 0),i([m({displayName:"\u9633\u5149\u6570\u91cf",type:cc.Label})],e.prototype,"sunCountLabel",void 0),i([m({displayName:"\u9633\u5149UI\u4f4d\u7f6e",type:cc.Node})],e.prototype,"sunUINode",void 0),i([m({displayName:"\u94f2\u5b50\u663e\u793a\u8282\u70b9",type:cc.Node})],e.prototype,"shovelShowNode",void 0),i([m({displayName:"\u94f2\u5b50",type:cc.Node})],e.prototype,"shovel",void 0),i([m({displayName:"\u94f2\u5b50-\u9ed1",type:cc.Node})],e.prototype,"blackShovel",void 0),i([m({displayName:"\u5f15\u5bfc\u7bad\u5934",type:cc.Node})],e.prototype,"guideArrow",void 0),i([m({displayName:"\u83dc\u5355\u6309\u94ae",type:cc.Node})],e.prototype,"pauseBtn",void 0),i([d],e)}(cc.Component);a.pzaBattleDownView=y,cc._RF.pop()},{"../../Battle/Data/pzaGuideType":"pzaGuideType","../../Battle/pzaGameState":"pzaGameState","../../Common/pzaNodeManager":"pzaNodeManager","../../Common/pzaUIManager":"pzaUIManager","../../Common/pzaWorldEventManager":"pzaWorldEventManager","../../Load/pzaPreLoadManager":"pzaPreLoadManager","./pzaMenuView":"pzaMenuView"}],pzaBattleFrameAnim:[function(t,e,a){"use strict";cc._RF.push(e,"7c9ef+mNP5N/ZWOKV0x/u2L","pzaBattleFrameAnim");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaBattleFrameAnim=void 0;var r=t("../../Common/pzaBaseComponent"),p=t("../../utils/pzaFrameAnim"),c=cc._decorator,l=c.ccclass,s=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ani=null,e}return n(e,t),e.prototype.showAnim=function(t){var e=this;this.ani.setEndFn(function(){t&&t(),e.close()}),this.ani.reset(),this.ani.play()},e.prototype.logicUpdate=function(t){this.ani.updateFrame(t)},i([s({displayName:"\u52a8\u753b",type:p.default})],e.prototype,"ani",void 0),i([l],e)}(r.pzaBaseComponent);a.pzaBattleFrameAnim=u,cc._RF.pop()},{"../../Common/pzaBaseComponent":"pzaBaseComponent","../../utils/pzaFrameAnim":"pzaFrameAnim"}],pzaBattleUpView:[function(t,e,a){"use strict";cc._RF.push(e,"62cb1l/69BGA7XnrfIYDdqK","pzaBattleUpView");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaBattleUpView=void 0;var r=t("../../Battle/pzaGameState"),p=t("../../Common/pzaGamePartConfig"),c=t("../../Common/pzaLocalData"),l=t("../../Common/pzaNodeManager"),s=cc._decorator,u=s.ccclass,h=s.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.coinShowNode=null,e.coinUINode=null,e.coinLabel=null,e.partLabel=null,e.partProNode=null,e.partProgress=null,e.zombieHeadNode=null,e.partFlags=[],e.maxWave=0,e.coinShowTime=0,e.lastShowCoinCount=null,e}return n(e,t),e.prototype.onLoad=function(){var t=this.coinUINode.convertToWorldSpaceAR(cc.v2()),e=l.pzaNodeManager.getUpEffectNode();if(null!=e){var a=e.convertToNodeSpaceAR(t);r.pzaGameState.coinMoveUIPos=cc.v2(a.x,a.y)}},e.prototype.onEnable=function(){this.initPartGro(),this.showCoinNode(),this.lastShowCoinCount=null,this.refrshCoinCount()},e.prototype.update=function(t){r.pzaGameState.gamePause||(this.refreshPartGro(),this.coinShowTime+=t,this.coinShowTime>=3&&(this.coinShowNode.active=!1),this.refrshCoinCount())},e.prototype.showCoinNode=function(){this.coinShowNode.active=!0,this.coinShowTime=0},e.prototype.refrshCoinCount=function(){this.lastShowCoinCount!=c.pzaLocalData.data.coin&&(this.lastShowCoinCount=c.pzaLocalData.data.coin,this.coinLabel.string=""+this.lastShowCoinCount)},e.prototype.initPartGro=function(){var t=p.pzaGamePartConfig.getPartConfig(r.pzaGameState.curChapter,r.pzaGameState.curPart);if(null!=t){if(this.maxWave=t.maxWave,2==r.pzaGameState.curChapter&&5==r.pzaGameState.curPart)for(var e=0;e<this.partFlags.length;e++)(o=this.partFlags[e]).active=!1;else{var a=Math.floor(this.maxWave/10);for(e=0;e<this.partFlags.length;e++){var o=this.partFlags[e];e+1>a?o.active=!1:(o.active=!0,o.setPosition(-315*(e+1)/a-30,42))}}this.zombieHeadNode.setPosition(-15,37),this.partProNode.active=!1,this.partLabel.string=r.pzaGameState.curChapter+"-"+r.pzaGameState.curPart}},e.prototype.refreshPartGro=function(){if(!(window.pzazombieManager.wave<=0)){this.partProNode.active=!0;var t=window.pzazombieManager.curWaveTime/(window.pzazombieManager.curWaveTime+window.pzazombieManager.nextWaveTime);t=Math.min(1,t);var e=(window.pzazombieManager.wave-1+t)/(this.maxWave-1),a=(e=Math.min(1,e))+this.partProgress.fillRange;a=Math.min(.01/(this.maxWave-1),a),e=-this.partProgress.fillRange+a,this.partProgress.fillRange=-e,this.zombieHeadNode.setPosition(Math.min(10+-315*e,-15),37)}},i([h({displayName:"\u91d1\u5e01\u663e\u793a\u8282\u70b9",type:cc.Node})],e.prototype,"coinShowNode",void 0),i([h({displayName:"\u91d1\u5e01UI\u4f4d\u7f6e",type:cc.Node})],e.prototype,"coinUINode",void 0),i([h({displayName:"\u91d1\u5e01\u6570\u91cf",type:cc.Label})],e.prototype,"coinLabel",void 0),i([h({displayName:"\u5173\u5361\u663e\u793a",type:cc.Label})],e.prototype,"partLabel",void 0),i([h({displayName:"\u5173\u5361\u8fdb\u5ea6\u8282\u70b9",type:cc.Node})],e.prototype,"partProNode",void 0),i([h({displayName:"\u5173\u5361\u8fdb\u5ea6\u6761",type:cc.Sprite})],e.prototype,"partProgress",void 0),i([h({displayName:"\u5173\u5361\u8fdb\u5ea6\u50f5\u5c38\u5934",type:cc.Node})],e.prototype,"zombieHeadNode",void 0),i([h({displayName:"\u5173\u5361\u8fdb\u5ea6\u65d7\u5e1c",type:[cc.Node]})],e.prototype,"partFlags",void 0),i([u],e)}(cc.Component);a.pzaBattleUpView=f,cc._RF.pop()},{"../../Battle/pzaGameState":"pzaGameState","../../Common/pzaGamePartConfig":"pzaGamePartConfig","../../Common/pzaLocalData":"pzaLocalData","../../Common/pzaNodeManager":"pzaNodeManager"}],pzaBeltCard:[function(t,e,a){"use strict";cc._RF.push(e,"8cfbd1YdzlOzJ7ggalAXv4I","pzaBeltCard");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaBeltCard=void 0;var r=t("../../Battle/Data/pzaPlantEnum"),p=t("../../Battle/pzaGameState"),c=t("../../Common/pzaGameCommonPool"),l=t("../../Common/pzaSpriteFrameManager"),s=t("../../Common/pzaWorldEventManager"),u=cc._decorator,h=u.ccclass,f=u.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.selectTag=null,e.icon=null,e.plantType=null,e.clickCall=null,e.hasSelect=!1,e}return n(e,t),e.prototype.onEnable=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.clickCard,this),this.node._touchListener.setSwallowTouches(!1)},e.prototype.onDisable=function(){this.node.off(cc.Node.EventType.TOUCH_START,this.clickCard,this)},e.prototype.bindData=function(t,e){this.plantType=t,this.clickCall=e,t==r.pzaPlantEnum.WALL_NUT_BOWLING?l.pzaSpriteFrameManager.loadPlantCard(r.pzaPlantEnum.WALL_NUT,this.icon):l.pzaSpriteFrameManager.loadPlantCard(t,this.icon),this.selectTag.active=!1,this.hasSelect=!1},e.prototype.clickCard=function(){var t=this.hasSelect;this.clickCall&&this.clickCall(),t||this.select(),p.pzaGameState.selectShovel=!1,s.pzaWorldEventManager.triggerEvent(s.pzaWorldEventType.REMOVE_SHOVEL,null)},e.prototype.select=function(){p.pzaGameState.curPlant=this.plantType,this.hasSelect=!0,this.selectTag.active=!0},e.prototype.diselect=function(){p.pzaGameState.curPlant=null,this.hasSelect=!1,this.selectTag.active=!1},e.prototype.close=function(){c.pzaGameCommonPool.returnInstant(this.node)},i([f({displayName:"\u9009\u4e2d\u6846",type:cc.Node})],e.prototype,"selectTag",void 0),i([f({displayName:"icon",type:cc.Sprite})],e.prototype,"icon",void 0),i([h],e)}(cc.Component);a.pzaBeltCard=d,cc._RF.pop()},{"../../Battle/Data/pzaPlantEnum":"pzaPlantEnum","../../Battle/pzaGameState":"pzaGameState","../../Common/pzaGameCommonPool":"pzaGameCommonPool","../../Common/pzaSpriteFrameManager":"pzaSpriteFrameManager","../../Common/pzaWorldEventManager":"pzaWorldEventManager"}],pzaBlover:[function(t,e,a){"use strict";cc._RF.push(e,"220957hlOBIzLEXNVfa0prp","pzaBlover");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaBlover=void 0;var r=t("../../Common/pzaWorldEventManager"),p=t("./pzaBasePlant"),c=cc._decorator,l=c.ccclass,s=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lifeTime=0,e.trigger=!1,e}return n(e,t),e.prototype.bindData=function(e){var a=this;t.prototype.bindData.call(this,e),this.lifeTime=0,this.trigger=!1,this.animation.playAnimation("attack1",!1,function(){a.animation.playAnimation("attack2",!1,function(){window.pzaplantManager.removePlant(a.baseData),a.death()})})},e.prototype.logicUpdate=function(e){t.prototype.logicUpdate.call(this,e),this.trigger||(this.lifeTime+=e,this.lifeTime>=.5&&this.attack())},e.prototype.hurt=function(e,a,o){this.trigger||this.attack(),t.prototype.hurt.call(this,e,a,o)},e.prototype.attack=function(){this.trigger=!0,window.pzaMapManager.blowFog(),r.pzaWorldEventManager.triggerEvent(r.pzaWorldEventType.BLOW_WIND,null)},i([l],e)}(p.pzaBasePlant));a.pzaBlover=s,cc._RF.pop()},{"../../Common/pzaWorldEventManager":"pzaWorldEventManager","./pzaBasePlant":"pzaBasePlant"}],pzaBoomFireEffect:[function(t,e,a){"use strict";cc._RF.push(e,"c78e8ZsdD9NwaSx7lFo8EFm","pzaBoomFireEffect");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaBoomFireEffect=void 0;var r=t("../../Common/pzaBaseComponent"),p=t("../../Common/pzaSpineController"),c=cc._decorator,l=c.ccclass,s=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spine=null,e.delayTime=0,e.endCall=null,e.disappering=!1,e}return n(e,t),e.prototype.showEffect=function(t,e){var a=this;this.delayTime=t,this.endCall=e,t<=0?(this.spine.node.scale=.4,this.disappering=!0,this.spine.playAnimation("fire2",!1,function(){a.close(),a.endCall&&a.endCall()})):(this.spine.node.scale=1,this.disappering=!1,this.spine.playAnimation("fire1",!0))},e.prototype.logicUpdate=function(t){var e=this;this.disappering||(this.delayTime-=t,this.delayTime<=0&&(this.disappering=!0,this.spine.playAnimation("fire2",!1,function(){e.close(),e.endCall&&e.endCall()})))},e.prototype.pauseSelf=function(){this.spine.pauseAnimation()},e.prototype.resumeSelf=function(){this.spine.resumeAnimation()},i([s({displayName:"spine\u52a8\u753b",type:p.pzaSpineController})],e.prototype,"spine",void 0),i([l],e)}(r.pzaBaseComponent);a.pzaBoomFireEffect=u,cc._RF.pop()},{"../../Common/pzaBaseComponent":"pzaBaseComponent","../../Common/pzaSpineController":"pzaSpineController"}],pzaBowlingBody:[function(t,e,a){"use strict";cc._RF.push(e,"c203by+yGpE+aE56seGo1fX","pzaBowlingBody");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaBowlingBody=void 0;var r=cc._decorator,p=r.ccclass,c=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.boxBody=null,e.circleBody=null,e.baseData=null,e.onCollisionCall=null,e.onCollisionExitCall=null,e}return n(e,t),e.prototype.onEnable=function(){null!=this.boxBody&&(this.boxBody.enabled=!1),null!=this.circleBody&&(this.circleBody.enabled=!1)},e.prototype.bindData=function(t,e,a){this.baseData=t,this.onCollisionCall=e,this.onCollisionExitCall=a,null!=this.boxBody&&(this.boxBody.enabled=!0),null!=this.circleBody&&(this.circleBody.enabled=!0)},e.prototype.onCollisionEnter=function(t,e){this.onCollisionCall&&this.onCollisionCall(t,e)},e.prototype.onCollisionStay=function(t,e){this.onCollisionCall&&this.onCollisionCall(t,e)},e.prototype.onCollisionExit=function(t,e){this.onCollisionExitCall&&this.onCollisionExitCall(t,e)},i([c({displayName:"\u8eab\u4f53\u78b0\u649e\u76d2",type:cc.BoxCollider})],e.prototype,"boxBody",void 0),i([c({displayName:"\u8eab\u4f53\u78b0\u649e\u76d2",type:cc.CircleCollider})],e.prototype,"circleBody",void 0),i([p],e)}(cc.Component);a.pzaBowlingBody=l,cc._RF.pop()},{}],pzaBowlingNut:[function(t,e,a){"use strict";cc._RF.push(e,"7d18elgHKdBmKcYojTvpfSZ","pzaBowlingNut");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaBowlingNut=void 0;var r=t("../../Common/pzaBaseComponent"),p=t("../../Common/pzaGameConfig"),c=t("../../Common/pzaGroupEnum"),l=t("../Zombie/pzaZombieBody"),s=t("../pzaEffectManager"),u=t("../pzaGameState"),h=t("./pzaAttackType"),f=t("./pzaBowlingBody"),d=cc._decorator,m=d.ccclass,y=d.property,z=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.colliderBody=null,e.rotateNode=null,e.isBoom=!1,e.bodyBindData=!1,e.rotateSpeed=360,e.speedX=250,e.yDirection=0,e.colliderInterval=0,e}return n(e,t),e.prototype.bindData=function(e){t.prototype.bindData.call(this,e),this.rotateNode.angle=0,this.yDirection=0,this.bodyBindData=!1,this.colliderInterval=0;var a=10*-this.baseData.yIndex+6;this.node.zIndex=a},e.prototype.logicUpdate=function(t){if(null!=this.baseData&&null!=this.baseData.logicPos){this.colliderInterval-=t,this.rotateNode.angle-=t*this.rotateSpeed,this.baseData.logicPos.x+=this.speedX*t,this.baseData.logicPos.y+=this.speedX*t*this.yDirection;var e=p.pzaGameConfig.getMapYIndex(u.pzaGameState.curChapter,this.baseData.logicPos);if(this.baseData.yIndex!=e){this.baseData.yIndex=e;var a=10*-this.baseData.yIndex+5+this.yDirection;this.node.zIndex=a}this.baseData.logicPos.x>=640&&this.close()}},e.prototype.logicLateUpdate=function(){t.prototype.logicLateUpdate.call(this),this.bodyBindData||null==this.colliderBody||(this.bodyBindData=!0,this.colliderBody.bindData(this.baseData,this.onCollision.bind(this),this.onCollisionExit.bind(this))),null!=this.baseData&&null!=this.baseData.logicPos&&this.node.setPosition(this.baseData.logicPos)},e.prototype.onCollision=function(t){var e=this;if(t.node.group!=c.pzaGroupEnum.WALL){if(t.node.group==c.pzaGroupEnum.ZOMBIE){if(this.colliderInterval>0)return;var a=t.node.getComponent(l.pzaZombieBody);if(null==a||null==a.baseData)return;if(this.baseData.yIndex!=a.baseData.yIndex)return;if(this.isBoom){s.pzaEffectManager.createNutBoomEffect(cc.v2(this.baseData.logicPos.x,this.baseData.logicPos.y+30),null);var o=window.pzazombieManager.findFixRangeZombies(this.baseData.logicPos,1.5*p.pzaGameConfig.getBlockWidth(u.pzaGameState.curChapter));if(null==o)return;return o.forEach(function(t){t&&t.hurt(e.baseData.atk,e.baseData,h.pzaAttackType.BOOM)}),void this.close()}0==a.baseData.yIndex?this.yDirection=1:4==a.baseData.yIndex?this.yDirection=-1:0==this.yDirection?this.yDirection=Math.random()>.5?1:-1:this.yDirection=-this.yDirection;var n=window.pzazombieManager.getZombie(a.baseData);n&&n.hurt(1800,null,h.pzaAttackType.BOWLING),this.colliderInterval=.5;var i=10*-(this.baseData.yIndex+this.yDirection)+5+this.yDirection;this.node.zIndex=i}}else this.yDirection=t.tag-2},e.prototype.onCollisionExit=function(){},i([y({displayName:"\u78b0\u649e\u8eab\u4f53",type:f.pzaBowlingBody})],e.prototype,"colliderBody",void 0),i([y({displayName:"\u65cb\u8f6c\u8282\u70b9",type:cc.Node})],e.prototype,"rotateNode",void 0),i([y({displayName:"\u7206\u70b8\u575a\u679c"})],e.prototype,"isBoom",void 0),i([m],e)}(r.pzaBaseComponent);a.pzaBowlingNut=z,cc._RF.pop()},{"../../Common/pzaBaseComponent":"pzaBaseComponent","../../Common/pzaGameConfig":"pzaGameConfig","../../Common/pzaGroupEnum":"pzaGroupEnum","../Zombie/pzaZombieBody":"pzaZombieBody","../pzaEffectManager":"pzaEffectManager","../pzaGameState":"pzaGameState","./pzaAttackType":"pzaAttackType","./pzaBowlingBody":"pzaBowlingBody"}],pzaBucketHeadZombie:[function(t,e,a){"use strict";cc._RF.push(e,"8b2c291wzNAyKkk9KnBsDCS","pzaBucketHeadZombie");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaBucketHeadZombie=void 0;var r=t("../Data/pzaZombieEnum"),p=t("../pzaEffectManager"),c=t("./pzaBaseZombie"),l=cc._decorator,s=l.ccclass,u=(l.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.zombieHurt=function(){this.zombieHurtState=r.pzaHurtStateEnum.HURT,this.curSkinName=this.curSkinName+"_1",this.animation.setAnimationSkin(this.curSkinName);var t=10*-this.baseData.yIndex+5;p.pzaEffectManager.createZombieCloseFallEffect(this.baseData.logicPos,t,null)},e.prototype.equipDying=function(){t.prototype.equipDying.call(this),this.equipAnimation.setAnimationSkin("3Buckethead_3")},e.prototype.equipHurt=function(){t.prototype.equipHurt.call(this),this.equipAnimation.setAnimationSkin("3Buckethead_2")},e.prototype.equipIntact=function(){t.prototype.equipIntact.call(this),this.equipAnimation.setAnimationSkin("3Buckethead_1")},i([s],e)}(c.pzaBaseZombie));a.pzaBucketHeadZombie=u,cc._RF.pop()},{"../Data/pzaZombieEnum":"pzaZombieEnum","../pzaEffectManager":"pzaEffectManager","./pzaBaseZombie":"pzaBaseZombie"}],pzaBuffData:[function(t,e,a){"use strict";cc._RF.push(e,"7aee3sm3VRPvZxOhsmVvDxI","pzaBuffData"),Object.defineProperty(a,"__esModule",{value:!0}),a.pzaBuffInfo=a.pzaBuffData=a.pzaBuffType=void 0,function(t){t[t.FROST=1]="FROST",t[t.FROZEN=2]="FROZEN",t[t.DIVE=3]="DIVE",t[t.IMM_ICE=4]="IMM_ICE",t[t.IMM_SPATTER=5]="IMM_SPATTER",t[t.HARD_BODY=6]="HARD_BODY",t[t.FLY=7]="FLY",t[t.DIZZ=8]="DIZZ",t[t.UNABLE_SELECT=9]="UNABLE_SELECT",t[t.IMMOBILIZE=10]="IMMOBILIZE",t[t.GARLIC=11]="GARLIC",t[t.SPEED_UP=12]="SPEED_UP"}(a.pzaBuffType||(a.pzaBuffType={}));var o=function(){function t(){this.buffs=new Map}return t.prototype.refreshBuff=function(t){var e=this,a=[];this.buffs.forEach(function(e,o){null!=e?null!=e.buffTime&&-1!=e.buffTime&&(e.buffTime-=t,e.buffTime<=0&&a.push(o)):a.push(o)}),a.forEach(function(t){e.removeBuff(t)})},t.prototype.addBuff=function(t,e,a,o){if(null!=t&&null!=t.buffType){var n=this.buffs.get(t.buffType);null!=n&&(e||o||a)?(e?n.addTime(t.buffTime):n.buffTime=t.buffTime,a?n.addValue(t.buffValue):n.buffValue=t.buffValue,o?n.addChane(t.buffChance):n.buffChance=t.buffChance,n.buffExcuted=!1):this.buffs.set(t.buffType,t)}},t.prototype.removeBuff=function(t){null!=t&&this.buffs.delete(t)},t.prototype.reduceBuffValue=function(t,e){if(null!=t){var a=this.buffs.get(t);if(null!=a){var o=a.buffValue;null!=o&&(0==(o-=e)?this.removeBuff(t):(a.buffValue=o,this.buffs.set(t,a)))}}},t.prototype.releaseBuff=function(t){if(null==t)return null;var e=this.buffs.get(t);return null==e?null:null!=e.buffChance?Math.random()<=e.buffChance?e:null:e},t.prototype.hasBuff=function(t){return null!=t&&null!=this.buffs.get(t)},t.prototype.getBuffChance=function(t){if(null==t)return 0;var e=this.buffs.get(t);return null==e?0:e.buffChance},t.prototype.getAllForever=function(){if(this.buffs.size<=0)return[];var t=[];return this.buffs.forEach(function(e){-1==e.buffTime&&t.push(e)}),t},t.prototype.getAllBuffs=function(){return Array.from(this.buffs.values())},t.prototype.clone=function(){var e=new t;return null!=this.buffs&&this.buffs.size>0&&this.buffs.forEach(function(t){var a=t.clone();e.addBuff(a)}),e},t.prototype.clear=function(){this.buffs.clear()},t}();a.pzaBuffData=o;var n=function(){function t(t,e,a,o,n,i){this.buffType=null,this.buffTime=null,this.buffValue=null,this.buffChance=null,this.intervalTimer=0,this.buffInterval=null,this.buffMessage=null,this.buffExcuted=!1,this.buffType=t,this.buffTime=e,this.buffValue=a,this.buffChance=o,this.buffInterval=n,this.buffMessage=i,this.buffExcuted=!1}return t.prototype.clone=function(){return new t(this.buffType,this.buffTime,this.buffValue,this.buffChance)},t.prototype.addTime=function(t){null!=t&&(null!=this.buffTime?-1!=this.buffTime&&-1!=t?this.buffTime+=t:this.buffTime=-1:this.buffTime=t)},t.prototype.addChane=function(t){null!=t&&(null!=this.buffChance?this.buffChance+=t:this.buffChance=t)},t.prototype.addValue=function(t){null!=t&&(null!=this.buffValue?this.buffValue+=t:this.buffValue=t)},t}();a.pzaBuffInfo=n,cc._RF.pop()},{}],pzaBulletPool:[function(t,e,a){"use strict";cc._RF.push(e,"08129opfb5H1Z0jUbb2VvxA","pzaBulletPool"),Object.defineProperty(a,"__esModule",{value:!0});var o=t("./pzakc"),n=function(){function t(){this.unuseMap=new Map,this.inuseMap=new Map,this.outPosX=2*o.default.view_x+100*o.default.randomInt(0,20),this.outPosY=-5e3,this.outPosDist=100}return t.prototype.put=function(t){return t.opacity=0,t.x=this.outPosX,this.outPosY+=this.outPosDist,t.y=this.outPosY,this.unuseMap.set(t.uuid,t),this},t.prototype.back=function(t){return t.opacity=0,this.outPosY+=this.outPosDist,this.outPosY>5e3&&(this.outPosY=-5e3),this.inuseMap.delete(t.uuid),this.unuseMap.set(t.uuid,t),this},t.prototype.del=function(t){this.inuseMap.delete(t.uuid),this.unuseMap.delete(t.uuid)},t.prototype.get=function(){var t=this.unuseMap.keys().next();if(t.done)return null;var e=this.unuseMap.get(t.value);return this.unuseMap.delete(t.value),this.inuseMap.set(t.value,e),e},t.prototype.destroy=function(){this.unuseMap.forEach(function(t){t.destroy()}),this.inuseMap.forEach(function(t){t.destroy()}),this.unuseMap.clear(),this.inuseMap.clear()},t}();a.default=n,cc._RF.pop()},{"./pzakc":"pzakc"}],pzaBundleObjectPool:[function(t,e,a){"use strict";cc._RF.push(e,"35ecbUbHqVFoJLa6dyXuLAh","pzaBundleObjectPool");var o=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,a=e&&t[e],o=0;if(a)return a.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaBundleObjectPool=void 0;var n=t("../Common/pzaGameCommonPool"),i=t("./pzaPreLoadManager"),r=function(){function t(){}return t.preLoadResource=function(t,e,a){switch(t.resourceType){case i.pzaResourceType.Prefab:this.preLoadPrefab(t,e,a);break;case i.pzaResourceType.PrefabDir:this.preLoadPrefabDir(t,e,a);break;case i.pzaResourceType.SpriteFrameDir:this.preLoadSpriteFrameDir(t,e,a);break;case i.pzaResourceType.Scene:this.preLoadScene(t,e,a);break;default:a&&a(!0)}},t.preLoadPrefab=function(t,e,a){var o=this;n.pzaGameCommonPool.urlToPrefab.has(t.url)?a&&a(!0):cc.resources.load(t.url,cc.Prefab,function(t,a){e&&e(t,a)},function(i,r){if(null!=i||null==r)return console.error(i),void o.preLoadPrefab(t,e,a);n.pzaGameCommonPool.addUrlToPrefab(t.url,r);var p=n.pzaGameCommonPool.addAndPopInstant(r);n.pzaGameCommonPool.addToCurrentPool(p,r),a&&a(!0)})},t.preLoadPrefabDir=function(t,e,a){var i=this;cc.resources.loadDir(t.url,cc.Prefab,function(t,a){e&&e(t,a)},function(r,p){var c,l;if(null!=r||null==p)return console.error(r),void i.preLoadPrefabDir(t,e,a);try{for(var s=o(p),u=s.next();!u.done;u=s.next()){var h=u.value,f=t.url+"/"+(h.data&&h.data._name);if(!n.pzaGameCommonPool.urlToPrefab.has(f)){n.pzaGameCommonPool.addUrlToPrefab(f,h);var d=n.pzaGameCommonPool.addAndPopInstant(h);n.pzaGameCommonPool.addToCurrentPool(d,h)}}}catch(m){c={error:m}}finally{try{u&&!u.done&&(l=s.return)&&l.call(s)}finally{if(c)throw c.error}}a&&a(!0)})},t.preLoadSpriteFrameDir=function(t,e,a){var o=this;cc.resources.loadDir(t.url,cc.SpriteFrame,function(t,a){e&&e(t,a)},function(n,i){if(null!=n||null==i)return console.error(n),void o.preLoadSpriteFrameDir(t,e,a);a&&a(!0)})},t.preLoadScene=function(t,e,a){var o=this;cc.director.preloadScene(t.url,function(t,a){e&&e(t,a)},function(n){null!=n&&(console.error(n),o.preLoadScene(t,e,a)),a&&a(!0)})},t.requestInstantByUrl=function(t,e,a){var o=this;if(null!=t){var i=n.pzaGameCommonPool.urlToPrefab.get(t);if(null==i)cc.resources.load(t,cc.Prefab,function(i,r){if(i)return console.error(i),void o.requestInstantByUrl(t,e,a);n.pzaGameCommonPool.addUrlToPrefab(t,r);var p=n.pzaGameCommonPool.requestInstant(r,e);a&&a(i,p)});else{var r=n.pzaGameCommonPool.requestInstant(i,e);a&&a(null,r)}}else a&&a("null url")},t.requestSpriteFrameByUrl=function(t,e){if(null!=t)if(n.pzaGameCommonPool.urlToSpriteFame.has(t)){var a=n.pzaGameCommonPool.urlToSpriteFame.get(t);e&&e(null,a)}else cc.resources.load(t,cc.SpriteFrame,function(a,o){null==a&&null!=o&&n.pzaGameCommonPool.urlToSpriteFame.set(t,o),e&&e(a,o)});else e&&e("null url")},t}();a.pzaBundleObjectPool=r,cc._RF.pop()},{"../Common/pzaGameCommonPool":"pzaGameCommonPool","./pzaPreLoadManager":"pzaPreLoadManager"}],pzaBungeeTarget:[function(t,e,a){"use strict";cc._RF.push(e,"8242bUT/KJOJoQL6XKXRfTg","pzaBungeeTarget");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaBungeeTarget=void 0;var r=t("../../Common/pzaBaseComponent"),p=cc._decorator,c=p.ccclass,l=(p.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.bindData=function(t){this.baseData=t;var e=10*-this.baseData.yIndex+6;this.node.zIndex=e,this.node.stopAllActions();var a=cc.v2(t.logicPos.x,400-t.logicPos.y);this.node.setPosition(a),this.node.runAction(cc.moveTo((400-t.logicPos.y)/720,t.logicPos))},e.prototype.logicUpdate=function(){(null==this.baseData||this.baseData.isDead)&&this.close()},e.prototype.pauseSelf=function(){this.node.pauseAllActions()},e.prototype.resumeSelf=function(){this.node.resumeAllActions()},i([c],e)}(r.pzaBaseComponent));a.pzaBungeeTarget=l,cc._RF.pop()},{"../../Common/pzaBaseComponent":"pzaBaseComponent"}],pzaBungeeZombie:[function(t,e,a){"use strict";cc._RF.push(e,"840be7Xt5hAxIWKZBLLxR4S","pzaBungeeZombie");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaBungeeZombie=void 0;var r=t("../../Common/pzaGameCommonPool"),p=t("../Data/pzaBuffData"),c=t("../Effect/pzaBungeeTarget"),l=t("./pzaBaseZombie"),s=cc._decorator,u=s.ccclass,h=s.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.targetPrefab=null,e.cordNode=null,e.carryNode=null,e.zombieHeight=0,e.countDown=0,e.fallTime=0,e.riseTime=0,e.hasFall=!1,e.bungeeTarget=null,e.stealPlantIns=null,e}return n(e,t),e.prototype.bindData=function(e){if(t.prototype.bindData.call(this,e),this.countDown=2,this.fallTime=0,this.riseTime=0,this.hasFall=!1,null!=e&&null!=e.yIndex){var a=10*-this.baseData.yIndex-1;this.node.zIndex=a}this.zombieHeight=400-e.logicPos.y,this.animation.node.y=this.zombieHeight,this.cordNode.height=600-this.zombieHeight,e.buffData.addBuff(new p.pzaBuffInfo(p.pzaBuffType.UNABLE_SELECT,-1)),this.createTarget()},e.prototype.logicUpdate=function(t){if(null!=this.baseData&&null!=this.baseData.zombieData&&!this.baseData.isDead&&(this.updateRoleBuff(t),this.refreshFrostState(!1),this.animation.flashUpdate(t),!this.baseData.isBeControlled())){if(this.fallTime>0)return this.fallTime-=t,this.zombieHeight=(400-this.baseData.logicPos.y)*this.fallTime,this.zombieHeight=Math.max(0,this.zombieHeight),this.animation.node.y=this.zombieHeight,this.cordNode.height=600-this.zombieHeight,void(this.fallTime<=0&&(this.countDown=4,this.baseData.buffData.removeBuff(p.pzaBuffType.UNABLE_SELECT)));if(this.riseTime>0)return this.riseTime-=t,this.zombieHeight=(400-this.baseData.logicPos.y)*(1-this.riseTime),this.animation.node.y=this.zombieHeight,this.cordNode.height=600-this.zombieHeight,void(this.riseTime<=0&&this.death(!1));if(this.countDown-=t,!(this.countDown>0))return this.hasFall?void this.stealPlant():(this.hasFall=!0,void(this.fallTime=this.zombieHeight/720))}},e.prototype.createTarget=function(){var t=r.pzaGameCommonPool.requestInstant(this.targetPrefab);t.setParent(this.node.parent),this.bungeeTarget=t&&t.getComponent(c.pzaBungeeTarget),this.bungeeTarget&&this.bungeeTarget.bindData(this.baseData)},e.prototype.stealPlant=function(){var t=this;this.countDown=2,this.animation.playAnimation(this.aniName[2],!1,function(){var e=10*-t.baseData.yIndex+6;t.node.zIndex=e;var a=window.pzaplantManager.getCanAttackPlantData(t.baseData.xIndex,t.baseData.yIndex,!0),o=window.pzaplantManager.getPlantByData(a);null!=o&&(window.pzaplantManager.removePlant(a),o.node.setParent(t.carryNode),o.node.setPosition(cc.v2()),t.stealPlantIns=o),t.bungeeTarget.close(),t.riseTime=1})},e.prototype.close=function(){null!=this.stealPlantIns&&(this.stealPlantIns.close(),this.stealPlantIns=null),t.prototype.close.call(this)},i([h({displayName:"\u9776\u5b50\u9884\u8bbe",type:cc.Prefab})],e.prototype,"targetPrefab",void 0),i([h({displayName:"\u7ef3\u5b50",type:cc.Node})],e.prototype,"cordNode",void 0),i([h({displayName:"\u5b58\u653e\u690d\u7269\u8282\u70b9",type:cc.Node})],e.prototype,"carryNode",void 0),i([u],e)}(l.pzaBaseZombie);a.pzaBungeeZombie=f,cc._RF.pop()},{"../../Common/pzaGameCommonPool":"pzaGameCommonPool","../Data/pzaBuffData":"pzaBuffData","../Effect/pzaBungeeTarget":"pzaBungeeTarget","./pzaBaseZombie":"pzaBaseZombie"}],pzaBuyConfirmView:[function(t,e,a){"use strict";cc._RF.push(e,"11edfsimUdBF7p40xxx3Rtx","pzaBuyConfirmView");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaBuyConfirmView=void 0;var r=t("../Common/pzaGameCommonPool"),p=t("../Common/pzaLocalData"),c=t("../Common/pzaSpriteFrameManager"),l=t("../Shop/pzaShopConfig"),s=cc._decorator,u=s.ccclass,h=s.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.price=null,e.priceNode=null,e.itemIcon=null,e.plantCard=null,e.plantIcon=null,e.tittle=null,e.desc=null,e.coin=null,e.confirmTxt=null,e.cancelTxt=null,e.adIcon=null,e.itemType=null,e}return n(e,t),e.prototype.bindData=function(t){if(this.itemType=t,this.coin.string="\u786c\u5e01\uff1a"+p.pzaLocalData.data.coin,t==l.pzaShopItemType.DAVE_COIN)return this.tittle.string="\u6234\u592b\u7684\u79d8\u5bc6\u8d27\u7269",this.desc.string="\u5e7f\u544a\u4ee5\u83b7\u5f971000\u786c\u5e01",this.adIcon.active=!0,this.confirmTxt.string="\u7acb\u5373\u9886\u53d6",this.cancelTxt.string="\u8fd4\u56de",c.pzaSpriteFrameManager.loadShopItemIcon(t,this.itemIcon),this.priceNode.active=!1,void(this.plantCard.active=!1);this.tittle.string="\u8d2d\u4e70\u8fd9\u4e00\u7269\u54c1\uff1f",this.adIcon.active=!1,this.confirmTxt.string="\u662f",this.cancelTxt.string="\u5426",this.priceNode.active=!0;var e=l.pzaShopConfig.SHOP_CONFIG.get(t);null!=e&&(this.desc.string=e.desc,this.price.string=""+e.price,t>=l.pzaShopItemType.CARD_SLOT_7&&t<=l.pzaShopItemType.CARD_SLOT_9?(this.itemIcon.node.active=!0,this.plantCard.active=!1,c.pzaSpriteFrameManager.loadShopItemIcon(1,this.itemIcon)):t==l.pzaShopItemType.BACONIC_SMALL||t==l.pzaShopItemType.BACONIC_BIG?(this.itemIcon.node.active=!0,this.plantCard.active=!1,c.pzaSpriteFrameManager.loadShopItemIcon(4,this.itemIcon)):t<l.pzaShopItemType.GATLING_PEA||t>l.pzaShopItemType.IMITATER?(this.itemIcon.node.active=!0,this.plantCard.active=!1,c.pzaSpriteFrameManager.loadShopItemIcon(t,this.itemIcon)):(this.itemIcon.node.active=!1,this.plantCard.active=!0))},e.prototype.clickConfirm=function(){this.itemType==l.pzaShopItemType.DAVE_COIN&&(p.pzaLocalData.data.coin+=1e3,p.pzaLocalData.addDirty("coin")),this.close()},e.prototype.clickCancel=function(){this.close()},e.prototype.close=function(){r.pzaGameCommonPool.returnInstant(this.node)},i([h({displayName:"\u4ef7\u683c",type:cc.Label})],e.prototype,"price",void 0),i([h({displayName:"\u4ef7\u683c\u8282\u70b9",type:cc.Node})],e.prototype,"priceNode",void 0),i([h({displayName:"\u7269\u54c1\u56fe\u6807",type:cc.Sprite})],e.prototype,"itemIcon",void 0),i([h({displayName:"\u690d\u7269\u5361\u7247\u8282\u70b9",type:cc.Node})],e.prototype,"plantCard",void 0),i([h({displayName:"\u690d\u7269\u56fe\u7247",type:cc.Sprite})],e.prototype,"plantIcon",void 0),i([h({displayName:"\u6807\u9898",type:cc.Label})],e.prototype,"tittle",void 0),i([h({displayName:"\u63cf\u8ff0",type:cc.Label})],e.prototype,"desc",void 0),i([h({displayName:"\u91d1\u5e01\u6570\u91cf",type:cc.Label})],e.prototype,"coin",void 0),i([h({displayName:"\u786e\u8ba4\u6587\u6848",type:cc.Label})],e.prototype,"confirmTxt",void 0),i([h({displayName:"\u53d6\u6d88\u6587\u6848",type:cc.Label})],e.prototype,"cancelTxt",void 0),i([h({displayName:"\u5e7f\u544a\u56fe\u6807",type:cc.Node})],e.prototype,"adIcon",void 0),i([u],e)}(cc.Component);a.pzaBuyConfirmView=f,cc._RF.pop()},{"../Common/pzaGameCommonPool":"pzaGameCommonPool","../Common/pzaLocalData":"pzaLocalData","../Common/pzaSpriteFrameManager":"pzaSpriteFrameManager","../Shop/pzaShopConfig":"pzaShopConfig"}],pzaCGPaperView:[function(t,e,a){"use strict";cc._RF.push(e,"5ab46dVn0lIiL0A+HFwDcq9","pzaCGPaperView");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaCGPaperView=void 0;var r=t("../../Battle/pzaGameState"),p=t("../../Common/pzaGameCommonPool"),c=t("../../Common/pzaGameManager"),l=cc._decorator,s=l.ccclass,u=l.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.paperSprite=null,e.paperFrames=[],e}return n(e,t),e.prototype.onEnable=function(){5!=r.pzaGameState.curChapter||10!=r.pzaGameState.curPart?this.paperSprite.spriteFrame=this.paperFrames[r.pzaGameState.curChapter-1]:this.paperSprite.spriteFrame=this.paperFrames[5]},e.prototype.clickNext=function(){this.close(),c.pzaGameManager.gameWin()},e.prototype.close=function(){p.pzaGameCommonPool.returnInstant(this.node)},i([u({displayName:"\u7eb8\u6761",type:cc.Sprite})],e.prototype,"paperSprite",void 0),i([u({displayName:"\u7eb8\u6761\u56fe",type:[cc.SpriteFrame]})],e.prototype,"paperFrames",void 0),i([s],e)}(cc.Component);a.pzaCGPaperView=h,cc._RF.pop()},{"../../Battle/pzaGameState":"pzaGameState","../../Common/pzaGameCommonPool":"pzaGameCommonPool","../../Common/pzaGameManager":"pzaGameManager"}],pzaCabbagePult:[function(t,e,a){"use strict";cc._RF.push(e,"e04dbXPTkRA2IEuUkS7pTRI","pzaCabbagePult");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaCabbagePult=void 0;var r=t("../../Common/pzaGameCommonPool"),p=t("../../Common/pzaNodeManager"),c=t("../../Common/pzaUtil"),l=t("../Bullet/pzaThrowBullet"),s=t("../Data/pzaBuffData"),u=t("./pzaBasePlant"),h=cc._decorator,f=h.ccclass,d=h.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.shootNode=null,e.bulletPrefab=null,e.blinkTime=3,e}return n(e,t),e.prototype.bindData=function(e){t.prototype.bindData.call(this,e),this.blinkTime=c.pzaUtil.getRandomFloatNum(3,6),this.playNormalAni()},e.prototype.logicUpdate=function(t){this.blinkTime-=t},e.prototype.playNormalAni=function(){var t=this,e=function(){var a=t.findAttackTarget();null==a?t.blinkTime>0?t.animation.playAnimation("idle",!1,e):(t.blinkTime=c.pzaUtil.getRandomFloatNum(3,6),t.animation.playAnimation("idle_eye",!1,e)):t.animation.playAnimation("attack",!1,e,function(){t.attack(a)})};this.animation.playAnimation("idle",!1,e)},e.prototype.findAttackTarget=function(){var t=this;if(null==this.baseData||null==this.baseData.logicPos)return null;var e=null,a=-1;return window.pzazombieManager.zombieDatas[this.baseData.yIndex].forEach(function(o){if(o&&o.logicPos&&!(o.logicPos.x<t.baseData.logicPos.x)&&!o.buffData.hasBuff(s.pzaBuffType.FLY)&&!o.buffData.hasBuff(s.pzaBuffType.UNABLE_SELECT)){var n=o.logicPos.x-t.baseData.logicPos.x;(-1==a||n<a)&&(e=o,a=n)}}),e},e.prototype.attack=function(t){if(null!=t&&null!=t.logicPos&&null!=this.baseData&&null!=this.baseData.logicPos){var e=p.pzaNodeManager.getBulletNode();if(null!=e){var a=r.pzaGameCommonPool.requestInstant(this.bulletPrefab,!1);if(null!=a){var o=this.node.convertToNodeSpaceAR(this.shootNode.convertToWorldSpaceAR(cc.v2()));a.setParent(e);var n=cc.v2(o.x+this.baseData.logicPos.x,o.y+this.baseData.logicPos.y);a.setPosition(n);var i=a.getComponent(l.pzaThrowBullet);null!=i&&i.init(this.baseData.yIndex,this.baseData.atk,t)}}}},i([d({displayName:"\u53d1\u5c04\u70b9",type:cc.Node})],e.prototype,"shootNode",void 0),i([d({displayName:"\u5b50\u5f39\u9884\u8bbe",type:cc.Prefab})],e.prototype,"bulletPrefab",void 0),i([f],e)}(u.pzaBasePlant);a.pzaCabbagePult=m,cc._RF.pop()},{"../../Common/pzaGameCommonPool":"pzaGameCommonPool","../../Common/pzaNodeManager":"pzaNodeManager","../../Common/pzaUtil":"pzaUtil","../Bullet/pzaThrowBullet":"pzaThrowBullet","../Data/pzaBuffData":"pzaBuffData","./pzaBasePlant":"pzaBasePlant"}],pzaCactus:[function(t,e,a){"use strict";cc._RF.push(e,"a5050dcEfVDkIX49vL7JqiK","pzaCactus");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaCactus=void 0;var r=t("../../Common/pzaGameCommonPool"),p=t("../../Common/pzaGameConfig"),c=t("../../Common/pzaNodeManager"),l=t("../../Common/pzaUtil"),s=t("../Bullet/pzaBaseBullet"),u=t("../Data/pzaBuffData"),h=t("../pzaGameState"),f=t("./pzaBasePlant"),d=cc._decorator,m=d.ccclass,y=d.property,z=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.shootNode=null,e.shootHNode=null,e.bulletPrefab=null,e.blinkTime=3,e.rise=!1,e.atk1AniTime=1.4,e.atk2AniTime=1.4,e}return n(e,t),e.prototype.bindData=function(e){t.prototype.bindData.call(this,e),this.rise=!1,this.blinkTime=l.pzaUtil.getRandomFloatNum(3,6),this.playNormalAni(),this.atk1AniTime=this.animation.getAnimationDuration("attack1"),this.atk2AniTime=this.animation.getAnimationDuration("attack2")},e.prototype.logicUpdate=function(t){this.blinkTime-=t},e.prototype.playNormalAni=function(){var t=this,e=function(){var a=t.findAttackTarget();if(null!=a)return a.buffData.hasBuff(u.pzaBuffType.FLY)?void(t.rise?t.animation.playAnimation("attack2",!1,e,function(){t.shoot(!0)},t.atk2AniTime/t.atkInterval):t.animation.playAnimation("rise",!1,function(){t.rise=!0,e()})):void(t.rise?t.animation.playAnimation("lower",!1,function(){t.rise=!1,e()}):t.animation.playAnimation("attack1",!1,e,function(){t.shoot(!1)},t.atk2AniTime/t.atkInterval));t.blinkTime>0?t.animation.playAnimation("idle1",!1,e):(t.blinkTime=l.pzaUtil.getRandomFloatNum(3,6),t.animation.playAnimation("idle1_eye",!1,e))};this.animation.playAnimation("idle1",!1,e)},e.prototype.findAttackTarget=function(){var t=this;if(null==this.baseData||null==this.baseData.logicPos)return null;var e=null,a=null;return window.pzazombieManager.zombieDatas[this.baseData.yIndex].forEach(function(o){!o||!o.logicPos||o.logicPos.x<t.baseData.logicPos.x||o.buffData.hasBuff(u.pzaBuffType.DIVE)||o.buffData.hasBuff(u.pzaBuffType.UNABLE_SELECT)||(o.buffData.hasBuff(u.pzaBuffType.FLY)?a=o:e=o)}),null!=a?a:e},e.prototype.shoot=function(t){var e=c.pzaNodeManager.getBulletNode();if(null!=e){var a=r.pzaGameCommonPool.requestInstant(this.bulletPrefab,!1);if(null!=a){a.setParent(e);var o=t?this.shootHNode.convertToWorldSpaceAR(cc.v2()):this.shootNode.convertToWorldSpaceAR(cc.v2()),n=e.convertToNodeSpaceAR(o);a.setPosition(n);var i=a.getComponent(s.pzaBaseBullet);if(null!=i){i.init(this.baseData.yIndex,this.baseData.atk,1),i.isInAir=t;var l=p.pzaGameConfig.getMapSkewColumn(h.pzaGameState.curChapter);l>0&&this.baseData.xIndex<=l-2&&(i.maxPosX=this.baseData.logicPos.x+p.pzaGameConfig.getBlockWidth(h.pzaGameState.curChapter))}}}},i([y({displayName:"\u53d1\u5c04\u70b9",type:cc.Node})],e.prototype,"shootNode",void 0),i([y({displayName:"\u53d1\u5c04\u70b9-\u9ad8",type:cc.Node})],e.prototype,"shootHNode",void 0),i([y({displayName:"\u5b50\u5f39\u9884\u8bbe",type:cc.Prefab})],e.prototype,"bulletPrefab",void 0),i([m],e)}(f.pzaBasePlant);a.pzaCactus=z,cc._RF.pop()},{"../../Common/pzaGameCommonPool":"pzaGameCommonPool","../../Common/pzaGameConfig":"pzaGameConfig","../../Common/pzaNodeManager":"pzaNodeManager","../../Common/pzaUtil":"pzaUtil","../Bullet/pzaBaseBullet":"pzaBaseBullet","../Data/pzaBuffData":"pzaBuffData","../pzaGameState":"pzaGameState","./pzaBasePlant":"pzaBasePlant"}],pzaCatapultZombie:[function(t,e,a){"use strict";cc._RF.push(e,"b8c45xHmH5BNaHGZppu8KLF","pzaCatapultZombie");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaCatapultZombie=void 0;var r=t("../../Common/pzaGameConfig"),p=t("../Data/pzaBuffData"),c=t("../Plant/pzaAttackType"),l=t("../pzaGameState"),s=t("./pzaBaseZombie"),u=cc._decorator,h=u.ccclass,f=(u.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.firstStopXPos=-1,e.canAttack=!1,e}return n(e,t),e.prototype.bindData=function(e){t.prototype.bindData.call(this,e),this.canAttack=!1;var a=r.pzaGameConfig.getMapColumn(),o=r.pzaGameConfig.getXInterval(l.pzaGameState.curChapter,a-1)/2,n=r.pzaGameConfig.getBlockLogicPos(l.pzaGameState.curChapter,a-1,e.yIndex,o,0);this.firstStopXPos=n.x},e.prototype.logicUpdate=function(t){if(null!=this.baseData&&null!=this.baseData.zombieData&&!this.baseData.isDead&&(this.updateRoleBuff(t),this.refreshFrostState(!1),this.animation.flashUpdate(t),!this.baseData.isBeControlled())){if(this.lastBePasueControled&&(this.lastBePasueControled=!1,this.resumeSelf()),!this.canAttack&&null!=this.baseData.logicPos&&this.baseData.logicPos.x<=this.firstStopXPos&&(this.canAttack=!0),this.canAttack){var e=this.findTarget();if(null!=e)return void this.attack(t,e)}this.updateMove(t),this.rollingPlant()}},e.prototype.rollingPlant=function(){var t=this;null==this.baseData||this.baseData.isDead||null==this.baseData.logicPos||window.pzaplantManager.plantMap.forEach(function(e,a){null!=a&&a.yIndex==t.baseData.yIndex&&null!=a.logicPos&&(a.logicPos.x<t.baseData.logicPos.x||e.hurt(t.baseData.atk,t.baseData,c.pzaAttackType.ROLLING))})},e.prototype.hurt=function(e,a,o){if(void 0===o&&(o=c.pzaAttackType.FLOOR_ATK),null!=this.baseData&&!this.baseData.isDead)if(o!=c.pzaAttackType.SPIKE)t.prototype.hurt.call(this,e,a,o);else if(this.baseData.zombieDie(),this.death(!0),null!=a){var n=window.pzaplantManager.getPlantByData(a);window.pzaplantManager.removePlant(a),n&&n.close()}},e.prototype.findTarget=function(){for(var t=r.pzaGameConfig.getMapColumn(),e=0;e<t;e++){var a=window.pzaplantManager.getCanAttackPlantData(e,this.baseData.yIndex,!0);if(null!=a)return a}return null},e.prototype.attack=function(t){var e=this.baseData.buffData.releaseBuff(p.pzaBuffType.FROST);null!=e&&(t*=e.buffValue),this.baseData.zombieData.atkInterval+=t,this.baseData.zombieData.atkInterval>=3&&(this.baseData.zombieData.atkInterval=0)},i([h],e)}(s.pzaBaseZombie));a.pzaCatapultZombie=f,cc._RF.pop()},{"../../Common/pzaGameConfig":"pzaGameConfig","../Data/pzaBuffData":"pzaBuffData","../Plant/pzaAttackType":"pzaAttackType","../pzaGameState":"pzaGameState","./pzaBaseZombie":"pzaBaseZombie"}],pzaChannelIOS:[function(t,e,a){"use strict";cc._RF.push(e,"2c6c7wq3+9Eqq7w7Hv7emWW","pzaChannelIOS");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)});Object.defineProperty(a,"__esModule",{value:!0}),a.pzaChannelIOS=void 0;var i=t("./pzaChannelWeb"),r=t("./pzaKDefine"),p=t("./pzakc"),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.channel="ios",e}return n(e,t),e.prototype.init=function(){t.prototype.init.call(this),window.showComm=this.showComm,window.exitGame=this.exit,window.showAlert=this.showAlert},e.prototype.copyToClip=function(t){jsb.reflection.callStaticMethod("AppController","copy2Clip:",t)},e.prototype.hasPrivacy=function(){return!!p.default.getData("isAgree",0)},e.prototype.exit=function(){p.default.log("\u9000\u51fa\u6e38\u620f"),jsb.reflection.callStaticMethod("AppController","onExit:",""),cc.game.end()},e.prototype.showVideo=function(t){window.videoSuc=t.sucCall,window.videoFail=t.failCall;var e=t.endCall;t.endCall=function(){cc.game.resume(),e()},cc.game.pause(),window.videoEnd=t.endCall,jsb.reflection.callStaticMethod("AppController","showVideo:","")},e.prototype.showComm=function(){p.default.log("showComm-ios"),jsb.reflection.callStaticMethod("AppController","showComm:","")},e.prototype.showAlert=function(){p.default.log("showAlert-ios"),p.default.sendMsg(r.Msg.showIosAlert)},e}(i.pzaChannelWeb);a.pzaChannelIOS=c,cc._RF.pop()},{"./pzaChannelWeb":"pzaChannelWeb","./pzaKDefine":"pzaKDefine","./pzakc":"pzakc"}],pzaChannelOppo:[function(t,e,a){"use strict";cc._RF.push(e,"0c79d6z+f9ChZUETpE5tBRV","pzaChannelOppo");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)});Object.defineProperty(a,"__esModule",{value:!0}),a.pzaChannelOppo=void 0;var i=t("./pzaChannelWeb"),r=t("./pzakc"),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.channel="oppo",e.paraMap=new Map([["customBannerAd","837770"],["customInsertAd","837776"],["videoId","837781"],["ctrlId","63f71c07e6d3ab07ce9c459e"]]),e.ruanzhu="\n\u8457\u4f5c\u6743\u4eba\uff1a\u6df1\u5733\u7fbd\u6e38\u79d1\u6280\u6709\u9650\u516c\u53f8\n\u8f6f\u8457\u767b\u8bb0\u53f7\uff1a2023SRE001822",e.channelObj=window.qg,e.bannerTimeId=-1,e.customAdMap={},e}return n(e,t),e.prototype.hasPrivacy=function(){return!!r.default.getData("isAgree",0)},e.prototype.getSysInfo=function(){return this.sysInfo||(this.sysInfo=this.channelObj.getSystemInfoSync()),this.sysInfo},e.prototype.exit=function(){this.channelObj.exitApplication({data:0})},e.prototype.init=function(){var e=this;t.prototype.init.call(this);var a=this.getPara("ctrlId");if(a){var o={id:a};r.default.jpost("https://ga.gametdd.com/adCtrl/agd/conf",o,function(t,a){t?r.default.err(t):""+a.code=="0"?(e.ctrl=a.data,r.default.log("\u8fd4\u56de",e.ctrl)):r.default.err("\u8fd4\u56de\u503c\u9519\u8bef:"+JSON.stringify(a))})}},e.prototype.showVideo=function(t){var e=this,a=this.getPara("videoId");if(a){r.default.log("showVideo",a,this.rewardedVideoAd),this.rewardedVideoAd=this.channelObj.createRewardedVideoAd({adUnitId:a}),this.videoFns.onLoad&&this.rewardedVideoAd.offLoad(this.videoFns.onLoad),this.videoFns.onError&&this.rewardedVideoAd.offError(this.videoFns.onError),this.videoFns.onClose&&this.rewardedVideoAd.offClose(this.videoFns.onClose),this.rewardedVideoAd.offLoad(),this.rewardedVideoAd.offError(),this.rewardedVideoAd.offClose();var o=this;this.videoFns.onLoad=function(){r.default.log("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u52a0\u8f7d\u6210\u529f"),o.rewardedVideoAd.show().then(function(){r.default.log("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u663e\u793a")}).catch(function(t){r.default.err(t)})},this.videoFns.onError=function(a){r.default.err(a),t.failCall(),e.channelObj.showToast({title:"\u6682\u65e0\u5e7f\u544a"})},this.videoFns.onClose=function(e){e&&e.isEnded&&(t.sucCall(),r.default.eventReport("showVideo\u5b8c\u6210-"+t.posName)),t.endCall()},this.rewardedVideoAd.onLoad(this.videoFns.onLoad),this.rewardedVideoAd.onError(this.videoFns.onError),this.rewardedVideoAd.onClose(this.videoFns.onClose),this.rewardedVideoAd.load()}},e.prototype.showBanner=function(){this.showCustomAd(!0)},e.prototype.closeBanner=function(){this.closeCustomAd(!0)},e.prototype.showBannerByTime=function(t){var e=this;void 0===t&&(t=!1);var a=this.getCtrl("p1");this.bannerTimeId>=0&&clearInterval(this.bannerTimeId),this.closeBanner(),a<40&&(a=40),this.showBanner(t),this.bannerTimeId=setInterval(function(){e.showBanner(t)},1e3*a)},e.prototype.closeBannerByTime=function(){this.bannerTimeId>=0&&clearInterval(this.bannerTimeId),this.closeBanner()},e.prototype.showCustomAd=function(t,e,a){var o=this,n=t?this.getPara("customBannerAd"):this.getPara("customInsertAd");if(n){var i=t?this.getSysInfo().windowHeight-300:this.getSysInfo().windowHeight/2-260,p={adUnitId:n,style:{top:i}};if(a&&(p.style=a),r.default.log("showCustomAd",n,t,i),this.customAdMap[n]||(r.default.log("\u539f\u751f\u6a21\u677f\u6b63\u5728\u663e\u793a\u4e2d",n),this.customAdMap[n]=this.channelObj.createCustomAd(p),this.customAdMap[n].offHide(),this.customAdMap[n].onHide(function(){o.customAdMap[n].destroy(),o.customAdMap[n]=null}),this.customAdMap[n].offError(),this.customAdMap[n].onError(function(t){r.default.log("\u539f\u751f\u6a21\u677f\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25"+JSON.stringify(t))})),t)this.customAdMap[n].show().then(function(){r.default.log("\u539f\u751f\u6a21\u677f\u5e7f\u544a\u5c55\u793a\u5b8c\u6210")}).catch(function(t){r.default.log("\u539f\u751f\u6a21\u677f\u5e7f\u544a\u5c55\u793a\u5931\u8d25"+JSON.stringify(t))});else{var c=this.getCtrl("p2");setTimeout(function(){o.customAdMap[n].show().then(function(){r.default.log("\u539f\u751f\u6a21\u677f\u5e7f\u544a\u5c55\u793a\u5b8c\u6210")}).catch(function(t){r.default.log("\u539f\u751f\u6a21\u677f\u5e7f\u544a\u5c55\u793a\u5931\u8d25"+JSON.stringify(t))})},1e3*c)}}},e.prototype.closeCustomAd=function(t){void 0===t&&(t=!1);var e=t?this.getPara("customBannerAd"):this.getPara("customInsertAd");e&&this.customAdMap[e]&&this.customAdMap[e].hide()},e}(i.pzaChannelWeb);a.pzaChannelOppo=p,cc._RF.pop()},{"./pzaChannelWeb":"pzaChannelWeb","./pzakc":"pzakc"}],pzaChannelTT:[function(t,e,a){"use strict";cc._RF.push(e,"c18b6INM5FCMLS581mPF2C7","pzaChannelTT");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)});Object.defineProperty(a,"__esModule",{value:!0}),a.pzaChannelTT=void 0;var i=t("./pzaChannelWeb"),r=t("./pzakc"),p=t("./pzaKDefine"),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.channel="tt",e.paraMap=new Map([["vedioAd","ein4l937oj9b13bah0"],["ctrlId","64005e03b32f773d7cb29c7d"]]),e.shareTitle="\u64a9\u59b9\u517b\u6210\u5927\u4f5c\u6218\uff0c\u5b9d\u8d1d\u82b3\u5fc3\u7eb5\u706b\u72af\u3002",e.shareImgId="3grhfxi84lo43cmn9m",e.channelObj=window.tt,e.ruanzhu="\n\u8457\u4f5c\u6743\u4eba\uff1a \u6df1\u5733\u7fbd\u6e38\u79d1\u6280\u6709\u9650\u516c\u53f8\n\u8f6f\u8457\u767b\u8bb0\u53f7\uff1a2023SRE001822",e.startRecorderTime=0,e.endRecorderTime=0,e.video_path=null,e.videoTopics=["\u6d77\u738b\u91cd\u751f\u6a21\u62df"],e.title="\u6d77\u738b\u91cd\u751f\u6a21\u62df",e}return n(e,t),e.prototype.getSysInfo=function(){return this.sysInfo||(this.sysInfo=this.channelObj.getSystemInfoSync()),this.sysInfo},e.prototype.hasPrivacy=function(){return!0},e.prototype.exit=function(){this.channelObj.exitMiniProgram({isFullExit:!0})},e.prototype.init=function(){var e=this;t.prototype.init.call(this);var a={id:this.getPara("ctrlId")};r.default.jpost("https://ga.gametdd.com/adCtrl/agd/conf",a,function(t,a){t?r.default.err(t):""+a.code=="0"?(e.ctrl=a.data,r.default.log("\u8fd4\u56de",e.ctrl)):r.default.err("\u8fd4\u56de\u503c\u9519\u8bef:"+JSON.stringify(a))}),this.channelObj.showShareMenu({}),this.channelObj.onShareAppMessage(function(){return{title:e.shareTitle,templateId:e.shareImgId}})},e.prototype.canShare=function(){return!0},e.prototype.shareAppMessage=function(t,e,a){void 0===e&&(e=null),void 0===a&&(a=null),this.canShare()&&this.channelObj.shareAppMessage({title:this.shareTitle,imameUrlId:this.shareImgId,success:function(){e&&e()},fail:function(){a&&a()}})},e.prototype.showBanner=function(t,e){var a=this,o=this.getPara("bannerAd");if(o){r.default.log("showBanner isShow",o);var n=this.channelObj,i={adUnitId:o};this.bannerAd=n.createBannerAd(i),this.bannerAd.onResize(function(t){console.log("banner onResize===",t.height,t.width);var o=e?e(t):{top:a.getSysInfo().windowHeight-t.height,left:(a.getSysInfo().windowWidth-t.width)/2};a.bannerAd.style.top=o.top,a.bannerAd.style.left=o.left}),this.bannerAd.onLoad(function(){a.bannerAd.show().then(function(){r.default.log("banner\u52a0\u8f7d\u6210\u529f")}).catch(function(t){a.bannerAd=null,r.default.log("showBanner err:"+JSON.stringify(t))})})}},e.prototype.closeBanner=function(){this.bannerAd&&(this.bannerAd.destroy(),this.bannerAd=null)},e.prototype.showBannerByTime=function(t){void 0===t&&(t=!1)},e.prototype.closeBannerByTime=function(){this.closeBanner()},e.prototype.copyToClip=function(t,e){this.channelObj.setClipboardData({data:t,success:function(){e(null)},fail:function(t){e(t)}})},e.prototype.showVideo=function(t){var e=this.getPara("vedioAd");if(e){r.default.log("showVideo",e,this.rewardedVideoAd),cc.game.pause(),this.rewardedVideoAd=this.channelObj.createRewardedVideoAd({adUnitId:e}),this.videoFns.onLoad&&this.rewardedVideoAd.offLoad(this.videoFns.onLoad),this.videoFns.onError&&this.rewardedVideoAd.offError(this.videoFns.onError),this.videoFns.onClose&&this.rewardedVideoAd.offClose(this.videoFns.onClose),this.rewardedVideoAd.offLoad(),this.rewardedVideoAd.offError(),this.rewardedVideoAd.offClose();var a=this;a.videoFns.onLoad=function(){r.default.log("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u52a0\u8f7d\u6210\u529f")},a.videoFns.onError=function(e){cc.game.resume(),r.default.err(e),t.failCall(),a.channelObj.showToast({title:"\u6682\u65e0\u5e7f\u544a"})},a.videoFns.onClose=function(e){cc.game.resume(),e&&e.isEnded&&(t.sucCall(),r.default.eventReport("showVideo\u5b8c\u6210-"+t.posName)),t.endCall()},a.rewardedVideoAd.onLoad(a.videoFns.onLoad),a.rewardedVideoAd.onError(a.videoFns.onError),a.rewardedVideoAd.onClose(a.videoFns.onClose),a.rewardedVideoAd.show().then(function(){r.default.log("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u663e\u793a")}).catch(function(t){r.default.err(t),a.rewardedVideoAd.load().then(function(){return r.default.log("\u624b\u52a8\u52a0\u8f7d\u6210\u529f"),a.rewardedVideoAd.show()})})}},e.prototype.showInter=function(t){var e=this.getPara("insertAd");if(e){var a=this.channelObj;this.ctrl&&this.ctrl.p1&&parseInt(this.ctrl.p1)||t?(r.default.log("showInter isShow",e),this.interstitialAd=a.createInterstitialAd({adUnitId:e}),this.interstitialAd.show().then(function(){r.default.log("\u63d2\u5c4f\u5e7f\u544a\u5c55\u793a\u5b8c\u6210")}).catch(function(t){r.default.log("\u63d2\u5c4f\u5e7f\u544a\u5c55\u793a\u5931\u8d25"+JSON.stringify(t))})):r.default.log("\u63d2\u5c4f\u4e0d\u5c55\u793a")}},e.prototype.closeInter=function(){this.interstitialAd&&this.interstitialAd.close&&this.interstitialAd.close()},e.prototype.showDesktop=function(t,e){if(this.getCtrl("p1")){var a=cc.instantiate(pzaResMgr.instance().getPrefab("desktop_bt"));a.parent=t,a.setPosition(e),a.active=!0}},e.prototype.addShortcut=function(){this.channelObj.addShortcut({success:function(){r.default.log("\u6dfb\u52a0\u684c\u9762\u6210\u529f")},fail:function(t){r.default.log("\u6dfb\u52a0\u684c\u9762\u5931\u8d25:"+t.errMsg)}})},e.prototype.recorderStart=function(){r.default.log("\u5f55\u5c4f====start");var t=this;t.channelObj.getGameRecorderManager().onStart(function(){t.startRecorderTime=Date.now(),r.default.log("\u5f55\u5c4f\u5f00\u59cb",t.startRecorderTime)}),t.channelObj.getGameRecorderManager().start({duration:300}),r.default.sendMsg(p.Msg.recorderStart)},e.prototype.recorderStop=function(){var t=this;t.endRecorderTime=Date.now(),r.default.log("\u5f55\u5c4fStop",t.endRecorderTime),t.channelObj.getGameRecorderManager().onStop(function(e){t.video_path=e.videoPath,t.endRecorderTime=Date.now(),r.default.log("\u5f55\u5c4f\u65f6\u957f==",t.endRecorderTime-t.startRecorderTime),t.endRecorderTime,t.startRecorderTime}),r.default.log("\u505c\u6b62\u5f55\u5c4f"),t.channelObj.getGameRecorderManager().stop(),r.default.sendMsg(p.Msg.recorderStop)},e.prototype.getRecordTime=function(){return this.endRecorderTime-this.startRecorderTime},e.prototype.shareVideo=function(t){if(void 0===t&&(t=null),!this.video_path)return r.default.err("\u65e0\u5f55\u5236\u89c6\u9891"),void this.channelObj.showToast({title:"\u89c6\u9891\u672a\u5f55\u5236\u8db3\u591f\u65f6\u95f4"});var e=this;this.channelObj.shareAppMessage({channel:"video",title:e.title,imageUrl:"",query:"",extra:{videoPath:e.video_path,videoTopics:e.videoTopics},success:function(){e.channelObj.showToast({title:"\u5206\u4eab\u6210\u529f"}),e.endRecorderTime=0,e.startRecorderTime=0,r.default.sendMsg(p.Msg.recorderDone);var a=r.default.todayStr(),o=r.default.getData("shareVideoTimes",{});r.default.log("\u51c6\u5907\u53d1\u653e\u5956\u52b1",o);var n=parseInt(o[a]||0);n<5?(n++,o[a]=n,r.default.saveData("shareVideoTimes",o),t&&t(!0)):t&&t(!1)},fail:function(t){e.channelObj.showToast({title:"\u5206\u4eab\u89c6\u9891\u5931\u8d25"}),r.default.err(t),r.default.err("\u5206\u4eab\u53d6\u6d88"),e.endRecorderTime=0,e.startRecorderTime=0,r.default.sendMsg(p.Msg.recorderFail)}})},e}(i.pzaChannelWeb);a.pzaChannelTT=c,cc._RF.pop()},{"./pzaChannelWeb":"pzaChannelWeb","./pzaKDefine":"pzaKDefine","./pzakc":"pzakc"}],pzaChannelTap:[function(t,e,a){"use strict";cc._RF.push(e,"bdf3bDXHLdCIJ9KdMaNOJlp","pzaChannelTap");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)});Object.defineProperty(a,"__esModule",{value:!0}),a.pzaChannelTap=void 0;var i=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.channel="taptap",e.isVideoStarted=!1,e}return n(e,t),e.prototype.copyToClip=function(t){window.AJProxy.copyToClip(t)},e.prototype.hasPrivacy=function(){return!0},e.prototype.showVideo=function(t){var e=this;if(!this.isVideoStarted){this.isVideoStarted=!0;var a=t.endCall;t.endCall=function(){e.isVideoStarted=!1,a()},window.regAndroidCall("videoReward",t.sucCall),window.regAndroidCall("videoClose",t.endCall),window.regAndroidCall("videoFail",t.failCall),window.AJProxy.showVideo("b63ff12ab86fdb")}},e}(t("./pzaChannelWeb").pzaChannelWeb);a.pzaChannelTap=i,cc._RF.pop()},{"./pzaChannelWeb":"pzaChannelWeb"}],pzaChannelVivo:[function(t,e,a){"use strict";cc._RF.push(e,"822a5eHpGtJnLCyYDZgotAk","pzaChannelVivo");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)});Object.defineProperty(a,"__esModule",{value:!0}),a.pzaChannelVivo=void 0;var i=t("./pzaChannelWeb"),r=t("./pzakc"),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.channel="vivo",e.paraMap=new Map([["bannerAd","57a43af6fddc4501a2c34f8ef488a063"],["customInsertAd","a33a662da55b468bbae2f059297258bb"],["videoAd","684c830dce584509af4761310268248e"],["ctrlId","63f71c07e6d3ab07ce9c459e"]]),e.channelObj=window.qg,e.ruanzhu="\n\u8457\u4f5c\u6743\u4eba\uff1a\u6df1\u5733\u7fbd\u6e38\u79d1\u6280\u6709\u9650\u516c\u53f8\n\u8f6f\u8457\u767b\u8bb0\u53f7\uff1a2023SRE001822",e.bannerTimeId=-1,e.lastCustomShowTime=0,e.customGapSec=5e3,e.customAdMap={},e}return n(e,t),e.prototype.hasPrivacy=function(){return!!r.default.getData("isAgree",0)},e.prototype.getSysInfo=function(){return this.sysInfo||(this.sysInfo=this.channelObj.getSystemInfoSync()),this.sysInfo},e.prototype.exit=function(){this.channelObj.exitApplication()},e.prototype.init=function(){var e=this;t.prototype.init.call(this);var a=this.getPara("ctrlId");if(a){var o={id:a};r.default.jpost("https://ga.gametdd.com/adCtrl/agd/conf",o,function(t,a){t?r.default.err(t):""+a.code=="0"?(e.ctrl=a.data,r.default.log("\u8fd4\u56de",e.ctrl)):r.default.err("\u8fd4\u56de\u503c\u9519\u8bef:"+JSON.stringify(a))})}},e.prototype.showVideo=function(t){var e=this,a=this.getPara("videoAd");a&&(r.default.log("showVideo",a),this.rewardedVideoAd=this.channelObj.createRewardedVideoAd({posId:a}),this.rewardedVideoAd.offLoad(),this.rewardedVideoAd.offError(),this.rewardedVideoAd.offClose(),this.videoFns.onLoad=function(){r.default.log("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u52a0\u8f7d\u6210\u529f"),e.rewardedVideoAd.show().then(function(){r.default.log("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u663e\u793a")}).catch(function(t){r.default.err(t),e.rewardedVideoAd.load().then(function(){r.default.log("\u624b\u52a8\u52a0\u8f7d\u6210\u529f")})})},this.videoFns.onError=function(a){r.default.err(a),t.failCall(),e.channelObj.showToast({message:"\u6682\u65e0\u5e7f\u544a"})},this.videoFns.onClose=function(e){r.default.log("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u5173\u95ed",e),e&&e.isEnded&&(t.sucCall(),r.default.eventReport("showVideo\u5b8c\u6210-"+t.posName)),t.endCall()},this.rewardedVideoAd.onLoad(this.videoFns.onLoad),this.rewardedVideoAd.onError(this.videoFns.onError),this.rewardedVideoAd.onClose(this.videoFns.onClose))},e.prototype.showBanner=function(){var t=this.getPara("bannerAd");t&&(r.default.log("showBanner",t),this.bannerAd=this.channelObj.createBannerAd({posId:t,adIntervals:30}),this.bannerAd.onError(function(t){r.default.log("banner\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25"+JSON.stringify(t))}),this.bannerAd.show().then(function(){r.default.log("banner\u5e7f\u544a\u5c55\u793a\u5b8c\u6210")}).catch(function(t){r.default.log("banner\u5e7f\u544a\u5c55\u793a\u5931\u8d25"+JSON.stringify(t))}))},e.prototype.closeBanner=function(){this.bannerAd&&this.bannerAd.hide()},e.prototype.showBannerByTime=function(t){var e=this;void 0===t&&(t=!1);var a=30;this.getCtrl("p4")<1?r.default.log("banner\u4e0d\u5c55\u793a"):(this.bannerTimeId>=0&&clearInterval(this.bannerTimeId),this.closeBanner(),a<30&&(a=30),this.showBanner(t,null,"battle"),this.bannerTimeId=setInterval(function(){e.showBanner(t,null,"battle")},1e3*a))},e.prototype.closeBannerByTime=function(){this.bannerTimeId>=0&&clearInterval(this.bannerTimeId),this.closeBanner()},e.prototype.showCustomAd=function(t,e,a){var o=this,n=t?this.getPara("customBannerAd"):this.getPara("customInsertAd");if(n)if(Date.now()-this.lastCustomShowTime<this.customGapSec)r.default.log("custom\u5e7f\u544a\u95f4\u9694\u672a\u5230",this.customGapSec);else{this.lastCustomShowTime=Date.now();var i=t?this.getSysInfo().windowHeight-300:this.getSysInfo().windowHeight/2-300;r.default.log("showCustomAd",n,t,i);var p={posId:n,style:{top:i}};if(a&&(p.style=a),r.default.log("\u539f\u751f\u6a21\u677f\u5c06\u521b\u5efa",n),this.customAdMap[n]=this.channelObj.createCustomAd(p),this.customAdMap[n].offError(),this.customAdMap[n].onError(function(t){r.default.log("\u539f\u751f\u6a21\u677f\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25"+JSON.stringify(t))}),t)this.customAdMap[n].show().then(function(){r.default.log("\u539f\u751f\u6a21\u677f\u5e7f\u544a\u5c55\u793a\u5b8c\u6210")}).catch(function(t){r.default.log("\u539f\u751f\u6a21\u677f\u5e7f\u544a\u5c55\u793a\u5931\u8d25"+JSON.stringify(t))});else{var c=this.getCtrl("p3");r.default.log("\u539f\u751f\u6a21\u677f\u5c55\u793a2",c),setTimeout(function(){o.customAdMap[n].show().then(function(){r.default.log("\u539f\u751f\u6a21\u677f\u5e7f\u544a\u5c55\u793a\u5b8c\u6210")}).catch(function(t){r.default.log("\u539f\u751f\u6a21\u677f\u5e7f\u544a\u5c55\u793a\u5931\u8d25"+JSON.stringify(t))})},1e3*c)}}},e.prototype.closeCustomAd=function(t){var e=t?this.getPara("customBannerAd"):this.getPara("customInsertAd");e&&this.customAdMap[e]&&this.customAdMap[e].hide()},e}(i.pzaChannelWeb);a.pzaChannelVivo=p,cc._RF.pop()},{"./pzaChannelWeb":"pzaChannelWeb","./pzakc":"pzakc"}],pzaChannelWeb:[function(t,e,a){"use strict";cc._RF.push(e,"35b06SD/kFLbqmUbKV8Ncm5","pzaChannelWeb"),Object.defineProperty(a,"__esModule",{value:!0}),a.pzaChannelWeb=void 0;var o=t("./pzaChannel"),n=t("./pzakc"),i=function(){function t(){this.channel="web",this.paraMap=new Map([]),this.ruanzhu="",this.channelObj=window,this.ctrl=null,this.interstitialAd=null,this.bannerAd=null,this.rewardedVideoAd=null,this.customAd1=null,this.customAd2=null,this.boxPortalAd=null,this.sysInfo=null,this.privacyStr=["\u9690\u79c1\u653f\u7b56\n    \u6b22\u8fce\u60a8\u9009\u62e9\u7531Chun Liu\uff08\u4ee5\u4e0b\u7b80\u79f0\u201c\u6211\u4eec\u201d\uff09\u63d0\u4f9b\u7684\u6e38\u620f\u6216\u5e94\u7528APP\uff08\u4ee5\u4e0b\u7edf\u79f0\u201cAPP\u201d\uff09\u3002\u5efa\u8bae\u60a8\u5b8c\u6574\u5730\u9605\u8bfb\u672c\u9690\u79c1\u653f\u7b56\uff0c\u4ee5\u5e2e\u52a9\u60a8\u4e86\u89e3\u7ef4\u62a4\u81ea\u5df1\u9690\u79c1\u6743\u7684\u65b9\u5f0f\u3002\u5982\u60a8\u5bf9\u672c\u9690\u79c1\u653f\u7b56\u6709\u4efb\u4f55\u7591\u95ee\uff0c\u60a8\u53ef\u4ee5\u901a\u8fc7\u5e73\u53f0\u516c\u5e03\u7684\u8054\u7cfb\u65b9\u5f0f\u4e0e\u6211\u4eec\u8054\u7cfb\u3002\u6211\u4eec\u91cd\u89c6\u672a\u6210\u5e74\u4eba\u7684\u4e2a\u4eba\u4fe1\u606f\u4fdd\u62a4\uff0c\u5982\u60a8\u4e3a\u672a\u6210\u5e74\u4eba\uff0c\u5efa\u8bae\u60a8\u8bf7\u60a8\u7684\u76d1\u62a4\u4eba\u4ed4\u7ec6\u9605\u8bfb\u672c\u9690\u79c1\u653f\u7b56,\u5e76\u5728\u5f81\u5f97\u60a8\u7684\u76d1\u62a4\u4eba \u540c\u610f\u7684\u524d\u63d0\u4e0b\u4f7f\u7528\u6211\u4eec\u7684\u670d\u52a1\u6216\u5411\u6211\u4eec\u63d0\u4f9b\u4fe1\u606f\u3002\u672c\u9690\u79c1\u653f\u7b56\u4e3b\u8981\u4ece\u4ee5\u4e0b\u51e0\u4e2a\u65b9\u9762\u5e2e\u60a8\u8be6\u7ec6\u4e86\u89e3\u6211\u4eec\u6216\u6211\u4eec\u5408\u4f5c\u7684\u7b2c\u4e09\u65b9\u5982\u4f55\u6536\u96c6\u3001\u4f7f\u7528\u3001\u5b58\u50a8\u3001\u4f20\u8f93\u3001\u5171\u4eab\u4e0e\u4fdd\u62a4\u4e2a\u4eba\u4fe1\u606f\uff1b\u5e2e\u60a8\u4e86\u89e3\u67e5\u8be2\u3001\u8bbf\u95ee\u3001\u5220\u9664\u3001\u66f4\u6b63\u3001\u64a4\u56de\u6388\u6743\u4e2a\u4eba\u4fe1\u606f\u7684\u65b9\u5f0f\u3002\n\xa0\t\n\u4e00\u3001\u5982\u4f55\u6536\u96c6\u548c\u4f7f\u7528\u60a8\u7684\u4e2a\u4eba\u4fe1\u606f\n\u4e8c\u3001\u5982\u4f55\u4f7f\u7528cookie\u6216\u540c\u7c7b\u6280\u672f\n\u4e09\u3001\u5982\u4f55\u5171\u4eab\u3001\u8f6c\u8ba9\u3001\u62ab\u9732\u60a8\u7684\u4e2a\u4eba\u4fe1\u606f\n\u56db\u3001\u5982\u4f55\u5b58\u50a8\u60a8\u7684\u4e2a\u4eba\u4fe1\u606f\n\u4e94\u3001\u5982\u4f55\u4fdd\u62a4\u60a8\u7684\u4e2a\u4eba\u4fe1\u606f\n\u516d\u3001\u5982\u4f55\u7ba1\u7406\u60a8\u7684\u4e2a\u4eba\u4fe1\u606f\n\u4e03\u3001\u672a\u6210\u5e74\u4eba\u4f7f\u7528\u6761\u6b3e\n\u516b\u3001\u9690\u79c1\u653f\u7b56\u7684\u4fee\u8ba2\u548c\u901a\u77e5\n\u4e5d\u3001\u5982\u4f55\u8054\u7cfb\u6211\u4eec\n\xa0\n\xa0\n\u4e00\u3001\u5982\u4f55\u6536\u96c6\u548c\u4f7f\u7528\u60a8\u7684\u4e2a\u4eba\u4fe1\u606f\n\xa0\n1.1.\u60a8\u4e3b\u52a8\u63d0\u4f9b\u7684\u4fe1\u606f\n\xa0\n\uff081\uff09\u60a8\u5728\u63a5\u53d7\u6216\u4f7f\u7528\u6211\u4eec\u6240\u63d0\u4f9b\u7684\u670d\u52a1\u65f6\u4e3b\u52a8\u5411\u6211\u4eec\u63d0\u4f9b\u7684\u4fe1\u606f\uff0c\u5305\u62ec\uff1a\n\u2460\u60a8\u5728\u6ce8\u518c\u6210\u4e3a\u6211\u4eec\u7684\u7528\u6237\u65f6\u6240\u63d0\u4f9b\u7684\u4e2a\u4eba\u4fe1\u606f\uff1b\n\u2461\u60a8\u5728\u83b7\u53d6\u6211\u4eec\u7279\u5b9a\u670d\u52a1\u6216\u529f\u80fd\u65f6\u6240\u4e0a\u4f20\u3001\u53d1\u5e03\u6216\u63d0\u4f9b\u7684\u4fe1\u606f\uff1b\n\u2462\u60a8\u53c2\u4e0e\u6211\u4eec\u6240\u4e3e\u529e\u7684\u7ebf\u4e0a\u3001\u7ebf\u4e0b\u6d3b\u52a8\u65f6\u6240\u63d0\u4ea4\u7684\u4fe1\u606f\uff1b\n\u2463\u60a8\u5411\u6211\u4eec\u5ba2\u670d\u6216\u5176\u4ed6\u5b98\u65b9\u6e20\u9053\u6240\u63d0\u4f9b\u7684\u4fe1\u606f\u3002\n\u6211\u4eec\u5728\u60a8\u63a5\u53d7\u6216\u4f7f\u7528\u6211\u4eec\u670d\u52a1\u65f6\u6240\u83b7\u53d6\u7684\u4fe1\u606f\uff0c\u5305\u62ec\uff1a\n\u2460\u65e5\u5fd7\u4fe1\u606f\uff1a\u5f53\u60a8\u83b7\u5f97\u6211\u4eec\u670d\u52a1\u65f6\uff0c\u6211\u4eec\u53ef\u80fd\u4f1a\u81ea\u52a8\u6536\u96c6\u76f8\u5173\u4fe1\u606f\u5e76\u5b58\u50a8\u4e3a\u670d\u52a1\u65e5\u5fd7\u4fe1\u606f\u3002\n\u2461\u4f4d\u7f6e\u4fe1\u606f\uff1a\u5f53\u60a8\u83b7\u5f97\u6211\u4eec\u670d\u52a1\u6216\u63a5\u53d7\u670d\u52a1\u4e2d\u7684\u7279\u5b9a\u529f\u80fd\u65f6\uff0c\u6211\u4eec\u53ef\u80fd\u4f1a\u6536\u96c6\u60a8\u6240\u4f7f\u7528\u8bbe\u5907\u7684\u5730\u7406\u4f4d\u7f6e\u4fe1\u606f\u3002\n\u2462\u5176\u4ed6\u4fe1\u606f\uff1a\u6211\u4eec\u4e3a\u66f4\u597d\u5730\u5411\u60a8\u63d0\u4f9b\u670d\u52a1\uff0c\u63d0\u5347\u6211\u4eec\u7684\u670d\u52a1\u8d28\u91cf\uff0c\u6211\u4eec\u53ef\u80fd\u9700\u8981\u6536\u96c6\u7ecf\u60a8\u540c\u610f\u7684\u60a8\u7684\u5176\u4ed6\u76f8\u5173\u4fe1\u606f\u3002\n\uff083\uff09\u5176\u4ed6\u65b9\u5411\u6211\u4eec\u63d0\u4f9b\u6216\u5206\u4eab\u7684\u60a8\u7684\u4fe1\u606f\u3002\n\n\u2460\u5176\u4ed6\u7528\u6237\u5728\u83b7\u5f97\u6211\u4eec\u670d\u52a1\u65f6\u6240\u63d0\u4f9b\u7684\u60a8\u7684\u4fe1\u606f\u6216\u53ef\u80fd\u5305\u542b\u7684\u4e0e\u60a8\u6709\u5173\u7684\u4fe1\u606f\u3002\n\n\u2461\u7b2c\u4e09\u65b9\u5408\u4f5c\u4f19\u4f34\u5411\u6211\u4eec\u6240\u5171\u4eab\u7684\u60a8\u5728\u83b7\u5f97\u7b2c\u4e09\u65b9\u5408\u4f5c\u4f19\u4f34\u670d\u52a1\u65f6\u6240\u4ea7\u751f\u3001\u63d0\u4f9b\u6216\u5206\u4eab\u7684\u4fe1\u606f\u3002\u5728\u6b64\u79cd\u60c5\u51b5\u4e0b\uff0c\u8bf7\u60a8\u4ed4\u7ec6\u9605\u8bfb\u7b2c\u4e09\u65b9\u5408\u4f5c\u4f19\u4f34\u670d\u52a1\u7684\u7528\u6237\u534f\u8bae\u6216\u9690\u79c1\u653f\u7b56\uff0c\u6211\u4eec\u5c06\u540c\u65f6\u9075\u5b88\u672c\u653f\u7b56\u53ca\u7b2c\u4e09\u65b9\u5408\u4f5c\u4f19\u4f34\u7684\u9690\u79c1\u653f\u7b56\uff0c\u4ee5\u5bf9\u60a8\u7684\u7528\u6237\u4fe1\u606f\u8fbe\u5230\u201c\u6700\u5c0f\u5316\u5229\u7528\u6700\u5927\u5316\u4fdd\u62a4\u201d\u7684\u76ee\u7684\u3002\n\xa0\n1.2. \u6211\u4eec\u6216\u6211\u4eec\u5408\u4f5c\u7684\u7b2c\u4e09\u65b9\u5e73\u53f0\u6536\u96c6\u548c\u4f7f\u7528\u7684\u4fe1\u606f\u53ca\u83b7\u53d6\u7684\u6743\u9650\n\xa0\n\u4e3a\u4e86\u7ed9\u60a8\u63d0\u4f9b\u66f4\u597d\u7684\u4ea7\u54c1\u6216\u670d\u52a1\uff0c\u6211\u4eec\u5728APP\u5185\u63a5\u5165\u4e86\u7b2c\u4e09\u65b9\u670d\u52a1\uff08\u5305\u62ec\u4f46\u4e0d\u9650\u4e8e\u5b9e\u540d\u8ba4\u8bc1\u3001\u6570\u636e\u5206\u6790\u3001\u7b2c\u4e09\u65b9\u652f\u4ed8\u3001\u6295\u653e\u5e7f\u544a\u7b49\uff09\uff0c\u5f53\u60a8\u4f7f\u7528\u6211\u4eec\u7684\u4ea7\u54c1\u6216\u670d\u52a1\u65f6\uff0c\u4e3a\u4e86\u786e\u4fdd\u60a8\u80fd\u6b63\u5e38\u4f7f\u7528APP\u548c\u4f18\u5316\u7528\u6237\u4f53\u9a8c\uff0c\u6211\u4eec\u548c\u6211\u4eec\u5408\u4f5c\u7684\u7b2c\u4e09\u65b9\u5e73\u53f0\u53ef\u80fd\u5728APP\u5b89\u88c5\u548c\u4f7f\u7528\u8fc7\u7a0b\u4e2d\u901a\u8fc7\u8c03\u7528\u8bbe\u5907\u6743\u9650\u6536\u96c6\u90e8\u5206\u8bbe\u5907\u76f8\u5173\u4fe1\u606f\u548c\u4e2a\u4eba\u4fe1\u606f\uff08\u5305\u542b\uff1a\u8bbe\u5907\u4fe1\u606f\uff0c\u8bfb\u5199\u5916\u7f6e\u5b58\u50a8\u5668\uff0c\u4f4d\u7f6e\u4fe1\u606f\uff09\u3002\n\xa0\n1\uff09\u8bbe\u5907\u6807\u8bc6\u4fe1\u606f\uff08\u4f8b\u5982\u786c\u4ef6\u578b\u53f7\u3001\u64cd\u4f5c\u7cfb\u7edf\u7248\u672c\u3001\u8bbe\u5907\u8bbe\u7f6e\u3001IMEI\u3001\u5fc5\u8981\u7684\u8f6f\u4ef6\u5217\u8868\u7b49\uff09\n\xa0\n\u4e3a\u4fdd\u969c\u60a8\u6b63\u5e38\u4f7f\u7528\u6211\u4eec\u7684\u4ea7\u54c1\u6216\u670d\u52a1\uff0c\u5b9e\u73b0APP\u6570\u636e\u7684\u7edf\u8ba1\u548c\u5206\u6790\u4ee5\u53ca\u63d0\u5347\u8bbe\u5907\u8d26\u53f7\u7684\u5b89\u5168\u6027\uff0c\u6211\u4eec\u5408\u4f5c\u7684\u7b2c\u4e09\u65b9\u5e73\u53f0\u4f1a\u5728\u83b7\u5f97\u60a8\u540c\u610f\u7684\u60c5\u51b5\u4e0b\u6536\u96c6\u60a8\u7684\u8bbe\u5907ID\u3001\u8bbe\u5907\u540d\u79f0\u3001\u8bbe\u5907\u7c7b\u578b\u548c\u7248\u672c\u3001\u7cfb\u7edf\u7248\u672c\u3001IP\u5730\u5740\u3001MAC\u5730\u5740\u3001IMEI\u3001\u5e94\u7528ID\u3001\u7f51\u7edc\u8fde\u63a5\u72b6\u6001\u3001\u8f6f\u4ef6\u5217\u8868\u3001\u63a5\u5165\u7f51\u7edc\u7684\u65b9\u5f0f\u548c\u7c7b\u578b\u7b49\u4fe1\u606f\u3002\u62d2\u7edd\u6388\u6743\u6211\u4eec\u5408\u4f5c\u7684\u7b2c\u4e09\u65b9\u5e73\u53f0\u83b7\u53d6\u60a8\u7684\u4e0a\u8ff0\u4fe1\u606f\uff0c\u53ef\u80fd\u4f1a\u5bfc\u81f4\u60a8\u65e0\u6cd5\u6b63\u5e38\u4f7f\u7528\u6211\u4eec\u7684APP\u6216\u5728\u4f7f\u7528\u6211\u4eecAPP\u7684\u8fc7\u7a0b\u4e2d\u53d7\u5230\u76f8\u5e94\u9650\u5236\u3002\n\xa0\n\u5982\u60a8\u4f7f\u7528OPPO\u3001VIVO\u3001\u534e\u4e3a\u3001\u5c0f\u7c73\u3001\u9b45\u65cf\u7b49\u54c1\u724c\u624b\u673a\uff0c\u6211\u4eec\u7684APP\u53ef\u80fd\u4f1a\u63a5\u5165\u4e0a\u8ff0\u624b\u673a\u5382\u5546\u8054\u8fd0\u6240\u9700\u7684SDK\uff0c\u9700\u8981\u6536\u96c6\u624b\u673a\u552f\u4e00\u6807\u8bc6\u4fe1\u606f\uff08\u4f8b\u5982IMEI\uff09\uff0c\u5e76\u53ef\u80fd\u4f1a\u6536\u96c6\u60a8\u7684\u624b\u673a\u578b\u53f7\u3001\u7cfb\u7edf\u7c7b\u578b\u3001\u7cfb\u7edf\u7248\u672c\u3001\u8bbe\u5907\u5c4f\u5e55\u5c3a\u5bf8\u7b49\u53c2\u6570\u7528\u4e8e\u5b9e\u73b0\u4ea7\u54c1\u529f\u80fd\uff0c\u5177\u4f53\u60c5\u51b5\u8bf7\u53c2\u89c1SDK\u8fd0\u8425\u65b9\u7684\u9690\u79c1\u653f\u7b56\u6216\u76f8\u5173\u58f0\u660e\u3002\n\xa0\n2\uff09\u5b58\u50a8\u6743\u9650\n\xa0\n\u4e3a\u4fdd\u969c\u60a8\u80fd\u5145\u5206\u4f7f\u7528APP\u7684\u5404\u9879\u529f\u80fd\u548c\u4fdd\u5b58\u73a9\u5bb6\u7684\u6570\u636e\uff0c\u6211\u4eec\u548c\u6211\u4eec\u5408\u4f5c\u7684\u7b2c\u4e09\u65b9\u5e73\u53f0\u4f1a\u5728\u83b7\u5f97\u60a8\u540c\u610f\u7684\u60c5\u51b5\u4e0b\u83b7\u53d6\u60a8\u79fb\u52a8\u8bbe\u5907\u7684\u5b58\u50a8\u6743\u9650\u3002\u62d2\u7edd\u6388\u6743\u6211\u4eec\u6216\u6211\u4eec\u5408\u4f5c\u7684\u7b2c\u4e09\u65b9\u5e73\u53f0\u83b7\u53d6\u60a8\u79fb\u52a8\u8bbe\u5907\u7684\u5b58\u50a8\u6743\u9650\uff0c\u53ef\u80fd\u4f1a\u5bfc\u81f4\u60a8\u65e0\u6cd5\u6b63\u5e38\u4f7f\u7528\u6211\u4eec\u7684APP\u6216\u5728\u4f7f\u7528\u6211\u4eecAPP\u7684\u8fc7\u7a0b\u4e2d\u53d7\u5230\u76f8\u5e94\u9650\u5236\u3002\n\xa0\n3\uff09\u5730\u7406\u4f4d\u7f6e\u4fe1\u606f\n\xa0\n\u4e3a\u4e86\u4e30\u5bccAPP\u4f53\u9a8c\uff0c\u5b9e\u73b0\u5185\u5bb9\u591a\u6837\u6027\uff0c\u6211\u4eec\u5408\u4f5c\u7684\u7b2c\u4e09\u65b9\u5e73\u53f0\u5728\u83b7\u5f97\u60a8\u540c\u610f\u7684\u60c5\u51b5\u4e0b\u4f1a\u6536\u96c6\u60a8\u7684\u5730\u7406\u4f4d\u7f6e\u4fe1\u606f\u3002\u62d2\u7edd\u63d0\u4f9b\u5730\u7406\u4f4d\u7f6e\u4fe1\u606f\u4ec5\u4f1a\u4f7f\u60a8\u65e0\u6cd5\u4f7f\u7528\u4e0e\u4f4d\u7f6e\u4fe1\u606f\u76f8\u5173\u7684\u529f\u80fd\uff0c\u4f46\u4e0d\u5f71\u54cd\u60a8\u6b63\u5e38\u4f7f\u7528\u6211\u4eecAPP\u7684\u5176\u4ed6\u529f\u80fd\u3002\u60a8\u4e5f\u53ef\u4ee5\u968f\u65f6\u53d6\u6d88\u6388\u6743\u6211\u4eec\u5408\u4f5c\u7684\u7b2c\u4e09\u65b9\u5e73\u53f0\u83b7\u53d6\u60a8\u7684\u5730\u7406\u4f4d\u7f6e\u4fe1\u606f\u3002\n\xa0\n4\uff09\u5b9e\u540d\u8eab\u4efd\u4fe1\u606f\n\xa0\n\u4e3a\u7b26\u5408\u76f8\u5173\u6cd5\u5f8b\u6cd5\u89c4\u653f\u7b56\u53ca\u76f8\u5173\u4e3b\u7ba1\u90e8\u95e8\u7684\u8981\u6c42\uff0c\u6211\u4eec\u7684\u6e38\u620f\u7528\u6237\u9700\u8fdb\u884c\u5b9e\u540d\u8ba4\u8bc1\u4ee5\u7ee7\u7eed\u4f7f\u7528\u6211\u4eec\u7684\u6e38\u620f\u3002\u6211\u4eec\u5408\u4f5c\u7684\u7b2c\u4e09\u65b9\u5e73\u53f0\u4f1a\u5728\u83b7\u5f97\u60a8\u540c\u610f\u7684\u60c5\u51b5\u4e0b\u8981\u6c42\u60a8\u586b\u5199\u60a8\u7684\u5b9e\u540d\u8eab\u4efd\u4fe1\u606f\uff0c\u8be5\u4fe1\u606f\u5c5e\u4e8e\u654f\u611f\u4fe1\u606f\uff0c\u62d2\u7edd\u63d0\u4f9b\u5b9e\u540d\u8eab\u4efd\u4fe1\u606f\u53ef\u80fd\u4f1a\u5bfc\u81f4\u60a8\u65e0\u6cd5\u767b\u9646\u6211\u4eec\u7684\u6e38\u620f\u6216\u5728\u4f7f\u7528\u6211\u4eec\u7684\u6e38\u620f\u8fc7\u7a0b\u4e2d\u53d7\u5230\u76f8\u5e94\u9650\u5236\u3002\u82e5\u60a8\u5e0c\u671b\u4e86\u89e3\u7b2c\u4e09\u65b9\u670d\u52a1\u63d0\u4f9b\u5546\u6536\u96c6\u4e2a\u4eba\u4fe1\u606f\u7684\u5177\u4f53\u89c4\u5219\uff0c\u8bf7\u53c2\u9605\u60a8\u9009\u62e9\u7684\u7b2c\u4e09\u65b9\u4ed8\u6b3e\u670d\u52a1\u63d0\u4f9b\u5546\u7684\u9690\u79c1\u653f\u7b56\u3002\n\xa0\n5\uff09\u652f\u4ed8\u4fe1\u606f\n\xa0\n\u60a8\u53ef\u80fd\u4f1a\u901a\u8fc7\u4ed8\u6b3e\u7684\u65b9\u5f0f\u83b7\u53d6\u6211\u4eecAPP\u76f8\u5173\u7684\u865a\u62df\u4ea7\u54c1\uff0c\u5305\u62ec\u6e38\u620f\u5e01\u3001\u6e38\u620f\u9053\u5177\u3001\u6e38\u620f\u88c5\u5907\u7b49\u3002\u4e0a\u8ff0\u4ed8\u6b3e\u670d\u52a1\u7531\u7b2c\u4e09\u65b9\u63d0\u4f9b\uff0c\u8be5\u7b2c\u4e09\u65b9\u53ef\u80fd\u4f1a\u6536\u96c6\u60a8\u7684\u5145\u503c\u8bb0\u5f55\u3001\u6d88\u8d39\u8bb0\u5f55\u7b49\u4ea4\u6613\u4fe1\u606f\u3002\u6211\u4eec\u4e0d\u4f1a\u83b7\u53d6\u4e0e\u60a8\u4ed8\u6b3e\u76f8\u5173\u7684\u652f\u4ed8\u8d26\u53f7\u3001\u5bc6\u7801\u7b49\u4fe1\u606f\u3002\u5728\u60a8\u6210\u529f\u4ed8\u6b3e\u540e\uff0c\u6211\u4eec\u4ec5\u4f1a\u4ece\u8be5\u7b2c\u4e09\u65b9\u4ed8\u6b3e\u670d\u52a1\u63d0\u4f9b\u5546\u5904\u83b7\u53d6\u60a8\u5df2\u5b8c\u6210\u4ed8\u6b3e\u7684\u4fe1\u606f\uff0c\u8fdb\u800c\u5411\u60a8\u63d0\u4f9b\u76f8\u5e94\u865a\u62df\u4ea7\u54c1\u3002\u82e5\u60a8\u5e0c\u671b\u4e86\u89e3\u7b2c\u4e09\u65b9\u670d\u52a1\u63d0\u4f9b\u5546\u6536\u96c6\u4e2a\u4eba\u4fe1\u606f\u7684\u5177\u4f53\u89c4\u5219\uff0c\u8bf7\u53c2\u9605\u60a8\u9009\u62e9\u7684\u7b2c\u4e09\u65b9\u4ed8\u6b3e\u670d\u52a1\u63d0\u4f9b\u5546\u7684\u9690\u79c1\u653f\u7b56\u3002\n\xa0\n\xa0\n6)\u7b2c\u4e09\u65b9\u5e73\u53f0SDK\u4e3b\u8981\u83b7\u53d6\u7684\u6743\u9650\u4ee5\u53ca\u5bf9\u5e94\u7684\u7528\u9014\u5982\u4e0b\uff1a\n\xa0\u2460\u7b2c\u4e09\u65b9SDK\uff1a\u53cb\u76df+\u7edf\u8ba1\n\u7528\u9014\uff1aApp\u6570\u636e\u5206\u6790\n\u6536\u96c6\u7684\u4fe1\u606f\uff1a1.\u8bbe\u5907\u6807\u8bc6\u4fe1\u606f\uff08\u4f8b\u5982\u786c\u4ef6\u578b\u53f7\u3001\u64cd\u4f5c\u7cfb\u7edf\u7248\u672c\u3001\u8bbe\u5907\u8bbe\u7f6e\u3001IMEI\u3001MAC\u5730\u5740\u3001AndroidID\u3001\u5fc5\u8981\u7684\u8f6f\u4ef6\u5217\u8868\u7b49\uff09\n2.\u83b7\u53d6\u7f51\u7edc\u4fe1\u606f\u72b6\u6001\uff0c\u8bbf\u95ee\u7f51\u7edc\u8fde\u63a5\uff0c\u53ef\u80fd\u4ea7\u751fGPRS\u6d41\u91cf\n\u9002\u7528\u8303\u56f4\uff1a\u6240\u6709\u6e20\u9053\u5305\n\u9690\u79c1\u8bf4\u660e\uff1a\n\u2461\u7b2c\u4e09\u65b9SDK\uff1a\u5947\u864e360\u52a0\u56fa\u4fdd\u63d2\u4ef6\n\u7528\u9014\uff1a\u4ee3\u7801\u52a0\u56fa\u6df7\u6dc6\uff0c\u9632\u6b62\u88ab\u7834\u89e3\u6cc4\u9732\n\u6536\u96c6\u7684\u4fe1\u606f\uff1a1.\u8bbe\u5907\u6807\u8bc6\u4fe1\u606f\uff08\u4f8b\u5982\u786c\u4ef6\u578b\u53f7\u3001\u64cd\u4f5c\u7cfb\u7edf\u7248\u672c\u3001\u8bbe\u5907\u8bbe\u7f6e\u3001IMEI\u3001MAC\u5730\u5740\u3001AndroidID\u3001\u5fc5\u8981\u7684\u8f6f\u4ef6\u5217\u8868\u7b49\uff09\n2.\u83b7\u53d6\u7f51\u7edc\u4fe1\u606f\u72b6\u6001\uff0c\u8bbf\u95ee\u7f51\u7edc\u8fde\u63a5\uff0c\u53ef\u80fd\u4ea7\u751fGPRS\u6d41\u91cf\n\u9002\u7528\u8303\u56f4\uff1a\u6240\u6709\u6e20\u9053\u5305\n\u9690\u79c1\u8bf4\u660e\uff1a\n\u2462\u7b2c\u4e09\u65b9SDK\uff1a\u7a7f\u5c71\u7532\u5e7f\u544aSDK\n\u7528\u9014\uff1a\u5728APP\u4e2d\u6295\u653e\u5e7f\u544a\u4e0e\u6570\u636e\u5206\u6790\n\u6536\u96c6\u7684\u4fe1\u606f\uff1a1.\u5141\u8bb8\u7a0b\u5e8f\u5199\u5165\u5916\u90e8\u5b58\u50a8\n2.\u83b7\u53d6\u7c97\u7565\u4f4d\u7f6e\n3.\u83b7\u53d6\u7cbe\u786e\u4f4d\u7f6e\n4.\u8bbe\u5907\u6807\u8bc6\u4fe1\u606f\uff08\u4f8b\u5982\u786c\u4ef6\u578b\u53f7\u3001\u64cd\u4f5c\u7cfb\u7edf\u7248\u672c\u3001\u8bbe\u5907\u8bbe\u7f6e\u3001IMEI\u3001MAC\u5730\u5740\u3001AndroidID\u3001\u5fc5\u8981\u7684\u8f6f\u4ef6\u5217\u8868\u7b49\uff09\n\u9002\u7528\u8303\u56f4\uff1aTAPTAP\u3001\u597d\u6e38\u5feb\u62a5\u3001360\u7b49\u6e20\u9053\u5305\u7b49\n\u9690\u79c1\u8bf4\u660e\uff1ahttps://www.pangle.cn/privacy\n\u2463\u7b2c\u4e09\u65b9SDK\uff1a\u4f18\u91cf\u6c47\u5e7f\u544aSDK\n\u7528\u9014\uff1a\u5728APP\u4e2d\u6295\u653e\u5e7f\u544a\u4e0e\u6570\u636e\u5206\u6790\n\u6536\u96c6\u7684\u4fe1\u606f\uff1a1.\u5141\u8bb8\u7a0b\u5e8f\u5199\u5165\u5916\u90e8\u5b58\u50a8\n2.\u83b7\u53d6\u7c97\u7565\u4f4d\u7f6e\n3.\u83b7\u53d6\u7cbe\u786e\u4f4d\u7f6e\n4.\u8bbe\u5907\u6807\u8bc6\u4fe1\u606f\uff08\u4f8b\u5982\u786c\u4ef6\u578b\u53f7\u3001\u64cd\u4f5c\u7cfb\u7edf\u7248\u672c\u3001\u8bbe\u5907\u8bbe\u7f6e\u3001IMEI\u3001MAC\u5730\u5740\u3001AndroidID\u3001\u5fc5\u8981\u7684\u8f6f\u4ef6\u5217\u8868\u7b49\uff09\n\u9002\u7528\u8303\u56f4\uff1aTAPTAP\u3001360\u3001\u597d\u6e38\u5feb\u62a5\u7b49\u6e20\u9053\u5305\n\u9690\u79c1\u8bf4\u660e\uff1ahttps://www.tencent.com/zh-cn/privacy-policy.html\n\u2464\u7b2c\u4e09\u65b9SDK\uff1aOPPO\u5e94\u7528\u5e02\u573a\u8054\u8fd0SDK\uff08\u5185\u542b\u652f\u4ed8\u5b9d,OPPO\u5b89\u5168\u652f\u4ed8,\u6613\u8054\u652f\u4ed8,\u73b0\u5728\u652f\u4ed8\u805a\u5408\u5e73\u53f0\uff09\u548c\u5e7f\u544aSDK\n\u7528\u9014\uff1a1.\u8054\u8fd0\u5e02\u573a\u5fc5\u987b\u63a5\u5165\uff1b2.\u5728App\u4e2d\u6295\u653e\u5e7f\u544a\u4e0e\u6570\u636e\u5206\u6790\n\u6536\u96c6\u7684\u4fe1\u606f\uff1a1.\u8bbe\u5907\u6807\u8bc6\u4fe1\u606f\uff08\u4f8b\u5982\u786c\u4ef6\u578b\u53f7\u3001\u64cd\u4f5c\u7cfb\u7edf\u7248\u672c\u3001\u8bbe\u5907\u8bbe\u7f6e\u3001IMEI\u3001MAC\u5730\u5740\u3001AndroidID\u3001\u5fc5\u8981\u7684\u8f6f\u4ef6\u5217\u8868\u7b49\uff09\n2.\u5141\u8bb8\u7a0b\u5e8f\u5199\u5165\u5916\u90e8\u5b58\u50a8\n3.\u5141\u8bb8\u7a0b\u5e8f\u8bfb\u53d6\u5916\u90e8\u5b58\u50a8\n4.\u83b7\u53d6\u7c97\u7565\u4f4d\u7f6e\n5.\u83b7\u53d6\u7cbe\u786e\u4f4d\u7f6e\n\u9002\u7528\u8303\u56f4\uff1aOPPO\u6e20\u9053\u5305\n\u9690\u79c1\u8bf4\u660e\uff1ahttps://privacy.oppo.com/cn/overview/\n\u2465\u7b2c\u4e09\u65b9SDK\uff1aVIVO\u5e94\u7528\u5e02\u573a\u8054\u8fd0\u548c\u5e7f\u544aSDK\uff08\u5176\u53ef\u80fd\u96c6\u6210\u5934\u6761sdk\uff0c\u548c\u5feb\u624b\u5e7f\u544asdk\uff09\n\u7528\u9014\uff1a1.\u8054\u8fd0\u5e02\u573a\u5fc5\u987b\u63a5\u5165\uff1b2.\u5728App\u4e2d\u6295\u653e\u5e7f\u544a\u4e0e\u6570\u636e\u5206\u6790\n\u6536\u96c6\u7684\u4fe1\u606f\uff1a1.\u8bbe\u5907\u6807\u8bc6\u4fe1\u606f\uff08\u4f8b\u5982\u786c\u4ef6\u578b\u53f7\u3001\u64cd\u4f5c\u7cfb\u7edf\u7248\u672c\u3001\u8bbe\u5907\u8bbe\u7f6e\u3001IMEI\u3001MAC\u5730\u5740\u3001AndroidID\u3001\u5fc5\u8981\u7684\u8f6f\u4ef6\u5217\u8868\u7b49\uff09\n2.\u5141\u8bb8\u7a0b\u5e8f\u5199\u5165\u5916\u90e8\u5b58\u50a8\n3.\u5141\u8bb8\u7a0b\u5e8f\u8bfb\u53d6\u5916\u90e8\u5b58\u50a8\n4.\u83b7\u53d6\u7c97\u7565\u4f4d\u7f6e\n5.\u83b7\u53d6\u7cbe\u786e\u4f4d\u7f6e\n\u9002\u7528\u8303\u56f4\uff1aVIVO\u6e20\u9053\u5305\n\u9690\u79c1\u8bf4\u660e\uff1ahttps://www.vivo.com.cn/about-vivo/privacy-policy\n\u2466\u7b2c\u4e09\u65b9SDK\uff1a\u534e\u4e3a\u5e94\u7528\u5e02\u573a\u8054\u8fd0\u548c\u5e7f\u544aSDK\n\u7528\u9014\uff1a1.\u8054\u8fd0\u5e02\u573a\u5fc5\u987b\u63a5\u5165\uff1b2.\u5728App\u4e2d\u6295\u653e\u5e7f\u544a\u4e0e\u6570\u636e\u5206\u6790\n\u6536\u96c6\u7684\u4fe1\u606f\uff1a1.\u8bbe\u5907\u6807\u8bc6\u4fe1\u606f\uff08\u4f8b\u5982\u786c\u4ef6\u578b\u53f7\u3001\u64cd\u4f5c\u7cfb\u7edf\u7248\u672c\u3001\u8bbe\u5907\u8bbe\u7f6e\u3001IMEI\u3001MAC\u5730\u5740\u3001AndroidID\u3001\u5fc5\u8981\u7684\u8f6f\u4ef6\u5217\u8868\u7b49\uff09\n2.\u5141\u8bb8\u7a0b\u5e8f\u5199\u5165\u5916\u90e8\u5b58\u50a8\n3.\u5141\u8bb8\u7a0b\u5e8f\u8bfb\u53d6\u5916\u90e8\u5b58\u50a8\n4.\u83b7\u53d6\u7c97\u7565\u4f4d\u7f6e\n5.\u83b7\u53d6\u7cbe\u786e\u4f4d\u7f6e\n\u9002\u7528\u8303\u56f4\uff1a\u534e\u4e3a\u6e20\u9053\u5305\n\u9690\u79c1\u8bf4\u660e\uff1a\n\u2467\u7b2c\u4e09\u65b9SDK\uff1a\u5c0f\u7c73\u5e94\u7528\u5e02\u573a\u8054\u8fd0\u548c\u5e7f\u544aSDK\n\u7528\u9014\uff1a1.\u8054\u8fd0\u5e02\u573a\u5fc5\u987b\u63a5\u5165\uff1b2.\u5728App\u4e2d\u6295\u653e\u5e7f\u544a\u4e0e\u6570\u636e\u5206\u6790\n\u6536\u96c6\u7684\u4fe1\u606f\uff1a1.\u8bbe\u5907\u6807\u8bc6\u4fe1\u606f\uff08\u4f8b\u5982\u786c\u4ef6\u578b\u53f7\u3001\u64cd\u4f5c\u7cfb\u7edf\u7248\u672c\u3001\u8bbe\u5907\u8bbe\u7f6e\u3001IMEI\u3001MAC\u5730\u5740\u3001AndroidID\u3001\u5fc5\u8981\u7684\u8f6f\u4ef6\u5217\u8868\u7b49\uff09\n\u9002\u7528\u8303\u56f4\uff1a\u5c0f\u7c73\u6e20\u9053\u5305\n\u9690\u79c1\u8bf4\u660e\uff1ahttps://privacy.mi.com/all/zh_CN/\n\n1.3.\u6536\u96c6\u548c\u4f7f\u7528\u4fe1\u606f\u7684\u4f8b\u5916\u548c\u7279\u6b8a\u60c5\u51b5\n\xa0\n1.3.1\u4f8b\u5916\u60c5\u51b5\n\xa0\n\u6839\u636e\u76f8\u5173\u6cd5\u5f8b\u6cd5\u89c4\u53ca\u56fd\u5bb6\u6807\u51c6\uff0c\u4ee5\u4e0b\u60c5\u5f62\u4e2d\uff0c\u6211\u4eec\u6216\u6211\u4eec\u5408\u4f5c\u7684\u7b2c\u4e09\u65b9\u5e73\u53f0\u53ef\u80fd\u4f1a\u6536\u96c6\u3001\u4f7f\u7528\u60a8\u7684\u76f8\u5173\u4e2a\u4eba\u4fe1\u606f\u800c\u65e0\u9700\u5f81\u6c42\u60a8\u7684\u6388\u6743\u540c\u610f\uff1a\n\xa0\n1\uff09\u4e0e\u56fd\u5bb6\u5b89\u5168\u3001\u56fd\u9632\u5b89\u5168\u7b49\u56fd\u5bb6\u5229\u76ca\u76f4\u63a5\u76f8\u5173\u7684\uff1b\u4e0e\u516c\u5171\u5b89\u5168\u3001\u516c\u5171\u536b\u751f\u3001\u516c\u5171\u77e5\u60c5\u7b49\u91cd\u5927\u516c\u5171\u5229\u76ca\u76f4\u63a5\u76f8\u5173\u7684\uff1b\n\xa0\n2\uff09\u4e0e\u72af\u7f6a\u4fa6\u67e5\u3001\u8d77\u8bc9\u3001\u5ba1\u5224\u548c\u5224\u51b3\u6267\u884c\u7b49\u76f4\u63a5\u76f8\u5173\u7684\uff1b\n\xa0\n3\uff09\u51fa\u4e8e\u7ef4\u62a4\u60a8\u6216\u5176\u4ed6\u4e2a\u4eba\u7684\u751f\u547d\u3001\u8d22\u4ea7\u3001\u58f0\u8a89\u7b49\u91cd\u5927\u5408\u6cd5\u6743\u76ca\u4f46\u53c8\u5f88\u96be\u5f97\u5230\u672c\u4eba\u540c\u610f\u7684\uff1b\n\xa0\n4\uff09\u6240\u6536\u96c6\u7684\u4e2a\u4eba\u4fe1\u606f\u662f\u60a8\u81ea\u884c\u5411\u793e\u4f1a\u516c\u4f17\u516c\u5f00\u7684\uff1b\n\xa0\n5\uff09\u4ece\u5408\u6cd5\u516c\u5f00\u62ab\u9732\u7684\u4fe1\u606f\u4e2d\u6536\u96c6\u4e2a\u4eba\u4fe1\u606f\u7684\uff0c\u5982\u5408\u6cd5\u7684\u65b0\u95fb\u62a5\u9053\u3001\u653f\u5e9c\u4fe1\u606f\u516c\u5f00\u7b49\u6e20\u9053\uff1b\n\xa0\n6\uff09\u6839\u636e\u60a8\u8981\u6c42\u7b7e\u8ba2\u548c\u5c65\u884c\u5408\u540c\u6240\u5fc5\u9700\u7684\uff1b\n\xa0\n7\uff09\u7528\u4e8e\u7ef4\u62a4\u6240\u63d0\u4f9b\u7684\u4ea7\u54c1\u6216\u670d\u52a1\u7684\u5b89\u5168\u7a33\u5b9a\u8fd0\u884c\u6240\u5fc5\u9700\u7684\uff0c\u4f8b\u5982\u53d1\u73b0\u3001\u5904\u7f6e\u4ea7\u54c1\u6216\u670d\u52a1\u7684\u6545\u969c\uff1b\n\xa0\n8\uff09\u51fa\u4e8e\u516c\u5171\u5229\u76ca\u5f00\u5c55\u7edf\u8ba1\u6216\u5b66\u672f\u7814\u7a76\u6240\u5fc5\u8981\uff0c\u4e14\u5176\u5bf9\u5916\u63d0\u4f9b\u5b66\u672f\u7814\u7a76\u6216\u63cf\u8ff0\u7684\u7ed3\u679c\u65f6\uff0c\u5bf9\u7ed3\u679c\u4e2d\u6240\u5305\u542b\u7684\u4e2a\u4eba\u4fe1\u606f\u8fdb\u884c\u53bb\u6807\u8bc6\u5316\u5904\u7406\u7684\uff1b\n\xa0\n9\uff09\u6cd5\u5f8b\u6cd5\u89c4\u89c4\u5b9a\u7684\u5176\u4ed6\u60c5\u5f62\u3002\n\xa0\n\xa0\n\xa0\n1.3.2\u7279\u6b8a\u60c5\u51b5\n\xa0\n\u8bf7\u60a8\u7406\u89e3\uff0c\u6211\u4eec\u53ca\u6211\u4eec\u5408\u4f5c\u7684\u7b2c\u4e09\u65b9\u5e73\u53f0\u5411\u60a8\u63d0\u4f9b\u7684\u529f\u80fd\u548c\u670d\u52a1\u662f\u4e0d\u65ad\u66f4\u65b0\u548c\u53d1\u5c55\u7684\uff0c\u5982\u679c\u6211\u4eec\u63d0\u4f9b\u7684\u67d0\u4e00\u529f\u80fd\u6216\u670d\u52a1\u9700\u8981\u83b7\u53d6\u65b0\u7684\u6743\u9650\u800c\u672a\u5728\u524d\u8ff0\u8bf4\u660e\u4e2d\uff0c\u6211\u4eec\u4f1a\u5728APP\u4e2d\u901a\u8fc7\u5f39\u7a97\u7684\u65b9\u5f0f\u53e6\u884c\u63d0\u793a\u60a8\u9009\u62e9\u662f\u5426\u6388\u6743\uff0c\u5e76\u5728APP\u7684\u9690\u79c1\u653f\u7b56\u4e2d\u8fdb\u884c\u66f4\u65b0\u4e0e\u8bf4\u660e\uff1b\u5982\u679c\u7b2c\u4e09\u65b9\u5e73\u53f0\u63d0\u4f9b\u7684\u67d0\u4e00\u529f\u80fd\u6216\u670d\u52a1\u9700\u8981\u83b7\u53d6\u60a8\u65b0\u7684\u6743\u9650\uff0c\u7b2c\u4e09\u65b9\u5e73\u53f0\u53ef\u80fd\u4f1a\u5728\u5176\u53d1\u5e03\u7684\u9690\u79c1\u653f\u7b56\u4e2d\u8fdb\u884c\u66f4\u65b0\u4e0e\u8bf4\u660e\uff0c\u5982\u60a8\u60f3\u8981\u4e86\u89e3\u7b2c\u4e09\u65b9\u5e73\u53f0\u83b7\u53d6\u60a8\u6743\u9650\u7684\u6700\u65b0\u60c5\u51b5\uff0c\u60a8\u53ef\u4ee5\u67e5\u8be2\u7b2c\u4e09\u65b9\u5e73\u53f0\u6700\u65b0\u7684\u9690\u79c1\u653f\u7b56\u3002\n\xa0\n\xa0\n\xa0\n\u4e8c\u3001\u5982\u4f55\u4f7f\u7528cookie\u6216\u540c\u7c7b\u6280\u672f\n\xa0\n2.1. Cookie\u6216\u540c\u7c7b\u6280\u672f\u662f\u4e92\u8054\u7f51\u4e2d\u666e\u904d\u4f7f\u7528\u7684\u6280\u672f\u3002\u5f53\u60a8\u4f53\u9a8c\u3001\u767b\u5f55\u3001\u4f7f\u7528\u6211\u4eec\u7684APP\u65f6\uff0c\u6211\u4eec\u6216\u6211\u4eec\u5408\u4f5c\u7684\u7b2c\u4e09\u65b9\u5e73\u53f0\u53ef\u80fd\u4f1a\u4f7f\u7528\u76f8\u5173\u6280\u672f\u5411\u60a8\u7684\u8bbe\u5907\u53d1\u9001\u4e00\u4e2a\u6216\u591a\u4e2a Cookie\u6216\u533f\u540d\u6807\u8bc6\u7b26\uff0c\u4ee5\u6536\u96c6\u548c\u5b58\u50a8\u60a8\u8bbf\u95ee\u3001\u4f7f\u7528\u672cAPP\u65f6\u7684\u4fe1\u606f\uff0c\u7528\u4e8e\u5206\u6790\u60a8\u4f7f\u7528\u6211\u4eecAPP\u7684\u504f\u597d\u60c5\u51b5\uff0c\u4ece\u800c\u4f18\u5316\u7528\u6237\u4f53\u9a8c\u3002\u6211\u4eec\u627f\u8bfa\uff0c\u4e0d\u4f1a\u5c06 Cookie\u7528\u4e8e\u672c\u9690\u79c1\u653f\u7b56\u6240\u8ff0\u76ee\u7684\u4e4b\u5916\u7684\u4efb\u4f55\u5176\u4ed6\u7528\u9014\u3002\n\xa0\n2.2. \u6211\u4eec\u5728\u4f7f\u7528Cookie\u6216\u540c\u7c7b\u6280\u672f\u65f6\u4f1a\u4e25\u683c\u9075\u5b88\u79fb\u52a8\u4e92\u8054\u7f51\u5e94\u7528\u5b89\u5168\u76f8\u5173\u6cd5\u5f8b\u6cd5\u89c4\u7684\u89c4\u5b9a\uff0c\u5e76\u63d0\u4f9b\u6709\u6548\u7684\u5b89\u5168\u63aa\u65bd\u4ee5\u4fdd\u62a4\u60a8\u7684\u4e2a\u4eba\u4fe1\u606f\u3002\u5982\u60a8\u60f3\u8981\u8be6\u7ec6\u4e86\u89e3\u6211\u4eec\u5408\u4f5c\u7684\u7b2c\u4e09\u65b9\u5e73\u53f0\u5982\u4f55\u4f7f\u7528Cookie\u6216\u540c\u7c7b\u6280\u672f\uff0c\u60a8\u53ef\u4ee5\u67e5\u9605\u7b2c\u4e09\u65b9\u5e73\u53f0\u7684\u9690\u79c1\u653f\u7b56\u3002\n\xa0\n\xa0\n\xa0\n\u4e09\u3001\u5982\u4f55\u5171\u4eab\u3001\u8f6c\u8ba9\u3001\u62ab\u9732\u60a8\u7684\u4e2a\u4eba\u4fe1\u606f\n\xa0\n\u6211\u4eec\u5c06\u4e25\u683c\u9075\u5b88\u76f8\u5173\u6cd5\u5f8b\u6cd5\u89c4\uff0c\u5bf9\u60a8\u7684\u4e2a\u4eba\u4fe1\u606f\u4e88\u4ee5\u4fdd\u5bc6\uff0c\u4e0d\u4f1a\u5c06\u60a8\u7684\u4e2a\u4eba\u4fe1\u606f\u51fa\u552e\u7ed9\u7b2c\u4e09\u65b9\u3002\u6211\u4eec\u4ec5\u4f1a\u5728\u4ee5\u4e0b\u60c5\u51b5\u4e0b\uff0c\u5904\u4e8e\u5408\u6cd5\u3001\u6b63\u5f53\u3001\u5fc5\u8981\u3001\u7279\u5b9a\u3001\u660e\u786e\u7684\u76ee\u7684\uff0c\u4e14\u91c7\u53d6\u7b26\u5408\u4e1a\u754c\u6807\u51c6\u7684\u5b89\u5168\u9632\u62a4\u63aa\u65bd\u7684\u524d\u63d0\u4e0b\u5171\u4eab\u3001\u8f6c\u8ba9\u3001\u62ab\u9732\u60a8\u7684\u4e2a\u4eba\u6570\u636e\u3002\u7528\u4e8e\u5171\u4eab\u3001\u8f6c\u8ba9\u3001\u62ab\u9732\u7684\u4e2a\u4eba\u4fe1\u606f\u662f\u53bb\u6807\u8bc6\u5316\u5904\u7406\u540e\u7684\u4fe1\u606f\uff0c\u4e14\u5171\u4eab\u7b2c\u4e09\u65b9\u65e0\u6cd5\u91cd\u65b0\u8bc6\u522b\u6b64\u7c7b\u4fe1\u606f\u7684\u81ea\u7136\u4eba\u4e3b\u4f53\u3002\n\xa0\n3.1\xa0 \u5171\u4eab\n\xa0\n1\uff09\xa0 \u4e8b\u5148\u83b7\u5f97\u60a8\u660e\u786e\u7684\u540c\u610f\u6216\u6388\u6743\uff1b\n\xa0\n2\uff09\xa0 \u6839\u636e\u9002\u7528\u7684\u6cd5\u5f8b\u6cd5\u89c4\u89c4\u5b9a\uff0c\u6216\u57fa\u4e8e\u53f8\u6cd5\u6216\u884c\u653f\u4e3b\u7ba1\u90e8\u95e8\u7684\u5f3a\u5236\u6027\u8981\u6c42\u8fdb\u884c\u63d0\u4f9b\uff1b\n\xa0\n3\uff09\xa0 \u5728\u6cd5\u5f8b\u6cd5\u89c4\u5141\u8bb8\u7684\u8303\u56f4\u5185\uff0c\u4e3a\u7ef4\u62a4\u60a8\u6216\u5176\u4ed6\u7528\u6237\u6216\u5176\u4ed6\u4e2a\u4eba\u7684\u751f\u547d\u3001\u8d22\u4ea7\u7b49\u5408\u6cd5\u6743\u76ca\u6216\u662f\u793e\u4f1a\u516c\u5171\u5229\u76ca\u800c\u6709\u5fc5\u8981\u63d0\u4f9b\uff1b\n\xa0\n4\uff09\xa0 \u5e94\u60a8\u7684\u76d1\u62a4\u4eba\u7684\u5408\u6cd5\u8981\u6c42\u800c\u63d0\u4f9b\u60a8\u7684\u4fe1\u606f\uff1b\n\xa0\n5\uff09\xa0 \u6839\u636e\u4e0e\u60a8\u7b7e\u7f72\u7684\u76f8\u5173\u534f\u8bae\uff08\u5305\u62ec\u670d\u52a1\u534f\u8bae\uff09\u6216\u5176\u4ed6\u7684\u6cd5\u5f8b\u6587\u4ef6\u7ea6\u5b9a\u800c\u63d0\u4f9b\uff1b\n\xa0\n6\uff09\xa0 \u53ef\u80fd\u4f1a\u57fa\u4e8e\u60a8\u7684\u76f8\u5e94\u6388\u6743\u5c06\u60a8\u7684\u4e2a\u4eba\u4fe1\u606f\u4e0e\u5173\u8054\u65b9\u5171\u4eab\u3002\u4f46\u53ea\u4f1a\u5171\u4eab\u5fc5\u8981\u7684\u4e2a\u4eba\u4fe1\u606f\uff0c\u4e14\u53d7\u672c\u9690\u79c1\u653f\u7b56\u6240\u8ff0\u76ee\u7684\u4e4b\u7ea6\u675f\u3002\u5173\u8054\u65b9\u5982\u8981\u6539\u53d8\u4e2a\u4eba\u4fe1\u606f\u7684\u5904\u7406\u76ee\u7684\uff0c\u5c06\u9002\u65f6\u5411\u60a8\u5f81\u5f97\u660e\u793a\u540c\u610f\u3002\n\xa0\n\xa0\n\xa0\n3.2\xa0 \u8f6c\u8ba9\n\xa0\n1\uff09\xa0 \u4e8b\u5148\u83b7\u5f97\u60a8\u660e\u786e\u7684\u540c\u610f\u6216\u6388\u6743\uff1b\n\xa0\n2\uff09\xa0 \u6839\u636e\u9002\u7528\u7684\u6cd5\u5f8b\u6cd5\u89c4\u3001\u6cd5\u5f8b\u7a0b\u5e8f\u7684\u8981\u6c42\u3001\u5f3a\u5236\u6027\u7684\u884c\u653f\u6216\u53f8\u6cd5\u8981\u6c42\u800c\u5fc5\u987b\u8fdb\u884c\u63d0\u4f9b\uff1b\n\xa0\n3\uff09\xa0 \u6839\u636e\u4e0e\u60a8\u7b7e\u7f72\u7684\u76f8\u5173\u534f\u8bae\uff08\u5305\u62ec\u670d\u52a1\u534f\u8bae\uff09\u6216\u5176\u4ed6\u7684\u6cd5\u5f8b\u6587\u4ef6\u7ea6\u5b9a\u800c\u63d0\u4f9b\uff1b\n\xa0\n4\uff09\xa0 \u5728\u6d89\u53ca\u6536\u8d2d\u3001\u517c\u5e76\u3001\u7834\u4ea7\u6e05\u7b97\u3001\u91cd\u7ec4\u7b49\u53d8\u66f4\u65f6\uff0c\u5982\u6d89\u53ca\u5230\u4e2a\u4eba\u4fe1\u606f\u8f6c\u8ba9\uff0c\u4f1a\u8981\u6c42\u65b0\u7684\u6301\u6709\u60a8\u4e2a\u4eba\u4fe1\u606f\u7684\u516c\u53f8\u6216\u7ec4\u7ec7\u7ee7\u7eed\u5c65\u884c\u672c\u9690\u79c1\u653f\u7b56\u9879\u4e0b\u7684\u8d23\u4efb\u548c\u4e49\u52a1\u3002\u5982\u53d8\u66f4\u540e\u7684\u4e3b\u4f53\u9700\u53d8\u66f4\u4e2a\u4eba\u4fe1\u606f\u4f7f\u7528\u76ee\u7684\uff0c\u6211\u4eec\u4f1a\u8981\u6c42\u5176\u4e8b\u5148\u83b7\u5f97\u60a8\u7684\u660e\u793a\u540c\u610f\u3002\n\xa0\n\xa0\n\xa0\n3.3\xa0 \u516c\u5f00\u62ab\u9732\n\xa0\n1\uff09\xa0 \u6839\u636e\u60a8\u7684\u9700\u6c42\uff0c\u5728\u60a8\u660e\u786e\u540c\u610f\u7684\u62ab\u9732\u65b9\u5f0f\u4e0b\u62ab\u9732\u60a8\u6240\u6307\u5b9a\u7684\u4e2a\u4eba\u4fe1\u606f\uff1b\n\xa0\n2\uff09\xa0 \u6839\u636e\u6cd5\u5f8b\u3001\u6cd5\u89c4\u7684\u8981\u6c42\u3001\u884c\u653f\u6216\u53f8\u6cd5\u673a\u5173\u7684\u5f3a\u5236\u6027\u8981\u6c42\uff0c\u6211\u4eec\u53ef\u80fd\u4f1a\u516c\u5f00\u62ab\u9732\u60a8\u7684\u4e2a\u4eba\u4fe1\u606f\u3002\u5f53\u6536\u5230\u4e0a\u8ff0\u62ab\u9732\u8bf7\u6c42\u65f6\uff0c\u6211\u4eec\u4f1a\u4f9d\u6cd5\u8981\u6c42\u8bf7\u6c42\u65b9\u51fa\u5177\u76f8\u5173\u6cd5\u5f8b\u6587\u4ef6\uff0c\u5982\u4f20\u7968\u6216\u8c03\u67e5\u51fd\u7b49\u3002\u6211\u4eec\u4f1a\u614e\u91cd\u5ba1\u67e5\u6bcf\u4e00\u62ab\u9732\u8bf7\u6c42\uff0c\u4ee5\u786e\u4fdd\u8be5\u7b49\u62ab\u9732\u8bf7\u6c42\u7b26\u5408\u76f8\u5173\u6cd5\u5f8b\u89c4\u5b9a\u3002\u5728\u6cd5\u5f8b\u6cd5\u89c4\u8bb8\u53ef\u7684\u524d\u63d0\u4e0b\uff0c\u6211\u4eec\u4f1a\u5bf9\u5305\u542b\u62ab\u9732\u4fe1\u606f\u7684\u6587\u4ef6\u8fdb\u884c\u52a0\u5bc6\u4fdd\u62a4\u3002\n\xa0\n\xa0\n\xa0\n\u56db\u3001\u5982\u4f55\u5b58\u50a8\u60a8\u7684\u4e2a\u4eba\u4fe1\u606f\n\xa0\n4.1.\xa0 \xa0\u6211\u4eec\u4ec5\u5728\u672c\u9690\u79c1\u653f\u7b56\u6240\u8ff0\u76ee\u7684\u6240\u5fc5\u9700\u671f\u95f4\u548c\u6cd5\u5f8b\u6cd5\u89c4\u8981\u6c42\u7684\u6700\u77ed\u65f6\u9650\u5185\u50a8\u5b58\u60a8\u7684\u4e2a\u4eba\u4fe1\u606f\u3002\u5982\u6211\u4eec\u7ec8\u6b62\u670d\u52a1\u6216\u8fd0\u8425\uff0c\u6211\u4eec\u53ca\u6211\u4eec\u5408\u4f5c\u7684\u7b2c\u4e09\u65b9\u5e73\u53f0\u5c06\u53ca\u65f6\u505c\u6b62\u7ee7\u7eed\u6536\u96c6\u60a8\u4e2a\u4eba\u4fe1\u606f\u7684\u6d3b\u52a8\uff0c\u540c\u65f6\u4f1a\u9075\u5b88\u76f8\u5173\u6cd5\u5f8b\u6cd5\u89c4\u8981\u6c42\u63d0\u524d\u5411\u60a8\u901a\u77e5\uff0c\u5e76\u5728\u7ec8\u6b62\u670d\u52a1\u6216\u8fd0\u8425\u540e\u5bf9\u60a8\u7684\u4e2a\u4eba\u4fe1\u606f\u8fdb\u884c\u5220\u9664\u6216\u533f\u540d\u5316\u5904\u7406\uff0c\u4f46\u6cd5\u5f8b\u6cd5\u89c4\u6216\u76d1\u7ba1\u90e8\u95e8\u53e6\u6709\u89c4\u5b9a\u7684\u9664\u5916\u3002\n\xa0\n4.2.\xa0 \xa0\u6211\u4eec\u5728\u4e2d\u534e\u4eba\u6c11\u5171\u548c\u56fd\u5883\u5185\u8fd0\u8425\u4e2d\u6536\u96c6\u548c\u4ea7\u751f\u7684\u4e2a\u4eba\u4fe1\u606f\uff0c\u50a8\u5b58\u5728\u4e2d\u534e\u4eba\u6c11\u5171\u548c\u56fd\u5883\u5185\uff0c\u4ee5\u4e0b\u60c5\u5f62\u9664\u5916\uff1a\n\xa0\n1\uff09 \u6cd5\u5f8b\u6cd5\u89c4\u6709\u660e\u786e\u89c4\u5b9a\uff1b\n\xa0\n2\uff09 \u83b7\u5f97\u60a8\u7684\u6388\u6743\u540c\u610f\uff1b\n\xa0\n3\uff09 \u76ee\u524d\u6211\u4eec\u4e0d\u4f1a\u5c06\u4e0a\u8ff0\u4fe1\u606f\u4f20\u8f93\u81f3\u5883\u5916\uff0c\u5982\u679c\u6211\u4eec\u5411\u5883\u5916\u4f20\u8f93\uff0c\u6211\u4eec\u5c06\u4f1a\u9075\u5faa\u76f8\u5173\u56fd\u5bb6\u89c4\u5b9a\u6216\u8005\u5f81\u6c42\u60a8\u7684\u540c\u610f\u3002\n\xa0\n4\uff09 \u9488\u5bf9\u4ee5\u4e0a\u60c5\u5f62\uff0c\u6211\u4eec\u4f1a\u786e\u4fdd\u4f9d\u636e\u672c\u9690\u79c1\u653f\u7b56\u53ca\u56fd\u5bb6\u6cd5\u5f8b\u6cd5\u89c4\u8981\u6c42\u5bf9\u60a8\u7684\u4e2a\u4eba\u4fe1\u606f\u63d0\u4f9b\u8db3\u591f\u7684\u4fdd\u62a4\u3002\n\xa0\n\xa0\n\xa0\n\u4e94\u3001\u5982\u4f55\u4fdd\u62a4\u60a8\u7684\u4e2a\u4eba\u4fe1\u606f\n\xa0\n5.1. \u6211\u4eec\u5c06\u91c7\u7528\u4e25\u683c\u7684\u5b89\u5168\u5236\u5ea6\u4ee5\u53ca\u884c\u4e1a\u901a\u884c\u7684\u5b89\u5168\u6280\u672f\u548c\u7a0b\u5e8f\u6765\u786e\u4fdd\u60a8\u7684\u4e2a\u4eba\u4fe1\u606f\u4e0d\u88ab\u4e22\u5931\u3001\u6cc4\u9732\u3001\u6bc1\u635f\u6216\u6ee5\u7528\u3002\n\xa0\n5.2. \u6211\u4eec\u7684\u670d\u52a1\u91c7\u53d6\u540c\u884c\u4e1a\u8981\u6c42\u6c34\u5e73\u7684\u52a0\u5bc6\u6280\u672f\u3001\u533f\u540d\u5316\u5904\u7406\u7b49\u5408\u7406\u624b\u6bb5\u5bf9\u60a8\u7684\u4e2a\u4eba\u4fe1\u606f\u8fdb\u884c\u52a0\u5bc6\u4fdd\u5b58\uff0c\u5e76\u901a\u8fc7\u9694\u79bb\u6280\u672f\u8fdb\u884c\u9694\u79bb\u3002\u6211\u4eec\u8fd8\u4f1a\u91c7\u7528\u4e25\u683c\u7684\u6570\u636e\u8bbf\u95ee\u6743\u9650\u63a7\u5236\u548c\u591a\u91cd\u8eab\u4efd\u8ba4\u8bc1\u6280\u672f\u4fdd\u62a4\u4e2a\u4eba\u4fe1\u606f\uff0c\u907f\u514d\u6570\u636e\u88ab\u8fdd\u89c4\u4f7f\u7528\u3002\n\xa0\n5.3. \u6211\u4eec\u901a\u8fc7\u5efa\u7acb\u6570\u636e\u5b89\u5168\u7ba1\u7406\u89c4\u8303\u3001\u91c7\u7528\u4e25\u683c\u7684\u6570\u636e\u8bbf\u95ee\u6743\u9650\u63a7\u5236\u7b49\u65b9\u5f0f\u52a0\u5f3a\u5458\u5de5\u7684\u5b89\u5168\u610f\u8bc6\u4ee5\u53ca\u5bf9\u4e8e\u4fdd\u62a4\u4fe1\u606f\u91cd\u8981\u6027\u7684\u8ba4\u8bc6\u3002\n\xa0\n5.4. \u6211\u4eec\u4ec5\u5141\u8bb8\u6709\u5fc5\u8981\u77e5\u6653\u8fd9\u4e9b\u4fe1\u606f\u7684\u4eba\u5458\u8bbf\u95ee\u4e2a\u4eba\u4fe1\u606f\u6570\u636e\uff0c\u5e76\u4e3a\u6b64\u8bbe\u7f6e\u4e86\u4e25\u683c\u7684\u8bbf\u95ee\u6743\u9650\u63a7\u5236\u548c\u76d1\u63a7\u673a\u5236\u3002\u6211\u4eec\u540c\u65f6\u8981\u6c42\u53ef\u80fd\u63a5\u89e6\u5230\u60a8\u7684\u4e2a\u4eba\u4fe1\u606f\u7684\u6240\u6709\u4eba\u5458\u5c65\u884c\u76f8\u5e94\u7684\u4fdd\u5bc6\u4e49\u52a1\u3002\u5982\u679c\u672a\u80fd\u5c65\u884c\u8fd9\u4e9b\u4e49\u52a1\uff0c\u53ef\u80fd\u4f1a\u88ab\u8ffd\u7a76\u6cd5\u5f8b\u8d23\u4efb\u6216\u88ab\u4e2d\u6b62\u4e0e\u6211\u4eec\u7684\u5408\u4f5c\u5173\u7cfb\u3002\n\xa0\n5.5. \u6211\u4eec\u5c06\u91c7\u53d6\u4e00\u5207\u5408\u7406\u53ef\u884c\u7684\u63aa\u65bd\uff0c\u786e\u4fdd\u4e0d\u6536\u96c6\u4e0e\u6211\u4eec\u7684APP\u670d\u52a1\u65e0\u5173\u7684\u4e2a\u4eba\u4fe1\u606f\u3002\n\xa0\n5.6. \u4e92\u8054\u7f51\u73af\u5883\u5e76\u975e\u767e\u5206\u4e4b\u767e\u5b89\u5168\uff0c\u6211\u4eec\u4f1a\u5c3d\u529b\u4fdd\u62a4\u60a8\u4e2a\u4eba\u4fe1\u606f\u7684\u5b89\u5168\u6027\u3002\u5f53\u60a8\u7684\u4e2a\u4eba\u4fe1\u606f\u51fa\u73b0\u6cc4\u9732\u3001\u635f\u6bc1\u6216\u4e22\u5931\u7b49\u5b89\u5168\u4e8b\u4ef6\u65f6\uff0c\u6211\u4eec\u5c06\u6309\u7167\u6cd5\u5f8b\u6cd5\u89c4\u7684\u8981\u6c42\uff0c\u53ca\u65f6\u5411\u60a8\u544a\u77e5\uff1a\u5b89\u5168\u4e8b\u4ef6\u7684\u57fa\u672c\u60c5\u51b5\u548c\u53ef\u80fd\u7684\u5f71\u54cd\u3001\u6211\u4eec\u5df2\u91c7\u53d6\u6216\u5c06\u8981\u91c7\u53d6\u7684\u5904\u7f6e\u63aa\u65bd\u3001\u60a8\u53ef\u81ea\u4e3b\u9632\u8303\u548c\u964d\u4f4e\u98ce\u9669\u7684\u5efa\u8bae\u3001\u5bf9\u60a8\u7684\u8865\u6551\u63aa\u65bd\u7b49\u3002\u6211\u4eec\u540c\u65f6\u5c06\u53ca\u65f6\u5c06\u4e8b\u4ef6\u76f8\u5173\u60c5\u51b5\u4ee5\u90ae\u4ef6\u3001\u4fe1\u51fd\u3001\u7535\u8bdd\u3001\u63a8\u9001\u901a\u77e5\u7b49\u65b9\u5f0f\u544a\u77e5\u60a8\uff0c\u96be\u4ee5\u9010\u4e00\u544a\u77e5\u4fe1\u606f\u4e3b\u4f53\u65f6\uff0c\u6211\u4eec\u4f1a\u91c7\u53d6\u5408\u7406\u3001\u6709\u6548\u7684\u65b9\u5f0f\u53d1\u5e03\u516c\u544a\u3002\u540c\u65f6\uff0c\u6211\u4eec\u8fd8\u5c06\u6309\u7167\u76d1\u7ba1\u90e8\u95e8\u8981\u6c42\uff0c\u4e3b\u52a8\u4e0a\u62a5\u4fe1\u606f\u5b89\u5168\u4e8b\u4ef6\u7684\u5904\u7f6e\u60c5\u51b5\u3002\n\xa0\n5.7. \u60a8\u901a\u8fc7\u4ed8\u6b3e\u7684\u65b9\u5f0f\u83b7\u53d6\u6211\u4eecAPP\u76f8\u5173\u7684\u865a\u62df\u4ea7\u54c1\u65f6\uff0c\u5c06\u901a\u8fc7\u7b2c\u4e09\u65b9\u4ed8\u6b3e\u670d\u52a1\u5546\u8fdb\u884c\u4ea4\u6613\u3002\u5c4a\u65f6\u60a8\u4e0d\u53ef\u907f\u514d\u7684\u8981\u5411\u4ea4\u6613\u5bf9\u65b9\u6216\u6f5c\u5728\u7684\u4ea4\u6613\u5bf9\u65b9\u62ab\u9732\u81ea\u5df1\u7684\u4fe1\u606f\uff0c\u5982\u8054\u7edc\u65b9\u5f0f\u3001\u94f6\u884c\u8d26\u6237\u6216\u8005\u90ae\u7bb1\u7b49\u3002\u8bf7\u60a8\u59a5\u5584\u4fdd\u62a4\u81ea\u5df1\u7684\u4fe1\u606f\uff0c\u4ec5\u5728\u5fc5\u8981\u7684\u60c5\u5f62\u4e0b\u5411\u4ed6\u4eba\u63d0\u4f9b\u3002\n\xa0\n5.8. \u5982\u679c\u6211\u4eec\u76d1\u6d4b\u5230\u60a8\u5c06\u6211\u4eec\u7684APP\u53ca\u670d\u52a1\u4ee5\u53ca\u76f8\u5173\u4fe1\u606f\u7528\u4e8e\u6b3a\u8bc8\u6216\u975e\u6cd5\u76ee\u7684\uff0c\u6211\u4eec\u5c06\u4f1a\u91c7\u53d6\u76f8\u5e94\u63aa\u65bd\uff0c\u5305\u62ec\u4f46\u4e0d\u9650\u4e8e\u4e2d\u6b62\u6216\u7ec8\u6b62\u60a8\u4f7f\u7528\u6211\u4eec\u7684APP\u6216\u670d\u52a1\u3002\n\xa0\n\xa0\n\xa0\n\u516d\u3001\u5982\u4f55\u7ba1\u7406\u60a8\u7684\u4e2a\u4eba\u4fe1\u606f\n\xa0\n6.1. \u8bbf\u95ee\u3001\u66f4\u65b0\u548c\u5220\u9664\u4e2a\u4eba\u4fe1\u606f\n\xa0\n\u6211\u4eec\u975e\u5e38\u91cd\u89c6\u60a8\u5bf9\u4e2a\u4eba\u4fe1\u606f\u7ba1\u7406\u7684\u6743\u5229\u3002\u60a8\u53ef\u6839\u636e\u6211\u4eecAPP\u5185\u7684\u6307\u5f15\uff0c\u5728APP\u5185\u6216\u5728APP\u4e2d\u63a5\u5165\u7684\u7b2c\u4e09\u65b9\u670d\u52a1\u4e2d\u8bbf\u95ee\u3001\u66f4\u65b0\u548c\u5220\u9664\u60a8\u7684\u4e2a\u4eba\u4fe1\u606f\u3002\u5728\u8bbf\u95ee\u3001\u66f4\u65b0\u548c\u5220\u9664\u524d\u8ff0\u4fe1\u606f\u65f6\uff0c\u6211\u4eec\u53ef\u80fd\u4f1a\u8981\u6c42\u60a8\u8fdb\u884c\u8eab\u4efd\u9a8c\u8bc1\uff0c\u4ee5\u4fdd\u969c\u4fe1\u606f\u5b89\u5168\u3002\n\xa0\n6.2. \u6ce8\u9500\u8d26\u53f7\n\xa0\n\u5982\u60a8\u60f3\u8981\u6ce8\u9500APP\u8d26\u53f7\uff0c\u60a8\u53ef\u4ee5\u6309\u7167\u6211\u4eecAPP\u4e2d\u7684\u6307\u5f15\u63d0\u4ea4\u8d26\u53f7\u6ce8\u9500\u7533\u8bf7\uff0c\u6216\u8005\u901a\u8fc7\u6211\u4eec\u5728\u672c\u9690\u79c1\u653f\u7b56\u7b2c\u4e5d\u6761\u4e2d\u6240\u5217\u660e\u7684\u8054\u7cfb\u65b9\u5f0f\u8054\u7cfb\u6211\u4eec\uff0c\u6211\u4eec\u5c06\u8be6\u7ec6\u7684\u5411\u60a8\u544a\u77e5\u5982\u4f55\u6ce8\u9500APP\u8d26\u53f7\u3002\n\xa0\n6.3. \u9664\u6cd5\u5f8b\u6cd5\u89c4\u53e6\u6709\u89c4\u5b9a\uff0c\u5f53\u60a8\u66f4\u65b0\u3001\u5220\u9664\u60a8\u7684\u4e2a\u4eba\u4fe1\u606f\u6216\u7533\u8bf7\u6ce8\u9500\u5e10\u53f7\u65f6\uff0c\u6211\u4eec\u53ef\u80fd\u4e0d\u4f1a\u7acb\u5373\u4ece\u5907\u4efd\u7cfb\u7edf\u4e2d\u66f4\u65b0\u6216\u5220\u9664\u76f8\u5e94\u7684\u4fe1\u606f\uff0c\u4f46\u4f1a\u5728\u5907\u4efd\u66f4\u65b0\u65f6\u66f4\u65b0\u6216\u5220\u9664\u8fd9\u4e9b\u4fe1\u606f\u3002\n\xa0\n\xa0\n\xa0\n\u4e03\u3001\u672a\u6210\u5e74\u4eba\u4f7f\u7528\u6761\u6b3e\n\xa0\n7.1.\xa0 \xa0\u82e5\u60a8\u662f\u672a\u6ee118\u5468\u5c81\u7684\u672a\u6210\u5e74\u4eba\uff0c\u5728\u4f7f\u7528\u6211\u4eec\u7684APP\u53ca\u76f8\u5173\u670d\u52a1\u524d\uff0c\u5e94\u5728\u60a8\u7684\u7236\u6bcd\u6216\u5176\u4ed6\u76d1\u62a4\u4eba\u76d1\u62a4\u3001\u6307\u5bfc\u4e0b\u5171\u540c\u9605\u8bfb\u5e76\u540c\u610f\u672c\u9690\u79c1\u653f\u7b56\u3002\n\xa0\n7.2.\xa0 \xa0\u6211\u4eec\u6839\u636e\u56fd\u5bb6\u76f8\u5173\u6cd5\u5f8b\u6cd5\u89c4\u7684\u89c4\u5b9a\u4fdd\u62a4\u672a\u6210\u5e74\u4eba\u7684\u4e2a\u4eba\u4fe1\u606f\uff0c\u53ea\u4f1a\u5728\u6cd5\u5f8b\u5141\u8bb8\u3001\u7236\u6bcd\u6216\u5176\u4ed6\u76d1\u62a4\u4eba\u660e\u786e\u540c\u610f\u6216\u4fdd\u62a4\u672a\u6210\u5e74\u4eba\u6240\u5fc5\u8981\u7684\u60c5\u51b5\u4e0b\u6536\u96c6\u3001\u4f7f\u7528\u3001\u50a8\u5b58\u3001\u5171\u4eab\u3001\u8f6c\u8ba9\u6216\u62ab\u9732\u672a\u6210\u5e74\u4eba\u7684\u4e2a\u4eba\u4fe1\u606f\uff1b\u5982\u679c\u6211\u4eec\u53d1\u73b0\u5728\u672a\u4e8b\u5148\u83b7\u5f97\u53ef\u8bc1\u5b9e\u7684\u7236\u6bcd\u540c\u610f\u7684\u60c5\u51b5\u4e0b\u6536\u96c6\u4e86\u672a\u6210\u5e74\u4eba\u7684\u4e2a\u4eba\u4fe1\u606f\uff0c\u5219\u4f1a\u8bbe\u6cd5\u5c3d\u5feb\u5220\u9664\u76f8\u5173\u4fe1\u606f\u3002\n\xa0\n7.3.\xa0 \xa0\u82e5\u60a8\u662f\u672a\u6210\u5e74\u4eba\u7684\u76d1\u62a4\u4eba\uff0c\u5f53\u60a8\u5bf9\u60a8\u6240\u76d1\u62a4\u7684\u672a\u6210\u5e74\u4eba\u7684\u4e2a\u4eba\u4fe1\u606f\u6709\u76f8\u5173\u7591\u95ee\u65f6\uff0c\u8bf7\u901a\u8fc7\u516c\u53f8\u672c\u9690\u79c1\u653f\u7b56\u516c\u793a\u7684\u8054\u7cfb\u65b9\u5f0f\u4e0e\u6211\u4eec\u8054\u7cfb\u3002\n\xa0\n\xa0\n\xa0\n\u516b\u3001\u300a\u9690\u79c1\u653f\u7b56\u300b\u53d8\u66f4\n\xa0\n8.1.\xa0 \xa0\u672c\u300a\u9690\u79c1\u653f\u7b56\u300b\u7684\u6761\u6b3e\u5bf9\u4f7f\u7528\u672c\u516c\u53f8\u7f51\u7ad9\u53ca\u5176\u641c\u96c6\u5230\u7684\u4fe1\u606f\u5177\u6709\u7ea6\u675f\u6027\u3002\u6211\u4eec\u5bf9\u6b64\u653f\u7b56\u4fdd\u7559\u4fee\u6539\u6743\uff0c\u5982\u6709\u91cd\u5927\u53d8\u66f4\uff0c\u6211\u4eec\u4f1a\u7aed\u529b\u5728\u5b98\u65b9\u7f51\u7ad9\u4e0a\u505a\u51fa\u660e\u786e\u901a\u77e5\u3002\n\u9690\u79c1\u653f\u7b56\u53d1\u5e03\u65e5\u671f\u22362021\u5e7410\u670815\u65e5\n\u9690\u79c1\u653f\u7b56\u751f\u6548\u65e5\u671f\u22362021\u5e7410\u670815\u65e5\n\xa0\n\xa0\n\u4e5d\u3001\u5982\u4f55\u8054\u7cfb\u6211\u4eec\n\xa0\n9.1.\xa0 \xa0\u6211\u4eec\u975e\u5e38\u5c0a\u91cd\u6bcf\u4e00\u4f4d\u7528\u6237\u7684\u9690\u79c1\uff0c\u5e76\u7aed\u529b\u4fdd\u62a4\u7528\u6237\u7684\u4e2a\u4eba\u4fe1\u606f\uff0c\u5982\u679c\u60a8\u5bf9\u672c\u9690\u79c1\u653f\u7b56\u6709\u4efb\u4f55\u7591\u95ee\u3001\u610f\u89c1\u6216\u5efa\u8bae\uff0c\u6b22\u8fce\u5728\u5de5\u4f5c\u65e5\u65f6\u95f49:00-18:00\u8054\u7cfb\u6211\u4eec\uff0c\u6211\u4eec\u4f1a\u5c3d\u5feb\u505a\u51fa\u56de\u590d\u3002\n\xa0 \n\u5ba2\u670d\u90ae\u7bb1\uff1a3624303643@qq.com\xa0\n\u6ce8\u518c\u5730\u5740\uff1a\u6df1\u5733\u5e02\u798f\u7530\u533a\u6c99\u5934\u8857\u9053\u5929\u5b89\u793e\u533a\u6cf0\u7136\u56db\u8def26\u53f7\u6cf0\u7136\u79d1\u6280\u56ed\u52b2\u677e\u5927\u53a619C5D\n\u516c\u53f8\u5730\u5740\uff1a\u5e7f\u4e1c\u7701\u6df1\u5733\u5e02\u5b9d\u5b89\u533a\u65b0\u5b89\u8857\u9053\u6d77\u5929\u8def15\u53f7\u524d\u6d77\u5353\u8d8a\u65f6\u4ee3\u5e7f\u573aA\u5ea72606\u5ba4","\u7528\u6237\u534f\u8bae\n    \u6b22\u8fce\u60a8\u4f7f\u7528\u7531Chun Liu\u63d0\u4f9b\u7684\u670d\u52a1\u3002\n\u672c\u300a\u7528\u6237\u670d\u52a1\u534f\u8bae\u300b\uff08\u4ee5\u4e0b\u79f0\u201c\u672c\u534f\u8bae\u201d\uff09\u662f\u7528\u6237\uff08\u4ee5\u4e0b\u79f0\u201c\u60a8\u201d\uff09\u63a5\u53d7Chun Liu\uff08\u4ee5\u4e0b\u7b80\u79f0\u4e3a\u201c\u672c\u516c\u53f8\u201d\uff09\u6240\u63d0\u4f9b\u7684\u670d\u52a1\u6240\u4f7f\u7528\u7684\u6cd5\u5f8b\u670d\u52a1\u6761\u6b3e\u3002 \u672c\u516c\u53f8\u5728\u6b64\u7279\u522b\u63d0\u9192\u60a8\u8ba4\u771f\u9605\u8bfb\u672c\u534f\u8bae\u7684\u5168\u90e8\u6761\u6b3e\uff0c\u7279\u522b\u662f\u5176\u4e2d\u514d\u9664\u6216\u8005\u9650\u5236\u672c\u516c\u53f8\u8d23\u4efb\u7684\u514d\u8d23\u58f0\u660e\u6761\u6b3e\u4ee5\u53ca\u7528\u6237\u987b\u9075\u5b88\u7684\u6761\u6b3e\u548c\u5176\u5b83\u9650\u5236\u7528\u6237\u6743\u5229\u7684\u6761\u6b3e\uff0c\u8fd9\u4e9b\u6761\u6b3e\u5e94\u5728\u4e2d\u56fd\u6cd5\u5f8b\u6240\u5141\u8bb8\u7684\u8303\u56f4\u5185\u6700\u5927\u7a0b\u5ea6\u5730\u9002\u7528\u3002\u9664\u975e\u7528\u6237\u63a5\u53d7\u672c\u534f\u8bae\u7684\u5168\u90e8\u6761\u6b3e\uff0c\u5426\u5219\u65e0\u6743\u5b89\u88c5\u8fd0\u884c\u5ba2\u6237\u7aef\u8f6f\u4ef6\u6216\u4ee5\u5176\u5b83\u65b9\u5f0f\u4f7f\u7528\u672c\u516c\u53f8\u63d0\u4f9b\u7684\u4efb\u4f55\u670d\u52a1\u5185\u5bb9\u3002\n\u5f53\u60a8\u5728\u7ebf\u70b9\u51fb\u201c\u540c\u610f\u201d\u6216\u201c\u63a5\u53d7\u201d\u540e\uff0c\u5219\u89c6\u4e3a\u60a8\u5df2\u8be6\u7ec6\u9605\u8bfb\u5e76\u540c\u610f\u672c\u534f\u8bae\u7684\u5168\u90e8\u5185\u5bb9\uff0c\u5e76\u540c\u610f\u9075\u5b88\u672c\u534f\u8bae\u7684\u89c4\u5b9a\u3002\n\u5982\u679c\u60a8\u672a\u6ee118\u5468\u5c81\uff0c\u8bf7\u5728\u6cd5\u5b9a\u76d1\u62a4\u4eba\u7684\u966a\u540c\u4e0b\u9605\u8bfb\u672c\u534f\u8bae\u3002\n\u4e00\u3001\u7279\u522b\u63d0\u793a\n1. \u672c\u516c\u53f8\u540c\u610f\u6309\u7167\u672c\u534f\u8bae\u7684\u89c4\u5b9a\u53ca\u5176\u4e0d\u65f6\u53d1\u5e03\u7684\u64cd\u4f5c\u89c4\u5219\u63d0\u4f9b\u57fa\u4e8e\u4e92\u8054\u7f51\u7684\u76f8\u5173 \u670d\u52a1(\u4ee5\u4e0b\u79f0\u201c\u7f51\u7edc\u670d\u52a1\u201d)\uff0c\u4e3a\u83b7\u5f97\u7f51\u7edc\u670d\u52a1\uff0c\u60a8\u540c\u610f\u672c\u534f\u8bae\u7684\u5168\u90e8\u6761\u6b3e\u5e76\u6309\u7167\u9875\u9762\u4e0a\u7684\u63d0\u793a\u5b8c\u6210\u5168\u90e8\u7a0b\u5e8f\u3002\u60a8\u5728\u8fdb\u884c\u7a0b\u5e8f\u8fc7\u7a0b\u4e2d\u70b9\u51fb\u201c\u540c\u610f\u201d\u6309\u94ae\u5373\u8868\u793a\u7528\u6237\u5b8c\u5168\u63a5\u53d7\u672c\u534f\u8bae\u9879\u4e0b\u7684\u5168\u90e8\u6761\u6b3e\u3002\u8fd9\u4e9b\u6761\u6b3e\u53ef\u7531\u672c\u516c\u53f8\u968f\u65f6\u66f4\u65b0\uff0c\u534f\u8bae\u6761\u6b3e\u4e00\u65e6\u53d1\u751f\u53d8\u52a8\uff0c\u672c\u516c\u53f8\u5c06\u4f1a\u5728\u76f8\u5173\u7684\u9875\u9762\u4e0a\u63d0\u793a\u53d8\u66f4\u5185\u5bb9\u3002\u4fee\u6539\u540e\u7684\u534f\u8bae\u4e00\u65e6\u5728\u9875\u9762\u4e0a\u516c\u5e03\u5373\u6709\u6548\u4ee3\u66ff\u539f\u6765\u7684\u534f\u8bae\u3002\u60a8\u5728\u4f7f\u7528\u672c\u516c\u53f8\u63d0\u4f9b\u7684\u8f6f\u4ef6\u4ea7\u54c1\u4e4b\u524d\uff0c\u5e94\u4ed4\u7ec6\u9605\u8bfb\u672c\u534f\u8bae\uff0c\u5982\u4e0d\u540c\u610f\u672c\u670d\u52a1\u534f\u8bae\u53ca\u6216\u968f\u65f6\u5bf9\u5176\u7684\u4fee\u6539\uff0c\u8bf7\u505c\u6b62\u4f7f\u7528\u672c\u516c\u53f8\u63d0\u4f9b\u7684\u670d\u52a1\u5185\u5bb9\u3002\n2. \u7279\u522b\u7533\u660e\uff0c\u672a\u6210\u5e74\u4eba\u5e94\u5728\u6cd5\u5b9a\u76d1\u62a4\u4eba\u7684\u966a\u540c\u4e0b\u5ba1\u9605\u548c\u63a5\u53d7\u672c\u534f\u8bae\u3002\u672a\u6210\u5e74\u4eba\u5728\u4f7f\u7528\u672c\u516c\u53f8\u7684\u670d\u52a1\u524d\uff0c\u5e94\u4e8b\u5148\u53d6\u5f97\u7236\u6bcd\uff08\u76d1\u62a4\u4eba\uff09\u7684\u540c\u610f\u3002\u82e5\u7236\u6bcd\uff08\u76d1\u62a4\u4eba\uff09\u5e0c\u671b\u672a\u6210\u5e74\u4eba\uff08\u5c24\u5176\u662f\u5341\u5c81\u4ee5\u4e0b\u5b50\u5973\uff09\u5f97\u4ee5\u4f7f\u7528\u672c\u670d\u52a1\uff0c\u5fc5\u987b\u4ee5\u6cd5\u5b9a\u76d1\u62a4\u4eba\u8eab\u4efd\u52a0\u4ee5\u5224\u65ad\u672c\u670d\u52a1\u662f\u5426\u7b26\u5408\u4e8e\u672a\u6210\u5e74\u4eba\u3002\u672a\u6210\u5e74\u4eba\u7528\u6237\u5e94\u5f53\u5728\u5408\u7406\u7a0b\u5ea6\u5185\u4f7f\u7528\u672c\u516c\u53f8\u63d0\u4f9b\u7684\u670d\u52a1\u5185\u5bb9\uff0c\u4e0d\u5f97\u56e0\u4f7f\u7528\u672c\u516c\u53f8\u63d0\u4f9b\u7684\u670d\u52a1\u5185\u5bb9\u800c\u5f71\u54cd\u4e86\u65e5\u5e38\u7684\u5b66\u4e60\u751f\u6d3b\u3002\u7528\u6237\u7406\u89e3\u672c\u516c\u53f8\u65e0\u4e49\u52a1\u5bf9\u672c\u6b3e\u524d\u8ff0\u4e8b\u9879\u8fdb\u884c\u4efb\u4f55\u5f62\u5f0f\u7684\u5ba1\u67e5\u548c\u786e\u8ba4\u3002\n\u4e8c\u3001\u6743\u5c5e\u58f0\u660e\n1. \u672c\u516c\u53f8\u53d1\u5e03\u7684\u6240\u6709\u8f6f\u4ef6\u5747\u53d7\u4e2d\u534e\u4eba\u6c11\u5171\u548c\u56fd\u7248\u6743\u6cd5\u4fdd\u62a4\uff0c\u7528\u6237\u53ef\u4ee5\u514d\u8d39\u4e0b\u8f7d\u5e76\u4f7f\u7528\uff0c\u4f46\u672a\u7ecf\u672c\u516c\u53f8\u8bb8\u53ef\uff0c\u7528\u6237\u4e0d\u5f97\u4fee\u6539\u672c\u516c\u53f8\u6e38\u620f\u7684\u5ba2\u6237\u7aef\u7a0b\u5e8f\uff1b\u4e0d\u5f97\u5236\u4f5c\u3001\u4f20\u64ad\u6216\u4f7f\u7528\u6270 \u4e71\u6b63\u5e38\u6e38\u620f\u79e9\u5e8f\u6216\u6709\u635f\u672c\u516c\u53f8\u5229\u76ca\u7684\u4efb\u4f55\u7b2c\u4e09\u65b9\u8f6f\u4ef6\u3002\n2. \u672c\u516c\u53f8\u6e38\u620f\u670d\u52a1\u7684\u7ecf\u8425\u6743\u5c5e\u4e8e\u672c\u516c\u53f8\u6240\u6709\uff0c\u9664\u975e\u4e0e\u672c\u516c\u53f8\u53e6\u7b7e\u534f\u8bae\uff0c\u7528\u6237\u540c\u610f\u672c\u670d\u52a1\u4ec5\u4f9b\u4e2a\u4eba\u4e14\u4ec5\u4e8e\u672c\u670d\u52a1\u5e73\u53f0\u8303\u56f4\u5185\u975e\u5546\u4e1a\u6027\u8d28\u7684\u4f7f\u7528\u3002\u7528\u6237\u540c\u65f6\u627f\u8bfa\u4e0d\u7ecf\u672c\u516c\u53f8\u4e66\u9762\u540c\u610f\uff0c\u4e0d\u5f97\u5229\u7528\u672c\u670d\u52a1\u8fdb\u884c\u5e7f\u544a\u3001\u9500\u552e\u3001\u5546\u4e1a\u5c55\u793a\u7b49\u5546\u4e1a\u6027\u7528\u9014\u3002\n3. \u7528\u6237\u53d1\u8868\u4e8e\u672c\u516c\u53f8\u6e38\u620f\u53ca\u914d\u5957\u7f51\u7ad9\u7684\u6240\u6709\u5185\u5bb9\u4ec5\u4ee3\u8868\u7528\u6237\u81ea\u5df1\u7684\u7acb\u573a\u548c\u89c2\u70b9\uff0c\u4e0e\u672c\u516c\u53f8\u65e0\u5173\uff0c\u7531\u7528\u6237\u672c\u4eba\u627f\u62c5\u4e00\u5207\u6cd5\u5f8b\u8d23\u4efb\u3002\n\u4e09\u3001\u7528\u6237\u9690\u79c1\u5236\u5ea6\n\u672c\u516c\u53f8\u7edd\u5bf9\u4e0d\u4f1a\u4fee\u6539\u7528\u6237\u7684\u4e2a\u4eba\u8d44\u6599\uff0c\u6216\u7f16\u8f91\u6216\u900f\u9732\u7528\u6237\u5728\u6ce8\u518c\u8d44\u6599\u4e2d\u7684\u5bc6\u7801\u3001\u59d3\u540d\u3001\u5730\u5740\u3001\u7535\u8bdd\u3001\u8eab\u4efd\u8bc1\u53f7\u7801\u53ca\u4fdd\u5b58\u5728\u672c\u516c\u53f8\u4e2d\u7684\u975e\u516c\u5f00\u5185\u5bb9\uff0c\u9664\u975e\u6709\u6cd5\u5f8b\u8bb8\u53ef\u8981\u6c42\u6216\u672c\u516c\u53f8\u5728\u8bda\u4fe1\u7684\u57fa\u7840\u4e0a\u8ba4\u4e3a\u900f\u9732\u8fd9\u4e9b\u4fe1\u606f\u5728\u4ee5\u4e0b\u56db\u79cd\u60c5\u51b5\u662f\u5fc5\u8981\u7684\uff1a\n1. \u9075\u5b88\u6709\u5173\u6cd5\u5f8b\u89c4\u5b9a\uff0c\u9075\u4ece\u5408\u6cd5\u670d\u52a1\u7a0b\u5e8f\u3002\n2. \u7ef4\u62a4\u672c\u516c\u53f8\u7684\u5546\u6807\u6240\u6709\u6743\u3002\n3. \u5728\u7d27\u6025\u60c5\u51b5\u4e0b\u7aed\u529b\u7ef4\u62a4\u7528\u6237\u4e2a\u4eba\u548c\u793e\u4f1a\u5927\u4f17\u7684\u9690\u79c1\u5b89\u5168\u3002\n4. \u7b26\u5408\u5176\u4ed6\u76f8\u5173\u7684\u8981\u6c42\u3002\n\u56db\u3001\u6e38\u620f\u6570\u636e\u7684\u7279\u522b\u89c4\u5b9a\n\u672c\u516c\u53f8\u4e25\u7981\u4ee5\u4e0b\u884c\u4e3a\uff1a\n1. \u53d1\u5e03\u8fdd\u6cd5\u4fe1\u606f\u3001\u4e25\u91cd\u8fdd\u80cc\u793e\u4f1a\u516c\u5fb7\u3001\u4ee5\u53ca\u5176\u4ed6\u8fdd\u53cd\u6cd5\u5f8b\u7981\u6b62\u6027\u89c4\u5b9a\u7684\u884c\u4e3a\uff1b\n2. \u5229\u7528\u6e38\u620f\u4f5c\u5f0a\u5de5\u5177\u6216\u8005\u5916\u6302\u3001\u6e38\u620fBUG\u83b7\u53d6\u975e\u6cd5\u5229\u76ca\uff0c\u4e25\u91cd\u4fb5\u72af\u672c\u516c\u53f8\u5229\u76ca\u7684\u884c\u4e3a\uff1b\n3. \u8bba\u575b\u3001\u6e38\u620f\u4e2d\u4f20\u64ad\u975e\u6cd5\u8baf\u606f\u3001\u6728\u9a6c\u75c5\u6bd2\u3001\u5916\u6302\u8f6f\u4ef6\u7b49\u7684\u884c\u4e3a\uff1b\n4. \u56e0\u6e38\u620f\u4e2d\u4e3e\u529e\u7684\u6d3b\u52a8\u7ed3\u675f\uff0c\u76f8\u5173\u9053\u5177\u88ab\u5220\u9664\u6216\u5151\u6362\uff0c\u7528\u6237\u4e0d\u5f97\u63d0\u51fa\u7d22\u8d54\u7b49\u8981\u6c42\uff0c\u672c\u516c\u53f8\u5bf9\u4e8e\u6d3b\u52a8\u6709\u6700\u7ec8\u7684\u89e3\u91ca\u6743\u3002\n\u4e94\u3001\u670d\u52a1\u7684\u505c\u6b62\u548c\u66f4\u6539\n1. \u53d1\u751f\u4e0b\u5217\u60c5\u5f62\u4e4b\u4e00\u65f6\uff0c\u672c\u516c\u53f8\u6709\u6743\u505c\u6b62\u6216\u4e2d\u65ad\u5411\u7528\u6237\u63d0\u4f9b\u7684\u670d\u52a1\uff1a\u7528\u6237\u6709\u53d1\u5e03\u8fdd\u6cd5\u4fe1\u606f\u3001\u4e25\u91cd\u8fdd\u80cc\u793e\u4f1a\u516c\u5fb7\u3001\u4ee5\u53ca\u5176\u4ed6\u8fdd\u53cd\u6cd5\u5f8b\u7981\u6b62\u6027\u89c4\u5b9a\u7684\u884c\u4e3a\uff1b\n\ta. \u53d1\u5e03\u4e0d\u9053\u5fb7\u4fe1\u606f\u3001\u5e7f\u544a\u3001\u8a00\u8bba\u3001\u8fb1\u9a82\u9a9a\u6270\u4ed6\u4eba\uff0c\u6270\u4e71\u6b63\u5e38\u7684\u7f51\u7edc\u79e9\u5e8f\u548c\u6e38\u620f\u79e9\u5e8f\u7684\u884c\u4e3a\uff0c\u4ee5\u53ca\u5b9e\u65bd\u8fdd\u53cd\u672c\u534f\u8bae\u548c\u76f8\u5173\u89c4\u5b9a\u3001\u7ba1\u7406\u529e\u6cd5\u3001\u516c\u544a\u3001\u91cd\u8981\u63d0\u793a\uff0c\u5bf9\u672c\u516c\u53f8\u548c\u5176\u4ed6\u7528\u6237\u5229\u76ca\u9020\u6210\u635f\u5bb3\u7684\u5176\u4ed6\u884c\u4e3a\uff1b\n\tb. \u7531\u4e8e\u76f8\u5173\u653f\u5e9c\u673a\u6784\u7684\u8981\u6c42\u3002\n2. \u5728\u672c\u670d\u52a1\u6761\u6b3e\u7ea6\u5b9a\u7684\u60c5\u5f62\u4e0b\uff0c\u672c\u516c\u53f8\u5c31\u505c\u6b62\u6216\u66f4\u6539\u6216\u7ec8\u6b62\u5411\u7528\u6237\u6240\u63d0\u4f9b\u7684\u670d\u52a1\u800c\u53ef\u80fd\u4ea7\u751f\u7684\u4e0d\u4fbf\u6216\u635f\u5bb3\uff0c\u672c\u516c\u53f8\u5bf9\u7528\u6237\u672c\u4eba\u6216\u4efb\u4f55\u7b2c\u4e09\u4eba\u5747\u4e0d\u8d1f\u4efb\u4f55\u635f\u5bb3\u8d54\u507f\u8d23\u4efb\u3002\n3. \u672c\u516c\u53f8\u6709\u6743\u4ec5\u6839\u636e\u5176\u5224\u65ad\uff0c\u5355\u65b9\u51b3\u5b9a\u65b0\u589e\u3001\u4fee\u6539\u3001\u5220\u9664\u3001\u6682\u505c\u6216\u7ec8\u6b62\u5176\u6240\u63d0\u4f9b\u7684\u5168\u90e8\u6216\u90e8\u5206\u670d\u52a1\uff08\u5305\u62ec\u4e14\u4e0d\u9650\u4e8e\u589e\u52a0\u3001\u6682\u505c\u6216\u7ec8\u6b62\u67d0\u4e2a\u6e38\u620f\u7684\u8fd0\u8425\uff09\uff0c\u4e14\u65e0\u9700\u53e6\u884c\u4e2a\u522b\u901a\u77e5\u7528\u6237\uff0c\u7528\u6237\u4e0d\u5f97\u56e0\u6b64\u8981\u6c42\u4efb\u4f55\u8865\u507f\u6216\u8d54\u507f\u3002\n4. \u672c\u516c\u53f8\u5bf9\u5176\u670d\u52a1\u4e0d\u4fdd\u8bc1\u4e0d\u51fa\u73b0\u4efb\u4f55\u7a0b\u5e8fBUG\uff0c\u5e76\u5bf9\u7531\u6b64\u53ef\u80fd\u4ea7\u751f\u7684\u95ee\u9898\u4e0d\u627f\u62c5\u4efb\u4f55\u8d54\u507f\u8d23\u4efb\u3002\n\u516d\u3001\u670d\u52a1\u6761\u6b3e\u7684\u4fee\u6539\n\u672c\u516c\u53f8\u4fdd\u7559\u968f\u65f6\u4fee\u6539\u672c\u670d\u52a1\u6761\u6b3e\u7684\u6743\u5229\uff0c\u4fee\u6539\u672c\u670d\u52a1\u6761\u6b3e\u65f6\uff0c\u672c\u516c\u53f8\u5c06\u4e8e\u76f8\u5173\u7f51\u7ad9\u516c\u544a\u4fee\u6539\u7684\u4e8b\u5b9e\uff0c\u800c\u4e0d\u53e6\u5bf9\u7528\u6237\u8fdb\u884c\u4e2a\u522b\u901a\u77e5\u3002\u82e5\u7528\u6237\u4e0d\u540c\u610f\u4fee\u6539\u7684\u5185\u5bb9\uff0c\u53ef\u505c\u6b62\u4f7f\u7528\u672c\u516c\u53f8\u7684\u670d\u52a1\u3002\u82e5\u7528\u6237\u7ee7\u7eed\u4f7f\u7528\u672c\u516c\u53f8\u7684\u670d\u52a1\uff0c\u5373\u89c6\u4e3a\u7528\u6237\u5df2\u63a5\u53d7\u672c\u516c\u53f8\u6240\u4fee\u8ba2\u7684\u5185\u5bb9\u3002\n\u4e03\u3001\u6cd5\u5f8b\u9002\u7528\u548c\u4e89\u8bae\u89e3\u51b3\n1. \u672c\u534f\u8bae\u7684\u8ba2\u7acb\u3001\u6267\u884c\u548c\u89e3\u91ca\u53ca\u4e89\u8bae\u7684\u89e3\u51b3\u5747\u5e94\u9002\u7528\u4e2d\u56fd\u6cd5\u5f8b\u3002\n2. \u672c\u534f\u8bae\u6784\u6210\u53cc\u65b9\u5bf9\u672c\u534f\u8bae\u4e4b\u7ea6\u5b9a\u4e8b\u9879\u53ca\u5176\u4ed6\u6709\u5173\u4e8b\u5b9c\u7684\u5b8c\u6574\u534f\u8bae\uff0c\u9664\u672c\u534f\u8bae\u89c4\u5b9a\u7684\u4e4b\u5916\uff0c\u672a\u8d4b\u4e88\u672c\u534f\u8bae\u5404\u65b9\u5176\u4ed6\u6743\u5229\u3002\n3. \u5982\u672c\u534f\u8bae\u4e2d\u7684\u4efb\u4f55\u6761\u6b3e\u65e0\u8bba\u56e0\u4f55\u79cd\u539f\u56e0\u5b8c\u5168\u6216\u90e8\u5206\u65e0\u6548\u6216\u4e0d\u5177\u6709\u6267\u884c\u529b\uff0c\u672c\u534f\u8bae\u7684\u5176\u4f59\u6761\u6b3e\u4ecd\u5e94\u6709\u6548\u5e76\u4e14\u6709\u7ea6\u675f\u529b\u3002\n4. \u672c\u534f\u8bae\u4e2d\u7684\u6807\u9898\u4ec5\u4e3a\u65b9\u4fbf\u800c\u8bbe\uff0c\u4e0d\u5177\u6cd5\u5f8b\u6216\u5951\u7ea6\u6548\u679c\u3002\n5. \u5982\u53cc\u65b9\u5c31\u672c\u534f\u8bae\u5185\u5bb9\u6216\u5176\u6267\u884c\u53d1\u751f\u4efb\u4f55\u4e89\u8bae\uff0c\u53cc\u65b9\u5e94\u5c3d\u91cf\u53cb\u597d\u534f\u5546\u89e3\u51b3\uff1b\u534f\u5546\u4e0d\u6210\u65f6\uff0c\u4efb\u4f55\u4e00\u65b9\u5747\u53ef\u5411\u672c\u516c\u53f8\u6240\u5728\u5730\u7684\u4eba\u6c11\u6cd5\u9662\u63d0\u8d77\u8bc9\u8bbc\u3002\n6. \u5728\u9002\u7528\u6cd5\u5f8b\u5141\u8bb8\u7684\u6700\u5927\u8303\u56f4\u5185\uff0c\u672c\u516c\u53f8\u4fdd\u7559\u5bf9\u672c\u534f\u8bae\u7684\u6700\u7ec8\u89e3\u91ca\u6743\u3002\u7528\u6237\u5982\u5bf9\u672c\u534f\u8bae\u6709\u4efb\u4f55\u7591\u95ee\uff0c\u8bf7\u8054\u7cfb3624303643@qq.com\u3002\n\n\u7528\u6237\u534f\u8bae\u66f4\u65b0\u65e5\u671f\uff1a2021\u5e7410\u670818\u65e5\n    "],this.privacyPage=0,this.privacyPageTxtCount=400,this.privacyPageSum=[Math.ceil(this.privacyStr[0].length/this.privacyPageTxtCount),Math.ceil(this.privacyStr[1].length/this.privacyPageTxtCount)],this.isShare=!1,this.shareTime=0,this.shareFailBack=null,this.shareSucBack=null,this.videoFns={},this.nativeAds={},this.nativeAdListMap={},this.nativeAdCallMap={},this.nativeNodeMap={}}return t.prototype.setParaMap=function(t){this.paraMap=t},t.prototype.getPara=function(t){return this.paraMap.get(t)},t.prototype.getRuanZhu=function(){return this.ruanzhu},t.prototype.exit=function(){},t.prototype.getSysInfo=function(){return this.sysInfo||(this.sysInfo={windowHeight:cc.view.getVisibleSize().height,windowWidth:cc.view.getVisibleSize().width}),this.sysInfo},t.prototype.hasPrivacy=function(){return!0},t.prototype.privacyAgree=function(){return n.default.getData("isAgree",0)||n.default.saveData("isAgree",1),1},t.prototype.privacyReject=function(){return n.default.saveData("isAgree",0),0},t.prototype.privacyNextPage=function(t){this.privacyPage+1<this.privacyPageSum[t]&&this.privacyPage++;var e=this.privacyPage*this.privacyPageTxtCount;return this.privacyStr[t].substring(e,e+this.privacyPageTxtCount)},t.prototype.privacyPrePage=function(t){this.privacyPage-1>=0&&this.privacyPage--;var e=this.privacyPage*this.privacyPageTxtCount;return this.privacyStr[t].substring(e,e+this.privacyPageTxtCount)},t.prototype.privacyPage1=function(t){return this.privacyPage=0,this.privacyStr[t].substring(0,this.privacyPageTxtCount)},t.prototype.getCtrl=function(t){return this.ctrl&&this.ctrl[t]?parseFloat(this.ctrl[t]):0},t.prototype.getPrivacyShort=function(){return""},t.prototype.getPrivacy=function(){return""},t.prototype.init=function(){n.default.log("\u76ee\u6807===>"+this.channel+",R:"+o.pzaChannel.isConfRemote+",gid:"+this.getPara("gid"))},t.prototype.isShareSuc=function(){return!((new Date).getTime()-this.shareTime<3e3||(this.shareTime=(new Date).getTime(),0))},t.prototype.canShare=function(){return!1},t.prototype.shareAppMessage=function(t,e,a){void 0===e&&(e=null),void 0===a&&(a=null)},t.prototype.copyToClip=function(t,e){var a=document.createElement("textarea");a.value=t,a.setAttribute("readonly",""),a.style.position="absolute",a.style.left="-9999px",a.style.fontSize="12pt";var o,i=getSelection();i.rangeCount>0&&(o=i.getRangeAt(0)),document.body.appendChild(a),a.select(),a.selectionStart=0,a.selectionEnd=t.length;try{document.execCommand("copy"),e()}catch(r){n.default.err(r),e("\u590d\u5236\u5931\u8d25!")}document.body.removeChild(a),o&&(i.removeAllRanges(),i.addRange(o))},t.prototype.showVideo=function(t){t.sucCall(),t.endCall()},t.prototype.addGird9Icon=function(){},t.prototype.gird9IconClick=function(){},t.prototype.showGird9=function(){},t.prototype.canAutoGird9=function(){return!1},t.prototype.closeGird9=function(){},t.prototype.showBanner=function(t,e,a){void 0===t&&(t=!1),void 0===e&&(e=null),void 0===a&&(a=null)},t.prototype.closeBanner=function(){},t.prototype.showBannerByTime=function(t){void 0===t&&(t=!1)},t.prototype.closeBannerByTime=function(){},t.prototype.checkNativeInsert=function(){return!1},t.prototype.showNative=function(t,e,a,o,n){void 0===o&&(o=!1),void 0===n&&(n=null)},t.prototype.loadAndShowNative=function(){},t.prototype.loadNative=function(){},t.prototype.findAndReport=function(){},t.prototype.reportAdShow=function(){},t.prototype.reportAdClick=function(){},t.prototype.closeNative=function(){},t.prototype.getNativeData=function(){},t.prototype.showCustomAd=function(t,e,a){void 0===e&&(e=!1),void 0===a&&(a=null)},t.prototype.closeCustomAd=function(t){void 0===t&&(t=!1)},t.prototype.showInter=function(t){void 0===t&&(t=!1)},t.prototype.closeInter=function(){},t.prototype.showDesktop=function(){},t.prototype.addShortcut=function(){},t.prototype.recorderStart=function(){},t.prototype.recorderStop=function(){},t.prototype.getRecordTime=function(){return 0},t.prototype.shareVideo=function(t){void 0===t&&(t=null)},t.prototype.jumpTo=function(t,e,a,o){void 0===e&&(e=function(){}),void 0===a&&(a=function(){}),void 0===o&&(o=function(){})},t.prototype.canMoreGame=function(){return!1},t.prototype.showMoreGameBox=function(){},t}();a.pzaChannelWeb=i,cc._RF.pop()},{"./pzaChannel":"pzaChannel","./pzakc":"pzakc"}],pzaChannelWx1:[function(t,e,a){"use strict";cc._RF.push(e,"647a5kYA3lKsouIwp/koyBL","pzaChannelWx1");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)});Object.defineProperty(a,"__esModule",{value:!0}),a.pzaChannelWx1=void 0;var i=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.channel="wx1",e.paraMap=new Map([]),e.ruanzhu="",e.channelObj=window.wx,e}return n(e,t),e.prototype.getSysInfo=function(){return this.sysInfo||(this.sysInfo=this.channelObj.getSystemInfoSync()),this.sysInfo},e.prototype.hasPrivacy=function(){return!0},e.prototype.canShare=function(){return!1},e.prototype.shareAppMessage=function(t,e,a){void 0===e&&(e=null),void 0===a&&(a=null),this.canShare()&&this.channelObj.shareAppMessage({})},e.prototype.copyToClip=function(t,e){this.channelObj.setClipboardData({data:t,success:function(){e()},fail:function(){e("\u590d\u5236\u5931\u8d25")}})},e}(t("./pzaChannelWeb").pzaChannelWeb);a.pzaChannelWx1=i,cc._RF.pop()},{"./pzaChannelWeb":"pzaChannelWeb"}],pzaChannelWx:[function(t,e,a){"use strict";cc._RF.push(e,"d3233Z4pp5G1ohhvieWKzhz","pzaChannelWx");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)});Object.defineProperty(a,"__esModule",{value:!0}),a.pzaChannelWx=void 0;var i=t("./pzaChannelWeb"),r=t("./pzakc"),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.channel="wx",e.paraMap=new Map([["vedioAd","adunit-8326ea3dc016f65f"],["htid","1351"]]),e.ruanzhu="",e.channelObj=window.wx,e.cachedBannerSize=null,e.bannerTimeId=-1,e}return n(e,t),e.prototype.hasPrivacy=function(){return!0},e.prototype.getSysInfo=function(){return this.sysInfo||(this.sysInfo=this.channelObj.getSystemInfoSync()),this.sysInfo},e.prototype.init=function(){var e=this;t.prototype.init.call(this);var a=this.channelObj;a.onShow(function(){cc.game.resume(),pzaAudioMgr.instance().resumeAll(),e.isShare&&(e.isShareSuc()?(e.shareSucBack&&e.shareSucBack(),a.showToast({title:"\u5206\u4eab\u6210\u529f!"})):(a.showToast({title:"\u5206\u4eab\u5931\u8d25"}),e.shareFailBack&&e.shareFailBack()),e.isShare=!1)}),a.onHide(function(){cc.game.pause(),e.isShare&&(e.shareTime=(new Date).getTime())}),a.showShareMenu({withShareTicket:!0,menus:["shareAppMessage","shareTimeline"]}),a.onShareAppMessage(function(){return{title:"\u6211\u7684\u9c7c\u5858\u4eba\u6f6e\u62e5\u6324\uff0c\u770b\u4e0d\u89c1\u4f60\uff0c\u5408\u60c5\u5408\u7406",imageUrl:"https://mmocgame.qpic.cn/wechatgame/ddUNpKXle7zUSBovg3Vor4Ewyv2ibHvGZUpOOicYMsJGr7JnsYaWRXevdib8vtqf2xr/0",imageUrlId:"tWLKinQKTTWf5q5/EK+Gww=="}});var o=this;o.cacheBanner(),setInterval(function(){o.cacheBanner()},5e3),r.default.htInit(this.getPara("gid"))},e.prototype.cacheBanner=function(){var t=this;if(this.getPara("bannerAd")&&(!this.bannerAd||!this.cachedBannerSize)){r.default.log("cacheBanner\u5f00\u59cb,size:",this.cachedBannerSize,"ad:",this.bannerAd);var e=this.channelObj,a={adUnitId:this.getPara("bannerAd"),adIntervals:30,style:{left:1-this.getSysInfo().windowWidth,top:this.getSysInfo().windowHeight-1}};this.bannerAd=e.createBannerAd(a),this.bannerAd.onError(function(e){r.default.log("cachedBanner\u52a0\u8f7d\u5931\u8d25"+JSON.stringify(e)),t.bannerAd=null,t.cachedBannerSize=null}),this.bannerAd.onResize(function(e){console.log("cachedBanner onResize===",e.height,e.width),t.cachedBannerSize=e}),this.bannerAd.show().then(function(){r.default.log("cachedBanner\u6210\u529f")}).catch(function(e){r.default.log("cachedBanner err:"+JSON.stringify(e)),t.bannerAd=null,t.cachedBannerSize=null})}},e.prototype.showBanner=function(t,e,a){var o=this,n=this.getPara("bannerAd");if(n){if(r.default.log("showBanner isShow",n,a),this.bannerAd&&this.cachedBannerSize){var i=e?e(this.cachedBannerSize):{top:this.getSysInfo().windowHeight-this.cachedBannerSize.height,left:(this.getSysInfo().windowWidth-this.cachedBannerSize.width)/2};return this.bannerAd.style.top=i.top,this.bannerAd.style.left=i.left,i.height&&(this.bannerAd.style.height=i.height),void r.default.log("cachedBanner style:",this.bannerAd.style.top,this.bannerAd.style.left,this.bannerAd.style.height)}var p=this.channelObj,c={adUnitId:n,adIntervals:30,style:{left:0,top:this.getSysInfo().windowHeight-1}};this.bannerAd=p.createBannerAd(c),this.bannerAd.onError(function(t){r.default.log("banner\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25"+JSON.stringify(t)),o.bannerAd=null,o.cachedBannerSize=null}),this.bannerAd.onResize(function(t){console.log("banner onResize===",t.height,t.width);var a=e?e(t):{top:o.getSysInfo().windowHeight-t.height,left:(o.getSysInfo().windowWidth-t.width)/2};o.bannerAd.style.top=a.top,o.bannerAd.style.left=a.left,a.height&&(o.bannerAd.style.height=a.height),r.default.log("bannerAd style:",o.bannerAd.style.top,o.bannerAd.style.left,o.bannerAd.style.height)}),this.bannerAd.show().then(function(){r.default.log("banner\u663e\u793a\u6210\u529f")}).catch(function(t){o.bannerAd=null,o.cachedBannerSize=null,r.default.log("showBanner err:"+JSON.stringify(t))})}},e.prototype.closeBanner=function(){if(this.bannerAd)if(this.cachedBannerSize){var t={left:1-this.getSysInfo().windowWidth,top:this.getSysInfo().windowHeight-1};this.bannerAd.style.left=t.left,this.bannerAd.style.top=t.top}else this.bannerAd.hide()},e.prototype.showBannerByTime=function(t){var e=this;if(void 0===t&&(t=!1),this.getPara("bannerAd")){var a=30;this.bannerTimeId>=0&&clearInterval(this.bannerTimeId),this.closeBanner(),a<30&&(a=30),this.showBanner(t,null,"battle"),this.bannerTimeId=setInterval(function(){e.showBanner(t,null,"battle")},1e3*a)}},e.prototype.closeBannerByTime=function(){this.bannerTimeId>=0&&clearInterval(this.bannerTimeId),this.closeBanner()},e.prototype.canShare=function(){return!0},e.prototype.shareAppMessage=function(t,e,a){void 0===e&&(e=null),void 0===a&&(a=null),this.canShare()&&(this.channelObj.shareAppMessage({title:"\u6211\u662f\u8bf4\u8fc7\u6211\u7231\u4f60\uff0c\u4f46\u6ca1\u8bf4\u53ea\u7231\u4f60",imageUrl:"https://mmocgame.qpic.cn/wechatgame/ddUNpKXle7ziaibcSO9WLIicRFQDTFXrdlQYr2medLiaI64E2uKTsq0icRHKx6DicAMH0ib/0",imageUrlId:"K/4ASO0XThOqO9dNsSBoRw=="}),this.shareFailBack=a,this.shareSucBack=e,this.isShare=!0)},e.prototype.copyToClip=function(t,e){this.channelObj.setClipboardData({data:t,success:function(){e()},fail:function(){e("\u590d\u5236\u5931\u8d25")}})},e.prototype.showVideo=function(t){var e=this,a=this.getPara("vedioAd");if(a){this.rewardedVideoAd=this.channelObj.createRewardedVideoAd({adUnitId:a}),this.videoFns.onLoad&&this.rewardedVideoAd.offLoad(this.videoFns.onLoad),this.videoFns.onError&&this.rewardedVideoAd.offError(this.videoFns.onError),this.videoFns.onClose&&this.rewardedVideoAd.offClose(this.videoFns.onClose),this.rewardedVideoAd.offLoad(),this.rewardedVideoAd.offError(),this.rewardedVideoAd.offClose();var o=this;o.videoFns.onLoad=function(){r.default.log("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u52a0\u8f7d\u6210\u529f")},o.videoFns.onError=function(a){r.default.err(a),t.failCall(),e.channelObj.showToast({title:"\u6682\u65e0\u5e7f\u544a"}),t.endCall()},o.videoFns.onClose=function(e){e&&e.isEnded&&(t.sucCall(),r.default.eventReport("showVideo\u5b8c\u6210-"+t.posName)),t.endCall()},o.rewardedVideoAd.onLoad(o.videoFns.onLoad),o.rewardedVideoAd.onError(o.videoFns.onError),o.rewardedVideoAd.onClose(o.videoFns.onClose),this.rewardedVideoAd.show().then(function(){r.default.log("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u663e\u793a")}).catch(function(){e.rewardedVideoAd.load().then(function(){return r.default.log("\u624b\u52a8\u52a0\u8f7d\u6210\u529f"),e.rewardedVideoAd.show()})})}},e.prototype.showGird9=function(){var t=this.getPara("gird9");if(t){var e=this.ctrl&&this.ctrl.p3?parseInt(this.ctrl.p3):1;if(r.default.log("showCustomAd-wx","p3",e),e){var a=this.channelObj,o={adUnitId:t,adIntervals:30,style:{top:this.getSysInfo().windowHeight/2-280,left:0}};this.boxPortalAd=a.createCustomAd(o),this.boxPortalAd.offError(),this.boxPortalAd.onError(function(t){r.default.log("custom\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25"+JSON.stringify(t))}),this.boxPortalAd.show().then(function(){r.default.log("custom\u5e7f\u544a\u5c55\u793a\u5b8c\u6210")}).catch(function(t){r.default.log("custom\u5e7f\u544a\u5c55\u793a\u5931\u8d25"+JSON.stringify(t))})}}},e.prototype.closeGird9=function(){this.boxPortalAd&&this.boxPortalAd.hide()},e.prototype.canAutoGird9=function(){return!0},e.prototype.showNative=function(t,e,a){var o=this,n=this.getPara(a);if(n){r.default.log("showCustomAd-wx",a);var i=this.channelObj;if(this.nativeAds[a]&&this.nativeAds[a].isShow())r.default.log("icon\u6b63\u5728\u663e\u793a\u4e2d\uff0c\u4e0d\u518d\u91cd\u590d\u663e\u793a");else{var p=this.getSysInfo().windowHeight;r.default.log("showCustomAd-wx",a,n,p,this.getSysInfo().windowWidth);var c={adUnitId:n,adIntervals:30,style:{top:p/2-100,left:a.indexOf("2")<0?0:this.getSysInfo().windowWidth-70}};this.nativeAds[a]=i.createCustomAd(c),this.nativeAdCallMap.onError&&this.nativeAds[a].offError(this.nativeAdCallMap.onError),this.nativeAds[a].offError(),this.nativeAdCallMap.onError=function(t){r.default.log("\u539f\u751f\u6a21\u677f\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25"+JSON.stringify(t)),o.nativeNodeMap[a]=0},this.nativeAds[a].onError(this.nativeAdCallMap.onError),this.nativeAdCallMap.onHide&&this.nativeAds[a].offHide(this.nativeAdCallMap.onHide),this.nativeAds[a].offHide(),this.nativeAdCallMap.onHide=function(){o.nativeNodeMap[a]=0,r.default.log("\u539f\u751ficon\u5173\u95ed")},this.nativeAds[a].onHide(this.nativeAdCallMap.onHide),this.nativeAds[a].show().then(function(){r.default.log("\u539f\u751ficon\u5c55\u793a\u5b8c\u6210"),o.nativeNodeMap[a]=1}).catch(function(t){r.default.log("\u539f\u751ficon\u5c55\u793a\u5931\u8d25"+JSON.stringify(t)),o.nativeNodeMap[a]=0})}}},e.prototype.checkNativeInsert=function(t){if(t.indexOf("Insert")>0&&this.nativeNodeMap[t]&&this.nativeNodeMap[t].active){if(this.nativeNodeMap.nativeInsertAd&&this.nativeNodeMap.nativeInsertAd.active)return r.default.log("\u539f\u751f\u63d2\u5c4f\u53ea\u80fd\u51fa\u4e00\u4e2a"),!1;if(this.nativeNodeMap.nativeInsertAd2&&this.nativeNodeMap.nativeInsertAd2.active)return r.default.log("\u539f\u751f\u63d2\u5c4f\u53ea\u80fd\u51fa\u4e00\u4e2a2"),!1}return!0},e.prototype.closeNative=function(t){this.nativeAds[t]&&this.nativeAds[t].hide()},e.prototype.showInter=function(){var t=this.getPara("insertAd");if(t){var e=this.channelObj;r.default.log("showInter isShow",t),this.interstitialAd=e.createInterstitialAd({adUnitId:t}),this.interstitialAd.onError(function(t){console.log("\u63d2\u5c4f\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25"+JSON.stringify(t))}),this.interstitialAd.show().then(function(){r.default.log("\u63d2\u5c4f\u5e7f\u544a\u5c55\u793a\u5b8c\u6210")}).catch(function(t){r.default.log("\u63d2\u5c4f\u5e7f\u544a\u5c55\u793a\u5931\u8d25"+JSON.stringify(t))})}},e.prototype.showDesktop=function(){},e.prototype.jumpTo=function(t,e,a,o){r.default.log("jumpTo:"+t),this.channelObj.navigateToMiniProgram({appId:t,success:e,fail:a,complete:o})},e}(i.pzaChannelWeb);a.pzaChannelWx=p,cc._RF.pop()},{"./pzaChannelWeb":"pzaChannelWeb","./pzakc":"pzakc"}],pzaChannel:[function(t,e,a){"use strict";cc._RF.push(e,"891b1VRbSpD0accy/xnCqYi","pzaChannel"),Object.defineProperty(a,"__esModule",{value:!0}),a.pzaChannel=void 0;var o=t("./pzaChannelIOS"),n=t("./pzaChannelOppo"),i=t("./pzaChannelTap"),r=t("./pzaChannelTT"),p=t("./pzaChannelVivo"),c=t("./pzaChannelWeb"),l=t("./pzaChannelWx"),s=function(){function t(){this.channel="web",this.channelMap=new Map([["web",new c.pzaChannelWeb],["wx",new l.pzaChannelWx],["ios",new o.pzaChannelIOS],["tt",new r.pzaChannelTT],["oppo",new n.pzaChannelOppo],["vivo",new p.pzaChannelVivo],["taptap",new i.pzaChannelTap]])}return t.instance=function(){return t._me||(t._me=new t),t._me},t.prototype.getPara=function(t){return this.getChannel().getPara(t)},t.prototype.getChannel=function(){return this.channelMap.get(this.channel)},t.prototype.getRuanZhu=function(){return this.getChannel().getRuanZhu()},t.prototype.exit=function(){this.getChannel().exit()},t.prototype.getSysInfo=function(){return this.getChannel().getSysInfo()},t.prototype.hasPrivacy=function(){return this.getChannel().hasPrivacy()},t.prototype.privacyReject=function(){return this.getChannel().privacyReject()},t.prototype.privacyAgree=function(){return this.getChannel().privacyAgree()},t.prototype.privacyNextPage=function(t){return this.getChannel().privacyNextPage(t)},t.prototype.privacyPrePage=function(t){return this.getChannel().privacyPrePage(t)},t.prototype.privacyPage1=function(t){return this.getChannel().privacyPage1(t)},t.prototype.getCtrl=function(t){return this.getChannel().getCtrl(t)},t.prototype.getPrivacyShort=function(){return this.getChannel().getPrivacyShort()},t.prototype.getPrivacy=function(){return this.getChannel().getPrivacy()},t.prototype.init=function(){this.getChannel().init()},t.prototype.canShare=function(){return this.getChannel().canShare()},t.prototype.shareAppMessage=function(t,e,a){void 0===e&&(e=null),void 0===a&&(a=null),this.getChannel().shareAppMessage(t,e,a)},t.prototype.copyToClip=function(t,e){this.getChannel().copyToClip(t,e)},t.prototype.showVideo=function(t){this.getChannel().showVideo(t)},t.prototype.addGird9Icon=function(t,e){this.getChannel().addGird9Icon(t,e)},t.prototype.gird9IconClick=function(){this.getChannel().gird9IconClick()},t.prototype.showGird9=function(){this.getChannel().showGird9()},t.prototype.canAutoGird9=function(){return this.getChannel().canAutoGird9()},t.prototype.closeGird9=function(){this.getChannel().closeGird9()},t.prototype.showBanner=function(t,e,a){void 0===t&&(t=!1),void 0===e&&(e=null),void 0===a&&(a=null),this.getChannel().showBanner(t,e,a)},t.prototype.closeBanner=function(){this.getChannel().closeBanner()},t.prototype.showBannerByTime=function(t){void 0===t&&(t=!1),this.getChannel().showBannerByTime(t)},t.prototype.closeBannerByTime=function(){this.getChannel().closeBannerByTime()},t.prototype.checkNativeInsert=function(t){return this.getChannel().checkNativeInsert(t)},t.prototype.showNative=function(t,e,a,o,n){void 0===o&&(o=!1),void 0===n&&(n=null),this.getChannel().showNative(t,e,a,o,n)},t.prototype.loadAndShowNative=function(t,e,a){this.getChannel().loadAndShowNative(t,e,a)},t.prototype.loadNative=function(t,e){this.getChannel().loadNative(t,e)},t.prototype.findAndReport=function(){this.getChannel().findAndReport()},t.prototype.reportAdShow=function(t,e){this.getChannel().reportAdShow(t,e)},t.prototype.reportAdClick=function(t){this.getChannel().reportAdClick(t)},t.prototype.closeNative=function(t){this.getChannel().closeNative(t)},t.prototype.getNativeData=function(t){this.getChannel().getNativeData(t)},t.prototype.showCustomAd=function(t,e,a){void 0===e&&(e=!1),void 0===a&&(a=null),this.getChannel().showCustomAd(t,e,a)},t.prototype.closeCustomAd=function(t){void 0===t&&(t=!1),this.getChannel().closeCustomAd(t)},t.prototype.showInter=function(t){void 0===t&&(t=!1),this.getChannel().showInter(t)},t.prototype.closeInter=function(){this.getChannel().closeInter()},t.prototype.showDesktop=function(t,e){this.getChannel().showDesktop(t,e)},t.prototype.addShortcut=function(){this.getChannel().addShortcut()},t.prototype.recorderStart=function(){this.getChannel().recorderStart()},t.prototype.recorderStop=function(){this.getChannel().recorderStop()},t.prototype.getRecordTime=function(){return this.getChannel().getRecordTime()},t.prototype.shareVideo=function(t){void 0===t&&(t=null),this.getChannel().shareVideo(t)},t.prototype.jumpTo=function(t,e,a,o){void 0===e&&(e=function(){}),void 0===a&&(a=function(){}),void 0===o&&(o=function(){}),this.getChannel().jumpTo(t,e,a,o)},t.prototype.canMoreGame=function(){return this.getChannel().canMoreGame()},t.prototype.showMoreGameBox=function(t,e,a){this.getChannel().showMoreGameBox(t,e,a)},t.prototype.showComm=function(){"ios"===this.getChannel().channel&&this.getChannel().showComm()},t.isConfRemote=!1,t.remoteVerKey="debug",t.adDayMax=5,t}();a.pzaChannel=s,cc._RF.pop()},{"./pzaChannelIOS":"pzaChannelIOS","./pzaChannelOppo":"pzaChannelOppo","./pzaChannelTT":"pzaChannelTT","./pzaChannelTap":"pzaChannelTap","./pzaChannelVivo":"pzaChannelVivo","./pzaChannelWeb":"pzaChannelWeb","./pzaChannelWx":"pzaChannelWx"}],pzaChapterConfig:[function(t,e,a){"use strict";cc._RF.push(e,"3e462gHxl9CDojzK6SoDnHG","pzaChapterConfig"),Object.defineProperty(a,"__esModule",{value:!0}),a.pzaChapterConfig=void 0;var o=function(){function t(t,e,a){this.chapter=1,this.chapterName=null,this.partCount=0,this.chapter=t,this.chapterName=e,this.partCount=a}return t.chapterConfigMap=new Map([[1,new t(1,"\u50f5\u5c38\u6765\u88ad",10)],[2,new t(2,"\u9ed1\u5e55\u964d\u4e34",10)],[3,new t(3,"\u540e\u9662\u544a\u6025",10)],[4,new t(4,"\u8ff7\u96fe\u91cd\u91cd",10)],[5,new t(5,"\u5c4b\u9876\u51b3\u6218",10)]]),t}();a.pzaChapterConfig=o,cc._RF.pop()},{}],pzaChapterItem:[function(t,e,a){"use strict";cc._RF.push(e,"8420c4hzRdGEpVv7uxIpjIm","pzaChapterItem");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaChapterItem=void 0;var r=t("../../Common/pzaChapterConfig"),p=t("../../Common/pzaLocalData"),c=t("../../Common/pzaUIManager"),l=t("../../Load/pzaPreLoadManager"),s=t("./pzaPartSelectView"),u=cc._decorator,h=u.ccclass,f=u.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bowNode=null,e.lock=null,e.chpaterPro=null,e.curChapter=1,e.startGameCall=null,e}return n(e,t),e.prototype.init=function(t,e){if(this.curChapter=t,this.startGameCall=e,p.pzaLocalData.data.curChapter<t)return this.chpaterPro.node.active=!1,this.lock.active=!0,void(this.bowNode.active=!1);this.lock.active=!1,this.bowNode.active=!0,this.chpaterPro.node.active=!0;var a=r.pzaChapterConfig.chapterConfigMap.get(t);if(null!=a){var o=p.pzaLocalData.getPassPart(t);o<0&&(o=a.partCount),this.chpaterPro.string=o+"/"+a.partCount}},e.prototype.clickChapter=function(){var t=this;c.pzaUIManager.baseShowPopUI(l.pzaResourceUrl.PART_SELECT_VIEW,function(e){var a=e&&e.getComponent(s.pzaPartSelectView);a&&a.init(t.curChapter,t.startGameCall)})},i([f({displayName:"\u8774\u8776\u7ed3",type:cc.Node})],e.prototype,"bowNode",void 0),i([f({displayName:"\u9501",type:cc.Node})],e.prototype,"lock",void 0),i([f({displayName:"\u7ae0\u8282\u8fdb\u5ea6",type:cc.Label})],e.prototype,"chpaterPro",void 0),i([h],e)}(cc.Component);a.pzaChapterItem=d,cc._RF.pop()},{"../../Common/pzaChapterConfig":"pzaChapterConfig","../../Common/pzaLocalData":"pzaLocalData","../../Common/pzaUIManager":"pzaUIManager","../../Load/pzaPreLoadManager":"pzaPreLoadManager","./pzaPartSelectView":"pzaPartSelectView"}],pzaChapterSelectView:[function(t,e,a){"use strict";cc._RF.push(e,"b0a70xl4TpOiaxjassZIJxU","pzaChapterSelectView");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaChapterSelectView=void 0;var r=t("../../Common/pzaChapterConfig"),p=t("../../Common/pzaGameCommonPool"),c=t("../../Common/pzaGameConfig"),l=t("../../Common/pzaLocalData"),s=t("./pzaChapterItem"),u=cc._decorator,h=u.ccclass,f=u.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.chapterName=null,e.chapters=[],e.leftArrow=null,e.rightArrow=null,e.chapterScroll=null,e.pagePoint=null,e.starCount=null,e.curChapter=1,e.scrollBeiginOffset=null,e}return n(e,t),e.prototype.onEnable=function(){this.scrollBeiginOffset=null;for(var t=1;t<=r.pzaChapterConfig.chapterConfigMap.size;t++){var e=this.chapters[t-1];e&&e.init(t,this.startGameCall.bind(this))}this.curChapter=l.pzaLocalData.data.lastChapter,this.showChapter(),this.chapterScroll.scrollToOffset(cc.v2(900*(this.curChapter-1),0)),this.starCount.string=l.pzaLocalData.getAllStar()+"/"+c.pzaGameConfig.getAllPartStar()},e.prototype.scrollEvent=function(t,e){if(12!=e){if(10==e){var a=this.chapterScroll.getScrollOffset();if(null!=a&&null!=this.scrollBeiginOffset){var o=a.x-this.scrollBeiginOffset.x;this.scrollBeiginOffset=null,Math.abs(o)<10||(this.curChapter=o>0?this.curChapter-1:this.curChapter+1,this.curChapter<1&&(this.curChapter=1),this.curChapter>r.pzaChapterConfig.chapterConfigMap.size&&(this.curChapter=r.pzaChapterConfig.chapterConfigMap.size),this.showChapter(),this.chapterScroll.scrollToOffset(cc.v2(900*(this.curChapter-1),0),Math.abs(900-Math.abs(o))/1800))}}}else this.scrollBeiginOffset=this.chapterScroll.getScrollOffset()},e.prototype.showChapter=function(){var t=r.pzaChapterConfig.chapterConfigMap.get(this.curChapter);null!=t&&(this.chapterName.string=t.chapterName),this.leftArrow.active=this.curChapter>1,this.rightArrow.active=this.curChapter<r.pzaChapterConfig.chapterConfigMap.size,this.pagePoint.x=35*(this.curChapter-1)-76},e.prototype.clickLeftArrow=function(){this.curChapter--,this.curChapter<1&&(this.curChapter=1),this.curChapter>r.pzaChapterConfig.chapterConfigMap.size&&(this.curChapter=r.pzaChapterConfig.chapterConfigMap.size),this.chapterScroll.scrollToOffset(cc.v2(900*(this.curChapter-1),0),.5),this.showChapter()},e.prototype.clickRightArrow=function(){this.curChapter++,this.curChapter<1&&(this.curChapter=1),this.curChapter>r.pzaChapterConfig.chapterConfigMap.size&&(this.curChapter=r.pzaChapterConfig.chapterConfigMap.size),this.chapterScroll.scrollToOffset(cc.v2(900*(this.curChapter-1),0),.5),this.showChapter()},e.prototype.startGameCall=function(){this.close()},e.prototype.clickClose=function(){this.close()},e.prototype.close=function(){p.pzaGameCommonPool.returnInstant(this.node)},i([f({displayName:"\u7ae0\u8282\u540d\u79f0",type:cc.Label})],e.prototype,"chapterName",void 0),i([f({displayName:"\u7ae0\u8282Item",type:[s.pzaChapterItem]})],e.prototype,"chapters",void 0),i([f({displayName:"\u5de6\u7bad\u5934",type:cc.Node})],e.prototype,"leftArrow",void 0),i([f({displayName:"\u53f3\u7bad\u5934",type:cc.Node})],e.prototype,"rightArrow",void 0),i([f({displayName:"\u7ae0\u8282\u6eda\u52a8\u9762\u677f",type:cc.ScrollView})],e.prototype,"chapterScroll",void 0),i([f({displayName:"\u9875\u9762\u70b9",type:cc.Node})],e.prototype,"pagePoint",void 0),i([f({displayName:"\u661f\u661f\u6570\u91cf",type:cc.Label})],e.prototype,"starCount",void 0),i([h],e)}(cc.Component);a.pzaChapterSelectView=d,cc._RF.pop()},{"../../Common/pzaChapterConfig":"pzaChapterConfig","../../Common/pzaGameCommonPool":"pzaGameCommonPool","../../Common/pzaGameConfig":"pzaGameConfig","../../Common/pzaLocalData":"pzaLocalData","./pzaChapterItem":"pzaChapterItem"}],pzaCherryBomb:[function(t,e,a){"use strict";cc._RF.push(e,"f74c6b9TIpBYZF6od1SUQB5","pzaCherryBomb");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaCherryBomb=void 0;var r=t("../../Common/pzaGameConfig"),p=t("../pzaEffectManager"),c=t("../pzaGameState"),l=t("./pzaAttackType"),s=t("./pzaBasePlant"),u=cc._decorator,h=u.ccclass,f=(u.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.bindData=function(e){var a=this;t.prototype.bindData.call(this,e),this.animation.playAnimation("attack",!1,function(){a.attack()})},e.prototype.attack=function(){var t=this;p.pzaEffectManager.createCherryBoomEffect(cc.v2(this.baseData.logicPos.x,this.baseData.logicPos.y+30),null),this.baseData.isDead=!0,window.pzaplantManager.removePlant(this.baseData),this.death();var e=window.pzazombieManager.findFixRangeZombies(this.baseData.logicPos,1.5*r.pzaGameConfig.getBlockWidth(c.pzaGameState.curChapter));null!=e&&e.forEach(function(e){e&&e.hurt(t.baseData.atk,t.baseData,l.pzaAttackType.BOOM)})},i([h],e)}(s.pzaBasePlant));a.pzaCherryBomb=f,cc._RF.pop()},{"../../Common/pzaGameConfig":"pzaGameConfig","../pzaEffectManager":"pzaEffectManager","../pzaGameState":"pzaGameState","./pzaAttackType":"pzaAttackType","./pzaBasePlant":"pzaBasePlant"}],pzaChomper:[function(t,e,a){"use strict";cc._RF.push(e,"a41fdxYsaxBIZPWmsxhOAdl","pzaChomper");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaChomper=void 0;var r=t("../../Common/pzaGameConfig"),p=t("../../Common/pzaUtil"),c=t("../Data/pzaBuffData"),l=t("../Data/pzaZombieEnum"),s=t("../pzaGameState"),u=t("./pzaAttackType"),h=t("./pzaBasePlant"),f=cc._decorator,d=f.ccclass,m=(f.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.eatingTime=0,e.eating=!1,e.readyTime=0,e}return n(e,t),e.prototype.bindData=function(e){t.prototype.bindData.call(this,e),this.eatingTime=0,this.readyTime=0,this.eating=!1,this.animation.playAnimation("idle1",!0)},e.prototype.logicUpdate=function(t){var e=this;if(null!=this.baseData&&null!=this.baseData.plantData&&!this.baseData.isDead){if(this.eatingTime>0)return this.eatingTime-=t,void(this.eatingTime<=0&&(this.eating=!0,this.animation.playAnimation("eat",!1,function(){e.eating=!1,e.animation.playAnimation("idle1",!0)})));if(!this.eating)if(this.readyTime>0){if(this.readyTime-=t,this.readyTime<=0){var a=this.findAttackTarget();a&&this.attack(a)}}else null!=this.findAttackTarget()&&(this.readyTime=2)}},e.prototype.findAttackTarget=function(){var t=this,e=1.8*r.pzaGameConfig.getBlockWidth(s.pzaGameState.curChapter),a=null,o=-1;return window.pzazombieManager.zombieDatas[this.baseData.yIndex].forEach(function(n){if(n&&n.logicPos&&!(n.logicPos.x<t.baseData.logicPos.x)&&!n.buffData.hasBuff(c.pzaBuffType.FLY)&&!n.buffData.hasBuff(c.pzaBuffType.UNABLE_SELECT)){var i=p.pzaUtil.getDistance(n.logicPos,t.baseData.logicPos);if(!(i>e)&&(n.zombieData.zombieType!=l.pzaZombieEnum.POLEVAULTING_ZOMBIE||n.buffData.hasBuff(c.pzaBuffType.FROZEN)||n.zombieData.toolType==l.pzaEquipType.NO_EQUIP))return-1==o?(a=n,void(o=i)):void(o<=i||(a=n,o=i))}}),a},e.prototype.attack=function(t){var e=this;this.eatingTime=40,this.animation.playAnimation("attack",!1,function(){e.animation.playAnimation(e.eatingTime>0?"idle2":"idle1",!0)},function(){var a=window.pzazombieManager.getZombie(t);null==a||null==a.baseData||a.baseData.isDead?e.eatingTime=0:(a.hurt(e.baseData.atk,e.baseData,u.pzaAttackType.EAT),t.isDead||(e.eatingTime=0))})},i([d],e)}(h.pzaBasePlant));a.pzaChomper=m,cc._RF.pop()},{"../../Common/pzaGameConfig":"pzaGameConfig","../../Common/pzaUtil":"pzaUtil","../Data/pzaBuffData":"pzaBuffData","../Data/pzaZombieEnum":"pzaZombieEnum","../pzaGameState":"pzaGameState","./pzaAttackType":"pzaAttackType","./pzaBasePlant":"pzaBasePlant"}],pzaCleanCar:[function(t,e,a){"use strict";cc._RF.push(e,"5a52ePJqmdPd7fMu7FAbLQM","pzaCleanCar");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaCleanCar=void 0;var r=t("../Common/pzaBaseComponent"),p=t("../Common/pzaGameConfig"),c=t("../Common/pzaGroupEnum"),l=t("../Common/pzaNodeManager"),s=t("../Common/pzaTipManager"),u=t("../Load/pzaBundleObjectPool"),h=t("../Load/pzaPreLoadManager"),f=t("./Data/pzaBaseData"),d=t("./Effect/pzaShadowEffect"),m=t("./Plant/pzaAttackType"),y=t("./Zombie/pzaZombieBody"),z=t("./pzaGameState"),b=cc._decorator,g=b.ccclass,v=b.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lawnCar=null,e.poolCar=null,e.roofCar=null,e.hasTrigger=!1,e.carType=1,e.yIndex=0,e}return n(e,t),e.prototype.init=function(t,e){var a=this;this.lawnCar.active=1==t,this.poolCar.active=2==t,this.roofCar.active=3==t,this.carType=t,this.yIndex=e,this.hasTrigger=!1;var o=p.pzaGameConfig.getMapOriPos(z.pzaGameState.curChapter);if(null!=o){var n=cc.v2(o.x-26,o.y+p.pzaGameConfig.getYPos(z.pzaGameState.curChapter,e)+55);this.node.stopAllActions(),this.node.setPosition(n.add(cc.v2(-100,0))),this.node.runAction(cc.sequence(cc.moveTo(.05+.02*e,n),cc.callFunc(function(){a.createShadow()})));var i=10*-e+1;this.node.zIndex=i,this.baseData=new f.pzaBaseData(null,null),this.baseData.logicPos=n,this.baseData.hp=1}},e.prototype.logicUpdate=function(t){if(this.hasTrigger){var e=this.node.x;e+=450*t;var a=cc.v2(e,this.node.y);if(p.pzaGameConfig.fixMapYOffset(z.pzaGameState.curChapter,this.yIndex,a,55),this.baseData.logicPos=a,this.node.setPosition(a),2!=this.carType&&window.pzaMapManager.isInWaterWay(this.yIndex)){var o=p.pzaGameConfig.getMapOriPos(z.pzaGameState.curChapter);if(o&&e>=o.x)return void this.close()}e>=640&&this.close()}},e.prototype.onCollisionEnter=function(t,e){this.onCollision(t,e)},e.prototype.onCollisionStay=function(t,e){this.onCollision(t,e)},e.prototype.onCollision=function(t){if(null!=t&&t.node.group==c.pzaGroupEnum.ZOMBIE){var e=t.node.getComponent(y.pzaZombieBody);this.colliderZombie(e&&e.baseData)}},e.prototype.colliderZombie=function(t){if(null!=t&&!t.isDead&&t.yIndex==this.yIndex){if(!this.hasTrigger){this.hasTrigger=!0;var e=10*-this.yIndex+6;this.node.zIndex=e,z.pzaGameState.partStar>0&&!z.pzaGameState.lossCar&&(z.pzaGameState.lossCar=!0,z.pzaGameState.partStar--,s.pzaTipManager.showLossStarTip(!0,!1))}var a=window.pzazombieManager.getZombie(t);a&&a.hurt(1800,null,m.pzaAttackType.CLEAN_CAR)}},e.prototype.createShadow=function(){var t=this,e=l.pzaNodeManager.getDownEffectNode();u.pzaBundleObjectPool.requestInstantByUrl(h.pzaResourceUrl.SHADOW,!1,function(a,o){if(null==a&&null!=o){o.setParent(e);var n=o.getComponent(d.pzaShadowEffect);n&&n.init(t.baseData,cc.v2(15,-20))}else console.error(a)})},e.prototype.close=function(){t.prototype.close.call(this),this.baseData.isDead=!0},i([v({displayName:"\u8349\u5730\u63a8\u8f66",type:cc.Node})],e.prototype,"lawnCar",void 0),i([v({displayName:"\u6c34\u6c60\u63a8\u8f66",type:cc.Node})],e.prototype,"poolCar",void 0),i([v({displayName:"\u5c4b\u9876\u63a8\u8f66",type:cc.Node})],e.prototype,"roofCar",void 0),i([g],e)}(r.pzaBaseComponent);a.pzaCleanCar=_,cc._RF.pop()},{"../Common/pzaBaseComponent":"pzaBaseComponent","../Common/pzaGameConfig":"pzaGameConfig","../Common/pzaGroupEnum":"pzaGroupEnum","../Common/pzaNodeManager":"pzaNodeManager","../Common/pzaTipManager":"pzaTipManager","../Load/pzaBundleObjectPool":"pzaBundleObjectPool","../Load/pzaPreLoadManager":"pzaPreLoadManager","./Data/pzaBaseData":"pzaBaseData","./Effect/pzaShadowEffect":"pzaShadowEffect","./Plant/pzaAttackType":"pzaAttackType","./Zombie/pzaZombieBody":"pzaZombieBody","./pzaGameState":"pzaGameState"}],pzaCoffeeBean:[function(t,e,a){"use strict";cc._RF.push(e,"9a409nTfSpAAr41TDJZfv8e","pzaCoffeeBean");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaCoffeeBean=void 0;var r=t("./pzaBasePlant"),p=cc._decorator,c=p.ccclass,l=(p.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.bindData=function(e){t.prototype.bindData.call(this,e),this.animation.playAnimation("daiji",!0)},e.prototype.logicUpdate=function(t){if(!(null==this.baseData||this.baseData.isDead||null==this.baseData.plantData||(this.baseData.plantData.atkInterval+=t,this.baseData.plantData.atkInterval<this.atkInterval))){var e=""+this.baseData.xIndex+this.baseData.yIndex,a=window.pzaplantManager.plantDataMap.get(e);this.attack(a)}},e.prototype.attack=function(t){var e=this;this.baseData.isDead=!0,window.pzaplantManager.removePlant(this.baseData),this.animation.playAnimation("gongji",!1,function(){e.death()},null);var a=window.pzaplantManager.getPlantByData(t);null!=a&&a.wakeUp()},i([c],e)}(r.pzaBasePlant));a.pzaCoffeeBean=l,cc._RF.pop()},{"./pzaBasePlant":"pzaBasePlant"}],pzaCollisionManager:[function(t,e,a){"use strict";cc._RF.push(e,"f47c5wLAAZL35lEo7ZfwU94","pzaCollisionManager");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaCollisionManager=void 0;var r=cc._decorator,p=r.ccclass,c=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.self=null,e.enableCollision=!0,e.enabledDebugDraw=!0,e.collisionMgr=null,e}var a;return n(e,t),a=e,Object.defineProperty(e,"getInstance",{get:function(){return this.instance},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this.self=a.instance=this,this.collisionMgr=cc.director.getCollisionManager(),this.collisionMgr.enabled=this.enableCollision,this.collisionMgr.enabledDebugDraw=this.enabledDebugDraw},e.prototype.getCollisionManager=function(){return this.self?this.self.collisionMgr:null},e.instance=null,i([c({displayName:"\u5f00\u542f\u78b0\u649e"})],e.prototype,"enableCollision",void 0),i([c({displayName:"\u5f00\u542f\u7ed8\u5236"})],e.prototype,"enabledDebugDraw",void 0),a=i([p],e)}(cc.Component);a.pzaCollisionManager=l,cc._RF.pop()},{}],pzaCommonMask:[function(t,e,a){"use strict";cc._RF.push(e,"8acf6hM6spH95r2V4yFdaI6","pzaCommonMask");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaCommonMask=void 0;var r=cc._decorator,p=r.ccclass,c=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.maskNode=null,e}var a;return n(e,t),a=e,e.prototype.onLoad=function(){this.maskNode.active=!1,a.instance=this},e.showMask=function(){var t=a.instance;null!=t&&(t.maskNode.active=!0)},e.hideMask=function(){var t=a.instance;null!=t&&(t.maskNode.active=!1)},e.instance=null,i([c({displayName:"\u901a\u7528\u906e\u7f69",type:cc.Node})],e.prototype,"maskNode",void 0),a=i([p],e)}(cc.Component);a.pzaCommonMask=l,cc._RF.pop()},{}],pzaConeHeadZombie:[function(t,e,a){"use strict";cc._RF.push(e,"7840eOssB1PAL8q0Rc3DOeL","pzaConeHeadZombie");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaConeHeadZombie=void 0;var r=t("../Data/pzaZombieEnum"),p=t("../pzaEffectManager"),c=t("./pzaBaseZombie"),l=cc._decorator,s=l.ccclass,u=(l.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.zombieHurt=function(){this.zombieHurtState=r.pzaHurtStateEnum.HURT,this.curSkinName=this.curSkinName+"_1",this.animation.setAnimationSkin(this.curSkinName);var t=10*-this.baseData.yIndex+5;p.pzaEffectManager.createZombieCloseFallEffect(this.baseData.logicPos,t,null)},e.prototype.equipDying=function(){t.prototype.equipDying.call(this),this.equipAnimation.setAnimationSkin("2Conehead_3")},e.prototype.equipHurt=function(){t.prototype.equipHurt.call(this),this.equipAnimation.setAnimationSkin("2Conehead_2")},e.prototype.equipIntact=function(){t.prototype.equipIntact.call(this),this.equipAnimation.setAnimationSkin("2Conehead_1")},i([s],e)}(c.pzaBaseZombie));a.pzaConeHeadZombie=u,cc._RF.pop()},{"../Data/pzaZombieEnum":"pzaZombieEnum","../pzaEffectManager":"pzaEffectManager","./pzaBaseZombie":"pzaBaseZombie"}],pzaDancingZombie:[function(t,e,a){"use strict";cc._RF.push(e,"20bc9UOvSlIXarlMuYUaqFr","pzaDancingZombie");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaDancingZombie=void 0;var r=t("../../Common/pzaGameConfig"),p=t("../../Common/pzaGameManager"),c=t("../../Common/pzaUIManager"),l=t("../../Common/pzaWorldEventManager"),s=t("../../Load/pzaPreLoadManager"),u=t("../../View/Battle/pzaNewZombieView"),h=t("../Data/pzaBuffData"),f=t("../Data/pzaZombieEnum"),d=t("../pzaGameState"),m=t("./pzaBaseZombie"),y=t("./pzaZombieState"),z=cc._decorator,b=z.ccclass,g=(z.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.backState=!0,e.dacing=!1,e.summoning=!1,e.walkStep=0,e}return n(e,t),e.prototype.bindData=function(e){t.prototype.bindData.call(this,e),this.backState=!0,this.dacing=!1,this.summoning=!1,this.walkStep=0,this.animation.node.scaleX=-1,null!=this.curShadow&&this.curShadow.changeOffset(cc.v2(-this.shadowOffset.x,this.shadowOffset.y))},e.prototype.updateMove=function(t){if(!this.dacing){this.zombieState!=y.pzaZombieState.MOVE&&this.playMoveAnimation();var e=this.baseData.zombieData.moveSpd,a=1;if(this.backState||(a+=this.getSpeedBuff()),e*=a,this.hasStopZombie()&&(e=0),this.animation.changeAnimationTimeScale(a),this.hasEquip&&this.equipAnimation&&this.equipAnimation.changeAnimationTimeScale(a),this.hasTool&&this.toolAnimation&&this.toolAnimation.changeAnimationTimeScale(a),1==this.baseData.zombieData.direction?this.baseData.logicPos.x+=t*e:this.baseData.logicPos.x-=t*e,this.baseData.zombieData.hypnosis&&this.baseData.logicPos.x>=640)this.death(!1);else{this.baseData.logicPos.x<-500&&(this.zombieWin=!0,this.node.zIndex=100,p.pzaGameManager.zombieWin());var o=r.pzaGameConfig.getMapXIndex(d.pzaGameState.curChapter,this.baseData.logicPos);this.baseData.xIndex=o;var n=.1*r.pzaGameConfig.getYInterval(d.pzaGameState.curChapter,this.baseData.yIndex);if(r.pzaGameConfig.fixMapYOffset(d.pzaGameState.curChapter,this.baseData.yIndex,this.baseData.logicPos,n),this.backState&&o<=6&&-1!=o&&this.changeBackState(),d.pzaGameState.newZombie==this.baseData.zombieData.zombieType&&7==o){d.pzaGameState.gamePause=!0,l.pzaWorldEventManager.triggerEvent(l.pzaWorldEventType.GAME_PAUSE,null);var i=this.node.convertToWorldSpaceAR(cc.v2());c.pzaUIManager.baseShowPopUI(s.pzaResourceUrl.NEW_ZOMBIE_VIEW,function(t){var e=t&&t.getComponent(u.pzaNewZombieView);e&&e.showNewZombie(d.pzaGameState.newZombie,i),d.pzaGameState.newZombie=null})}}}},e.prototype.attack=function(e,a){this.backState&&null!=a&&null!=a.plantData?this.changeBackState():this.summoning||(this.dacing&&(this.dacing=!1),t.prototype.attack.call(this,e,a))},e.prototype.changeBackState=function(){this.backState=!1,this.animation.node.scaleX=1,null!=this.curShadow&&this.curShadow.changeOffset(this.shadowOffset),this.summonZombie();var t=r.pzaGameConfig.getZombieSpecialSpeed(this.baseData.zombieData.zombieType);this.baseData.zombieData.initMSpd=this.baseData.zombieData.moveSpd=r.pzaGameConfig.getBlockWidth(d.pzaGameState.curChapter)/t},e.prototype.summonZombie=function(){var t=this;this.dacing=!0,this.summoning=!0,this.zombieState=y.pzaZombieState.SPECIAL;var e=r.pzaGameConfig.getMapRow(d.pzaGameState.curChapter),a=r.pzaGameConfig.getMapColumn(),o=r.pzaGameConfig.getBlockWidth(d.pzaGameState.curChapter),n=0,i=function(){--n<=0&&(t.dance(),t.summoning=!1)};this.animation.playAnimation("pose",!1,function(){var r,p=[t.baseData];t.baseData.yIndex+1<e&&(n++,(r=window.pzazombieManager.createFixBlockZombieData(f.pzaZombieEnum.BACKUP_DANCER,t.baseData.xIndex,t.baseData.yIndex+1)).logicPos.x=t.baseData.logicPos.x,window.pzazombieManager.createZombie(r,!1,!0,!1,i),p[1]=r),t.baseData.yIndex>0&&(n++,(r=window.pzazombieManager.createFixBlockZombieData(f.pzaZombieEnum.BACKUP_DANCER,t.baseData.xIndex,t.baseData.yIndex-1)).logicPos.x=t.baseData.logicPos.x,window.pzazombieManager.createZombie(r,!1,!0,!1,i),p[2]=r),t.baseData.xIndex>0&&(n++,(r=window.pzazombieManager.createFixBlockZombieData(f.pzaZombieEnum.BACKUP_DANCER,t.baseData.xIndex-1,t.baseData.yIndex)).logicPos.y=t.baseData.logicPos.y,r.logicPos.x=t.baseData.logicPos.x-o,window.pzazombieManager.createZombie(r,!1,!0,!1,i),p[3]=r),t.baseData.xIndex+1<a&&(n++,(r=window.pzazombieManager.createFixBlockZombieData(f.pzaZombieEnum.BACKUP_DANCER,t.baseData.xIndex+1,t.baseData.yIndex)).logicPos.y=t.baseData.logicPos.y,r.logicPos.x=t.baseData.logicPos.x+o,window.pzazombieManager.createZombie(r,!1,!0,!1,i),p[4]=r),p.forEach(function(t){null!=t&&null!=t.zombieData&&(t.zombieData.wholeSummons=Array.from(p))})})},e.prototype.playMoveAnimation=function(){var t=this;this.zombieState=y.pzaZombieState.MOVE,this.backState?this.animation.playAnimation("walk",!0):this.walkStep>=4&&!this.hasStopZombie()?this.dance():this.animation.playAnimation("walk1",!1,function(){t.walkStep++,t.playMoveAnimation()})},e.prototype.dance=function(){var t=this;this.walkStep=0,this.dacing=!0,this.zombieState=y.pzaZombieState.SPECIAL,this.animation.playAnimation("dance",!1,function(){t.dacing=!1,t.suppleZombie()}),this.baseData.zombieData.wholeSummons.forEach(function(e){if(e!=t.baseData&&null!=e&&!e.isDead){var a=window.pzazombieManager.getZombie(e);a&&a.dance()}})},e.prototype.suppleZombie=function(){var t,e=this,a=!1,o=!1,n=!1,i=!1,p=r.pzaGameConfig.getMapRow(d.pzaGameState.curChapter),c=r.pzaGameConfig.getMapColumn();if(this.baseData.yIndex+1<p&&(null==(t=this.baseData.zombieData.wholeSummons[1])||t.isDead)&&(a=!0),this.baseData.yIndex>0&&(null==(t=this.baseData.zombieData.wholeSummons[2])||t.isDead)&&(o=!0),this.baseData.xIndex>0&&(null==(t=this.baseData.zombieData.wholeSummons[3])||t.isDead)&&(n=!0),this.baseData.xIndex+1<c&&(null==(t=this.baseData.zombieData.wholeSummons[4])||t.isDead)&&(i=!0),a||o||n||i){this.summoning=!0,this.dacing=!0,this.zombieState=y.pzaZombieState.SPECIAL;var l=0,s=function(){--l<=0&&(e.playMoveAnimation(),e.summoning=!1,e.dacing=!1)};this.animation.playAnimation("pose",!1,function(){var t,p=r.pzaGameConfig.getBlockWidth(d.pzaGameState.curChapter),c=Array.from(e.baseData.zombieData.wholeSummons||[e.baseData]);a&&(l++,(t=window.pzazombieManager.createFixBlockZombieData(f.pzaZombieEnum.BACKUP_DANCER,e.baseData.xIndex,e.baseData.yIndex+1)).logicPos.x=e.baseData.logicPos.x,window.pzazombieManager.createZombie(t,!1,!0,!1,s),c[1]=t),o&&(l++,(t=window.pzazombieManager.createFixBlockZombieData(f.pzaZombieEnum.BACKUP_DANCER,e.baseData.xIndex,e.baseData.yIndex-1)).logicPos.x=e.baseData.logicPos.x,window.pzazombieManager.createZombie(t,!1,!0,!1,s),c[2]=t),n&&(l++,(t=window.pzazombieManager.createFixBlockZombieData(f.pzaZombieEnum.BACKUP_DANCER,e.baseData.xIndex-1,e.baseData.yIndex)).logicPos.y=e.baseData.logicPos.y,t.logicPos.x=e.baseData.logicPos.x-p,window.pzazombieManager.createZombie(t,!1,!0,!1,s),c[3]=t),i&&(l++,(t=window.pzazombieManager.createFixBlockZombieData(f.pzaZombieEnum.BACKUP_DANCER,e.baseData.xIndex+1,e.baseData.yIndex)).logicPos.y=e.baseData.logicPos.y,t.logicPos.x=e.baseData.logicPos.x+p,window.pzazombieManager.createZombie(t,!1,!0,!1,s),c[4]=t),c.forEach(function(t){null!=t&&null!=t.zombieData&&(t.zombieData.wholeSummons=Array.from(c))})})}else this.playMoveAnimation()},e.prototype.getSpeedBuff=function(){if(null!=this.baseData.zombieData.wholeSummons){for(var t=0;t<=4;t++){var e=this.baseData.zombieData.wholeSummons[t];if(null!=e&&!e.isDead){var a=e.buffData.releaseBuff(h.pzaBuffType.FROST);if(null!=a)return-a.buffValue}}return 0}var o=this.baseData.buffData.releaseBuff(h.pzaBuffType.FROST);return null!=o?-o.buffValue:0},e.prototype.hasStopZombie=function(){if(null==this.baseData.zombieData.wholeSummons)return!1;for(var t=0;t<this.baseData.zombieData.wholeSummons.length;t++){var e=this.baseData.zombieData.wholeSummons[t];if(e!=this.baseData&&null!=e&&!e.isDead){if(e.isBeControlled())return!0;var a=window.pzazombieManager.getZombie(e);if(null==a)continue;if(a.zombieState==y.pzaZombieState.EAT_ATK||a.zombieState==y.pzaZombieState.SPECIAL)return!0}}return!1},i([b],e)}(m.pzaBaseZombie));a.pzaDancingZombie=g,cc._RF.pop()},{"../../Common/pzaGameConfig":"pzaGameConfig","../../Common/pzaGameManager":"pzaGameManager","../../Common/pzaUIManager":"pzaUIManager","../../Common/pzaWorldEventManager":"pzaWorldEventManager","../../Load/pzaPreLoadManager":"pzaPreLoadManager","../../View/Battle/pzaNewZombieView":"pzaNewZombieView","../Data/pzaBuffData":"pzaBuffData","../Data/pzaZombieEnum":"pzaZombieEnum","../pzaGameState":"pzaGameState","./pzaBaseZombie":"pzaBaseZombie","./pzaZombieState":"pzaZombieState"}],pzaDiggerZombie:[function(t,e,a){"use strict";cc._RF.push(e,"bbc77EVr1JHka/8NvpYWl2d","pzaDiggerZombie");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaDiggerZombie=void 0;var r=t("../../Common/pzaGameConfig"),p=t("../Data/pzaBuffData"),c=t("../pzaGameState"),l=t("./pzaBaseZombie"),s=cc._decorator,u=s.ccclass,h=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hasBreakGround=!1,e}return n(e,t),e.prototype.bindData=function(e){this.needShadow=!1,this.hasBreakGround=!1,t.prototype.bindData.call(this,e),this.animation.node.active=!1,this.toolAnimation.node.active=!1,this.equipAnimation.node.y=-100,e.buffData.addBuff(new p.pzaBuffInfo(p.pzaBuffType.UNABLE_SELECT,-1))},e.prototype.findTarget=function(){return this.hasBreakGround?t.prototype.findTarget.call(this):null},e.prototype.updateMove=function(e){t.prototype.updateMove.call(this,e),this.baseData.logicPos.x<=r.pzaGameConfig.getMapOriPos(c.pzaGameState.curChapter).x&&this.breakGround(!0)},e.prototype.breakGround=function(t){t&&(this.baseData.zombieData.direction=1,this.refreshOrientation()),this.baseData.buffData.addBuff(new p.pzaBuffInfo(p.pzaBuffType.DIZZ,3)),this.baseData.buffData.removeBuff(p.pzaBuffType.UNABLE_SELECT),this.animation.node.active=!0,this.toolAnimation.node.active=!0,this.equipAnimation.node.y=0,this.hasBreakGround=!0,this.needShadow=!0,this.playMoveAnimation(),this.createShadow();var e=r.pzaGameConfig.getZombieSpecialSpeed(this.baseData.zombieData.zombieType);this.baseData.zombieData.initMSpd=this.baseData.zombieData.moveSpd=r.pzaGameConfig.getBlockWidth(c.pzaGameState.curChapter)/e},e.prototype.toolDeath=function(){t.prototype.toolDeath.call(this),this.breakGround(!1)},i([u],e)}(l.pzaBaseZombie));a.pzaDiggerZombie=h,cc._RF.pop()},{"../../Common/pzaGameConfig":"pzaGameConfig","../Data/pzaBuffData":"pzaBuffData","../pzaGameState":"pzaGameState","./pzaBaseZombie":"pzaBaseZombie"}],pzaDolphinRiderZombie:[function(t,e,a){"use strict";cc._RF.push(e,"e72a1SeCnFGirdVMv2VJly8","pzaDolphinRiderZombie");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaDolphinRiderZombie=void 0;var r=t("../../Common/pzaGameConfig"),p=t("../Data/pzaBuffData"),c=t("../Data/pzaPlantEnum"),l=t("../Data/pzaZombieEnum"),s=t("../pzaEffectManager"),u=t("../pzaGameState"),h=t("./pzaBaseZombie"),f=t("./pzaZombieState"),d=cc._decorator,m=d.ccclass,y=(d.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hasJump=!1,e.jumping=!1,e}return n(e,t),e.prototype.bindData=function(e){this.hasJump=!1,this.jumping=!1,t.prototype.bindData.call(this,e);var a=r.pzaGameConfig.getZombieSpecialSpeed(this.baseData.zombieData.zombieType);this.baseData.zombieData.moveSpd=r.pzaGameConfig.getBlockWidth(u.pzaGameState.curChapter)/a},e.prototype.logicUpdate=function(t){if(null!=this.baseData&&null!=this.baseData.zombieData&&!this.baseData.isDead&&(!this.hypnosisState&&this.baseData.zombieData.hypnosis&&this.beHypnosis(),this.updateRoleBuff(t),this.refreshFrostState(!1),this.animation.flashUpdate(t),this.equipAnimation&&this.equipAnimation.flashUpdate(t),!this.baseData.isBeControlled()))if(this.lastBePasueControled&&(this.lastBePasueControled=!1,this.resumeSelf()),-1==this.changeTargetRow){if(!this.jumping)if(this.hasJump){var e=this.findTarget();null==e||e.isDead?this.updateMove(t):this.attack(t,e)}else{var a=this.findJumpTarget();null!=a?this.jump(a):this.updateMove(t)}}else this.changeRowMove(t)},e.prototype.updateMove=function(e){var a=this,o=this.baseData.xIndex;t.prototype.updateMove.call(this,e),o<0&&this.baseData.xIndex>=0?(this.jumping=!0,this.curShadow&&this.curShadow.hideShadow(),this.animation.playAnimation("jump1",!1,function(){a.jumping=!1;var t=a.animation.findBone("zong");null!=t?a.baseData.logicPos.x+=a.baseData.zombieData.direction*(84.15-t.worldX):a.baseData.logicPos.x-=85;var e=r.pzaGameConfig.getZombieSpeed(a.baseData.zombieData.zombieType);a.baseData.zombieData.moveSpd=r.pzaGameConfig.getBlockWidth(u.pzaGameState.curChapter)/e,a.playMoveAnimation(),s.pzaEffectManager.createWaterFlowerEffect(a.baseData.yIndex,a.baseData.logicPos,null)},function(){s.pzaEffectManager.createWaterFlowerEffect(a.baseData.yIndex,cc.v2(a.baseData.logicPos.x-85,a.baseData.logicPos.y),null)})):this.baseData.xIndex<0&&o>=0&&(null!=this.mask&&(this.mask.enabled=!0),this.animation.playAnimation("move2",!0),s.pzaEffectManager.createWaterFlowerEffect(this.baseData.yIndex,this.baseData.logicPos,null),this.animation.node.runAction(cc.sequence(cc.moveTo(.2,cc.v2()),cc.callFunc(function(){a.curShadow&&a.curShadow.showShadow(),null!=a.mask&&(a.mask.enabled=!1)}))))},e.prototype.findJumpTarget=function(){if(null==this.body||null==this.body.curTarget)return null;if(this.body.curTarget.isDead)return this.body.curTarget=null,null;if(null==this.body.curTarget.zombieData){var t=""+this.body.curTarget.xIndex+this.body.curTarget.yIndex;if(this.body.curTarget.plantData.plantType==c.pzaPlantEnum.SPIKEWEED){var e=window.pzaplantManager.pumpkinDataMap.get(t);return null==e||e.isDead?null:e}if(this.body.curTarget.plantData.plantType==c.pzaPlantEnum.TALL_NUT)return this.body.curTarget;var a=window.pzaplantManager.plantDataMap.get(t);return null==a||a.isDead||a.plantData.plantType!=c.pzaPlantEnum.TALL_NUT?this.body.curTarget:a}},e.prototype.jump=function(t){var e=this;if(null!=t){var a=t.xIndex;this.jumping=!0,this.curShadow&&this.curShadow.hideShadow(),this.baseData.buffData.addBuff(new p.pzaBuffInfo(p.pzaBuffType.UNABLE_SELECT,-1));var o=t.plantData.plantType!=c.pzaPlantEnum.TALL_NUT;this.animation.playAnimation(o?"jump2":"jump3",!1,function(){var t;o?null!=(t=e.animation.findBone("zong"))?(console.log(t),e.baseData.logicPos.x+=e.baseData.zombieData.direction*(75.3-t.worldX)):e.baseData.logicPos.x=r.pzaGameConfig.getXPos(u.pzaGameState.curChapter,a)+r.pzaGameConfig.getMapOriPos(u.pzaGameState.curChapter).x:null!=(t=e.animation.findBone("zong"))?e.baseData.logicPos.x+=e.baseData.zombieData.direction*(75.3-t.worldX):e.baseData.logicPos.x=r.pzaGameConfig.getXPos(u.pzaGameState.curChapter,a)+.75*r.pzaGameConfig.getXInterval(u.pzaGameState.curChapter,a)+r.pzaGameConfig.getMapOriPos(u.pzaGameState.curChapter).x,e.baseData.zombieData.toolType=l.pzaEquipType.NO_EQUIP,e.toolDeath();var n=r.pzaGameConfig.getZombieSpecialSpeed(e.baseData.zombieData.zombieType);e.baseData.zombieData.moveSpd=r.pzaGameConfig.getBlockWidth(u.pzaGameState.curChapter)/n;var i=r.pzaGameConfig.getMapXIndex(u.pzaGameState.curChapter,e.baseData.logicPos);e.baseData.xIndex=i,e.hasJump=!0,o?e.playMoveAnimation():e.animation.playAnimation("attack",!0),e.body.curTarget=null,e.jumping=!1,e.baseData.buffData.removeBuff(p.pzaBuffType.UNABLE_SELECT)},null,1)}},e.prototype.playMoveAnimation=function(){if(null!=this.baseData&&this.baseData.xIndex>=0)return this.zombieState=f.pzaZombieState.MOVE,void(this.hasJump?this.animation.playAnimation("move4",!0):this.animation.playAnimation("move3",!0));this.zombieState=f.pzaZombieState.MOVE,this.animation.playAnimation("move1",!0)},e.prototype.zombieWinMove=function(e){if(!this.hasJump){this.hasJump=!0;var a=r.pzaGameConfig.getZombieSpecialSpeed(this.baseData.zombieData.zombieType);this.baseData.zombieData.moveSpd=r.pzaGameConfig.getBlockWidth(u.pzaGameState.curChapter)/a}t.prototype.zombieWinMove.call(this,e)},i([m],e)}(h.pzaBaseZombie));a.pzaDolphinRiderZombie=y,cc._RF.pop()},{"../../Common/pzaGameConfig":"pzaGameConfig","../Data/pzaBuffData":"pzaBuffData","../Data/pzaPlantEnum":"pzaPlantEnum","../Data/pzaZombieEnum":"pzaZombieEnum","../pzaEffectManager":"pzaEffectManager","../pzaGameState":"pzaGameState","./pzaBaseZombie":"pzaBaseZombie","./pzaZombieState":"pzaZombieState"}],pzaDoomHoleEffect:[function(t,e,a){"use strict";cc._RF.push(e,"e1c4f49UvxH+oX3UHpxrfA2","pzaDoomHoleEffect");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaDoomHoleEffect=void 0;var r=t("../../Common/pzaBaseComponent"),p=t("../../Common/pzaMapManager"),c=t("../pzaGameState"),l=cc._decorator,s=l.ccclass,u=l.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hole=null,e.holeFrames=[],e.holeTime=0,e.holeStep=1,e.mapXIndex=-1,e.mapYIndex=-1,e}return n(e,t),e.prototype.init=function(t,e){this.mapXIndex=t,this.mapYIndex=e,this.holeTime=0,this.holeStep=1,this.showHole(),window.pzaMapManager.addDoomHole(this)},e.prototype.logicUpdate=function(t){if(this.holeTime+=t,this.holeTime>=180)return this.close(),void window.pzaMapManager.removeDoomHole(this);this.holeTime>=90&&1==this.holeStep&&(this.holeStep=2,this.showHole())},e.prototype.showHole=function(){var t=window.pzaMapManager.getRowBlockType(this.mapXIndex);t==p.pzaBlockType.GRASS?c.pzaGameState.gameTimeType==c.pzaGameTimeType.DAY?this.hole.spriteFrame=1==this.holeStep?this.holeFrames[0]:this.holeFrames[1]:this.hole.spriteFrame=1==this.holeStep?this.holeFrames[2]:this.holeFrames[3]:t==p.pzaBlockType.POND?c.pzaGameState.gameTimeType==c.pzaGameTimeType.DAY?this.hole.spriteFrame=1==this.holeStep?this.holeFrames[4]:this.holeFrames[5]:this.hole.spriteFrame=1==this.holeStep?this.holeFrames[6]:this.holeFrames[7]:t==p.pzaBlockType.ROOF&&(this.hole.spriteFrame=1==this.holeStep?this.holeFrames[8]:this.holeFrames[9])},i([u({displayName:"\u6d1e",type:cc.Sprite})],e.prototype,"hole",void 0),i([u({displayName:"\u6d1e\u56fe",type:[cc.SpriteFrame]})],e.prototype,"holeFrames",void 0),i([s],e)}(r.pzaBaseComponent);a.pzaDoomHoleEffect=h,cc._RF.pop()},{"../../Common/pzaBaseComponent":"pzaBaseComponent","../../Common/pzaMapManager":"pzaMapManager","../pzaGameState":"pzaGameState"}],pzaDoomShroom:[function(t,e,a){"use strict";cc._RF.push(e,"36aa8kF/wpAbJVUIU/KcNOn","pzaDoomShroom");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaDoomShroom=void 0;var r=t("../../Common/pzaGameConfig"),p=t("../pzaEffectManager"),c=t("../pzaGameState"),l=t("./pzaAttackType"),s=t("./pzaBasePlant"),u=cc._decorator,h=u.ccclass,f=(u.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.bindData=function(e){t.prototype.bindData.call(this,e),this.animation.node.active=!0,c.pzaGameState.gameTimeType==c.pzaGameTimeType.DAY?(this.animation.playAnimation("idle2",!0),e.plantData.sleeping=!0):this.attack()},e.prototype.wakeUp=function(){var t=this;null!=this.baseData&&null!=this.baseData.plantData&&this.baseData.plantData.sleeping&&(this.baseData.plantData.sleeping=!1,this.animation.playAnimation("awoke",!1,function(){t.attack()}))},e.prototype.attack=function(){var t=this;this.baseData.hp=0,this.baseData.isDead=!0,this.animation.playAnimation("blow",!1,function(){p.pzaEffectManager.createDoomBoomEffect(cc.v2(t.baseData.logicPos.x,t.baseData.logicPos.y-25)),window.pzaplantManager.removePlant(t.baseData),p.pzaEffectManager.createDoomHoleEffect(t.baseData.logicPos,t.baseData.xIndex,t.baseData.yIndex),t.death();var e=window.pzazombieManager.findFixRangeZombies(t.baseData.logicPos,3.5*r.pzaGameConfig.getBlockWidth(c.pzaGameState.curChapter));e&&e.forEach(function(e){e&&e.hurt(t.baseData.atk,t.baseData,l.pzaAttackType.BOOM)});var a=""+t.baseData.xIndex+t.baseData.yIndex,o=window.pzaplantManager.plantEnvDataMap.get(a);if(null!=o){var n=window.pzaplantManager.getPlantByData(o);n&&n.hurt(t.baseData.atk,null,l.pzaAttackType.BOOM)}})},i([h],e)}(s.pzaBasePlant));a.pzaDoomShroom=f,cc._RF.pop()},{"../../Common/pzaGameConfig":"pzaGameConfig","../pzaEffectManager":"pzaEffectManager","../pzaGameState":"pzaGameState","./pzaAttackType":"pzaAttackType","./pzaBasePlant":"pzaBasePlant"}],pzaDropCard:[function(t,e,a){"use strict";cc._RF.push(e,"94b08Rs2DtFaZTn5L6m+n0u","pzaDropCard");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaDropCard=void 0;var r=t("../../Common/pzaBaseComponent"),p=t("../../Common/pzaGameConfig"),c=t("../../Common/pzaSpineController"),l=t("../../Common/pzaSpriteFrameManager"),s=t("../../Common/pzaUIManager"),u=t("../../Load/pzaPreLoadManager"),h=t("../../View/Battle/pzaNewPlantView"),f=t("../../View/pzaCommonMask"),d=t("../Data/pzaDropType"),m=t("../pzaGameState"),y=cc._decorator,z=y.ccclass,b=y.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.arrow=null,e.cardBoard=null,e.cardBoardFrames=[],e.cardIcon=null,e.propNode=null,e.shovel=null,e.handbook=null,e.baconic=null,e.taco=null,e.sprinkler=null,e.paper=null,e.lightAni=null,e.curDropType=null,e.curPlantType=null,e.canClick=!1,e}return n(e,t),e.prototype.showCard=function(t,e,a){this.node.stopAllActions(),this.node.opacity=255,this.node.setPosition(a),this.curDropType=t,this.curPlantType=e,this.arrow.active=!1,this.canClick=!1,this.lightAni.node.active=!1,this.curDropType==d.pzaDropType.PLANT_CARD?(this.propNode.active=!1,this.cardBoard.node.active=!0,this.playCardDropAni(a)):(this.propNode.active=!0,this.cardBoard.node.active=!1,this.playPropDropAni(a))},e.prototype.playCardDropAni=function(t){var e=this,a=p.pzaGameConfig.getPlantConfig(this.curPlantType);l.pzaSpriteFrameManager.loadPlantCard(this.curPlantType,this.cardIcon),this.cardBoard.spriteFrame=this.cardBoardFrames[a.rareLevel],this.cardBoard.node.stopAllActions(),this.cardBoard.node.opacity=255,this.cardBoard.node.setPosition(cc.v2());var o=t.x>550?-50:Math.random()>.5?-50:50,n=t.y>-290?-60:0;this.cardBoard.node.runAction(cc.sequence(cc.jumpTo(.4,cc.v2(o,n),60,1),cc.callFunc(function(){e.canClick=!0,e.showArrow()})))},e.prototype.playPropDropAni=function(t){var e=this;this.shovel.active=this.curDropType==d.pzaDropType.SHOVEL,this.paper.active=this.curDropType==d.pzaDropType.CG_PAPER,this.handbook.active=this.curDropType==d.pzaDropType.HAND_BOOK,this.baconic.active=this.curDropType==d.pzaDropType.BACONIC,this.taco.active=this.curDropType==d.pzaDropType.TACO,this.sprinkler.active=this.curDropType==d.pzaDropType.SPRINKLER,this.propNode.stopAllActions(),this.propNode.opacity=255,this.propNode.setPosition(cc.v2());var a=t.x>550?-50:Math.random()>.5?-50:50,o=t.y>-290?-60:0;this.propNode.runAction(cc.sequence(cc.jumpTo(.4,cc.v2(a,o),60,1),cc.callFunc(function(){e.canClick=!0,e.showArrow()})))},e.prototype.clickCard=function(){var t=this;if(this.canClick){f.pzaCommonMask.showMask(),m.pzaGameState.gamePause=!0,this.canClick=!1,this.arrow.active=!1;var e=this.curDropType==d.pzaDropType.PLANT_CARD?this.cardBoard.node:this.propNode;this.lightAni.node.active=!0,this.lightAni.node.setPosition(cc.v2(e.x,e.y+37)),this.lightAni.playAnimation("idle1",!1);var a=cc.v2(-e.x,-e.y-37);this.node.runAction(cc.sequence(cc.moveTo(3,a),cc.delayTime(1),cc.callFunc(function(){f.pzaCommonMask.hideMask(),e.runAction(cc.fadeOut(1)),t.curDropType==d.pzaDropType.CG_PAPER?s.pzaUIManager.baseShowPopUI(u.pzaResourceUrl.CG_PAPER_VIEW,null):s.pzaUIManager.baseShowPopUI(u.pzaResourceUrl.NEW_PLANT_VIEW,function(e){(e&&e.getComponent(h.pzaNewPlantView)).showView(t.curDropType,t.curPlantType)})}),cc.delayTime(.6),cc.fadeOut(.5),cc.callFunc(function(){t.close()})))}},e.prototype.showArrow=function(){var t=this.curDropType==d.pzaDropType.PLANT_CARD?this.cardBoard.node:this.propNode;this.arrow.active=!0,this.arrow.stopAllActions();var e=cc.v2(t.x,t.y+110);this.arrow.setPosition(e),this.arrow.runAction(cc.repeatForever(cc.sequence(cc.moveTo(.2,cc.v2(e.x,e.y+20)),cc.moveTo(.2,cc.v2(e.x,e.y)))))},e.prototype.pauseSelf=function(){this.arrow.pauseAllActions()},e.prototype.resumeSelf=function(){this.arrow.resumeAllActions()},i([b({displayName:"\u7bad\u5934",type:cc.Node})],e.prototype,"arrow",void 0),i([b({displayName:"\u5361\u7247\u6846",type:cc.Sprite})],e.prototype,"cardBoard",void 0),i([b({displayName:"\u5361\u7247\u6846\u5143\u7d20",type:[cc.SpriteFrame]})],e.prototype,"cardBoardFrames",void 0),i([b({displayName:"\u5361\u7247\u56fe",type:cc.Sprite})],e.prototype,"cardIcon",void 0),i([b({displayName:"\u9053\u5177\u8282\u70b9",type:cc.Node})],e.prototype,"propNode",void 0),i([b({displayName:"\u94f2\u5b50",type:cc.Node})],e.prototype,"shovel",void 0),i([b({displayName:"\u56fe\u9274",type:cc.Node})],e.prototype,"handbook",void 0),i([b({displayName:"\u57f9\u6839",type:cc.Node})],e.prototype,"baconic",void 0),i([b({displayName:"\u7389\u7c73\u5377",type:cc.Node})],e.prototype,"taco",void 0),i([b({displayName:"\u6c34\u58f6",type:cc.Node})],e.prototype,"sprinkler",void 0),i([b({displayName:"\u7eb8\u6761",type:cc.Node})],e.prototype,"paper",void 0),i([b({displayName:"\u5149\u52a8\u753b",type:c.pzaSpineController})],e.prototype,"lightAni",void 0),i([z],e)}(r.pzaBaseComponent);a.pzaDropCard=g,cc._RF.pop()},{"../../Common/pzaBaseComponent":"pzaBaseComponent","../../Common/pzaGameConfig":"pzaGameConfig","../../Common/pzaSpineController":"pzaSpineController","../../Common/pzaSpriteFrameManager":"pzaSpriteFrameManager","../../Common/pzaUIManager":"pzaUIManager","../../Load/pzaPreLoadManager":"pzaPreLoadManager","../../View/Battle/pzaNewPlantView":"pzaNewPlantView","../../View/pzaCommonMask":"pzaCommonMask","../Data/pzaDropType":"pzaDropType","../pzaGameState":"pzaGameState"}],pzaDropCoin:[function(t,e,a){"use strict";cc._RF.push(e,"b02987q0AFJKLS8MgxGVLpM","pzaDropCoin");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaDropCoin=void 0;var r=t("../../Common/pzaBaseComponent"),p=t("../../Common/pzaLocalData"),c=t("../../Common/pzaSpineController"),l=t("../../Common/pzaTipManager"),s=t("../../Common/pzaUtil"),u=t("../Data/pzaDropType"),h=t("../pzaGameState"),f=cc._decorator,d=f.ccclass,m=f.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.animation=null,e.liveTime=0,e.disappearing=!1,e.curDropType=null,e}return n(e,t),e.prototype.onEnable=function(){t.prototype.onEnable.call(this),this.node.on(cc.Node.EventType.TOUCH_START,this.clickCoin,this)},e.prototype.onDisable=function(){t.prototype.onDisable.call(this),this.node.off(cc.Node.EventType.TOUCH_START,this.clickCoin,this)},e.prototype.pauseSelf=function(){this.animation.pauseAnimation(),this.node.pauseAllActions()},e.prototype.resumeSelf=function(){this.animation.resumeAnimation(),this.node.resumeAllActions()},e.prototype.init=function(t,e){this.curDropType=t,t==u.pzaDropType.SILVER_COIN?this.animation.playAnimation("pr3",!0):t==u.pzaDropType.GOLD_COIN?this.animation.playAnimation("pr2",!0):this.animation.playAnimation("pr1_2",!0),this.liveTime=0,this.disappearing=!1,this.node.stopAllActions(),this.node.opacity=255,this.node.setPosition(cc.v2(e.x,e.y+50*Math.random()));var a=s.pzaUtil.getRandomFloatNum(-20,20);this.node.runAction(cc.jumpTo(.6,cc.v2(e.x+a,e.y+50*Math.random()),80,1))},e.prototype.logicUpdate=function(t){this.disappearing||(this.liveTime+=t,this.liveTime>=5&&this.disappear())},e.prototype.disappear=function(){this.disappearing=!0,this.node.runAction(cc.sequence(cc.fadeOut(.2),cc.callFunc(this.close.bind(this))))},e.prototype.moveToUI=function(){var t=this;if(this.disappearing=!0,null==h.pzaGameState.coinMoveUIPos)return this.addCoin(),void this.close();this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.spawn(cc.moveTo(.5,h.pzaGameState.coinMoveUIPos).easing(cc.easeQuinticActionOut()),cc.sequence(cc.delayTime(.3),cc.fadeOut(.2))),cc.callFunc(function(){t.addCoin(),t.close()})))},e.prototype.clickCoin=function(){h.pzaGameState.gamePause||this.disappearing||(this.moveToUI(),window.pzaMapManager.showCoinUI(),p.pzaLocalData.data.firstPickCoinTip||(l.pzaTipManager.showGameTip("\u5b58\u94b1\u6765\u4e70\u66f4\u9177\u7684\u9053\u5177\u5427\uff01"),p.pzaLocalData.data.firstPickCoinTip=!0,p.pzaLocalData.addDirty("firstPickCoinTip")))},e.prototype.addCoin=function(){var t=10;this.curDropType==u.pzaDropType.GOLD_COIN?t=50:this.curDropType==u.pzaDropType.DIAMOND&&(t=1e3),p.pzaLocalData.data.coin+=t,p.pzaLocalData.addDirty("coin")},i([m({displayName:"\u52a8\u753b",type:c.pzaSpineController})],e.prototype,"animation",void 0),i([d],e)}(r.pzaBaseComponent);a.pzaDropCoin=y,cc._RF.pop()},{"../../Common/pzaBaseComponent":"pzaBaseComponent","../../Common/pzaLocalData":"pzaLocalData","../../Common/pzaSpineController":"pzaSpineController","../../Common/pzaTipManager":"pzaTipManager","../../Common/pzaUtil":"pzaUtil","../Data/pzaDropType":"pzaDropType","../pzaGameState":"pzaGameState"}],pzaDropType:[function(t,e,a){"use strict";cc._RF.push(e,"3c472Cq/v5PIIVOFNjzovjN","pzaDropType"),Object.defineProperty(a,"__esModule",{value:!0}),a.pzaDropType=void 0,function(t){t[t.PLANT_CARD=1]="PLANT_CARD",t[t.SHOVEL=2]="SHOVEL",t[t.CG_PAPER=3]="CG_PAPER",t[t.HAND_BOOK=4]="HAND_BOOK",t[t.SILVER_COIN=5]="SILVER_COIN",t[t.GOLD_COIN=6]="GOLD_COIN",t[t.DIAMOND=7]="DIAMOND",t[t.BACONIC=8]="BACONIC",t[t.TACO=9]="TACO",t[t.SPRINKLER=10]="SPRINKLER"}(a.pzaDropType||(a.pzaDropType={})),cc._RF.pop()},{}],pzaDuckyTubeBucketZombie:[function(t,e,a){"use strict";cc._RF.push(e,"829a66bKDxAAJGwm9LZe+Pp","pzaDuckyTubeBucketZombie");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaDuckyTubeBucketZombie=void 0;var r=t("./pzaDuckyTubeZombie"),p=cc._decorator,c=p.ccclass,l=(p.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.equipDying=function(){t.prototype.equipDying.call(this),this.equipAnimation.setAnimationSkin("3Buckethead_3")},e.prototype.equipHurt=function(){t.prototype.equipHurt.call(this),this.equipAnimation.setAnimationSkin("3Buckethead_2")},e.prototype.equipIntact=function(){t.prototype.equipIntact.call(this),this.equipAnimation.setAnimationSkin("3Buckethead_1")},i([c],e)}(r.pzaDuckyTubeZombie));a.pzaDuckyTubeBucketZombie=l,cc._RF.pop()},{"./pzaDuckyTubeZombie":"pzaDuckyTubeZombie"}],pzaDuckyTubeConeZombie:[function(t,e,a){"use strict";cc._RF.push(e,"ec97fCWqtpGvpJ4aPzTm0vt","pzaDuckyTubeConeZombie");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaDuckyTubeConeZombie=void 0;var r=t("./pzaDuckyTubeZombie"),p=cc._decorator,c=p.ccclass,l=(p.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.equipDying=function(){t.prototype.equipDying.call(this),this.equipAnimation.setAnimationSkin("2Conehead_3")},e.prototype.equipHurt=function(){t.prototype.equipHurt.call(this),this.equipAnimation.setAnimationSkin("2Conehead_2")},e.prototype.equipIntact=function(){t.prototype.equipIntact.call(this),this.equipAnimation.setAnimationSkin("2Conehead_1")},i([c],e)}(r.pzaDuckyTubeZombie));a.pzaDuckyTubeConeZombie=l,cc._RF.pop()},{"./pzaDuckyTubeZombie":"pzaDuckyTubeZombie"}],pzaDuckyTubeZombie:[function(t,e,a){"use strict";cc._RF.push(e,"045b3WlsgBOGY909sopESqJ","pzaDuckyTubeZombie");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaDuckyTubeZombie=void 0;var r=t("../../Common/pzaUtil"),p=t("../Data/pzaZombieEnum"),c=t("../pzaEffectManager"),l=t("./pzaBaseZombie"),s=t("./pzaZombieState"),u=cc._decorator,h=u.ccclass,f=u.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.waterGrass=[],e.waterGrassFrame=[],e}return n(e,t),e.prototype.onEnable=function(){t.prototype.onEnable.call(this),this.animation.node.stopAllActions(),this.animation.node.y=0,this.equipAnimation&&(this.equipAnimation.node.stopAllActions(),this.equipAnimation.node.y=0),this.closeWaterGrass()},e.prototype.breakWater=function(e){void 0===e&&(e=null),this.randomWaterGrass(),t.prototype.breakWater.call(this,e)},e.prototype.updateMove=function(e){var a=this,o=this.baseData.xIndex;t.prototype.updateMove.call(this,e),o<0&&this.baseData.xIndex>=0?(null!=this.mask&&(this.mask.enabled=!0),this.curShadow&&this.curShadow.hideShadow(),this.animation.node.runAction(cc.sequence(cc.moveTo(.2,cc.v2(0,-30)),cc.callFunc(function(){a.playMoveAnimation(),null!=a.mask&&(a.mask.enabled=!1)}))),this.equipAnimation&&this.equipAnimation.node.runAction(cc.moveTo(.2,cc.v2(0,-30))),c.pzaEffectManager.createWaterFlowerEffect(this.baseData.yIndex,this.baseData.logicPos,null)):this.baseData.xIndex<0&&o>=0&&(null!=this.mask&&(this.mask.enabled=!0),this.playMoveAnimation(),c.pzaEffectManager.createWaterFlowerEffect(this.baseData.yIndex,this.baseData.logicPos,null),this.animation.node.runAction(cc.sequence(cc.moveTo(.2,cc.v2()),cc.callFunc(function(){a.curShadow&&a.curShadow.showShadow(),null!=a.mask&&(a.mask.enabled=!1)}))),this.equipAnimation&&this.equipAnimation.node.runAction(cc.moveTo(.2,cc.v2())))},e.prototype.playMoveAnimation=function(){if(null!=this.baseData&&this.baseData.xIndex>=0)return this.zombieState=s.pzaZombieState.MOVE,this.animation.playAnimation("move3",!0),void(null!=this.equipHurtState&&this.equipHurtState<p.pzaHurtStateEnum.DEAD&&this.equipAnimation&&this.equipAnimation.playAnimation("move3",!0));t.prototype.playMoveAnimation.call(this)},e.prototype.playDeathAnimation=function(e){if(this.closeWaterGrass(),null!=this.baseData&&this.baseData.xIndex>=0)return this.zombieState=s.pzaZombieState.DEAD,this.zombieHurtState=p.pzaHurtStateEnum.DEAD,this.animation.closeFlash(),this.equipAnimation&&this.equipAnimation.closeFlash(),this.animation.playAnimation("death3",!1,e),void(this.equipAnimation&&(this.equipAnimation.node.active=!1));t.prototype.playDeathAnimation.call(this,e)},e.prototype.twineDeath=function(){var t=this;null!=this.mask&&(this.mask.enabled=!0),this.animation.node.runAction(cc.sequence(cc.moveTo(.4,cc.v2(0,-130)),cc.callFunc(function(){t.baseData.zombieDie(),t.death(!1)}))),this.equipAnimation&&this.equipAnimation.node.runAction(cc.moveTo(.4,cc.v2(0,-130)))},e.prototype.death=function(e){null!=this.mask&&(this.mask.enabled=!1),t.prototype.death.call(this,e)},e.prototype.randomWaterGrass=function(){var t=this;this.waterGrass.forEach(function(e){null!=e&&(Math.random()>=.7||(e.node.active=!0,e.spriteFrame=r.pzaUtil.getRandomValueFromArray(t.waterGrassFrame),e.node.scale=r.pzaUtil.getRandomFloatNum(2,5),e.node.angle=r.pzaUtil.getRandomFloatNum(0,360)))})},e.prototype.closeWaterGrass=function(){this.waterGrass.forEach(function(t){null!=t&&(t.node.active=!1)})},i([f({displayName:"\u6c34\u8349",type:[cc.Sprite]})],e.prototype,"waterGrass",void 0),i([f({displayName:"\u6c34\u8349\u56fe",type:[cc.SpriteFrame]})],e.prototype,"waterGrassFrame",void 0),i([h],e)}(l.pzaBaseZombie);a.pzaDuckyTubeZombie=d,cc._RF.pop()},{"../../Common/pzaUtil":"pzaUtil","../Data/pzaZombieEnum":"pzaZombieEnum","../pzaEffectManager":"pzaEffectManager","./pzaBaseZombie":"pzaBaseZombie","./pzaZombieState":"pzaZombieState"}],pzaEffectManager:[function(t,e,a){"use strict";cc._RF.push(e,"3e827N46slE6aAMNV/k29mW","pzaEffectManager"),Object.defineProperty(a,"__esModule",{value:!0}),a.pzaEffectManager=void 0;var o=t("../Common/pzaMapManager"),n=t("../Common/pzaNodeManager"),i=t("../Load/pzaBundleObjectPool"),r=t("../Load/pzaPreLoadManager"),p=t("./Effect/pzaAbsorbIronEquip"),c=t("./Effect/pzaBackPumpkin"),l=t("./Effect/pzaBaseEffect"),s=t("./Effect/pzaBattleFrameAnim"),u=t("./Effect/pzaBoomFireEffect"),h=t("./Effect/pzaDoomHoleEffect"),f=t("./Effect/pzaDropCard"),d=t("./Effect/pzaDropCoin"),m=t("./Effect/pzaFogEffect"),y=t("./Effect/pzaFrozenEffect"),z=t("./Effect/pzaHammerEffect"),b=t("./Effect/pzaIceGroundEffect"),g=t("./Effect/pzaShowGrassEffect"),v=t("./Effect/pzaTangleKelpEffect"),_=t("./Effect/pzaWordEffect"),P=function(){function t(){}return t.createReadyWord=function(t){var e=n.pzaNodeManager.getUpEffectNode();null!=e&&i.pzaBundleObjectPool.requestInstantByUrl(r.pzaResourceUrl.WORD_EFFECT,!1,function(a,o){if(null!=a||null==o)return console.error(a),void(t&&t());o.setParent(e);var n=o.getComponent(_.pzaWordEffect);n&&n.playReadyPlant(t)})},t.createLargeWord=function(t,e){var a=n.pzaNodeManager.getUpEffectNode();null!=a&&i.pzaBundleObjectPool.requestInstantByUrl(r.pzaResourceUrl.WORD_EFFECT,!1,function(o,n){if(null==o&&null!=n){n.setParent(a);var i=n.getComponent(_.pzaWordEffect);null!=i&&(e?i.playLastWave():i.playLargeWave(t))}else console.error(o)})},t.createIceGround=function(t,e,a){var o=n.pzaNodeManager.getDownEffectNode();null!=o&&i.pzaBundleObjectPool.requestInstantByUrl(r.pzaResourceUrl.ICE_GROUND,!1,function(n,i){if(null==n&&null!=i){i.setParent(o);var r=i.getComponent(b.pzaIceGroundEffect);r&&r.init(t,e,a)}else console.error(n)})},t.createFogEffect=function(t,e){var a=n.pzaNodeManager.getUpBgNode();null!=a&&i.pzaBundleObjectPool.requestInstantByUrl(r.pzaResourceUrl.FOG_EFFECT,!1,function(o,n){if(null==o&&null!=n){n.setParent(a);var i=n.getComponent(m.pzaFogEffect);i&&i.init(t,e),window.pzaMapManager.fog=i}else console.error(o)})},t.createAbsorbIronEquip=function(t,e,a){var o=n.pzaNodeManager.getPlantZombieNode();null!=o&&i.pzaBundleObjectPool.requestInstantByUrl(r.pzaResourceUrl.ABSORB_IRON_EQUIP,!1,function(n,i){if(null==n&&null!=i){i.setParent(o);var r=i.getComponent(p.pzaAbsorbIronEquip);r&&r.init(t,e,a)}else console.error(n)})},t.createGroveEffect=function(){var t=n.pzaNodeManager.getUpBgNode();null!=t&&i.pzaBundleObjectPool.requestInstantByUrl(r.pzaResourceUrl.GROVE_EFFECT,!1,function(e,a){null==e&&null!=a?a.setParent(t):console.error(e)})},t.createShowGrassEffect=function(t,e,a){void 0===a&&(a=!1);var o=n.pzaNodeManager.getGrassNode();null!=o&&i.pzaBundleObjectPool.requestInstantByUrl(r.pzaResourceUrl.SHOW_GRASS_EFFECT,!1,function(n,i){if(null==n&&null!=i){i.setParent(o);var r=i.getComponent(g.pzaShowGrassEffect);a?r&&r.showStaticGrass(t):r&&r.showGrass(t,e)}else console.error(n)})},t.createCherryBoomEffect=function(t,e){var a=n.pzaNodeManager.getUpEffectNode();null!=a&&i.pzaBundleObjectPool.requestInstantByUrl(r.pzaResourceUrl.CHERRY_BOOM_EFFECT,!1,function(o,n){if(null==o&&null!=n){n.setParent(a),n.setPosition(t);var i=n.getComponent(s.pzaBattleFrameAnim);i&&i.showAnim(e)}else console.error(o)})},t.createNutBoomEffect=function(t,e){var a=n.pzaNodeManager.getUpEffectNode();null!=a&&i.pzaBundleObjectPool.requestInstantByUrl(r.pzaResourceUrl.NUT_BOOM_EFFECT,!1,function(o,n){if(null==o&&null!=n){n.setParent(a),n.setPosition(t);var i=n.getComponent(s.pzaBattleFrameAnim);i&&i.showAnim(e)}else console.error(o)})},t.createPlantEffect=function(t,e,a){var p=r.pzaResourceUrl.PLANT_EFFECT;e==o.pzaBlockType.POND&&(p=r.pzaResourceUrl.PLANT_WATER_EFFECT);var c=n.pzaNodeManager.getUpEffectNode();null!=c&&i.pzaBundleObjectPool.requestInstantByUrl(p,!1,function(e,o){if(null==e&&null!=o){o.setParent(c),o.setPosition(t);var n=o.getComponent(l.pzaBaseEffect);n&&n.showEffect(null,a)}else console.error(e)})},t.createDropCard=function(t,e,a){var o=n.pzaNodeManager.getBattleUINode();null!=o&&i.pzaBundleObjectPool.requestInstantByUrl(r.pzaResourceUrl.DROP_CARD,!1,function(n,i){if(null==n&&null!=i){i.setParent(o);var r=i.getComponent(f.pzaDropCard);r&&r.showCard(t,e,a)}else console.error(n)})},t.createDirtEffect=function(t,e,a){var o=n.pzaNodeManager.getPlantZombieNode();null!=o&&i.pzaBundleObjectPool.requestInstantByUrl(r.pzaResourceUrl.DIRT_EFFECT,!1,function(n,i){if(null==n&&null!=i){i.setParent(o),i.setPosition(e);var r=i.getComponent(l.pzaBaseEffect);r&&r.showEffect(t,a)}else console.error(n)})},t.createHammerEffect=function(t){var e=n.pzaNodeManager.getUpEffectNode();null!=e&&i.pzaBundleObjectPool.requestInstantByUrl(r.pzaResourceUrl.HAMMER_EFFECT,!1,function(a,o){if(null==a&&null!=o){o.setParent(e),o.setPosition(t);var n=o.getComponent(z.pzaHammerEffect);n&&n.showEffect()}else console.error(a)})},t.createDropCoin=function(t,e){var a=n.pzaNodeManager.getBattleUINode();null!=a&&i.pzaBundleObjectPool.requestInstantByUrl(r.pzaResourceUrl.DROP_COIN,!1,function(o,n){if(null==o&&null!=n){n.setParent(a);var i=n.getComponent(d.pzaDropCoin);i&&i.init(t,e)}else console.error(o)})},t.createWaterLightEffect=function(){var t=n.pzaNodeManager.getDownEffectNode();null!=t&&i.pzaBundleObjectPool.requestInstantByUrl(r.pzaResourceUrl.WATER_LIGHT_EFFECT,!1,function(e,a){null==e&&null!=a?a.setParent(t):console.error(e)})},t.createWaterFlowerEffect=function(t,e,a,o){void 0===o&&(o=1);var p=n.pzaNodeManager.getPlantZombieNode();null!=p&&i.pzaBundleObjectPool.requestInstantByUrl(r.pzaResourceUrl.WATER_FLOWER_EFFECT,!1,function(n,i){if(null==n&&null!=i){i.scale=o,i.zIndex=10*-t+10,i.setParent(p),i.setPosition(e);var r=i.getComponent(l.pzaBaseEffect);r&&r.showEffect(null,a)}else console.error(n)})},t.createBoomFireEffect=function(t,e,a,o){var p=n.pzaNodeManager.getPlantZombieNode();null!=p&&i.pzaBundleObjectPool.requestInstantByUrl(r.pzaResourceUrl.BOOM_FIRE_EFFECT,!1,function(n,i){if(null==n&&null!=i){i.setParent(p),i.setPosition(a),i.zIndex=10*-t+10;var r=i.getComponent(u.pzaBoomFireEffect);r&&r.showEffect(e,o)}else console.error(n)})},t.createTangleKelpEffect=function(t,e,a){var o=n.pzaNodeManager.getUpEffectNode();null!=o&&i.pzaBundleObjectPool.requestInstantByUrl(r.pzaResourceUrl.TANGLEKELP_EFFECT,!1,function(n,i){if(null==n&&null!=i){i.setParent(o),i.setPosition(t);var r=i.getComponent(v.pzaTangleKelpEffect);r&&r.showEffect(e,a)}else console.error(n)})},t.createBackPumpkin=function(t){var e=n.pzaNodeManager.getPlantZombieNode();null!=e&&null!=t&&i.pzaBundleObjectPool.requestInstantByUrl(r.pzaResourceUrl.BACK_PUMPKIN,!1,function(a,o){if(null==a&&null!=o){o.setParent(e),o.setPosition(t.logicPos);var n=o.getComponent(c.pzaBackPumpkin);n&&n.bindData(t)}else console.error(a)})},t.createDoomHoleEffect=function(t,e,a){var o=n.pzaNodeManager.getDownEffectNode();null!=o&&null!=t&&i.pzaBundleObjectPool.requestInstantByUrl(r.pzaResourceUrl.DOOM_HOLE_EFFECT,!1,function(n,i){if(null==n&&null!=i){i.setParent(o),i.setPosition(t);var r=i.getComponent(h.pzaDoomHoleEffect);r&&r.init(e,a)}else console.error(n)})},t.createZombieCloseFallEffect=function(t,e,a){var o=n.pzaNodeManager.getPlantZombieNode();null!=o&&null!=t&&i.pzaBundleObjectPool.requestInstantByUrl(r.pzaResourceUrl.ZOMBIE_CLOTHER_FALL_EFFECT,!1,function(n,i){if(null==n&&null!=i){i.setParent(o),i.zIndex=e,i.setPosition(t);var r=i.getComponent(l.pzaBaseEffect);r&&r.showEffect(null,a)}else console.error(n)})},t.createPeaHitEffect=function(t,e,a){var o=n.pzaNodeManager.getPlantZombieNode();if(null!=o&&null!=e){var p=r.pzaResourceUrl.PEA_HIT_EFFECT;0==t?p=r.pzaResourceUrl.SNOW_PEA_HIT_EFFECT:1==t&&(p=r.pzaResourceUrl.PEA_HIT_EFFECT),i.pzaBundleObjectPool.requestInstantByUrl(p,!1,function(t,n){if(null==t&&null!=n){n.setParent(o),n.zIndex=a,n.setPosition(e);var i=n.getComponent(l.pzaBaseEffect);i&&i.showEffect(null,null)}else console.error(t)})}},t.createShroomHitEffect=function(t,e){var a=n.pzaNodeManager.getPlantZombieNode();null!=a&&null!=t&&i.pzaBundleObjectPool.requestInstantByUrl(r.pzaResourceUrl.SHROOM_HIT_EFFECT,!1,function(o,n){if(null==o&&null!=n){n.setParent(a),n.zIndex=e,n.setPosition(t);var i=n.getComponent(l.pzaBaseEffect);i&&i.showEffect(null,null)}else console.error(o)})},t.createDoomBoomEffect=function(t){var e=n.pzaNodeManager.getUpEffectNode();null!=e&&null!=t&&i.pzaBundleObjectPool.requestInstantByUrl(r.pzaResourceUrl.DOOM_BOOM_EFFECT,!1,function(a,o){if(null==a&&null!=o){o.setParent(e),o.setPosition(t);var n=o.getComponent(l.pzaBaseEffect);n&&n.showEffect(null,null)}else console.error(a)})},t.createFumeShroomEffect=function(t,e,a){var o=n.pzaNodeManager.getPlantZombieNode();null!=o&&i.pzaBundleObjectPool.requestInstantByUrl(r.pzaResourceUrl.FUME_SHROOM_EFFECT,!1,function(n,i){if(null==n&&null!=i){i.setParent(o),i.setPosition(e),i.zIndex=10*-t+10;var r=i.getComponent(l.pzaBaseEffect);r&&r.showEffect(null,a)}else console.error(n)})},t.createIceBoomEffect=function(t){var e=n.pzaNodeManager.getUpEffectNode();null!=e&&null!=t&&i.pzaBundleObjectPool.requestInstantByUrl(r.pzaResourceUrl.ICE_BOOM_EFFECT,!1,function(a,o){if(null==a&&null!=o){o.setParent(e),o.setPosition(t);var n=o.getComponent(l.pzaBaseEffect);n&&n.showEffect(null,null)}else console.error(a)})},t.createFrozenEffect=function(t){var e=n.pzaNodeManager.getPlantZombieNode();null!=e&&i.pzaBundleObjectPool.requestInstantByUrl(r.pzaResourceUrl.FROZEN_EFFECT,!1,function(a,o){if(null==a&&null!=o){o.setParent(e);var n=o.getComponent(y.pzaFrozenEffect);n&&n.bindData(t)}else console.error(a)})},t.createStarHitEffect=function(t,e){var a=n.pzaNodeManager.getPlantZombieNode();null!=a&&null!=t&&i.pzaBundleObjectPool.requestInstantByUrl(r.pzaResourceUrl.STAR_HIT_EFFECT,!1,function(o,n){if(null==o&&null!=n){n.setParent(a),n.zIndex=e,n.setPosition(t);var i=n.getComponent(l.pzaBaseEffect);i&&i.showEffect(null,null)}else console.error(o)})},t.createNutHurtEffect=function(t,e,a){var o=n.pzaNodeManager.getPlantZombieNode();null!=o&&null!=t&&i.pzaBundleObjectPool.requestInstantByUrl(r.pzaResourceUrl.STAR_HIT_EFFECT,!1,function(n,i){if(null==n&&null!=i){i.setParent(o),i.zIndex=a,i.setPosition(t);var r=i.getComponent(l.pzaBaseEffect);r&&r.showEffect(e,null)}else console.error(n)})},t}();a.pzaEffectManager=P,cc._RF.pop()},{"../Common/pzaMapManager":"pzaMapManager","../Common/pzaNodeManager":"pzaNodeManager","../Load/pzaBundleObjectPool":"pzaBundleObjectPool","../Load/pzaPreLoadManager":"pzaPreLoadManager","./Effect/pzaAbsorbIronEquip":"pzaAbsorbIronEquip","./Effect/pzaBackPumpkin":"pzaBackPumpkin","./Effect/pzaBaseEffect":"pzaBaseEffect","./Effect/pzaBattleFrameAnim":"pzaBattleFrameAnim","./Effect/pzaBoomFireEffect":"pzaBoomFireEffect","./Effect/pzaDoomHoleEffect":"pzaDoomHoleEffect","./Effect/pzaDropCard":"pzaDropCard","./Effect/pzaDropCoin":"pzaDropCoin","./Effect/pzaFogEffect":"pzaFogEffect","./Effect/pzaFrozenEffect":"pzaFrozenEffect","./Effect/pzaHammerEffect":"pzaHammerEffect","./Effect/pzaIceGroundEffect":"pzaIceGroundEffect","./Effect/pzaShowGrassEffect":"pzaShowGrassEffect","./Effect/pzaTangleKelpEffect":"pzaTangleKelpEffect","./Effect/pzaWordEffect":"pzaWordEffect"}],pzaFlagZombie:[function(t,e,a){"use strict";cc._RF.push(e,"4ea6aBnvahK862jVHmtItra","pzaFlagZombie");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaFlagZombie=void 0;var r=t("../Data/pzaZombieEnum"),p=t("./pzaBaseZombie"),c=cc._decorator,l=c.ccclass,s=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.zombieDying=function(){this.zombieHurtState=r.pzaHurtStateEnum.DYING,this.animation.setAnimationSkin("zombie_2")},e.prototype.zombieHurt=function(){this.zombieHurtState=r.pzaHurtStateEnum.HURT,this.animation.setAnimationSkin("zombie_2")},e.prototype.zombieIntact=function(){this.zombieHurtState=r.pzaHurtStateEnum.INTACT,this.animation.setAnimationSkin("zombie_1")},i([l],e)}(p.pzaBaseZombie));a.pzaFlagZombie=s,cc._RF.pop()},{"../Data/pzaZombieEnum":"pzaZombieEnum","./pzaBaseZombie":"pzaBaseZombie"}],pzaFlowerPot:[function(t,e,a){"use strict";cc._RF.push(e,"844b3i3LINC/YeQXQ5ZJ4Rg","pzaFlowerPot");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaFlowerPot=void 0;var r=t("./pzaBasePlant"),p=cc._decorator,c=p.ccclass,l=(p.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.bindData=function(e){t.prototype.bindData.call(this,e),this.animation.playAnimation("5daiji2",!0)},i([c],e)}(r.pzaBasePlant));a.pzaFlowerPot=l,cc._RF.pop()},{"./pzaBasePlant":"pzaBasePlant"}],pzaFogEffect:[function(t,e,a){"use strict";cc._RF.push(e,"89d9aoAzfxKuobLHg49NVFI","pzaFogEffect");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaFogEffect=void 0;var r=t("../../Common/pzaBaseComponent"),p=t("../../Common/pzaGameConfig"),c=t("../pzaGameState"),l=cc._decorator,s=l.ccclass,u=l.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.column5Cloud=[],e.column6Cloud=[],e.column7Cloud=[],e.column8Cloud=[],e.column9Cloud=[],e.planternDatas=new Set,e.allScatterNode=null,e.hasBeBlow=!1,e.beBlowTime=0,e.backing=!1,e.fogOffsetX=0,e.minFogColumn=0,e}return n(e,t),e.prototype.init=function(t,e){this.planternDatas.clear(),this.allScatterNode=null,this.hasBeBlow=!1,this.backing=!1,this.beBlowTime=0,this.fogOffsetX=0,this.minFogColumn=t,this.initFog(),this.node.stopAllActions();var a=cc.winSize;this.node.setPosition(cc.v2(a.width/2,0)),this.node.runAction(cc.sequence(cc.moveTo(1.5,cc.v2(0,0)).easing(cc.easeQuadraticActionOut()),cc.callFunc(function(){e&&e()})))},e.prototype.initFog=function(){var t=this;this.column5Cloud.forEach(function(e){null!=e&&(e.stopAllActions(),e.active=t.minFogColumn<=5,e.opacity=255)}),this.column6Cloud.forEach(function(e){null!=e&&(e.stopAllActions(),e.active=t.minFogColumn<=6,e.opacity=255)}),this.column7Cloud.forEach(function(e){null!=e&&(e.stopAllActions(),e.active=t.minFogColumn<=7,e.opacity=255)}),this.column8Cloud.forEach(function(t){null!=t&&(t.stopAllActions(),t.opacity=255)}),this.column9Cloud.forEach(function(t){null!=t&&(t.stopAllActions(),t.opacity=255)})},e.prototype.logicUpdate=function(t){this.backing?this.backFog(t):this.hasBeBlow&&(this.beBlowTime+=t,this.beBlowTime<24||(this.hasBeBlow=!1,this.backing=!0,this.initFog(),this.fogOffsetX=Math.floor(cc.winSize.width/2/p.pzaGameConfig.getBlockWidth(c.pzaGameState.curChapter)),this.allScatterNode=null))},e.prototype.pauseSelf=function(){this.node.pauseAllActions(),this.column5Cloud.forEach(function(t){t&&t.pauseAllActions()}),this.column6Cloud.forEach(function(t){t&&t.pauseAllActions()}),this.column7Cloud.forEach(function(t){t&&t.pauseAllActions()}),this.column8Cloud.forEach(function(t){t&&t.pauseAllActions()}),this.column9Cloud.forEach(function(t){t&&t.pauseAllActions()})},e.prototype.resumeSelf=function(){this.node.resumeAllActions(),this.column5Cloud.forEach(function(t){t&&t.resumeAllActions()}),this.column6Cloud.forEach(function(t){t&&t.resumeAllActions()}),this.column7Cloud.forEach(function(t){t&&t.resumeAllActions()}),this.column8Cloud.forEach(function(t){t&&t.resumeAllActions()}),this.column9Cloud.forEach(function(t){t&&t.resumeAllActions()})},e.prototype.backFog=function(t){var e=this,a=this.fogOffsetX,o=cc.winSize.width/28,n=this.node.x-o*t;if(n<=0&&(n=0,this.backing=!1),this.node.setPosition(cc.v2(n,0)),this.fogOffsetX=Math.floor(n/p.pzaGameConfig.getBlockWidth(c.pzaGameState.curChapter)),this.fogOffsetX!=a){var i=this.allScatterNode;this.getAllScatterFogNode(),this.allScatterNode.forEach(function(t){null==t||i&&i.has(t)||(t.stopAllActions(),t.opacity=255,t.runAction(cc.fadeOut(.3)))}),i&&i.forEach(function(t){null==t||e.allScatterNode&&e.allScatterNode.has(t)||(t.stopAllActions(),t.opacity=0,t.runAction(cc.fadeIn(.3)))})}},e.prototype.blowFog=function(){if(!this.hasBeBlow){this.hasBeBlow=!0,this.backing=!1,this.beBlowTime=0,this.node.stopAllActions();var t=cc.winSize;this.node.runAction(cc.moveTo(.7,cc.v2(t.width/2,0)).easing(cc.easeQuadraticActionOut()))}},e.prototype.addPlantern=function(t){if(null!=t){var e=this.allScatterNode;this.planternDatas.add(t),this.getAllScatterFogNode(),this.allScatterNode.forEach(function(t){null==t||e&&e.has(t)||(t.stopAllActions(),t.opacity=255,t.runAction(cc.fadeOut(.3)))})}},e.prototype.removePlantern=function(t){var e=this;if(null!=t){var a=this.allScatterNode;this.planternDatas.delete(t),this.getAllScatterFogNode(),a&&a.forEach(function(t){null==t||e.allScatterNode&&e.allScatterNode.has(t)||(t.stopAllActions(),t.opacity=0,t.runAction(cc.fadeIn(.3)))})}},e.prototype.getAllScatterFogNode=function(){this.allScatterNode=new Set;for(var t=p.pzaGameConfig.getMapRow(c.pzaGameState.curChapter),e=4;e<=8;e++){var a=this.getColumnFog(e);if(null!=a)for(var o=0;o<t;o++){var n=a[o];null!=n&&this.planterContainFog(e+this.fogOffsetX,o)&&this.allScatterNode.add(n)}}},e.prototype.getColumnFog=function(t){switch(t){case 4:return this.column5Cloud;case 5:return this.column6Cloud;case 6:return this.column7Cloud;case 7:return this.column8Cloud;case 8:return this.column9Cloud}},e.prototype.planterContainFog=function(t,e){var a=!1;return this.planternDatas.forEach(function(o){a||null==o||o.xIndex<=-1||o.yIndex<=-1||e>o.yIndex+2||e<o.yIndex-2||(a=e==o.yIndex+2||e==o.yIndex-2?t>=o.xIndex-2&&t<=o.xIndex+2:t>=o.xIndex-3&&t<=o.xIndex+3)}),a},i([u({displayName:"5\u5217\u4e91\u8282\u70b9",type:[cc.Node]})],e.prototype,"column5Cloud",void 0),i([u({displayName:"6\u5217\u4e91\u8282\u70b9",type:[cc.Node]})],e.prototype,"column6Cloud",void 0),i([u({displayName:"7\u5217\u4e91\u8282\u70b9",type:[cc.Node]})],e.prototype,"column7Cloud",void 0),i([u({displayName:"8\u5217\u4e91\u8282\u70b9",type:[cc.Node]})],e.prototype,"column8Cloud",void 0),i([u({displayName:"9\u5217\u4e91\u8282\u70b9",type:[cc.Node]})],e.prototype,"column9Cloud",void 0),i([s],e)}(r.pzaBaseComponent);a.pzaFogEffect=h,cc._RF.pop()},{"../../Common/pzaBaseComponent":"pzaBaseComponent","../../Common/pzaGameConfig":"pzaGameConfig","../pzaGameState":"pzaGameState"}],pzaFootballZombie:[function(t,e,a){"use strict";cc._RF.push(e,"f3422LKR3FJdJV8UNfW8IGR","pzaFootballZombie");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaFootballZombie=void 0;var r=t("./pzaBaseZombie"),p=cc._decorator,c=p.ccclass,l=(p.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.equipDying=function(){t.prototype.equipDying.call(this),this.equipAnimation.setAnimationSkin("maozi3")},e.prototype.equipHurt=function(){t.prototype.equipHurt.call(this),this.equipAnimation.setAnimationSkin("maozi2")},e.prototype.equipIntact=function(){t.prototype.equipIntact.call(this),this.equipAnimation.setAnimationSkin("maozi1")},i([c],e)}(r.pzaBaseZombie));a.pzaFootballZombie=l,cc._RF.pop()},{"./pzaBaseZombie":"pzaBaseZombie"}],pzaFrameAnimComponent:[function(t,e,a){"use strict";cc._RF.push(e,"c0754jcq6ZBT7iiagRYrYIF","pzaFrameAnimComponent");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=t("./pzaFrameAnim"),p=cc._decorator,c=p.ccclass,l=(p.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.update=function(t){this.updateFrame(t)},i([c],e)}(r.default));a.default=l,cc._RF.pop()},{"./pzaFrameAnim":"pzaFrameAnim"}],pzaFrameAnim:[function(t,e,a){"use strict";cc._RF.push(e,"2f54fyh8VpKBaCciEDVPkHC","pzaFrameAnim");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=cc._decorator,p=r.ccclass,c=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spriteFrames=[],e.duration=.1,e.loop=!1,e.playOnload=!1,e.endCallback=null,e.isPlaying=!1,e.playTime=0,e.spriteLen=0,e.spriteIndex=0,e}return n(e,t),e.prototype.onLoad=function(){this.sprite||(this.sprite=this.node.getComponent(cc.Sprite),this.spriteLen=this.spriteFrames.length),this.sprite?(this.sprite.sizeMode=cc.Sprite.SizeMode.RAW,this.sprite.trim=!1,this.playOnload&&this.play()):console.error("====[ERR]FrameAnim, \u672a\u914d\u7f6esprite")},e.prototype.setFrames=function(t){return this.spriteFrames=t,this.spriteLen=this.spriteFrames.length,this.node.getComponent(cc.Sprite).spriteFrame=t[0],this},e.prototype.setDuration=function(t){return this.duration=t,this},e.prototype.setLoop=function(t){return this.loop=t,this},e.prototype.setEndFn=function(t){return this.endCallback=t,this},e.prototype.play=function(){return this.spriteLen<=0?(console.error("====[ERR]FrameAnim, spriteLen\u4e3a\u7a7a"),this):(this.isPlaying=!0,this)},e.prototype.stop=function(){return this.isPlaying=!1,this},e.prototype.reset=function(){return this.spriteIndex=0,this.playTime=0,this.sprite.spriteFrame=this.spriteFrames[0],this},e.prototype.updateFrame=function(t){if(this.isPlaying&&(this.playTime+=t,!(this.playTime<this.duration))){if(this.spriteIndex++,this.playTime=0,this.spriteIndex>=this.spriteLen){if(!this.loop)return this.isPlaying=!1,void(this.endCallback&&this.endCallback());this.spriteIndex=0}this.sprite.spriteFrame=this.spriteFrames[this.spriteIndex]}},i([c({type:[cc.SpriteFrame]})],e.prototype,"spriteFrames",void 0),i([c({tooltip:"\u6bcf\u4e00\u5e27\u65f6\u957f"})],e.prototype,"duration",void 0),i([c()],e.prototype,"loop",void 0),i([c()],e.prototype,"playOnload",void 0),i([p],e)}(cc.Component);a.default=l,cc._RF.pop()},{}],pzaFrozenEffect:[function(t,e,a){"use strict";cc._RF.push(e,"2216dff601LwaALsQ/9tumg","pzaFrozenEffect");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaFrozenEffect=void 0;var r=t("../../Common/pzaBaseComponent"),p=t("../../Common/pzaSpineController"),c=t("../Data/pzaBuffData"),l=cc._decorator,s=l.ccclass,u=l.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spine=null,e.frostNode=null,e.thawing=!1,e}return n(e,t),e.prototype.bindData=function(e){t.prototype.bindData.call(this,e),this.thawing=!1,this.node.setPosition(e.logicPos),this.spine.node.active=!1,this.frostNode.active=!0;var a=10*-this.baseData.yIndex+5;this.node.zIndex=a},e.prototype.logicUpdate=function(){this.thawing||(null==this.baseData||this.baseData.isDead?this.close():this.baseData.buffData.hasBuff(c.pzaBuffType.FROZEN)||this.thaw())},e.prototype.thaw=function(){var t=this;this.thawing=!0,this.spine.node.active=!0,this.frostNode.active=!1,this.spine.playAnimation("blow1",!1,function(){t.close()})},e.prototype.pauseSelf=function(){this.thawing&&this.spine.pauseAnimation()},e.prototype.resumeSelf=function(){this.thawing&&this.spine.resumeAnimation()},i([u({displayName:"spine\u52a8\u753b",type:p.pzaSpineController})],e.prototype,"spine",void 0),i([u({displayName:"\u51b0\u51bb\u56fe\u8282\u70b9",type:cc.Node})],e.prototype,"frostNode",void 0),i([s],e)}(r.pzaBaseComponent);a.pzaFrozenEffect=h,cc._RF.pop()},{"../../Common/pzaBaseComponent":"pzaBaseComponent","../../Common/pzaSpineController":"pzaSpineController","../Data/pzaBuffData":"pzaBuffData"}],pzaFumeShroom:[function(t,e,a){"use strict";cc._RF.push(e,"3a637jM3wtCYrxURFH0/B6g","pzaFumeShroom");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaFumeShroom=void 0;var r=t("../../Common/pzaUtil"),p=t("../pzaEffectManager"),c=t("../pzaGameState"),l=t("./pzaBasePlant"),s=cc._decorator,u=s.ccclass,h=s.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.shootNode=null,e.blinkTime=3,e}return n(e,t),e.prototype.bindData=function(e){t.prototype.bindData.call(this,e),c.pzaGameState.gameTimeType==c.pzaGameTimeType.DAY?(this.animation.playAnimation("idle2",!0),e.plantData.sleeping=!0):(this.blinkTime=r.pzaUtil.getRandomFloatNum(3,6),this.playNormalAni())},e.prototype.logicUpdate=function(t){null==this.baseData||this.baseData.isDead||null==this.baseData.plantData||this.baseData.plantData.sleeping||(this.blinkTime-=t)},e.prototype.wakeUp=function(){null!=this.baseData&&null!=this.baseData.plantData&&this.baseData.plantData.sleeping&&(this.baseData.plantData.sleeping=!1,this.animation.playAnimation("awoke",!1,this.playNormalAni.bind(this)))},e.prototype.playNormalAni=function(){var t=this,e=function(){var a=window.pzazombieManager.getCanAttackZombies(t.baseData,4);a&&a.length>0?t.animation.playAnimation("attack",!1,e,function(){var e=cc.v2(t.baseData.logicPos.x+t.shootNode.x,t.baseData.logicPos.y+t.shootNode.y);p.pzaEffectManager.createFumeShroomEffect(t.baseData.yIndex,e,null),t.hurtZombies(a)}):t.blinkTime>0?t.animation.playAnimation("idle1",!1,e):(t.blinkTime=r.pzaUtil.getRandomFloatNum(3,6),t.animation.playAnimation("idle1_eye",!1,e))};this.animation.playAnimation("idle1",!1,e)},e.prototype.hurtZombies=function(t){var e=this;null!=t&&t.forEach(function(t){if(null!=e.baseData){var a=window.pzazombieManager.getZombie(t);a&&a.hurt(e.baseData.atk,e.baseData)}})},i([h({displayName:"\u53d1\u5c04\u70b9",type:cc.Node})],e.prototype,"shootNode",void 0),i([u],e)}(l.pzaBasePlant);a.pzaFumeShroom=f,cc._RF.pop()},{"../../Common/pzaUtil":"pzaUtil","../pzaEffectManager":"pzaEffectManager","../pzaGameState":"pzaGameState","./pzaBasePlant":"pzaBasePlant"}],pzaGameCommonPool:[function(t,e,a){"use strict";cc._RF.push(e,"9a66aQkbvNLt4aUJDAQRYyG","pzaGameCommonPool"),Object.defineProperty(a,"__esModule",{value:!0}),a.pzaGameCommonPool=void 0;var o=function(){function t(){}return t.addUrlToPrefab=function(t,e){null!=t&&null!=e&&this.urlToPrefab.set(t,e)},t.addPrefabPool=function(t){var e=this.currentPool.get(t);return null==e&&(e=new Array,this.currentPool.set(t,e)),e},t.addAndPopInstant=function(t){var e=cc.instantiate(t);return this.pool.add(e),this.instantToPrefab.set(e,t),e},t.requestInstant=function(t,e){void 0===e&&(e=!1);var a=this.addPrefabPool(t);e&&this.unDestroyPrefab.add(t);var o=a.pop();return null==o&&(o=this.addAndPopInstant(t)),o.active=!0,o},t.requestInstantByInstant=function(t){var e=this.instantToPrefab.get(t);if(null==e)return cc.instantiate(t);var a=this.currentPool.get(e);if(null==a)return cc.instantiate(t);var o=a.pop();return null==o&&(o=this.addAndPopInstant(e)),o.active=!0,o},t.returnInstant=function(t){null!=t&&t.isValid&&(t.active=!1,t.removeFromParent(),this.addToCurrentPool(t))},t.addToCurrentPool=function(t,e){if(null!=t&&(null==e&&(e=this.instantToPrefab.get(t)),null!=e)){var a=this.currentPool.get(e);null!=a?-1==a.indexOf(t)&&a.push(t):this.currentPool.set(e,[t])}},t.reset=function(t){var e=this;void 0===t&&(t=!1);try{var a=[];this.instantToPrefab.forEach(function(o,n){null!=o&&null!=n&&(!t&&e.unDestroyPrefab.has(o)||(e.pool.delete(n),e.currentPool.delete(o),a.push(n)))}),a.forEach(function(t){null!=t&&(t.isValid&&t.destroy(),e.instantToPrefab.delete(t))})}catch(o){console.error(o)}},t.pool=new Set,t.currentPool=new Map,t.instantToPrefab=new Map,t.unDestroyPrefab=new Set,t.urlToPrefab=new Map,t.urlToSpriteFame=new Map,t.urlToJson=new Map,t}();a.pzaGameCommonPool=o,cc._RF.pop()},{}],pzaGameConfig:[function(t,e,a){"use strict";cc._RF.push(e,"324edpOc/VIO7o/KS+DqQdc","pzaGameConfig"),Object.defineProperty(a,"__esModule",{value:!0}),a.pzaGameConfig=a.pzaMapConifg=a.pzaZombieBookConfig=a.pzaZombieConfigData=a.pzaPlantBookConfig=a.pzaPlantConfigData=void 0;var o=t("../Battle/Data/pzaDropType"),n=t("../Battle/Data/pzaPlantEnum"),i=t("../Battle/Data/pzaZombieEnum"),r=t("./pzaUtil"),p=function(){function t(t,e,a,o,i,r,p,c,l){this.plantType=null,this.name=null,this.env=n.pzaPlantEnvEnum.NORMAL,this.hp=0,this.atk=0,this.atkInterval=0,this.price=0,this.createCD=0,this.initCD=0,this.rareLevel=0,this.plantType=t,this.name=e,this.env=a,this.hp=o,this.atk=i,this.atkInterval=r,this.price=p,this.createCD=c,this.initCD=l}return t.isEnvPlant=function(t){return t==n.pzaPlantEnum.LILY_PAD||t==n.pzaPlantEnum.FLOWER_POT},t}();a.pzaPlantConfigData=p;var c=function(t,e,a,o,n,i,r){this.plantType=null,this.desc=null,this.prop=null,this.special=null,this.bg1=null,this.bg2=null,this.cd=null,this.plantType=t,this.desc=e,this.prop=a,this.special=o,this.bg1=n,i=i,this.cd=r};a.pzaPlantBookConfig=c;var l=function(){function t(t,e,a,o,n,i,r,p,c,l,s,u){this.zombieType=null,this.name=null,this.hp=0,this.equipHp=0,this.equipType=0,this.toolType=0,this.atk=0,this.atkInterval=0,this.minSpeed=0,this.maxSpeed=0,this.specialMinSpeed=0,this.specialMaxSpeed=0,this.refreshLevel=1,this.refrshWeight=0,this.refrshMinWave=1,this.zombieType=t,this.name=e,this.hp=a,this.equipHp=o,this.atk=r,this.atkInterval=p,this.equipType=n,this.toolType=i,this.refreshLevel=l,this.refrshWeight=s,this.refrshMinWave=u,this.minSpeed=this.maxSpeed=c,this.specialMinSpeed=this.specialMaxSpeed=c}return Object.defineProperty(t.prototype,"speed",{get:function(){return r.pzaUtil.getRandomFloatNum(this.minSpeed,this.maxSpeed)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"specialSpeed",{get:function(){return r.pzaUtil.getRandomFloatNum(this.specialMinSpeed,this.specialMaxSpeed)},enumerable:!1,configurable:!0}),t}();a.pzaZombieConfigData=l;var s=function(t,e,a,o,n){this.zombieType=null,this.desc=null,this.prop=null,this.special=!1,this.bg=null,this.zombieType=t,this.desc=e,this.prop=a,this.special=o,this.bg=n};a.pzaZombieBookConfig=s;var u=function(t,e,a,o,n,i,r,p,c,l,s){this.xInterval=[97,97,94,97,97,94,97,97,117],this.xPos=[0,97,194,288,385,482,576,673,770],this.yInterval=[125,102,124,115,148],this.yPos=[0,125,227,351,466],this.mapOriPos=cc.v2(-380,-326),this.blockWidth=97,this.mapHeight=614,this.mapWidth=887,this.mapRow=5,this.skewAngel=12,this.skewColumn=5,this.mapHeight=t,this.mapWidth=e,this.blockWidth=a,this.mapOriPos=o,this.xPos=n,this.xInterval=i,this.yPos=r,this.yInterval=p,this.mapRow=c,this.skewAngel=l,this.skewColumn=s};a.pzaMapConifg=u;var h=function(){function t(){}return t.getMapSkewRadion=function(t){var e=this.chapterMapConfig.get(t);if(null!=e)return e.skewAngel/180*Math.PI;console.error("\u83b7\u53d6\u5730\u56fe\u914d\u7f6e\u5931\u8d25",t)},t.getMapSkewColumn=function(t){var e=this.chapterMapConfig.get(t);if(null!=e)return e.skewColumn;console.error("\u83b7\u53d6\u5730\u56fe\u914d\u7f6e\u5931\u8d25",t)},t.getXInterval=function(t,e){var a=this.chapterMapConfig.get(t);if(null!=a)return a.xInterval[e];console.error("\u83b7\u53d6\u5730\u56fe\u914d\u7f6e\u5931\u8d25",t)},t.getXPos=function(t,e){var a=this.chapterMapConfig.get(t);if(null!=a)return a.xPos[e];console.error("\u83b7\u53d6\u5730\u56fe\u914d\u7f6e\u5931\u8d25",t)},t.getYInterval=function(t,e){var a=this.chapterMapConfig.get(t);if(null!=a)return a.yInterval[e];console.error("\u83b7\u53d6\u5730\u56fe\u914d\u7f6e\u5931\u8d25",t)},t.getYPos=function(t,e){var a=this.chapterMapConfig.get(t);if(null!=a)return a.yPos[e];console.error("\u83b7\u53d6\u5730\u56fe\u914d\u7f6e\u5931\u8d25",t)},t.getBlockAllPos=function(t,e,a,o){var n=this.chapterMapConfig.get(t);if(null!=n){var i=n.skewAngel/180*Math.PI;if(0==o){var r=Math.min(n.skewColumn,e),p=Math.tan(i)*n.xPos[r];return cc.v2(n.xPos[e],n.yPos[a]+p)}if(1==o)return r=Math.min(n.skewColumn,e+1),p=Math.tan(i)*n.xPos[r],cc.v2(n.xPos[e+1],n.yPos[a]+p);if(2==o)return r=Math.min(n.skewColumn,e+1),p=Math.tan(i)*n.xPos[r],cc.v2(n.xPos[e+1],n.yPos[a+1]+p);if(3==o)return r=Math.min(n.skewColumn,e),p=Math.tan(i)*n.xPos[r],cc.v2(n.xPos[e],n.yPos[a+1]+p)}else console.error("\u83b7\u53d6\u5730\u56fe\u914d\u7f6e\u5931\u8d25",t)},t.getMapOriPos=function(t){var e=this.chapterMapConfig.get(t);if(null!=e)return e.mapOriPos;console.error("\u83b7\u53d6\u5730\u56fe\u914d\u7f6e\u5931\u8d25",t)},t.getBlockWidth=function(t){var e=this.chapterMapConfig.get(t);if(null!=e)return e.blockWidth;console.error("\u83b7\u53d6\u5730\u56fe\u914d\u7f6e\u5931\u8d25",t)},t.getMapHeight=function(t){var e=this.chapterMapConfig.get(t);if(null!=e)return e.mapHeight;console.error("\u83b7\u53d6\u5730\u56fe\u914d\u7f6e\u5931\u8d25",t)},t.getMapWidth=function(t){var e=this.chapterMapConfig.get(t);if(null!=e)return e.mapWidth;console.error("\u83b7\u53d6\u5730\u56fe\u914d\u7f6e\u5931\u8d25",t)},t.getMapColumn=function(){return 9},t.getMapRow=function(t){var e=this.chapterMapConfig.get(t);if(null!=e)return e.mapRow;console.error("\u83b7\u53d6\u5730\u56fe\u914d\u7f6e\u5931\u8d25",t)},t.initPlantConfig=function(t){var e=this;null!=t&&t.forEach(function(t){if(null!=t){t.ly;var a=new p(parseInt(t.id),t.name,parseInt(t.lx),parseInt(t.hp),parseInt(t.atk),0,parseInt(t.gold),0,parseInt(t.openingcd));null!=t.cd&&(a.atkInterval=parseFloat(t.cd)),null!=t.plantcd&&(a.createCD=parseFloat(t.plantcd)),e.PlantConfigMap.set(t.id,a)}})},t.initZombieConfig=function(t){var e=this;null!=t&&t.forEach(function(t){if(null!=t){var a,o=new l(parseInt(t.id),t.name,parseInt(t.hp),parseInt(t.armorhp),parseInt(t.armor),parseInt(t.tool),parseInt(t.atk),parseFloat(t.cd),0,parseInt(t.level),parseInt(t.weight),parseInt(t.mini));if(null!=t.speed)if((a=t.speed.split(",")).length>1){var n=parseFloat(a[0]),i=parseFloat(a[1]);o.minSpeed=Math.min(n,i),o.maxSpeed=Math.max(n,i)}else o.minSpeed=o.maxSpeed=parseFloat(a[0]);null!=t.bspeed&&((a=t.bspeed.split(",")).length>1?(n=parseFloat(a[0]),i=parseFloat(a[1]),o.specialMinSpeed=Math.min(n,i),o.specialMaxSpeed=Math.max(n,i)):o.specialMinSpeed=o.specialMaxSpeed=parseFloat(a[0])),e.ZombieConfigMap.set(t.id,o)}})},t.getPartDrop=function(t,e){if(4==e){if(1==t)return o.pzaDropType.SHOVEL;if(2==t)return o.pzaDropType.HAND_BOOK;if(3==t)return o.pzaDropType.BACONIC;if(4==t)return o.pzaDropType.TACO;if(5==t)return o.pzaDropType.SPRINKLER}if(9==e||5==t&&10==e)return o.pzaDropType.CG_PAPER;var a=t+"-"+e;return this.newPlantDropMap.has(a)?o.pzaDropType.PLANT_CARD:null},t.getPartStar=function(t,e){return this.AllPartStar[t-1][e-1]},t.getAllPartStar=function(){for(var t=0,e=0;e<this.AllPartStar.length;e++)for(var a=this.AllPartStar[e],o=0;o<a.length;o++)t+=a[o];return t},t.isWaterZombie=function(t){return this.waterWayZombies.has(t)},t.isFlyZombie=function(t){return t==i.pzaZombieEnum.BALLOON_ZOMBIE},t.getPlantConfig=function(t){return this.PlantConfigMap.get(t)},t.getZombieConfig=function(t){return this.ZombieConfigMap.get(t)},t.getZombieSpecialSpeed=function(t){var e=this.ZombieConfigMap.get(t);return null==e?0:e.specialSpeed},t.getZombieSpeed=function(t){var e=this.ZombieConfigMap.get(t);return null==e?0:e.speed},t.getRandomSunPos=function(){var t=r.pzaUtil.getRandomFloatNum(this.autoSunMinX,this.autoSunMaxX);return cc.v2(t,this.autoSunY)},t.getRandomSunDis=function(){return r.pzaUtil.getRandomFloatNum(this.autoSunMaxDis/2,this.autoSunMaxDis)},t.getMapXIndex=function(e,a,o){if(void 0===o&&(o=null),null==a&&null==o)return-1;var n;if((n=null!=o?o.x:a.x-this.getMapOriPos(e).x)<0)return-1;for(var i=0,r=t.getMapColumn(),p=0;p<r;p++)if((i+=this.getXInterval(e,p))>=n)return p;return-1},t.getMapYIndex=function(e,a,o){if(void 0===o&&(o=null),null==a&&null==o)return-1;var n=-1,i=-1;if(null!=o)n=o.x,i=o.y;else{var r=this.getMapOriPos(e);n=a.x-r.x,i=a.y-r.y}var p=this.getMapSkewRadion(e),c=this.getMapSkewColumn(e);if(n=Math.min(n,this.getXPos(e,c)),(i-=Math.tan(p)*n)<0)return-1;for(var l=t.getMapRow(e),s=0,u=0;u<l;u++)if((s+=this.getYInterval(e,u))>=i)return u;return-1},t.getBlockLogicPos=function(t,e,a,o,n){void 0===o&&(o=0);var i=this.chapterMapConfig.get(t);if(null!=i){var r=i.xPos[e]+o,p=i.yPos[a]+n,c=this.getMapSkewRadion(t),l=this.getMapSkewColumn(t),s=Math.min(r,this.getXPos(t,l)),u=Math.tan(c)*s;return cc.v2(r+i.mapOriPos.x,p+u+i.mapOriPos.y)}console.error("\u83b7\u53d6\u5730\u56fe\u914d\u7f6e\u5931\u8d25",t)},t.fixMapYOffset=function(t,e,a,o){if(null!=a){var n=this.chapterMapConfig.get(t);if(null!=n){var i=n.yPos[e]+o;if(n.skewAngel<=0||n.skewColumn<=0)a.y=i+n.mapOriPos.y;else{var r=this.getMapSkewColumn(t),p=this.getXPos(t,r),c=a.x-n.mapOriPos.x;if(!(c>=p)){var l=this.getMapSkewRadion(t),s=c*Math.tan(l);a.y=i+s+n.mapOriPos.y}}}else console.error("\u83b7\u53d6\u5730\u56fe\u914d\u7f6e\u5931\u8d25",t)}},t.getZombieLevel=function(t){var e=this.ZombieConfigMap.get(t);return null==e?1:e.refreshLevel},t.getRandomBeltPlant=function(t,e){if(1==t&&10==e){var a=r.pzaUtil.getRandomIndexByWeight(this.BeltPlantWeight110);return this.BeltPlant110[a]}if(2==t&&10==e)return a=r.pzaUtil.getRandomIndexByWeight(this.BeltPlantWeight210),this.BeltPlant210[a];if(3==t){if(5==e)return a=r.pzaUtil.getRandomIndexByWeight(this.BeltPlantWeight35),this.BeltPlant35[a];if(10==e)return a=r.pzaUtil.getRandomIndexByWeight(this.BeltPlantWeight310),this.BeltPlant310[a]}return null},t.isNoRecommendPlant=function(t,e){var a=this.NO_RECOMMEND_PLANT.get(e);return null!=a&&a.has(t)},t.chapterMapConfig=new Map([[1,new u(610,1060,115,cc.v2(-450,-326),[0,115,230,350,470,585,700,815,930,1060],[115,115,120,120,115,115,115,115,130],[0,125,227,351,466,610],[125,102,124,115,144],5,0,0)],[2,new u(610,1060,115,cc.v2(-450,-326),[0,115,230,350,470,585,700,815,930,1060],[115,115,120,120,115,115,115,115,130],[0,125,227,351,466,610],[125,102,124,115,144],5,0,0)],[3,new u(610,1040,115,cc.v2(-450,-340),[0,115,230,350,470,585,700,815,930,1040],[115,115,120,120,115,115,115,115,110],[0,100,215,305,415,515,610],[100,115,90,110,100,105],6,0,0)],[4,new u(610,1060,115,cc.v2(-450,-340),[0,115,230,350,470,585,700,815,930,1040],[115,115,120,120,115,115,115,115,110],[0,100,215,305,415,515,610],[100,115,90,110,100,105],6,0,0)],[5,new u(619,1025,115,cc.v2(-442,-378),[0,115,230,340,455,570,680,795,910,1025],[115,115,110,115,115,110,115,115,115],[0,90,190,293,396,499],[90,100,103,103,103],5,13,5)]]),t.sunLiveTime=15,t.autoSunY=280,t.autoSunMaxDis=600,t.autoSunMinX=-450,t.autoSunMaxX=390,t.autoSunSpeed=80,t.bigSunValue=25,t.smallSunValue=15,t.DIAMOND_CHANCE=.005,t.GOLD_CHANCE=.02,t.SILVER_CHANCE=.08,t.miniZombieScale=.55,t.miniZombieHp=.2,t.miniZombieWaveInterval=8,t.PlantConfigMap=new Map([[n.pzaPlantEnum.PEA_SHOOTER,new p(n.pzaPlantEnum.PEA_SHOOTER,"\u8c4c\u8c46\u5c04\u624b",n.pzaPlantEnvEnum.NORMAL,300,20,1.4,100,7.5,0)],[n.pzaPlantEnum.SUN_FLOWER,new p(n.pzaPlantEnum.SUN_FLOWER,"\u5411\u65e5\u8475",n.pzaPlantEnvEnum.NORMAL,300,0,24,50,7.5,0)],[n.pzaPlantEnum.CHERRY_BOMB,new p(n.pzaPlantEnum.CHERRY_BOMB,"\u6a31\u6843\u70b8\u5f39",n.pzaPlantEnvEnum.NORMAL,300,1800,1,150,50,35)],[n.pzaPlantEnum.WALL_NUT,new p(n.pzaPlantEnum.WALL_NUT,"\u575a\u679c",n.pzaPlantEnvEnum.NORMAL,4e3,0,0,50,30,20)],[n.pzaPlantEnum.POTATO_MINE,new p(n.pzaPlantEnum.POTATO_MINE,"\u571f\u8c46\u5730\u96f7",n.pzaPlantEnvEnum.SOIL,300,1800,1,25,30,20)],[n.pzaPlantEnum.SNOW_PEA,new p(n.pzaPlantEnum.SNOW_PEA,"\u96ea\u82b1\u8c4c\u8c46",n.pzaPlantEnvEnum.NORMAL,300,20,1.4,175,7.5,0)],[n.pzaPlantEnum.CHOMPER,new p(n.pzaPlantEnum.CHOMPER,"\u5480\u56bc\u8005",n.pzaPlantEnvEnum.NORMAL,300,40,42,150,7.5,0)],[n.pzaPlantEnum.REPEATER,new p(n.pzaPlantEnum.REPEATER,"\u53cc\u53d1\u8c4c\u8c46",n.pzaPlantEnvEnum.NORMAL,300,20,1.4,200,7.5,0)],[n.pzaPlantEnum.PUFF_SHROOM,new p(n.pzaPlantEnum.PUFF_SHROOM,"\u5c0f\u55b7\u83c7",n.pzaPlantEnvEnum.NORMAL,300,20,1.4,0,7.5,0)],[n.pzaPlantEnum.SUN_SHROOM,new p(n.pzaPlantEnum.SUN_SHROOM,"\u9633\u5149\u83c7",n.pzaPlantEnvEnum.NORMAL,300,0,24,25,7.5,0)],[n.pzaPlantEnum.FUME_SHROOM,new p(n.pzaPlantEnum.FUME_SHROOM,"\u5927\u55b7\u83c7",n.pzaPlantEnvEnum.NORMAL,300,20,1.4,75,7.5,0)],[n.pzaPlantEnum.GRAVE_BUSTER,new p(n.pzaPlantEnum.GRAVE_BUSTER,"\u54ac\u54ac\u7891",n.pzaPlantEnvEnum.TOMB,300,0,4.5,75,7.5,0)],[n.pzaPlantEnum.HYPNO_SHROOM,new p(n.pzaPlantEnum.HYPNO_SHROOM,"\u8ff7\u7cca\u83c7",n.pzaPlantEnvEnum.NORMAL,300,0,0,75,30,20)],[n.pzaPlantEnum.SCAREDY_SHROOM,new p(n.pzaPlantEnum.SCAREDY_SHROOM,"\u80c6\u5c0f\u83c7",n.pzaPlantEnvEnum.NORMAL,300,20,1.4,25,7.5,0)],[n.pzaPlantEnum.ICE_SHROOM,new p(n.pzaPlantEnum.ICE_SHROOM,"\u51b0\u5ddd\u83c7",n.pzaPlantEnvEnum.NORMAL,300,20,1,75,50,35)],[n.pzaPlantEnum.DOOM_SHROOM,new p(n.pzaPlantEnum.DOOM_SHROOM,"\u6bc1\u706d\u83c7",n.pzaPlantEnvEnum.NORMAL,300,1800,1,125,50,35)],[n.pzaPlantEnum.LILY_PAD,new p(n.pzaPlantEnum.LILY_PAD,"\u83b2\u53f6",n.pzaPlantEnvEnum.POND,300,0,0,25,7.5,0)],[n.pzaPlantEnum.SQUASH,new p(n.pzaPlantEnum.SQUASH,"\u7a9d\u74dc",n.pzaPlantEnvEnum.NORMAL,300,1800,1.4,50,30,20)],[n.pzaPlantEnum.THREE_PEATER,new p(n.pzaPlantEnum.THREE_PEATER,"\u4e09\u91cd\u5c04\u624b",n.pzaPlantEnvEnum.NORMAL,300,20,1.4,325,7.5,0)],[n.pzaPlantEnum.TANGLE_KELP,new p(n.pzaPlantEnum.TANGLE_KELP,"\u7f20\u7ed5\u6c34\u8349",n.pzaPlantEnvEnum.POND,300,1800,1.4,25,30,20)],[n.pzaPlantEnum.JALAPENO,new p(n.pzaPlantEnum.JALAPENO,"\u706b\u7206\u8fa3\u6912",n.pzaPlantEnvEnum.NORMAL,300,1800,1,125,50,35)],[n.pzaPlantEnum.SPIKEWEED,new p(n.pzaPlantEnum.SPIKEWEED,"\u5730\u523a",n.pzaPlantEnvEnum.GRASS,300,20,.7,100,7.5,0)],[n.pzaPlantEnum.TORCHWOOD,new p(n.pzaPlantEnum.TORCHWOOD,"\u706b\u70ac\u6811\u6869",n.pzaPlantEnvEnum.NORMAL,300,0,0,175,7.5,0)],[n.pzaPlantEnum.TALL_NUT,new p(n.pzaPlantEnum.TALL_NUT,"\u9ad8\u575a\u679c",n.pzaPlantEnvEnum.NORMAL,8e3,0,0,125,30,20)],[n.pzaPlantEnum.SEA_SHROOM,new p(n.pzaPlantEnum.SEA_SHROOM,"\u6c34\u5175\u83c7",n.pzaPlantEnvEnum.POND,300,20,1.4,0,30,20)],[n.pzaPlantEnum.PLANTERN,new p(n.pzaPlantEnum.PLANTERN,"\u706f\u7b3c\u8349",n.pzaPlantEnvEnum.NORMAL,300,0,1.4,25,30,20)],[n.pzaPlantEnum.CACTUS,new p(n.pzaPlantEnum.CACTUS,"\u4ed9\u4eba\u638c",n.pzaPlantEnvEnum.NORMAL,300,20,1.4,125,7.5,0)],[n.pzaPlantEnum.BLOVER,new p(n.pzaPlantEnum.BLOVER,"\u4e09\u53f6\u8349",n.pzaPlantEnvEnum.NORMAL,300,0,.5,100,7.5,0)],[n.pzaPlantEnum.SPLIT_PEA,new p(n.pzaPlantEnum.SPLIT_PEA,"\u53cc\u5411\u5c04\u624b",n.pzaPlantEnvEnum.NORMAL,300,20,1.4,125,7.5,0)],[n.pzaPlantEnum.STAR_FRUIT,new p(n.pzaPlantEnum.STAR_FRUIT,"\u661f\u661f\u679c",n.pzaPlantEnvEnum.NORMAL,300,20,1.4,125,7.5,0)],[n.pzaPlantEnum.PUMPKIN,new p(n.pzaPlantEnum.PUMPKIN,"\u5357\u74dc\u5934",n.pzaPlantEnvEnum.NORMAL,4e3,0,1.4,125,30,20)],[n.pzaPlantEnum.MAGNET_SHROOM,new p(n.pzaPlantEnum.MAGNET_SHROOM,"\u78c1\u529b\u83c7",n.pzaPlantEnvEnum.NORMAL,300,20,15,100,7.5,0)],[n.pzaPlantEnum.CABBAGE_PULT,new p(n.pzaPlantEnum.CABBAGE_PULT,"\u5377\u5fc3\u83dc",n.pzaPlantEnvEnum.NORMAL,300,40,2.9,100,7.5,0)],[n.pzaPlantEnum.FLOWER_POT,new p(n.pzaPlantEnum.FLOWER_POT,"\u82b1\u76c6",n.pzaPlantEnvEnum.ROOF,300,0,0,25,7.5,0)],[n.pzaPlantEnum.KERNEL_PULT,new p(n.pzaPlantEnum.KERNEL_PULT,"\u7389\u7c73\u6295\u624b",n.pzaPlantEnvEnum.NORMAL,300,20,2.9,100,7.5,0)],[n.pzaPlantEnum.COFFEE_BEAN,new p(n.pzaPlantEnum.COFFEE_BEAN,"\u5496\u5561\u8c46",n.pzaPlantEnvEnum.SHROOM,300,0,1,75,7.5,0)],[n.pzaPlantEnum.GARLIC,new p(n.pzaPlantEnum.GARLIC,"\u5927\u849c",n.pzaPlantEnvEnum.NORMAL,400,0,0,50,7.5,0)],[n.pzaPlantEnum.UMBRELLA_LEAF,new p(n.pzaPlantEnum.UMBRELLA_LEAF,"\u841d\u535c\u4f1e",n.pzaPlantEnvEnum.NORMAL,300,0,0,100,7.5,0)],[n.pzaPlantEnum.MARIGOLD,new p(n.pzaPlantEnum.MARIGOLD,"\u91d1\u76cf\u82b1",n.pzaPlantEnvEnum.NORMAL,300,0,24,50,30,0)],[n.pzaPlantEnum.MELON_PULT,new p(n.pzaPlantEnum.MELON_PULT,"\u897f\u74dc\u6295\u624b",n.pzaPlantEnvEnum.NORMAL,300,80,2.9,300,7.5,0)]]),t.ZombieConfigMap=new Map([[i.pzaZombieEnum.ZOMBIE,new l(i.pzaZombieEnum.ZOMBIE,"\u50f5\u5c38",270,0,0,0,100,1,4.7,1,4e3,1)],[i.pzaZombieEnum.FLAG_ZOMBIE,new l(i.pzaZombieEnum.FLAG_ZOMBIE,"\u65d7\u5e1c\u50f5\u5c38",270,0,0,0,100,1,3.7,1,0,1)],[i.pzaZombieEnum.CONE_HEAD_ZOMBIE,new l(i.pzaZombieEnum.CONE_HEAD_ZOMBIE,"\u8def\u969c\u50f5\u5c38",270,370,1,0,100,1,4.7,2,4e3,1)],[i.pzaZombieEnum.POLEVAULTING_ZOMBIE,new l(i.pzaZombieEnum.POLEVAULTING_ZOMBIE,"\u6491\u6746\u50f5\u5c38",500,0,0,1,100,1,2.5,2,2e3,5)],[i.pzaZombieEnum.BUCKET_HEAD_ZOMBIE,new l(i.pzaZombieEnum.BUCKET_HEAD_ZOMBIE,"\u94c1\u6876\u50f5\u5c38",270,1100,2,0,100,1,4.7,4,3e3,1)],[i.pzaZombieEnum.NEWSPAPER_ZOMBIE,new l(i.pzaZombieEnum.NEWSPAPER_ZOMBIE,"\u8bfb\u62a5\u50f5\u5c38",270,150,1,0,100,1,4.7,2,1e3,1)],[i.pzaZombieEnum.SCREEN_DOOR_ZOMBIE,new l(i.pzaZombieEnum.SCREEN_DOOR_ZOMBIE,"\u94c1\u7f51\u95e8\u50f5\u5c38",270,1100,2,0,100,1,4.7,4,3500,5)],[i.pzaZombieEnum.FOOTBALL_ZOMBIE,new l(i.pzaZombieEnum.FOOTBALL_ZOMBIE,"\u6a44\u6984\u7403\u50f5\u5c38",270,1400,2,0,100,1,2.5,7,2e3,5)],[i.pzaZombieEnum.DANCING_ZOMBIE,new l(i.pzaZombieEnum.DANCING_ZOMBIE,"\u821e\u8005\u50f5\u5c38",500,0,0,0,100,1,5.5,5,1e3,5)],[i.pzaZombieEnum.BACKUP_DANCER,new l(i.pzaZombieEnum.BACKUP_DANCER,"\u4f34\u821e\u50f5\u5c38",270,0,0,0,100,1,5.5,1,0,5)],[i.pzaZombieEnum.DUCKY_TUBE_ZOMBIE,new l(i.pzaZombieEnum.DUCKY_TUBE_ZOMBIE,"\u9e2d\u5b50\u6551\u751f\u5708\u50f5\u5c38",270,0,0,0,100,1,4.7,1,4e3,6)],[i.pzaZombieEnum.DUCKY_TUBE_CONE_ZOMBIE,new l(i.pzaZombieEnum.DUCKY_TUBE_CONE_ZOMBIE,"\u9e2d\u5b50\u6551\u751f\u5708\u8def\u969c\u50f5\u5c38",270,370,1,0,100,1,4.7,2,4e3,6)],[i.pzaZombieEnum.DUCKY_TUBE_BUCKET_ZOMBIE,new l(i.pzaZombieEnum.DUCKY_TUBE_BUCKET_ZOMBIE,"\u9e2d\u5b50\u6551\u751f\u5708\u94c1\u6876\u50f5\u5c38",270,1100,2,0,100,1,4.7,4,3e3,6)],[i.pzaZombieEnum.SNORKEL_ZOMBIE,new l(i.pzaZombieEnum.SNORKEL_ZOMBIE,"\u6f5c\u6c34\u50f5\u5c38",270,0,0,0,100,1,4,3,2e3,6)],[i.pzaZombieEnum.ZOMBONI,new l(i.pzaZombieEnum.ZOMBONI,"\u96ea\u6a47\u8f66\u50f5\u5c38",1350,0,0,0,1e4,1,3,7,2e3,10)],[i.pzaZombieEnum.ZOMBIE_BOBSLED_TEAM,new l(i.pzaZombieEnum.ZOMBIE_BOBSLED_TEAM,"\u96ea\u6a47\u50f5\u5c38\u5c0f\u961f",270,300,1,0,100,1,1.2,3,2e3,10)],[i.pzaZombieEnum.DOLPHIN_RIDER_ZOMBIE,new l(i.pzaZombieEnum.DOLPHIN_RIDER_ZOMBIE,"\u6d77\u8c5a\u9a91\u58eb\u50f5\u5c38",500,0,0,1,100,1,.8,3,1500,6)],[i.pzaZombieEnum.JACK_ZOMBIE,new l(i.pzaZombieEnum.JACK_ZOMBIE,"\u5c0f\u4e11\u50f5\u5c38",500,0,0,2,100,1,2.2,3,1e3,10)],[i.pzaZombieEnum.BALLOON_ZOMBIE,new l(i.pzaZombieEnum.BALLOON_ZOMBIE,"\u6c14\u7403\u50f5\u5c38",270,20,1,0,100,1,2.5,2,2e3,10)],[i.pzaZombieEnum.DIGGER_ZOMBIE,new l(i.pzaZombieEnum.DIGGER_ZOMBIE,"\u77ff\u5de5\u50f5\u5c38",270,100,1,2,100,1,1.2,4,1e3,10)],[i.pzaZombieEnum.POGO_ZOMBIE,new l(i.pzaZombieEnum.POGO_ZOMBIE,"\u8e66\u8e66\u50f5\u5c38",500,0,0,2,100,1,1.9,4,1e3,10)],[i.pzaZombieEnum.YETI_ZOMBIE,new l(i.pzaZombieEnum.YETI_ZOMBIE,"\u96ea\u4eba\u50f5\u5c38",1350,0,0,0,100,1,5,4,1,10)],[i.pzaZombieEnum.BUNGEE_ZOMBIE,new l(i.pzaZombieEnum.BUNGEE_ZOMBIE,"\u8e66\u6781\u8df3\u50f5\u5c38",450,0,0,0,0,4,0,3,1e3,10)],[i.pzaZombieEnum.LADDER_ZOMBIE,new l(i.pzaZombieEnum.LADDER_ZOMBIE,"\u68af\u5b50\u50f5\u5c38",500,500,2,0,100,1,2,4,1e3,10)],[i.pzaZombieEnum.CATAPULT_ZOMBIE,new l(i.pzaZombieEnum.CATAPULT_ZOMBIE,"\u6295\u7bee\u8f66\u50f5\u5c38",850,0,0,0,75,1,2.5,5,1500,10)],[i.pzaZombieEnum.GARGANTUAR,new l(i.pzaZombieEnum.GARGANTUAR,"\u5de8\u4eba\u50f5\u5c38",3e3,0,0,0,50,1,4.7,10,1e3,10)],[i.pzaZombieEnum.IMP,new l(i.pzaZombieEnum.IMP,"\u5c0f\u9b3c\u50f5\u5c38",270,0,0,0,100,1,4.7,4,0,10)],[i.pzaZombieEnum.DR_ZOMBOSS,new l(i.pzaZombieEnum.DR_ZOMBOSS,"\u50f5\u738b\u535a\u58eb",4e4,0,0,0,100,1,0,4,0,10)]]),t.ZombieDescMap=new Map([[i.pzaZombieEnum.ZOMBIE,"\u6700\u666e\u901a\u6700\u5e38\u89c1\u7684\u50f5\u5c38\uff0c\u751f\u547d\u529b\u4f4e\uff0c\u79fb\u52a8\u901f\u5ea6\u6162"],[i.pzaZombieEnum.FLAG_ZOMBIE,"\u9664\u4e86\u62ff\u7740\u65d7\u5b50\uff0c\u901f\u5ea6\u6bd4\u666e\u901a\u50f5\u5c38\u7565\u5feb\uff0c\u65d7\u5b50\u6389\u65f6\u50f5\u5c38\u6b7b\u4ea1"],[i.pzaZombieEnum.CONE_HEAD_ZOMBIE,"\u8def\u969c\u5177\u5907\u66f4\u9ad8\u9632\u5fa1\uff0c\u591a\u79cd\u4e2a\u8c4c\u8c46\u6216\u575a\u679c\u5427\uff01"],[i.pzaZombieEnum.POLEVAULTING_ZOMBIE,"\u5b83\u80fd\u8df3\u8fc7\u4e00\u4e2a\u690d\u7269\uff0c\u591a\u79cd\u4e2a\u8c4c\u8c46\uff0c\u5feb\u901f\u89e3\u51b3\u5b83\uff01"],[i.pzaZombieEnum.BUCKET_HEAD_ZOMBIE,"\u94c1\u901a\u9632\u5fa1\u6781\u9ad8\uff0c\u63d0\u524d\u79cd\u4e2a\u571f\u8c46\u96f7\u79d2\u6740\u5b83\uff01"],[i.pzaZombieEnum.NEWSPAPER_ZOMBIE,"\u5b83\u624b\u91cc\u7684\u62a5\u7eb8\u80fd\u62b5\u6321\u4e00\u5b9a\u4f24\u5bb3\uff0c\u591a\u79cd\u70b9\u5c0f\u8611\u83c7"],[i.pzaZombieEnum.SCREEN_DOOR_ZOMBIE,"\u94c1\u95e8\u5177\u5907\u9ad8\u9632\u5fa1\uff0c\u5927\u55b7\u83c7\u7684\u653b\u51fb\u80fd\u7a7f\u900f\u94c1\u95e8"],[i.pzaZombieEnum.FOOTBALL_ZOMBIE,"\u8fd9\u5bb6\u4f19\u8d85\u5389\u5bb3\uff0c\u79cd\u4e2a\u8ff7\u7cca\u83c7\u8ff7\u60d1\u5b83!"],[i.pzaZombieEnum.DANCING_ZOMBIE,"\u4f1a\u53ec\u5524\u4f34\u821e\u50f5\u5c38\uff0c\u7528\u5bd2\u51b0\u83c7\u51bb\u4f4f\u5b83\u4eec\u5427!"],[i.pzaZombieEnum.SNORKEL_ZOMBIE,"\u85cf\u5728\u6c34\u91cc\u65f6\u8c4c\u8c46\u6253\u4e0d\u5230\uff0c\u79cd\u4e2a\u575a\u679c\u8ba9\u5b83\u54ac\u5c31\u80fd\u6253\u5230\u4e86"],[i.pzaZombieEnum.ZOMBONI,"\u80fd\u538b\u6241\u9047\u5230\u7684\u690d\u7269\uff0c\u79cd\u4e2a\u706b\u7206\u8fa3\u6912\uff01"],[i.pzaZombieEnum.DOLPHIN_RIDER_ZOMBIE,"\u80fd\u8df3\u8fc7\u4e00\u4e2a\u690d\u7269\uff0c\u52a0\u5927\u706b\u529b\u6d88\u706d\u5b83!"],[i.pzaZombieEnum.JACK_ZOMBIE,"\u5c0f\u5fc3\uff0c\u8fd9\u4e2a\u5bb6\u4f19\u4f1a\u81ea\u7206\uff01"],[i.pzaZombieEnum.BALLOON_ZOMBIE,"\u98de\u5728\u5929\u4e0a\uff0c\u79cd\u4e2a\u4ed9\u4eba\u638c\u5c31\u80fd\u6253\u5230\u5b83\uff01"],[i.pzaZombieEnum.DIGGER_ZOMBIE,"\u80fd\u94bb\u5230\u573a\u5730\u540e\u65b9\uff0c\u79cd\u4e2a\u53cc\u5411\u5c04\u624b\u5427\uff01"],[i.pzaZombieEnum.POGO_ZOMBIE,"\u76f4\u63a5\u8df3\u8fc7\u6240\u6709\u690d\u7269\uff0c\u52a0\u5927\u706b\u529b\u89e3\u51b3\u5b83!"],[i.pzaZombieEnum.LADDER_ZOMBIE,"\u68af\u5b50\u80fd\u67b6\u5728\u575a\u679c\u4e0a\uff0c\u7528\u6295\u63b7\u7c7b\u690d\u7269\u80fd\u76f4\u63a5\u6253\u5230\u5b83"]]),t.PlantDescMap=new Map([[n.pzaPlantEnum.SUN_FLOWER,"\u4e3a\u4f60\u63d0\u4f9b\u66f4\u591a\u9633\u5149"],[n.pzaPlantEnum.CHERRY_BOMB,"\u70b8\u5149\u4e00\u5b9a\u533a\u57df\u5185\u7684\u5168\u90e8\u50f5\u5c38"],[n.pzaPlantEnum.WALL_NUT,"\u6321\u4f4f\u50f5\u5c38\uff0c\u4fdd\u62a4\u5b83\u80cc\u540e\u7684\u690d\u7269"],[n.pzaPlantEnum.POTATO_MINE,"\u70b8\u98de\u78b0\u5230\u5b83\u7684\u654c\u4eba\uff0c\u4f46\u5b89\u653e\u540e\u9700\u8981\u4e00\u5b9a\u65f6\u95f4\u542f\u52a8"],[n.pzaPlantEnum.SNOW_PEA,"\u5c04\u51fa\u5bd2\u51b0\u8c4c\u8c46\uff0c\u4f24\u5bb3\u654c\u4eba\u7684\u540c\u65f6\u51cf\u6162\u654c\u4eba\u901f\u5ea6"],[n.pzaPlantEnum.CHOMPER,"\u4e00\u53e3\u541e\u4e0b\u4e00\u4e2a\u50f5\u5c38\uff0c\u4f46\u5728\u5480\u56bc\u50f5\u5c38\u7684\u65f6\u5019\u975e\u5e38\u8106\u5f31"],[n.pzaPlantEnum.REPEATER,"\u4e00\u6b21\u53d1\u5c04\u4e24\u9897\u8c4c\u8c46"],[n.pzaPlantEnum.PUFF_SHROOM,"\u5728\u77ed\u8ddd\u79bb\u5185\u5411\u654c\u4eba\u53d1\u5c04\u5b62\u5b50"],[n.pzaPlantEnum.SUN_SHROOM,"\u5f00\u59cb\u65f6\u63d0\u4f9b\u5c11\u91cf\u9633\u5149\uff0c\u4e00\u6bb5\u65f6\u95f4\u540e\u4ea7\u91cf\u5c06\u548c\u5411\u65e5\u8475\u76f8\u540c"],[n.pzaPlantEnum.FUME_SHROOM,"\u55b7\u5c04\u80fd\u7a7f\u8fc7\u94c1\u4e1d\u7f51\u95e8\u7684\u6c14\u6ce1"],[n.pzaPlantEnum.GRAVE_BUSTER,"\u628a\u5b83\u79cd\u690d\u5728\u5893\u7891\u4e0a\uff0c\u5b83\u5c31\u80fd\u54ac\u6389\u5893\u7891"],[n.pzaPlantEnum.HYPNO_SHROOM,"\u8ba9\u4e00\u53ea\u50f5\u5c38\u4e3a\u4f60\u4f5c\u6218"],[n.pzaPlantEnum.SCAREDY_SHROOM,"\u53d1\u5c04\u8fdc\u7a0b\u5b62\u5b50\uff0c\u4f46\u654c\u4eba\u9760\u8fd1\u65f6\u4f1a\u80c6\u5c0f\u5730\u7f29\u8fdb\u5730\u91cc"],[n.pzaPlantEnum.ICE_SHROOM,"\u6682\u65f6\u4f7f\u753b\u9762\u4e2d\u7684\u5168\u90e8\u50f5\u5c38\u90fd\u65e0\u6cd5\u52a8\u5f39"],[n.pzaPlantEnum.DOOM_SHROOM,"\u9020\u6210\u5927\u8303\u56f4\u6bc1\u706d\u6548\u679c\uff0c\u4f46\u4f1a\u5728\u539f\u5730\u7559\u4e0b\u65e0\u6cd5\u8fdb\u884c\u79cd\u690d\u7684\u5f39\u5751"],[n.pzaPlantEnum.LILY_PAD,"\u53ef\u4ee5\u5728\u6c34\u6c60\u79cd\u690d\u975e\u6c34\u751f\u690d\u7269"],[n.pzaPlantEnum.SQUASH,"\u538b\u6241\u8eab\u65c1\u7684\u50f5\u5c38"],[n.pzaPlantEnum.THREE_PEATER,"\u4e00\u6b21\u5c04\u51fa\u4e09\u884c\u8c4c\u8c46"],[n.pzaPlantEnum.TANGLE_KELP,"\u80fd\u591f\u628a\u4e00\u53ea\u50f5\u5c38\u62d6\u8fdb\u6c34\u91cc\u7684\u6c34\u751f\u690d\u7269"],[n.pzaPlantEnum.JALAPENO,"\u70e7\u5149\u4e00\u6574\u884c\u7684\u50f5\u5c38"],[n.pzaPlantEnum.SPIKEWEED,"\u80fd\u624e\u7834\u8f6e\u80ce\uff0c\u4e5f\u80fd\u523a\u4f24\u8e0f\u5728\u4e0a\u9762\u7684\u50f5\u5c38"],[n.pzaPlantEnum.TORCHWOOD,"\u7a7f\u8fc7\u706b\u70ac\u6811\u6869\u7684\u8c4c\u8c46\u4f1a\u53d8\u6210\u706b\u5f39"],[n.pzaPlantEnum.TALL_NUT,"\u65e0\u6cd5\u8df3\u8fc7\u7684\u539a\u5b9e\u575a\u679c\u5899"],[n.pzaPlantEnum.SEA_SHROOM,"\u53d1\u5c04\u77ed\u7a0b\u5b62\u5b50\u7684\u6c34\u751f\u8611\u83c7"],[n.pzaPlantEnum.PLANTERN,"\u7167\u4eae\u4e00\u7247\u533a\u57df\uff0c\u9a71\u6563\u8ff7\u96fe"],[n.pzaPlantEnum.CACTUS,"\u53d1\u5c04\u80fd\u591f\u523a\u7834\u6c14\u7403\u7684\u5c16\u523a"],[n.pzaPlantEnum.BLOVER,"\u5439\u8d70\u6240\u6709\u6c14\u7403\u50f5\u5c38\u548c\u8ff7\u96fe"],[n.pzaPlantEnum.SPLIT_PEA,"\u540c\u65f6\u5411\u524d\u540e\u53d1\u5c04\u8c4c\u8c46"],[n.pzaPlantEnum.STAR_FRUIT,"\u5411\u4e94\u4e2a\u65b9\u5411\u53d1\u5c04\u5c0f\u661f\u661f"],[n.pzaPlantEnum.PUMPKIN,"\u4fdd\u62a4\u88ab\u5957\u5728\u91cc\u9762\u7684\u690d\u7269"],[n.pzaPlantEnum.MAGNET_SHROOM,"\u5438\u8d70\u94c1\u6876\u3001\u5934\u76d4\u6216\u8005\u5176\u5b83\u91d1\u5c5e\u7269\u54c1"],[n.pzaPlantEnum.CABBAGE_PULT,"\u5411\u654c\u4eba\u6295\u63b7\u5c0f\u5377\u5fc3\u83dc"],[n.pzaPlantEnum.FLOWER_POT,"\u8ba9\u690d\u7269\u53ef\u4ee5\u79cd\u690d\u5728\u623f\u9876\u4e0a"],[n.pzaPlantEnum.KERNEL_PULT,"\u5411\u50f5\u5c38\u6295\u63b7\u7389\u7c73\u7c92\u548c\u9ec4\u6cb9\u5757"],[n.pzaPlantEnum.COFFEE_BEAN,"\u653e\u5728\u8611\u83c7\u5934\u4e0a\uff0c\u5c31\u80fd\u628a\u767d\u5929\u7761\u89c9\u7684\u8611\u83c7\u53eb\u9192"],[n.pzaPlantEnum.GARLIC,"\u628a\u50f5\u5c38\u8d76\u5230\u5176\u5b83\u524d\u8fdb\u8def\u7ebf\u4e0a"],[n.pzaPlantEnum.UMBRELLA_LEAF,"\u4fdd\u62a4\u5468\u56f4\u7684\u690d\u7269\uff0c\u514d\u53d7\u98de\u8d3c\u50f5\u5c38\u548c\u6295\u77f3\u8f66\u50f5\u5c38\u7684\u4f24\u5bb3"],[n.pzaPlantEnum.MARIGOLD,"\u63d0\u4f9b\u91d1\u5e01\u548c\u94f6\u5e01"],[n.pzaPlantEnum.MELON_PULT,"\u6295\u51fa\u897f\u74dc\uff0c\u91cd\u91cd\u6253\u51fb\u6210\u7fa4\u7684\u50f5\u5c38"]]),t.newPlantDropMap=new Map([["1-1",n.pzaPlantEnum.SUN_FLOWER],["1-2",n.pzaPlantEnum.CHERRY_BOMB],["1-3",n.pzaPlantEnum.WALL_NUT],["1-5",n.pzaPlantEnum.POTATO_MINE],["1-6",n.pzaPlantEnum.SNOW_PEA],["1-7",n.pzaPlantEnum.CHOMPER],["1-8",n.pzaPlantEnum.REPEATER],["1-10",n.pzaPlantEnum.PUFF_SHROOM],["2-1",n.pzaPlantEnum.SUN_SHROOM],["2-2",n.pzaPlantEnum.FUME_SHROOM],["2-3",n.pzaPlantEnum.GRAVE_BUSTER],["2-5",n.pzaPlantEnum.HYPNO_SHROOM],["2-6",n.pzaPlantEnum.SCAREDY_SHROOM],["2-7",n.pzaPlantEnum.ICE_SHROOM],["2-8",n.pzaPlantEnum.DOOM_SHROOM],["2-10",n.pzaPlantEnum.LILY_PAD],["3-1",n.pzaPlantEnum.SQUASH],["3-2",n.pzaPlantEnum.THREE_PEATER],["3-3",n.pzaPlantEnum.TANGLE_KELP],["3-5",n.pzaPlantEnum.JALAPENO],["3-6",n.pzaPlantEnum.SPIKEWEED],["3-7",n.pzaPlantEnum.TORCHWOOD],["3-8",n.pzaPlantEnum.TALL_NUT],["3-10",n.pzaPlantEnum.SEA_SHROOM],["4-1",n.pzaPlantEnum.PLANTERN],["4-2",n.pzaPlantEnum.CACTUS],["4-3",n.pzaPlantEnum.BLOVER],["4-5",n.pzaPlantEnum.SPLIT_PEA],["4-6",n.pzaPlantEnum.STAR_FRUIT],["4-7",n.pzaPlantEnum.PUMPKIN],["4-8",n.pzaPlantEnum.MAGNET_SHROOM],["4-10",n.pzaPlantEnum.CABBAGE_PULT],["5-1",n.pzaPlantEnum.FLOWER_POT],["5-2",n.pzaPlantEnum.KERNEL_PULT],["5-3",n.pzaPlantEnum.COFFEE_BEAN],["5-5",n.pzaPlantEnum.GARLIC],["5-6",n.pzaPlantEnum.UMBRELLA_LEAF],["5-7",n.pzaPlantEnum.MARIGOLD],["5-8",n.pzaPlantEnum.MELON_PULT]]),t.AllPartStar=[[0,0,0,3,0,3,3,3,3,3],[3,3,3,3,0,3,3,3,3,3],[3,3,3,3,0,3,3,3,3,3],[3,3,3,3,0,3,3,3,3,3],[3,3,3,3,0,3,3,3,3,3]],t.waterWayZombies=new Set([i.pzaZombieEnum.DUCKY_TUBE_ZOMBIE,i.pzaZombieEnum.DUCKY_TUBE_CONE_ZOMBIE,i.pzaZombieEnum.DUCKY_TUBE_BUCKET_ZOMBIE,i.pzaZombieEnum.SNORKEL_ZOMBIE,i.pzaZombieEnum.DOLPHIN_RIDER_ZOMBIE]),t.BeltPlant110=[n.pzaPlantEnum.PEA_SHOOTER,n.pzaPlantEnum.CHERRY_BOMB,n.pzaPlantEnum.WALL_NUT,n.pzaPlantEnum.POTATO_MINE,n.pzaPlantEnum.SNOW_PEA,n.pzaPlantEnum.CHOMPER,n.pzaPlantEnum.REPEATER],t.BeltPlantWeight110=[20,10,20,20,10,10,10],t.BeltPlant210=[n.pzaPlantEnum.PUFF_SHROOM,n.pzaPlantEnum.FUME_SHROOM,n.pzaPlantEnum.GRAVE_BUSTER,n.pzaPlantEnum.HYPNO_SHROOM,n.pzaPlantEnum.SCAREDY_SHROOM,n.pzaPlantEnum.ICE_SHROOM,n.pzaPlantEnum.DOOM_SHROOM],t.BeltPlantWeight210=[15,20,10,15,20,10,10],t.BeltPlant35=[n.pzaPlantEnum.LILY_PAD,n.pzaPlantEnum.CHERRY_BOMB,n.pzaPlantEnum.PEA_SHOOTER,n.pzaPlantEnum.WALL_NUT],t.BeltPlantWeight35=[20,30,25,25],t.BeltPlant310=[n.pzaPlantEnum.LILY_PAD,n.pzaPlantEnum.SQUASH,n.pzaPlantEnum.THREE_PEATER,n.pzaPlantEnum.TANGLE_KELP,n.pzaPlantEnum.JALAPENO,n.pzaPlantEnum.SPIKEWEED,n.pzaPlantEnum.TORCHWOOD,n.pzaPlantEnum.TALL_NUT],t.BeltPlantWeight310=[22,8,22,8,8,8,12,12],t.PlantBookMap=new Map([[n.pzaPlantEnum.PEA_SHOOTER,new c(n.pzaPlantEnum.PEA_SHOOTER,"\u8c4c\u8c46\u5c04\u624b\u662f\u4f60\u7b2c\u4e00\u9053\u9632\u7ebf\u53d1\u5c04\u8c4c\u8c46\u653b\u51fb\u50f5\u5c38\u3002","<color=#aa582b>\u4f24\u5bb3\uff1a</c><color=#e6300d>\u4e2d\u7b49</color>",null,"\u4e00\u68f5\u690d\u7269\uff0c\u600e\u4e48\u80fd\u5982\u6b64\u5feb\u5730\u751f\u957f\uff0c\u5e76\u53d1\u5c04\u5982\u6b64\u591a\u7684\u8c4c\u8c46\u5462?\u8c4c\u8c46\u5c04\u624b\u8bf4:","\u52aa\u529b\u5de5\u4f5c\uff0c\u5949\u732e\u81ea\u5df1\uff0c\u52a0\u4e0a\u4e00\u4efd\u9633\u5149\uff0c\u9ad8\u7ea4\u7ef4\u548c\u4e8c\u6c27\u5316\u78b3\u5747\u8861\u642d\u914d\uff0c\u8fd9\u79cd\u5065\u5eb7\u65e9\u9910\u8ba9\u4e00\u5207\u7686\u6210\u53ef\u80fd\u3002","<color=#aa582b>\u6062\u590d\u65f6\u95f4\uff1a</c><color=#e6300d>\u77ed</color>")],[n.pzaPlantEnum.SUN_FLOWER,new c(n.pzaPlantEnum.SUN_FLOWER,"\u5411\u65e5\u8475\uff0c\u4e3a\u4f60\u751f\u4ea7\u66f4\u591a\u9633\u5149\u7684\u57fa\u7840\u4f5c\u7269\u3002\u5c3d\u53ef\u80fd\u591a\u5730\u79cd\u690d\u4e00\u4e9b\u5427!","<color=#aa582b>\u9633\u5149\u4ea7\u91cf\uff1a</c><color=#e6300d>\u4e2d\u7b49</color>",null,"\u5411\u65e5\u8475\u60c5\u4e0d\u81ea\u7981\u5730\u548c\u7740\u8282\u62cd\u8d77\u821e\u3002\u662f\u4ec0\u4e48\u8282\u62cd\u5462?\u55e8\uff0c\u662f\u5927\u5730\u81ea\u5df1\u7528\u6765\u63d0\u795e\u7684\u7235\u58eb\u8282\u62cd\uff0c\u8fd9\u79cd\u8282\u62cd\u53ea\u6709\u5411\u65e5\u8475\u624d\u80fd\u542c\u5230\u3002",null,"<color=#aa582b>\u6062\u590d\u65f6\u95f4\uff1a</c><color=#e6300d>\u77ed</color>")],[n.pzaPlantEnum.CHERRY_BOMB,new c(n.pzaPlantEnum.CHERRY_BOMB,"\u6a31\u6843\u70b8\u5f39\uff0c\u53ef\u4ee5\u70b8\u6389\u4e00\u5b9a\u8303\u4ed6\u4eec\u56f4\u5185\u7684\u5168\u90e8\u50f5\u5c38\u3002\u4ed6\u4eec\u53ea\u6709\u5f88\u77ed\u7684\u5f15\u7ebf\uff0c\u6240\u4ee5\u8bf7\u628a\u4ed6\u4eec\u79cd\u5728\u50f5\u5c38\u8eab\u8fb9\u3002","<color=#aa582b>\u4f24\u5bb3\uff1a</c><color=#e6300d>\u5de8\u5927</color><br/><color=#aa582b>\u8303\u56f4\uff1a</c><color=#e6300d>\u4e2d\u7b49\u8303\u56f4\u5185\u7684\u5168\u90e8\u50f5\u5c38</color><br/><color=#aa582b>\u7528\u6cd5\uff1a</c><color=#e6300d>\u4e00\u6b21\u6027\u4f7f\u7528\uff0c\u7acb\u5373\u7206\u70b8</color>",null,"\u201c\u6211\u8981'\u7206'\u5f00\u4e86\u201d\u6a31\u6843\u4e00\u53f7\u8bf4\u3002\u201c\u4e0d\uff0c\u6211\u4eec\u662f\u8981'\u70b8'\u5f00\u4e86\u201d\u5b83\u5f1f\u5f1f\u6a31\u6843\u4e8c\u53f7\u8bf4\u3002\u7ecf\u8fc7\u6fc0\u70c8\u7684\u5546\u8bae\u4e4b\u540e\uff0c\u4ed6\u4eec\u624d\u7edf\u4e00\u201c\u7206\u70b8\u201d\u8fd9\u4e2a\u8bf4\u6cd5",null,"<color=#aa582b>\u6062\u590d\u65f6\u95f4\uff1a</c><color=#e6300d>\u975e\u5e38\u957f</color>")],[n.pzaPlantEnum.WALL_NUT,new c(n.pzaPlantEnum.WALL_NUT,"\u575a\u679c\u62e5\u6709\u8db3\u4ee5\u4fdd\u62a4\u5176\u4ed6\u690d\u7269\u7684\u575a\u786c\u5916\u58f3\u3002","<color=#aa582b>\u5f3a\u5ea6\uff1a</c><color=#e6300d>\u9ad8</color>",null,"\u575a\u679c\u8bf4\uff1a\u201c\u4eba\u4eec\u60f3\u77e5\u9053\uff0c\u7ecf\u5e38\u88ab\u50f5\u5c38\u5543\u7684\u611f\u89c9\u600e\u6837\u4e86\uff1f\u201d\n\u4ed6\u4eec\u4e0d\u77e5\u9053\uff0c\u6211\u6709\u9650\u7684\u611f\u5b98\u4f7f\u6211\u53ea\u80fd\u611f\u53d7\u5230\u4e00\u79cd\u9ebb\u9ebb\u7684\u611f\u89c9\uff0c\u5c31\u50cf\u662f\u4ee4\u4eba\u653e\u677e\u7684\u80cc\u90e8\u6309\u6469\u3002",null,"<color=#aa582b>\u6062\u590d\u65f6\u95f4\uff1a</c><color=#e6300d>\u957f</color>")],[n.pzaPlantEnum.POTATO_MINE,new c(n.pzaPlantEnum.POTATO_MINE,"\u571f\u8c46\u5730\u96f7\u5177\u6709\u5f3a\u5927\u7684\u5a01\u529b\uff0c\u4f46\u4ed6\u4eec\u9700\u8981\u70b9\u65f6\u95f4\u6765\u542f\u52a8\u81ea\u5df1\u3002\u4f60\u5e94\u628a\u4ed6\u4eec\u79cd\u5728\u50f5\u5c38\u524d\u8fdb\u7684\u8def\u4e0a\uff0c\u5f53\u4ed6\u4eec\u4e00\u88ab\u78b0\u5230\u5c31\u4f1a\u7acb\u523b\u7206\u70b8\u3002","<color=#aa582b>\u4f24\u5bb3\uff1a</c><color=#e6300d>\u5de8\u5927</color><br/><color=#aa582b>\u8303\u56f4\uff1a</c><color=#e6300d>\u5c0f\u8303\u56f4\u5185\u7684\u5168\u90e8\u50f5\u5c38</color><br/><color=#aa582b>\u7528\u6cd5\uff1a</c><color=#e6300d>\u4e00\u6b21\u6027\u4f7f\u7528\uff0c\u9700\u8981\u4e00\u5b9a\u65f6\u95f4\u51c6\u5907\u624d\u80fd\u542f\u52a8\u3002</color>",null,"\u4e00\u4e9b\u4eba\u8bf4\u571f\u8c46\u5730\u96f7\u5f88\u61d2\uff0c\u56e0\u4e3a\u4ed6\u603b\u662f\u628a\u6240\u6709\u4e8b\u60c5\u7559\u5230 \u6700\u540e\u3002\u571f\u8c46\u96f7\u624d\u6ca1\u7a7a\u7406\u4ed6\u4eec\u4ed6\u6b63\u5728\u5fd9\u7740\u8003\u8651\u81ea\u5df1\u7684\u6295\u8d44\u6218\u7565\u5462\u3002",null,"<color=#aa582b>\u6062\u590d\u65f6\u95f4\uff1a</c><color=#e6300d>\u957f</color>")],[n.pzaPlantEnum.SNOW_PEA,new c(n.pzaPlantEnum.SNOW_PEA,"\u5bd2\u51b0\u5c04\u624b\u4f1a\u53d1\u5c04\u5bd2\u51b0\u8c4c\u8c46\u653b\u51fb\u654c\u4eba\uff0c\u5e76\u5177\u6709\u51cf\u901f\u6548\u679c\u3002","<color=#aa582b>\u4f24\u5bb3\uff1a</c><color=#e6300d>\u4e2d\u7b49\uff0c\u5177\u6709\u51cf\u901f\u6548\u679c</color>",null,"\u4eba\u4eec\u7ecf\u5e38\u544a\u8bc9\u5bd2\u51b0\u5c04\u624b\u4ed6\u662f\u591a\u4e48\u201c\u51b7\u9177\u201d\u6216\u8005\u544a\u8beb\u4ed6\u8981\u65f6\u523b\u201c\u51b7\u9759\u201d\u3002\n\u4ed6\u4eec\u53eb\u4ed6\u8981\u201c\u4fdd\u6301\u9547\u9759\u201d\u3002\n\u5bd2\u51b0\u5c04\u624b\u53ea\u662f\u8f6c\u8f6c\u773c\u775b\uff0c\u5176\u5b9e\u4ed6\u90fd\u542c\u89c1\u4e86\u3002",null,"<color=#aa582b>\u6062\u590d\u65f6\u95f4\uff1a</c><color=#e6300d>\u77ed</color>")],[n.pzaPlantEnum.CHOMPER,new c(n.pzaPlantEnum.CHOMPER,"\u5927\u5634\u82b1\u53ef\u4ee5\u4e00\u53e3\u541e\u6389\u4e00\u6574\u53ea\u50f5\u5c38\uff0c\u4f46\u5728\u4ed6\u4eec\u5480\u56bc\u50f5\u5c38\u7684\u65f6\u5019\u5f88\u8106\u5f31\u3002","<color=#aa582b>\u4f24\u5bb3\uff1a</c><color=#e6300d>\u5de8\u5927</color><br/><color=#aa582b>\u8303\u56f4\uff1a</c><color=#e6300d>\u975e\u5e38\u8fd1</color><br/><color=#aa582b>\u7528\u6cd5\uff1a</c><color=#e6300d>\u5480\u56bc\u65f6\u95f4\u957f</color>",null,"\u5927\u5634\u82b1\u5dee\u4e00\u70b9\u5c31\u8981\u53bb\u201c\u6050\u6016\u5c0f\u5e97\u201d\u8868\u6f14\u5b83\u7684\u7edd\u6280\u4e86\uff01\n\u4e0d\u8fc7\uff0c\u4ed6\u7684\u7ecf\u7eaa\u4eba\u69a8\u53d6\u4e86\u4ed6\u592a\u591a\u592a\u591a\u7684\u94b1\uff0c\u6240\u4ee5\u4ed6\u6ca1\u53bb\u6210\u3002\u5c3d\u7ba1\u5982\u6b64\uff0c\u5927\u5634\u82b1\u6ca1\u6709\u6028\u8a00\uff0c\u53ea\u8bf4\u4e86\u53e5\uff1a\u201d\u8fd9\u53ea\u662f\u4ea4\u6613\u7684\u4e00\u90e8\u5206\u3002\u201c",null,"<color=#aa582b>\u6062\u590d\u65f6\u95f4\uff1a</c><color=#e6300d>\u77ed</color>")],[n.pzaPlantEnum.REPEATER,new c(n.pzaPlantEnum.REPEATER,"\u53cc\u91cd\u5c04\u624b\u80fd\u4e00\u6b21\u53d1\u5c04\u4e24\u9897\u8c4c\u8c46","<color=#aa582b>\u4f24\u5bb3\uff1a</c><color=#e6300d>\u4e2d\u7b49\uff08\u6bcf\u9897\uff09</color><br/><color=#aa582b>\u53d1\u5c04\u901f\u5ea6\uff1a</c><color=#e6300d>\u4e24\u500d</color>",null,"\u53cc\u91cd\u5c04\u624b\u5f88\u51f6\u608d\uff0c\u4ed6\u662f\u5728\u8857\u5934\u6df7\u5927\u7684\u3002\u4ed6\u4e0d\u5728\u4e4e\u4efb\u4f55\u4eba\u7684\u770b\u6cd5\uff0c\u65e0\u8bba\u662f\u690d\u7269\u8fd8\u662f\u50f5\u5c38\u3002\u4ed6\u6253\u51fa\u8c4c\u8c46\uff0c\u662f\u4e3a\u4e86\u80fd\u591f\u8ba9\u522b\u4eba\u79bb\u4ed6\u8fdc\u4e00\u70b9\u3002\u5176\u5b9e\u5462\uff0c\u53cc\u91cd\u5c04\u624b\u4e00\u76f4\u6697\u6697\u7684\u6e34\u671b\u7740\u7231\u60c5",null,"<color=#aa582b>\u6062\u590d\u65f6\u95f4\uff1a</c><color=#e6300d>\u77ed</color>")],[n.pzaPlantEnum.PUFF_SHROOM,new c(n.pzaPlantEnum.PUFF_SHROOM,"\u5c0f\u55b7\u83c7\u662f\u514d\u8d39\u7684\uff0c\u4e0d\u8fc7\u4ed6\u7684\u5c04\u7a0b\u5374\u5f88\u8fd1","<color=#aa582b>\u4f24\u5bb3\uff1a</c><color=#e6300d>\u4e2d\u7b49</color><br/><color=#aa582b>\u8303\u56f4\uff1a</c><color=#e6300d>\u8fd1</color>","<color=#953C9F>\u767d\u5929\u8981\u7761\u89c9</c>","\u5c0f\u55b7\u83c7\u8bf4:\u201c\u6211\u4e5f\u662f\u6700\u8fd1\u624d\u77e5\u9053\u50f5\u5c38\u7684\u5b58\u5728\u7684\uff0c\u8001\u5f88\u591a\u8611\u83c7\u4e00\u6837\uff0c\u6211\u53ea\u662f\u628a\u4ed6\u4eec\u60f3\u8c61\u6210\u7ae5\u8bdd\u548c\u7535\u5f71\u91cc\u7684\u602a\u7269\u3002\u73b0\u5728\u7684\u7ecf\u5386\u624d\u8ba9\u6211\u5927\u5f00\u4e86\u773c\u754c\u3002\u201d",null,"<color=#aa582b>\u6062\u590d\u65f6\u95f4\uff1a</c><color=#e6300d>\u77ed</color>")],[n.pzaPlantEnum.SUN_SHROOM,new c(n.pzaPlantEnum.SUN_SHROOM,"\u9633\u5149\u83c7\u5f00\u59cb\u63d0\u4f9b\u5c11\u91cf\u9633\u5149\uff0c\u7a0d\u540e\u63d0\u4f9b\u6b63\u5e38\u6570\u91cf\u9633\u5149\u3002","<color=#aa582b>\u9633\u5149\u4ea7\u91cf</c><color=#e6300d>\u5f00\u59cb\u4f4e\uff0c\u4e4b\u540e\u6b63\u5e38</color>","<color=#953C9F>\u767d\u5929\u8981\u7761\u89c9</c>","\u9633\u5149\u83c7\u8ba8\u538c\u9633\u5149\n\u6068\u5230\u5f53\u5b83\u53ea\u8981\u5185\u90e8\u4ea7\u751f\u70b9\u9633\u5149\uff0c\u5c31\u5c3d\u53ef\u80fd\u5feb\u7684\u5410\u51fa\u6765\u3002\n\u5b83\u5c31\u662f\u4e0d\u80fd\u5fcd\u53d7\u8fd9\u4e2a\u3002\n\u5bf9\u5b83\u6765\u8bf4\uff0c\u9633\u5149\u4ee4\u4eba\u538c\u6076\u3002",null,"<color=#aa582b>\u6062\u590d\u65f6\u95f4\uff1a</c><color=#e6300d>\u77ed</color>")],[n.pzaPlantEnum.FUME_SHROOM,new c(n.pzaPlantEnum.FUME_SHROOM,"\u5927\u55b7\u83c7\u55b7\u51fa\u7684\u6c14\u6ce1\u53ef\u4ee5\u7a7f\u900f\u94c1\u4e1d\u7f51\u95e8\u3002","<color=#aa582b>\u4f24\u5bb3\uff1a</c><color=#e6300d>\u666e\u901a\uff0c\u80fd\u7a7f\u900f\u94c1\u7f51\u95e8</color><br/><color=#aa582b>\u8303\u56f4\uff1a</c><color=#e6300d>\u88ab\u6c14\u6ce1\u55b7\u4e2d\u7684\u50f5\u5c38</color>","<color=#953C9F>\u767d\u5929\u8981\u7761\u89c9</c>","\u201c\u6211\u4ee5\u524d\u90a3\u4e00\u4efd\u6ca1\u524d\u9014\u7684\u5de5\u4f5c\uff0c\u662f\u4e3a\u4e00\u4e2a\u9762\u5305\u623f\u751f\u4ea7\u9175\u6bcd\u5b62\u201d\u5927\u55b7\u83c7\u8bf4\uff0c\u201c\u7136\u540e\u5c0f\u55b7\u83c7\uff0c\u4e0a\u5e1d\u4fdd\u4f51\u5b83\uff0c\u8ba9\u6211\u77e5\u9053\u4e86\u8fd9\u4e2a\u55b7\u6740\u50f5\u5c38\u7684\u673a\u4f1a\u3002\u73b0\u5728\u6211\u771f\u89c9\u5f97\u81ea\u5df1\u5b8c\u5168\u4e0d\u540c\u4e86\u3002\u201d",null,"<color=#aa582b>\u6062\u590d\u65f6\u95f4\uff1a</c><color=#e6300d>\u77ed</color>")],[n.pzaPlantEnum.GRAVE_BUSTER,new c(n.pzaPlantEnum.GRAVE_BUSTER,"\u54ac\u54ac\u7891\u4f1a\u5403\u6389\u5893\u7891","<color=#aa582b>\u7528\u6cd5\uff1a</c><color=#e6300d>\u4e00\u6b21\u6027\u4f7f\u7528\uff0c\u53ea\u5bf9\u5893\u7891\u6709\u6548</color><br/><color=#aa582b>\u7279\u70b9\uff1a</c><color=#e6300d>\u5403\u6389\u5893\u7891</color>",null,"\u5c3d\u7ba1\u54ac\u54ac\u7891\u5916\u8868\u5341\u5206\u5413\u4eba\uff0c\u4f46\u4ed6\u60f3\u8981\u6240\u6709\u4eba\u90fd\u77e5\u9053\uff0c\u5176\u5b9e\u4ed6\u559c\u6b22\u5c0f\u732b\u54aa\u3002\u800c\u4e14\u4ed6\u5229\u7528\u4ed6\u7684\u4e1a\u4f59\u65f6\u95f4\u5728\u4e00\u5bb6\u50f5\u5c38\u5eb7\u590d\u4e2d\u5fc3\u505a\u5fd7\u613f\u8005\u3002\u201c\u6211\u53ea\u662f\u5728\u505a\u6b63\u786e\u7684\u4e8b\u60c5\uff0c\u201d\u4ed6\u8bf4\u3002",null,"<color=#aa582b>\u6062\u590d\u65f6\u95f4\uff1a</c><color=#e6300d>\u77ed</color>")],[n.pzaPlantEnum.HYPNO_SHROOM,new c(n.pzaPlantEnum.HYPNO_SHROOM,"\u5f53\u50f5\u5c38\u5403\u4e0b\u8ff7\u7cca\u83c7\u540e\uff0c\u4ed6\u5c06\u4f1a\u6389\u8f6c\u65b9\u5411\u4e3a\u4f60\u4f5c\u6218\u3002","<color=#aa582b>\u7528\u6cd5\uff1a</c><color=#e6300d>\u4e00\u6b21\u6027\u4f7f\u7528\uff0c\u63a5\u89e6\u751f\u6548</color><br/><color=#aa582b>\u7279\u70b9\uff1a</c><color=#e6300d>\u8ba9\u4e00\u53ea\u50f5\u5c38\u4e3a\u4f60\u4f5c\u6218</color>","<color=#953C9F>\u767d\u5929\u8981\u7761\u89c9</c>","\u8ff7\u7cca\u83c7\u8fd9\u6837\u8bf4\u9053\uff1a\u201c\u50f5\u5c38\u662f\u6211\u4eec\u7684\u670b\u53cb\uff0c\u4ed6\u4eec\u88ab\u4e25\u91cd\u8bef\u89e3\u4e86\uff0c\u50f5\u5c38\u4eec\u5728\u6211\u4eec\u7684\u751f\u6001\u73af\u5883\u91cc\u626e\u6f14\u7740\u91cd\u8981\u89d2\u8272\u3002\n\u6211\u4eec\u53ef\u4ee5\uff0c\u4e5f\u5e94\u5f53\u66f4\u52a0\u52aa\u529b\u5730\u53bb\u8ba9\u4ed6\u4eec\u5b66\u4f1a\u7528\u6211\u4eec\u7684\u65b9\u5f0f\u6765\u601d\u8003\u3002\u201d",null,"<color=#aa582b>\u6062\u590d\u65f6\u95f4\uff1a</c><color=#e6300d>\u77ed</color>")],[n.pzaPlantEnum.SCAREDY_SHROOM,new c(n.pzaPlantEnum.SCAREDY_SHROOM,"\u80c6\u5c0f\u83c7\u662f\u4e00\u79cd\u8fdc\u7a0b\u5c04\u624b\uff0c\u654c\u4eba\u63a5\u8fd1\u540e\u4f1a\u8eb2\u8d77\u6765\u3002","<color=#aa582b>\u4f24\u5bb3\uff1a</c><color=#e6300d>\u4e2d\u7b49</color><br/><color=#aa582b>\u7279\u70b9\uff1a</c><color=#e6300d>\u654c\u4eba\u63a5\u8fd1\u540e\u505c\u6b62\u653b\u51fb</color>","<color=#953C9F>\u767d\u5929\u8981\u7761\u89c9</c>","\u201c\u8c01\u5728\u90a3\uff1f\u201d \u80c6\u5c0f\u83c7\u4f4e\u58f0\u8bf4\uff0c \u58f0\u97f3\u7ec6\u5fae\u96be\u8fa8\u3002 \u201c\u8d70\u5f00\uff01\u6211\u4e0d\u60f3\u89c1\u4efb\u4f55\u4eba\u3002 \u9664\u975e\u2026\u2026\u9664\u975e\u4f60\u662f\u9a6c\u620f\u56e2\u7684\u4eba\u3002\u201d ",null,"<color=#aa582b>\u6062\u590d\u65f6\u95f4\uff1a</c><color=#e6300d>\u77ed</color>")],[n.pzaPlantEnum.ICE_SHROOM,new c(n.pzaPlantEnum.ICE_SHROOM,"\u51b0\u5ddd\u83c7\uff0c\u77ed\u6682\u7684\u51bb\u7ed3\u5c4f\u5e55\u4e0a\u6240\u6709\u50f5\u5c38\u3002","<color=#aa582b>\u4f24\u5bb3\uff1a</c><color=#e6300d>\u975e\u5e38\u4f4e\uff0c\u51bb\u7ed3\u50f5\u5c38</color><br/><color=#aa582b>\u8303\u56f4\uff1a</c><color=#e6300d>\u5c4f\u5e55\u4e0a\u7684\u6240\u6709\u50f5\u5c38</color><br/><color=#aa582b>\u7528\u6cd5\uff1a</c><color=#e6300d>\u4e00\u6b21\u6027\u4f7f\u7528\uff0c\u7acb\u5373\u7206\u70b8</color>","<color=#953C9F>\u767d\u5929\u8981\u7761\u89c9</c>","\u5bd2\u51b0\u83c7\u76b1\u7740\u7709\u5934\uff0c\u5012\u4e0d\u662f\u56e0\u4e3a\u5b83\u4e0d\u9ad8\u5174\u6216\u4e0d\u6ee1\u610f\uff0c\u53ea\u662f\u56e0\u4e3a\uff0c\u5b83\u513f\u65f6\u56e0\u53d7\u521b\u4f24\u800c\u9057\u7559\u4e0b\u4e86\u9762\u762b\u3002",null,"<color=#aa582b>\u6062\u590d\u65f6\u95f4\uff1a</c><color=#e6300d>\u975e\u5e38\u957f</color>")],[n.pzaPlantEnum.DOOM_SHROOM,new c(n.pzaPlantEnum.DOOM_SHROOM,"\u6bc1\u706d\u83c7\u53ef\u4ee5\u6467\u6bc1\u5927\u8303\u56f4\u7684\u50f5\u5c38\uff0c\u5e76\u7559\u4e0b\u4e00\u4e2a\u4e0d\u80fd\u79cd\u690d\u7269\u7684\u5927\u5f39\u5751\u3002","<color=#aa582b>\u4f24\u5bb3\uff1a</c><color=#e6300d>\u5de8\u5927</color><br/><color=#aa582b>\u8303\u56f4\uff1a</c><color=#e6300d>\u5927\u8303\u56f4\u5185\u7684\u6240\u6709\u50f5\u5c38</color><br/><color=#aa582b>\u7528\u6cd5\uff1a</c><color=#e6300d>\u4e00\u6b21\u6027\u4f7f\u7528\uff0c\u7acb\u5373\u7206\u70b8</color><br/><color=#aa582b>\u7279\u70b9\uff1a</c><color=#e6300d>\u7559\u4e0b\u4e00\u4e2a\u5f39\u5751</color>","<color=#953C9F>\u767d\u5929\u8981\u7761\u89c9</c>","\u201c\u4f60\u5f88\u5e78\u8fd0\uff0c\u6211\u7ad9\u5728\u4f60\u8fd9\u8fb9\uff0c\u201d\u6bc1\u706d\u8611\u83c7\u8bf4\uff0c\u201c\u6211\u80fd\u6467\u6bc1\u4f60\u73cd\u89c6\u7684\u4e00\u5207\uff0c\u5c0f\u83dc\u4e00\u789f\u3002",null,"<color=#aa582b>\u6062\u590d\u65f6\u95f4\uff1a</c><color=#e6300d>\u975e\u5e38\u957f</color>")],[n.pzaPlantEnum.LILY_PAD,new c(n.pzaPlantEnum.LILY_PAD,"\u83b2\u53f6\u53ef\u4ee5\u8ba9\u4f60\u5728\u5b83\u4e0a\u9762\u79cd\u690d\u975e\u6c34\u751f\u690d\u7269\u3002","<color=#aa582b>\u7279\u70b9\uff1a</c><color=#e6300d>\u53ef\u4ee5\u5728\u4e0a\u9762\u79cd\u690d\u975e\u6c34\u751f\u690d\u7269</color>","<color=#30a7db>\u5fc5\u987b\u79cd\u690d\u5728\u6c34\u9762</c>","\u7761\u83b2\u4ece\u4e0d\u62b1\u6028\uff0c\u4e5f\u4ece\u6765\u4e0d\u60f3\u5f04\u660e\u767d\u53d1\u751f\u4e86\u4ec0\u4e48\u3002\u5728\u4ed6\u8eab\u4e0a\u79cd\u690d\u7269\uff0c\u4ed6\u4e5f\u4e0d\u4f1a\u8bf4\u4ec0\u4e48\u3002\u96be\u9053\u4ed6\u6709\u4ec0\u4e48\u60ca\u4eba\u7684\u60f3\u6cd5\u6216\u7cdf\u7cd5\u7684\u79d8\u5bc6\uff1f\u65e0\u4eba\u77e5\u6653\u3002\u7761\u83b2\u53f6\u628a\u8fd9\u4e9b\u90fd\u57cb\u85cf\u5728\u5fc3\u5e95\u3002",null,"<color=#aa582b>\u6062\u590d\u65f6\u95f4\uff1a</c><color=#e6300d>\u77ed</color>")],[n.pzaPlantEnum.SQUASH,new c(n.pzaPlantEnum.SQUASH,"\u7a9d\u74dc\u4f1a\u538b\u6241\u7b2c\u4e00\u53ea\u63a5\u8fd1\u4ed6\u7684\u50f5\u5c38\u3002","<color=#aa582b>\u4f24\u5bb3\uff1a</c><color=#e6300d>\u5de8\u5927</color><br/><color=#aa582b>\u8303\u56f4\uff1a</c><color=#e6300d>\u538b\u6241\u63a5\u8fd1\u5b83\u7684\u50f5\u5c38</color><br/><color=#aa582b>\u7528\u6cd5\uff1a</c><color=#e6300d>\u4e00\u6b21\u6027\u4f7f\u7528</color>",null,"\u201c\u6211\u51c6\u5907\u597d\u4e86\uff01\u201d\u7a9d\u74dc\u5927\u558a\uff0c\u201c\u5e72\u5427\uff01\u7b97\u6211\u4e00\u4e2a\uff01\u6ca1\u4eba\u6bd4\u6211\u66f4\u5389\u5bb3\uff01\u6211\u5c31\u662f\u4f60\u8981\u7684\u4eba\uff01\u6765\u554a\uff01\u8fd8\u7b49\u4ec0\u4e48\uff1f\u6211\u8981\u7684\u5c31\u662f\u8fd9\u4e2a\uff01\u201d ",null,"<color=#aa582b>\u6062\u590d\u65f6\u95f4\uff1a</c><color=#e6300d>\u957f</color>")],[n.pzaPlantEnum.THREE_PEATER,new c(n.pzaPlantEnum.THREE_PEATER,"\u4e09\u91cd\u5c04\u624b\u80fd\u5728\u4e09\u6761\u8def\u4e0a\u53d1\u5c04\u8c4c\u8c46\u3002","<color=#aa582b>\u4f24\u5bb3\uff1a</c><color=#e6300d>\u4e2d\u7b49\uff08\u6bcf\u9897\uff09</color><br/><color=#aa582b>\u53d1\u5c04\u901f\u5ea6\uff1a</c><color=#e6300d>\u4e09\u7ebf</color>",null,"\u4e09\u91cd\u5c04\u624b\u559c\u6b22\u8bfb\u4e66\u3001\u4e0b\u53cc\u9646\u68cb\u3001\u5728\u516c\u56ed\u91cc\u50bb\u5750\u7740\u3002\u4ed6\u4e5f\u559c\u6b22\u53bb\u770b\u6f14\u51fa\uff0c\u7279\u522b\u662f\u73b0\u4ee3\u7235\u58eb\u4e50\u3002\u201c\u773c\u4e0b\u6211\u5728\u5bfb\u627e\u90a3\u4f4d\u7279\u522b\u7684\u4eba\uff0c\u201d\u4ed6\u8bf4\u3002\u4e09\u7ebf\u8c4c\u8c46\u6700\u559c\u6b22\u7684\u6570\u5b57\u662f\u4e94\u3002",null,"<color=#aa582b>\u6062\u590d\u65f6\u95f4\uff1a</c><color=#e6300d>\u77ed</color>")],[n.pzaPlantEnum.TANGLE_KELP,new c(n.pzaPlantEnum.TANGLE_KELP,"\u7f20\u7ed5\u6c34\u8349\u662f\u6c34\u751f\u690d\u7269\uff0c\u53ef\u4ee5\u5c06\u63a5\u8fd1\u4ed6\u7684\u50f5\u5c38\u62c9\u5165\u6c34\u4e2d\u3002","<color=#aa582b>\u4f24\u5bb3\uff1a</c><color=#e6300d>\u5de8\u5927</color><br/><color=#aa582b>\u7528\u6cd5\uff1a</c><color=#e6300d>\u4e00\u6b21\u6027\u4f7f\u7528\uff0c\u63a5\u89e6\u751f\u6548</color>","<color=#30a7db>\u5fc5\u987b\u79cd\u690d\u5728\u6c34\u9762</c>","\u201c\u6211\u662f\u5b8c\u5168\u9690\u5f62\u7684\uff0c\u201d\u7f20\u7ed5\u6c34\u8349\u6697\u60f3\uff0c\u201c\u6211\u5c31\u85cf\u533f\u5728\u6c34\u9762\u4e0b\uff0c\u6ca1\u4eba\u80fd\u770b\u89c1\u6211\u3002\u201d\u4ed6\u7684\u670b\u53cb\u544a\u8bc9\u4ed6\uff0c\u4ed6\u4eec\u53ef\u4ee5\u6e05\u6e05\u695a\u695a\u5730\u770b\u89c1\u4ed6\uff0c\u4f46\u662f\u7f20\u7ed5\u6c34\u8349\u4e0d\u4f1a\u6539\u53d8\u81ea\u5df1\u7684\u60f3\u6cd5\u3002",null,"<color=#aa582b>\u6062\u590d\u65f6\u95f4\uff1a</c><color=#e6300d>\u957f</color>")],[n.pzaPlantEnum.JALAPENO,new c(n.pzaPlantEnum.JALAPENO,"\u706b\u7206\u8fa3\u6912\u4f1a\u6d88\u706d\u4e00\u6574\u6761\u7ebf\u4e0a\u7684\u50f5\u5c38\u3002","<color=#aa582b>\u4f24\u5bb3\uff1a</c><color=#e6300d>\u5de8\u5927</color><br/><color=#aa582b>\u8303\u56f4\uff1a</c><color=#e6300d>\u6574\u6761\u7ebf\u4e0a\u7684\u50f5\u5c38</color><br/><color=#aa582b>\u7528\u6cd5\uff1a</c><color=#e6300d>\u4e00\u6b21\u6027\u4f7f\u7528\uff0c\u7acb\u5373\u7206\u70b8</color>",null,"\u201c\u55ef\u55ef\u55ef\u55ef\u55ef\u55ef\uff01\uff01\uff01\uff01\uff01\uff01\uff01\uff01\u201d\u706b\u7206\u8fa3\u6912\u8bf4\u3002\u4ed6\u8fd8\u4e0d\u4f1a\u7206\u70b8\uff0c\u8fd8\u4e0d\u662f\u65f6\u5019\u3002\u4e0d\u8fc7\u5feb\u4e86\u3002\u5662\uff0c\u5feb\u4e86\u5feb\u4e86\uff0c\u5feb\u6765\u4e86\u3002\u4ed6\u77e5\u9053\uff0c\u4ed6\u611f\u53d7\u5230\u4e86\u3002\u4ed6\u7684\u4e00\u751f\u90fd\u662f\u4e3a\u4e86\u8fd9\u4e00\u523b\u3002",null,"<color=#aa582b>\u6062\u590d\u65f6\u95f4\uff1a</c><color=#e6300d>\u975e\u5e38\u957f</color>")],[n.pzaPlantEnum.SPIKEWEED,new c(n.pzaPlantEnum.SPIKEWEED,"\u5730\u523a\u53ef\u4ee5\u624e\u7834\u8f6e\u80ce\uff0c\u5e76\u5bf9\u8e29\u5230\u5b83\u7684\u50f5\u5c38\u9020\u6210\u4f24\u5bb3\u3002","<color=#aa582b>\u4f24\u5bb3\uff1a</c><color=#e6300d>\u4e2d\u7b49</color><br/><color=#aa582b>\u8303\u56f4\uff1a</c><color=#e6300d>\u6240\u6709\u8e29\u5230\u5b83\u7684\u50f5\u5c38</color><br/><color=#aa582b>\u7279\u70b9\uff1a</c><color=#e6300d>\u4e0d\u4f1a\u88ab\u50f5\u5c38\u5403\u6389</color>",null,"\u5730\u523a\u75f4\u8ff7\u51b0\u7403\u8fd0\u52a8\uff0c\u4ed6\u4e70\u4e86\u5305\u53a2\u7684\u5b63\u7968\u3002\u4ed6\u4e00\u76f4\u5173\u6ce8\u7740\u4ed6\u559c\u6b22\u7684\u7403\u5458\uff0c\u4ed6\u4e5f\u59cb\u7ec8\u5982\u4e00\u7684\u5728\u8d5b\u540e\u6e05\u7406\u51b0\u7403\u573a\u3002\u4f46\u6709\u4e2a\u95ee\u9898\uff1a\u4ed6\u5bb3\u6015\u51b0\u7403\u3002",null,"<color=#aa582b>\u6062\u590d\u65f6\u95f4\uff1a</c><color=#e6300d>\u77ed</color>")],[n.pzaPlantEnum.TORCHWOOD,new c(n.pzaPlantEnum.TORCHWOOD,"\u706b\u70ac\u6811\u6869\u80fd\u628a\u7ecf\u8fc7\u4ed6\u7684\u8c4c\u8c46\u53d8\u6210\u706b\u7403\uff0c\u706b\u7403\u4f1a\u9020\u6210\u53cc\u500d\u4f24\u5bb3\u3002","<color=#aa582b>\u7279\u70b9\uff1a</c><color=#e6300d>\u8ba9\u7a7f\u8fc7\u4ed6\u7684\u8c4c\u8c46\u53d8\u6210\u706b\u7403\u9020\u6210\u4e24\u500d\u4f24\u5bb3\u3002\u706b\u7403\u5bf9\u9644\u8fd1\u50f5\u5c38\u9020\u6210\u6e85\u5c04\u4f24\u5bb3\u3002</color>",null,"\u6bcf\u4e2a\u4eba\u90fd\u559c\u6b22\u5e76\u656c\u91cd\u706b\u70ac\u6811\u6869\uff0c\u4ed6\u4eec\u559c\u6b22\u4ed6\u7684\u8bda\u5b9e\u6b63\u76f4\u3001\u4ed6\u575a\u5b9a\u7684\u53cb\u60c5\u3001\u4ee5\u53ca\u4ed6\u5927\u5927\u589e\u5f3a\u8c4c\u8c46\u4f24\u5bb3\u7684\u80fd\u529b\u3002\u4f46\u4ed6\u4e5f\u6709\u4e2a\u4e0d\u80fd\u8bf4\u7684\u79d8\u5bc6\u2014\u2014\u4ed6\u4e0d\u8bc6\u5b57\u3002",null,"<color=#aa582b>\u6062\u590d\u65f6\u95f4\uff1a</c><color=#e6300d>\u77ed</color>")],[n.pzaPlantEnum.TALL_NUT,new c(n.pzaPlantEnum.TALL_NUT,"\u9ad8\u575a\u679c\u662f\u575a\u5b9e\u7684\u58c1\u5792\u690d\u7269\uff0c\u5b83\u4e0d\u4f1a\u88ab\u50f5\u5c38\u4ece\u5934\u4e0a\u8df3\u8fc7\u3002","<color=#aa582b>\u5f3a\u5ea6\uff1a</c><color=#e6300d>\u975e\u5e38\u9ad8</color><br/><color=#aa582b>\u7279\u70b9\uff1a</c><color=#e6300d>\u4e0d\u4f1a\u88ab\u8de8\u8fc7\u6216\u8df3\u8fc7</color>",null,"\u4eba\u4eec\u60f3\u77e5\u9053\uff0c\u575a\u679c\u5899\u548c\u9ad8\u575a\u679c\u4e4b\u95f4\u662f\u5426\u5b58\u5728\u7ade\u4e89\u3002\u9ad8\u575a\u679c\u7528\u4f4e\u6c89\u7684\u7537\u4e2d\u97f3\u5927\u7b11\u3002\u201c\u6211\u4eec\u4e4b\u95f4\u600e\u4e48\u4f1a\u5b58\u5728\u7ade\u4e89\u5462\uff1f\u6211\u4eec\u662f\u5144\u5f1f\u3002\u5982\u679c\u4f60\u77e5\u9053\u575a\u679c\u5899\u4e3a\u6211\u505a\u4e86\u4ec0\u4e48\u7684\u8bdd\u2026\u2026\u201d\u9ad8\u575a\u679c\u7684\u58f0\u97f3\u8d8a\u6765\u8d8a\u5c0f\uff0c\u5fc3\u77e5\u809a\u660e\u5730\u7b11\u4e86\u7b11\u3002",null,"<color=#aa582b>\u6062\u590d\u65f6\u95f4\uff1a</c><color=#e6300d>\u957f</color>")],[n.pzaPlantEnum.SEA_SHROOM,new c(n.pzaPlantEnum.SEA_SHROOM,"\u6c34\u5175\u83c7\u662f\u6c34\u751f\u690d\u7269\uff0c\u80fd\u53d1\u5c04\u77ed\u7a0b\u5b62\u5b50\u3002","<color=#aa582b>\u4f24\u5bb3\uff1a</c><color=#e6300d>\u4e2d\u7b49</color><br/><color=#aa582b>\u8303\u56f4\uff1a</c><color=#e6300d>\u8fd1</color>","<color=#30a7db>\u5fc5\u987b\u79cd\u690d\u5728\u6c34\u9762</c><br/><color=#953C9F>\u767d\u5929\u8981\u7761\u89c9</c>","\u6c34\u5175\u83c7\u4ece\u672a\u89c1\u8fc7\u5927\u6d77\u3002\u867d\u7136\u4ed6\u540d\u5b57\u53eb\u6c34\u5175\uff0c\u4e5f\u542c\u8bf4\u8fc7\u5f88\u591a\u5173\u4e8e\u6d77\u7684\u4e8b\u60c5\uff0c\u4f46\u662f\u4ece\u6ca1\u6709\u627e\u5230\u5408\u9002\u7684\u65f6\u95f4\u3002\u7136\u800c\uff0c\u603b\u6709\u4e00\u5929\uff0c\u4ed6\u4f1a\u4eb2\u773c\u9065\u671b\u5927\u6d77\u7684\u3002",null,"<color=#aa582b>\u6062\u590d\u65f6\u95f4\uff1a</c><color=#e6300d>\u957f</color>")],[n.pzaPlantEnum.PLANTERN,new c(n.pzaPlantEnum.PLANTERN,"\u8def\u706f\u82b1\u53ef\u4ee5\u7167\u4eae\u4e00\u7247\u533a\u57df\uff0c\u4f7f\u4f60\u80fd\u770b\u7a7f\u6d53\u96fe\u3002","<color=#aa582b>\u8303\u56f4\uff1a</c><color=#e6300d>\u4e00\u7247\u5706\u5f62\u533a\u57df</color><br/><color=#aa582b>\u7279\u70b9\uff1a</c><color=#e6300d>\u9a71\u6563\u6218\u573a\u8ff7\u96fe</color>",null,"\u8def\u706f\u82b1\u8fdd\u6297\u79d1\u5b66\uff0c\u4ed6\u5c31\u662f\u505a\u5230\u4e86\u3002\u5176\u4ed6\u690d\u7269\u5403\u7684\u662f\u5149\uff0c\u6392\u51fa\u7684\u662f\u6c27\u6c14\uff1b\u690d\u7269\u706f\u5403\u7684\u662f\u9ed1\u6697\uff0c\u6392\u51fa\u7684\u662f\u5149\u3002\u5bf9\u4e8e\u4ed6\u662f\u5982\u4f55\u505a\u5230\u7684\uff0c\u690d\u7269\u706f\u8bb3\u83ab\u5982\u6df1\u3002\u201c\u6211\u4e0d\u4f1a\u8bf4\u8fd9\u662f\u5deb\u672f\uff0c\u6211\u4e5f\u4e0d\u4f1a\u7528\u9ed1\u6697\u529b\u91cf\u8fd9\u4e2a\u8bcd\uff0c\u6211\u53ea\u662f\u2026\u2026\u6211\u60f3\u6211\u8bf4\u5f97\u591f\u591a\u4e86\u3002",null,"<color=#aa582b>\u6062\u590d\u65f6\u95f4\uff1a</c><color=#e6300d>\u957f</color>")],[n.pzaPlantEnum.CACTUS,new c(n.pzaPlantEnum.CACTUS,"\u4ed9\u4eba\u638c\u80fd\u53d1\u5c04\u523a\uff0c\u53ef\u4ee5\u6253\u51fb\u5730\u9762\u548c\u7a7a\u4e2d\u76ee\u6807\u3002","<color=#aa582b>\u4f24\u5bb3\uff1a</c><color=#e6300d>\u4e2d\u7b49</color><br/><color=#aa582b>\u8303\u56f4\uff1a</c><color=#e6300d>\u5730\u9762\u548c\u7a7a\u4e2d</color>",null,"\u786e\u5b9e\uff0c\u4ed9\u4eba\u638c\u975e\u5e38\u201c\u523a\u201d\uff0c\u4f46\u662f\u4ed9\u4eba\u638c\u7684\u523a\u906e\u63a9\u8457\u4e00\u9897\u6e29\u67d4\u7684\u5fc3\uff0c\u5145\u6ee1\u7740\u7231\u4e0e\u5584\u610f\u3002\u4ed6\u8879\u662f\u60f3\u4e0e\u522b\u4eba\u62e5\u62b1\u3002\u867d\u7136\u7edd\u5927\u591a\u6570\u4eba\u90fd\u53d7\u4e0d\u4e86\uff0c\u4f46\u4ed9\u4eba\u638c\u5e76\u4e0d\u4ecb\u610f\u3002\u4ed6\u6ce8\u89c6\u7740\u4e00\u53ea\u72b0\u72f3\u5f88\u4e45\u4e86\uff0c\u8fd9\u6b21\u597d\u50cf\u771f\u7684\u80fd\u6210\u4e86\u3002",null,"<color=#aa582b>\u6062\u590d\u65f6\u95f4\uff1a</c><color=#e6300d>\u77ed</color>")],[n.pzaPlantEnum.BLOVER,new c(n.pzaPlantEnum.BLOVER,"\u4e09\u53f6\u8349\u4f1a\u5439\u8d70\u6240\u6709\u6c14\u7403\u50f5\u5c38\u548c\u6d53\u96fe\u3002","<color=#aa582b>\u7528\u6cd5\uff1a</c><color=#e6300d>\u4e00\u6b21\u6027\u4f7f\u7528</color><br/><color=#aa582b>\u7279\u70b9\uff1a</c><color=#e6300d>\u5439\u8d70\u5c4f\u5e55\u4e0a\u6240\u6709\u7684\u6c14\u7403\u50f5\u5c38</color>",null,"\u5728\u4e09\u53f6\u8349\u4e94\u5c81\u751f\u65e5\u7684\u65f6\u5019\uff0c\u4ed6\u5f97\u5230\u4e86\u95ea\u4eae\u7684\u751f\u65e5\u86cb\u7cd5\u3002\u4ed6\u8bb8\u4e0b\u613f\u671b\uff0c\u7136\u540e\u6df1\u547c\u5438\uff0c\u4f46\u8879\u5439\u706d\u4e86\u516d\u6210\u7684\u8721\u70db\u3002\u7136\u800c\u4ed6\u6ca1\u6709\u653e\u5f03\uff0c\u4ece\u90a3\u65f6\u8d77\uff0c\u8d77\u521d\u7684\u5931\u8d25\u4fc3\u4f7f\u4ed6\u66f4\u52a0\u52aa\u529b\u3002 ",null,"<color=#aa582b>\u6062\u590d\u65f6\u95f4\uff1a</c><color=#e6300d>\u77ed</color>")],[n.pzaPlantEnum.SPLIT_PEA,new c(n.pzaPlantEnum.SPLIT_PEA,"\u53cc\u5411\u5c04\u624b\u80fd\u5411\u524d\u540e\u53cc\u5411\u53d1\u5c04\u8c4c\u8c46\u3002","<color=#aa582b>\u4f24\u5bb3\uff1a</c><color=#e6300d>\u4e2d\u7b49</color><br/><color=#aa582b>\u8303\u56f4\uff1a</c><color=#e6300d>\u524d\u9762\u548c\u540e\u9762</color><br/><color=#aa582b>\u901f\u5ea6\uff1a</c><color=#e6300d>\u5411\u524d\u4e3a\u6b63\u5e38\u901f\u5ea6\uff0c\u5411\u540e\u4e3a\u4e24\u500d\u901f\u5ea6</color>",null,"\u201c\u6ca1\u9519\uff0c\u6211\u662f\u53cc\u5b50\u5ea7\uff0c\u201d\u53cc\u5411\u5c04\u624b\u8bf4\uff0c\u201c\u6211\u77e5\u9053\u8fd9\u7684\u786e\u532a\u5937\u6240\u601d\u3002\u4e0d\u8fc7\uff0c\u957f\u4e86\u4e24\u9897\u5934\u2014\u2014\u6216\u8005\u5b9e\u9645\u4e0a\uff0c\u4e00\u9897\u5934\u548c\u4e00\u4e2a\u957f\u5728\u540e\u9762\u7684\u3001\u50cf\u5934\u4e00\u6837\u7684\u4e1c\u897f\u2014\u2014\u5728\u6211\u5c65\u884c\u804c\u8d23\u65f6\u5f88\u594f\u6548\u3002\u201d ",null,"<color=#aa582b>\u6062\u590d\u65f6\u95f4\uff1a</c><color=#e6300d>\u77ed</color>")],[n.pzaPlantEnum.STAR_FRUIT,new c(n.pzaPlantEnum.STAR_FRUIT,"\u661f\u661f\u679c\u80fd\u5411\u4e94\u4e2a\u65b9\u5411\u53d1\u5c04\u661f\u661f\u3002","<color=#aa582b>\u4f24\u5bb3\uff1a</c><color=#e6300d>\u4e2d\u7b49</color><br/><color=#aa582b>\u8303\u56f4\uff1a</c><color=#e6300d>\u4e94\u4e2a\u65b9\u5411</color>",null,"\u201c\u554a\uff0c\u54e5\u4eec\uff0c\u201d\u661f\u661f\u679c\u8bf4\uff0c\u201c\u6709\u4e00\u5929\u6211\u53bb\u770b\u7259\u533b\uff0c\u4ed6\u8bf4\u6211\u6709\u56db\u4e2a\u7259\u6d1e\u3002\u6211\u4e00\u6570\uff0c\u6211\u5c31\u53ea\u6709\u4e00\u9897\u7259\uff01\u4e00\u9897\u7259\u957f\u4e86\u56db\u4e2a\u7259\u6d1e\uff1f\u600e\u4e48\u4f1a\u8fd9\u6837\u554a\uff1f\u201d",null,"<color=#aa582b>\u6062\u590d\u65f6\u95f4\uff1a</c><color=#e6300d>\u77ed</color>")],[n.pzaPlantEnum.PUMPKIN,new c(n.pzaPlantEnum.PUMPKIN,"\u5357\u74dc\u53ef\u4ee5\u4fdd\u62a4\u5728\u4ed6\u5916\u58f3\u91cc\u9762\u7684\u690d\u7269\u3002","<color=#aa582b>\u5f3a\u5ea6\uff1a</c><color=#e6300d>\u9ad8</color><br/><color=#aa582b>\u7279\u70b9\uff1a</c><color=#e6300d>\u53ef\u4ee5\u79cd\u690d\u5728\u5176\u4ed6\u690d\u7269\u4e0a</color>",null,"\u5357\u74dc\u6709\u4e00\u6bb5\u65f6\u95f4\u6ca1\u6709\u6536\u5230\u4ed6\u8868\u54e5\u201c\u4f26\u83f2\u5c14\u5fb7\u201d\u7684\u6d88\u606f\u4e86\u3002\u4f26\u83f2\u5c14\u5fb7\u662f\u4e2a\u5927\u660e\u661f\uff0c\u662f\u4e00\u79cd\u2026\u2026\u53eb\u4ec0\u4e48\u8fd0\u52a8\u6765\u7740\u2026\u2026\u7684\u4f53\u80b2\u660e\u661f\uff1f\u5e7b\u5e7b\u7403\u5927\u5e08\uff1f\u5357\u74dc\u771f\u7684\u6ca1\u6709\u641e\u61c2\u3002\u4ed6\u53ea\u662f\u5728\u505a\u81ea\u5df1\u7684\u672c\u804c\u5de5\u4f5c\u3002",null,"<color=#aa582b>\u6062\u590d\u65f6\u95f4\uff1a</c><color=#e6300d>\u957f</color>")],[n.pzaPlantEnum.MAGNET_SHROOM,new c(n.pzaPlantEnum.MAGNET_SHROOM,"\u78c1\u529b\u83c7\u53ef\u4ee5\u7528\u78c1\u529b\u5438\u53d6\u50f5\u5c38\u7684\u5934\u76d4\u7b49\u5176\u5b83\u91d1\u5c5e\u7269\u54c1\u3002","<color=#aa582b>\u8303\u56f4\uff1a</c><color=#e6300d>\u9760\u8fd1\u7684\u50f5\u5c38</color><br/><color=#aa582b>\u7279\u70b9\uff1a</c><color=#e6300d>\u79fb\u9664\u50f5\u5c38\u4eec\u8eab\u4e0a\u6240\u6709\u7684\u91d1\u5c5e\u7269\u54c1</color>","<color=#953C9F>\u767d\u5929\u8981\u7761\u89c9</c>","\u78c1\u529b\u662f\u4e00\u79cd\u5f3a\u5927\u7684\u529b\u91cf\uff1b\u975e\u5e38\u5f3a\u5927\uff0c\u5f3a\u5927\u5230\u6709\u65f6\u90fd\u5413\u5230\u78c1\u529b\u83c7\u81ea\u5df1\u4e86\u3002\u80fd\u529b\u8d8a\u5927\uff0c\u8d23\u4efb\u8d8a\u5927\uff0c\u4ed6\u4e0d\u77e5\u9053\u81ea\u5df1\u80fd\u5426\u80a9\u8d1f\u5f97\u8d77\u8fd9\u91cd\u62c5\u3002 ",null,"<color=#aa582b>\u6062\u590d\u65f6\u95f4\uff1a</c><color=#e6300d>\u77ed</color>")],[n.pzaPlantEnum.CABBAGE_PULT,new c(n.pzaPlantEnum.CABBAGE_PULT,"\u5377\u5fc3\u83dc\u6295\u624b\u80fd\u5411\u50f5\u5c38\u6295\u63b7\u5377\u5fc3\u83dc\u3002","<color=#aa582b>\u4f24\u5bb3\uff1a</c><color=#e6300d>\u4e2d\u7b49</color><br/><color=#aa582b>\u8303\u56f4\uff1a</c><color=#e6300d>\u629b\u63b7</color>",null,"\u5377\u5fc3\u83dc\u6295\u624b\u7528\u5377\u5fc3\u83dc\u7838\u50f5\u5c38\u6709\u4e00\u624b\uff0c\u6bd5\u7adf\u8fd9\u662f\u4ed6\u8d5a\u94b1\u7684\u65b9\u5f0f\uff0c\u800c\u4e14\u4ed6\u4e5f\u64c5\u957f\u8fd9\u4e2a\u3002\u4ed6\u53ea\u662f\u4e0d\u660e\u767d\u50f5\u5c38\u4e00\u5f00\u59cb\u662f\u600e\u4e48\u5230\u5c4b\u9876\u4e0a\u6765\u7684\u3002",null,"<color=#aa582b>\u6062\u590d\u65f6\u95f4\uff1a</c><color=#e6300d>\u77ed</color>")],[n.pzaPlantEnum.FLOWER_POT,new c(n.pzaPlantEnum.FLOWER_POT,"\u82b1\u76c6\u53ef\u4ee5\u8ba9\u4f60\u5728\u5c4b\u9876\u4e0a\u79cd\u690d\u7269\u3002","<color=#aa582b>\u7279\u70b9\uff1a</c><color=#e6300d>\u53ef\u4ee5\u8ba9\u4f60\u5728\u5c4b\u9876\u79cd\u690d\u7269</color>",null,"\u201c\u6211\u662f\u4e2a\u79cd\u690d\u7269\u7528\u7684\u82b1\u76c6\uff0c\u4f46\u6211\u4e5f\u662f\u682a\u690d\u7269\u3002\u662f\u4e0d\u662f\u5f88\u610f\u5916\uff1f\u201d ",null,"<color=#aa582b>\u6062\u590d\u65f6\u95f4\uff1a</c><color=#e6300d>\u77ed</color>")],[n.pzaPlantEnum.KERNEL_PULT,new c(n.pzaPlantEnum.KERNEL_PULT,"\u7389\u7c73\u6295\u624b\u80fd\u5411\u50f5\u5c38\u6295\u63b7\u7389\u7c73\u7c92\u548c\u9ec4\u6cb9\u3002 ","<color=#aa582b>\u4f24\u5bb3\uff1a</c><color=#e6300d>\u8f7b\u5fae\uff08\u7389\u7c73\u7c92\uff09\uff0c\u4e2d\u7b49\uff08\u9ec4\u6cb9\uff09</color><br/><color=#aa582b>\u8303\u56f4\uff1a</c><color=#e6300d>\u629b\u63b7</color><br/><color=#aa582b>\u7279\u70b9\uff1a</c><color=#e6300d>\u9ec4\u6cb9\u53ef\u4ee5\u6682\u65f6\u56fa\u5b9a\u50f5\u5c38</color>",null,"\u7389\u7c73\u6295\u624b\u662f\u6295\u624b\u5144\u5f1f\u7684\u8001\u5927\u3002\u4ed6\u4eec\u4e09\u5144\u5f1f\u5f53\u4e2d\uff0c\u8879\u6709\u7389\u7c73\u59cb\u7ec8\u8bb0\u5f97\u5176\u4ed6\u5144\u5f1f\u7684\u751f\u65e5\uff0c\u4e3a\u6b64\u4ed6\u4e5f\u7565\u5fae\u6709\u70b9\u70e6\u4ed6\u4eec\u3002 ",null,"<color=#aa582b>\u6062\u590d\u65f6\u95f4\uff1a</c><color=#e6300d>\u77ed</color>")],[n.pzaPlantEnum.COFFEE_BEAN,new c(n.pzaPlantEnum.COFFEE_BEAN,"\u7528\u5496\u5561\u8c46\u6765\u5524\u9192\u7761\u89c9\u7684\u8611\u83c7\u3002","<color=#aa582b>\u7528\u6cd5\uff1a</c><color=#e6300d>\u4e00\u6b21\u6027\u4f7f\u7528\uff0c\u7acb\u5373\u7206\u70b8</color><br/><color=#aa582b>\u7279\u70b9\uff1a</c><color=#e6300d>\u79cd\u690d\u5728\u5176\u5b83\u690d\u7269\u4e0a\uff0c\u7528\u6765\u5728\u767d\u5929\u5524\u9192\u690d\u7269</color>",null,"\u201c\u563f\uff0c\u5927\u4f19\uff0c\u563f\uff01\u201d\u5496\u5561\u8c46\u8bf4\uff0c\u201c\u563f\uff01\u600e\u4e48\u56de\u4e8b\uff1f\u90a3\u662f\u8c01\uff1f\u563f\uff01\u4f60\u77a7\u89c1\u90a3\u73a9\u610f\u6ca1\uff1f\u4ec0\u4e48\u4e1c\u897f\uff1f\u54c7\uff01\u662f\u72ee\u5b50\uff01\u201d\u6ca1\u9519\uff0c\u5496\u5561\u8c46\u7edd\u5bf9\u5174\u594b\u8d77\u6765\u4e86\u3002",null,"<color=#aa582b>\u6062\u590d\u65f6\u95f4\uff1a</c><color=#e6300d>\u77ed</color>")],[n.pzaPlantEnum.GARLIC,new c(n.pzaPlantEnum.GARLIC,"\u5927\u849c\u53ef\u4ee5\u4f7f\u4e00\u53ea\u50f5\u5c38\u6539\u9053\u3002","<color=#aa582b>\u8303\u56f4\uff1a</c><color=#e6300d>\u8fd1\u8ddd\u79bb\u63a5\u89e6</color><br/><color=#aa582b>\u7279\u70b9\uff1a</c><color=#e6300d>\u6539\u53d8\u50f5\u5c38\u7684\u524d\u8fdb\u8def\u7ebf</color>",null,"\u8def\u7ebf\u8f6c\u5411\u4e0d\u4ec5\u662f\u5927\u849c\u7684\u4e13\u4e1a\uff0c\u66f4\u662f\u4ed6\u7684\u70ed\u60c5\u6240\u5728\u3002\u4ed6\u62e5\u6709\u5e03\u9c81\u585e\u5c14\u5927\u5b66\u7684\u91cd\u5b9a\u5411\u535a\u58eb\u5b66\u4f4d\uff0c\u80fd\u628a\u8def\u7ebf\u5411\u91cf\u548c\u51fb\u9000\u9635\u5217\u8c08\u4e0a\u4e00\u6574\u5929\u3002\u4ed6\u751a\u81f3\u4f1a\u628a\u5bb6\u91cc\u7684\u4e1c\u897f\u642c\u5230\u5927\u8857\u4e0a\u53bb\u3002\u4e0d\u77e5\u9053\u4ed6\u8001\u5a46\u4e3a\u4ec0\u4e48\u53d7\u5f97\u4e86\u8fd9\u4e9b\u3002",null,"<color=#aa582b>\u6062\u590d\u65f6\u95f4\uff1a</c><color=#e6300d>\u77ed</color>")],[n.pzaPlantEnum.UMBRELLA_LEAF,new c(n.pzaPlantEnum.UMBRELLA_LEAF,"\u53f6\u5b50\u4fdd\u62a4\u4f1e\u53ef\u4ee5\u4fdd\u62a4\u9644\u8fd1\u690d\u7269\u514d\u53d7\u8e66\u6781\u50f5\u5c38\u548c\u6295\u77f3\u8f66\u50f5\u5c38\u88ad\u51fb\u3002","<color=#aa582b>\u7279\u70b9\uff1a</c><color=#e6300d>\u4fdd\u62a4\u9644\u4ef6\u7684\u690d\u7269\uff0c\u4e0d\u88ab\u98de\u8d3c\u50f5\u5c38\u548c\u6295\u77f3\u8f66\u50f5\u5c38\u6240\u4f24\u5bb3</color>",null,"\u201c\u7830\uff01\u201d\u53f6\u5b50\u4fdd\u62a4\u4f1e\u8bf4\uff0c\u201c\u4f60\u559c\u6b22\u8fd9\u6837\u4e0d\uff0c\u6211\u8fd8\u53ef\u4ee5\u518d\u6765\u3002\u7830\uff01\u54c7\uff01\u90a3\u662f\u6211\u5728\u5feb\u901f\u5f39\u51fa\u53f6\u5b50\u6765\u4fdd\u62a4\u6211\u5468\u56f4\u7684\u4e1c\u897f\u3002\u5bf9\uff0c\u5c31\u50cf\u8fd9\u6837\uff0c\u7edd\u5bf9\u5c31\u50cf\u8fd9\u6837\u3002\u76f8\u4fe1\u4ed6\u3002",null,"<color=#aa582b>\u6062\u590d\u65f6\u95f4\uff1a</c><color=#e6300d>\u77ed</color>")],[n.pzaPlantEnum.MARIGOLD,new c(n.pzaPlantEnum.MARIGOLD,"\u91d1\u76cf\u82b1\u53ef\u4ee5\u4e3a\u4f60\u63d0\u4f9b\u91d1\u5e01\u548c\u94f6\u5e01\u3002","<color=#aa582b>\u7279\u70b9\uff1a</c><color=#e6300d>\u63d0\u4f9b\u91d1\u5e01\u548c\u94f6\u5e01</color>",null,"\u91d1\u76cf\u82b1\u82b1\u8d39\u4e86\u8bb8\u591a\u65f6\u95f4\u6765\u51b3\u5b9a\u662f\u5410\u51fa\u91d1\u5e01\u8fd8\u662f\u94f6\u5e01\u3002\u4ed6\u601d\u8003\u7740\uff0c\u659f\u914c\u89c2\u70b9\u3002\u4ed6\u505a\u4e86\u624e\u5b9e\u7684\u7814\u7a76\uff0c\u719f\u6089\u6700\u65b0\u7684\u51fa\u7248\u7269\u3002\u8fd9\u5c31\u662f\u6210\u529f\u8005\u4fdd\u6301\u9886\u5148\u5730\u4f4d\u7684\u65b9\u6cd5\u3002 ",null,"<color=#aa582b>\u6062\u590d\u65f6\u95f4\uff1a</c><color=#e6300d>\u957f</color>")],[n.pzaPlantEnum.MELON_PULT,new c(n.pzaPlantEnum.MELON_PULT,"\u897f\u74dc\u6295\u624b\u80fd\u5bf9\u6210\u7fa4\u50f5\u5c38\u9020\u6210\u5927\u91cf\u4f24\u5bb3\u3002","<color=#aa582b>\u4f24\u5bb3\uff1a</c><color=#e6300d>\u5927</color><br/><color=#aa582b>\u8303\u56f4\uff1a</c><color=#e6300d>\u629b\u63b7</color><br/><color=#aa582b>\u7279\u70b9\uff1a</c><color=#e6300d>\u897f\u74dc\u80fd\u5bf9\u76ee\u6807\u9644\u8fd1\u7684\u50f5\u5c38\u9020\u6210\u4f24\u5bb3</color>",null,"\u897f\u74dc\u6295\u624b\u8eab\u4e0a\u6ca1\u6709\u865a\u4f2a\u7684\u8c26\u865a\u3002\u201c\u9633\u5149\u2014\u2014\u8d50\u4e88\u6211\u2014\u2014\u529b\u91cf\uff01\u6211\u53ef\u662f\u8fd9\u8349\u576a\u4e0a\u6700\u80fd\u6253\u7684\uff0c\u201d\u4ed6\u8bf4\uff0c\u201c\u6211\u4e0d\u662f\u81ea\u5439\u81ea\u64c2\uff0c\u77a7\u77a7\u90a3\u4e9b\u7edf\u8ba1\u6570\u636e\uff0c\u4f60\u4f1a\u660e\u767d\u7684\u3002\u201d ",null,"<color=#aa582b>\u6062\u590d\u65f6\u95f4\uff1a</c><color=#e6300d>\u77ed</color>")]]),t.ZombieBookMap=new Map([[i.pzaZombieEnum.ZOMBIE,new s(i.pzaZombieEnum.ZOMBIE,"\u666e\u901a\u50f5\u5c38","<color=#aa582b>\u97e7\u6027\uff1a</c><color=#e6300d>\u4f4e</color>",!1,"\u8fd9\u79cd\u50f5\u5c38\u559c\u7231\u8111\u9ad3\uff0c\u8d2a\u5a6a\u800c\u4e0d\u77e5\u8db3\u3002\u8111\u9ad3\uff0c\u8111\u9ad3\uff0c\u8111\u9ad3\uff0c\u591c\u4ee5\u7ee7\u65e5\u5730\u8ffd\u6c42\u7740\u3002\u8001\u800c\u81ed\u7684\u8111\u9ad3?\u8150\u70c2\u7684\u8111\u9ad3?\u90fd\u6ca1\u5173\u7cfb\u3002\u50f5\u5c38\u9700\u8981\u5b83\u4eec\u3002")],[i.pzaZombieEnum.FLAG_ZOMBIE,new s(i.pzaZombieEnum.FLAG_ZOMBIE,"\u6447\u65d7\u50f5\u5c38\u6807\u5fd7\u7740\u5373\u5c06\u6765\u88ad\u7684\u4e00\u5927\u5806\u5014\u5c38\u201c\u6d41\u201d\u3002","<color=#aa582b>\u97e7\u6027\uff1a</c><color=#e6300d>\u4f4e</color>",!1,"\u6beb\u65e0\u7591\u95ee\uff0c\u6447\u65d7\u50f5\u5c38\u559c\u7231\u8111\u9ad3\u3002\u4f46\u5728\u79c1\u4e0b\u91cc\u4ed6\u4e5f\u8ff7\u604b\u65d7\u5e1c\u3002\u4e5f\u8bb8\u662f\u56e0\u4e3a\u65d7\u5e1c\u4e0a\u4e5f\u753b\u6709\u8111\u5b50\u5427\uff0c\u8fd9\u5f88\u96be\u8bf4\u3002")],[i.pzaZombieEnum.CONE_HEAD_ZOMBIE,new s(i.pzaZombieEnum.CONE_HEAD_ZOMBIE,"\u4ed6\u7684\u8def\u969c\u5934\u76d4\uff0c\u4f7f\u4ed6\u4e24\u500d\u575a\u97e7\u4e8e\u666e\u901a\u50f5\u5c38\u3002","<color=#aa582b>\u97e7\u6027\uff1a</c><color=#e6300d>\u4e2d</color>",!1,"\u548c\u5176\u4ed6\u50f5\u5c38\u4e00\u6837\uff0c\u8def\u969c\u5934\u50f5\u5c38\u76f2\u76ee\u5730\u5411\u524d\u3002\u4f46\u67d0\u4e9b\u4e8b\u7269\u5374\u4f7f\u4ed6\u505c\u4e0b\u811a\u6b65\uff0c\u6361\u8d77\u4e00\u4e2a\u4ea4\u901a\u8def\u969c\uff0c\u5e76\u56fa\u5b9e\u5728\u81ea\u5df1\u7684\u8111\u888b\u4e0a\u3002\u662f\u7684\uff0c\u4ed6\u5f88\u559c\u6b22\u53c2\u52a0\u805a\u4f1a\u3002")],[i.pzaZombieEnum.POLEVAULTING_ZOMBIE,new s(i.pzaZombieEnum.POLEVAULTING_ZOMBIE,"\u6491\u6746\u50f5\u5c38\u8fd0\u7528\u6807\u6746\u9ad8\u9ad8\u5730\u8dc3\u8fc7\u969c\u788d\u7269\u3002","<color=#aa582b>\u97e7\u6027\uff1a</c><color=#e6300d>\u4e2d</color><br/><color=#aa582b>\u901f\u5ea6\uff1a</c><color=#e6300d>\u5feb\uff0c\u800c\u540e\u6162\uff08\u8df3\u8dc3\u540e\uff09</color><br/><color=#aa582b>\u7279\u70b9\uff1a</c><color=#e6300d>\u8dc3\u8fc7\u4ed6\u6240\u78b0\u5230\u7684\u7b2c\u4e00\u682a\u690d\u7269</color>",!1,"\u4e00\u4e9b\u50f5\u5c38\u6e34\u671b\u8d70\u5f97\u66f4\u8fdc\u3001\u5f97\u5230\u66f4\u591a\uff0c\u8fd9\u4e5f\u4fc3\u4f7f\u4ed6\u4eec\u7531\u666e\u901a\u6210\u4e3a\u975e\u51e1\u3002\u90a3\u5c31\u662f\u6491\u6746\u50f5\u5c38\u3002")],[i.pzaZombieEnum.BUCKET_HEAD_ZOMBIE,new s(i.pzaZombieEnum.BUCKET_HEAD_ZOMBIE,"\u4ed6\u7684\u94c1\u6876\u5934\u76d4\uff0c\u80fd\u6781\u5927\u7a0b\u5ea6\u7684\u627f\u53d7\u4f24\u5bb3\u3002","<color=#aa582b>\u97e7\u6027\uff1a</c><color=#e6300d>\u9ad8</color><br/><color=#aa582b>\u5f31\u70b9\uff1a</c><color=#e6300d>\u78c1\u529b\u83c7</color>",!1,"\u94c1\u6876\u5934\u50f5\u5c38\u7ecf\u5e38\u6234\u7740\u6c34\u6876\uff0c\u5728\u51b7\u6f20\u7684\u4e16\u754c\u91cc\u663e\u5f97\u72ec\u4e00\u65e0\u4e8c\u3002\u4f46\u4e8b\u5b9e\u4e0a\uff0c\u4ed6\u53ea\u662f\u5fd8\u8bb0\u4e86\uff0c\u90a3\u94c1\u6876\u8fd8\u5728\u4ed6\u5934\u4e0a\u800c\u5df2\u3002")],[i.pzaZombieEnum.NEWSPAPER_ZOMBIE,new s(i.pzaZombieEnum.NEWSPAPER_ZOMBIE,"\u4ed6\u7684\u62a5\u7eb8\u53ea\u80fd\u63d0\u4f9b\u6709\u9650\u7684\u9632\u5fa1\u3002","<color=#aa582b>\u97e7\u6027\uff1a</c><color=#e6300d>\u4f4e</color><br/><color=#aa582b>\u62a5\u7eb8\u97e7\u6027\uff1a</c><color=#e6300d>\u4f4e</color><br/><color=#aa582b>\u901f\u5ea6\uff1a</c><color=#e6300d>\u6b63\u5e38\uff0c\u800c\u540e\u5feb(\u5931\u53bb\u62a5\u7eb8\u540e)</color>",!1,"\u8bfb\u62a5\u50f5\u5c38\uff0c\u4ed6\u6b63\u75f4\u8ff7\u4e8e\u5b8c\u6210\u4ed6\u7684\u6570\u72ec\u96be\u9898\u3002\u96be\u602a\u4ed6\u8fd9\u4e48\u53cd\u5e38\u3002")],[i.pzaZombieEnum.SCREEN_DOOR_ZOMBIE,new s(i.pzaZombieEnum.SCREEN_DOOR_ZOMBIE,"\u4ed6\u7684\u94c1\u6805\u95e8\u662f\u6709\u6548\u7684\u76fe\u724c\u3002","<color=#aa582b>\u97e7\u6027\uff1a</c><color=#e6300d>\u4f4e</color><br/><color=#aa582b>\u94c1\u6805\u95e8\u97e7\u6027\uff1a</c><color=#e6300d>\u9ad8</color><br/><color=#aa582b>\u5f31\u70b9\uff1a</c><color=#e6300d>\u5927\u55b7\u83c7\u548c\u78c1\u529b\u83c7</color>",!1,"\u94c1\u6805\u95e8\u50f5\u5c38\u4e0a\u6b21\u62dc\u8bbf\u8fc7\u7684\u623f\u4e3b\u9632\u5b88\u5e76\u4e0d\u4e13\u4e1a\uff0c\u5728\u5403\u6389\u90a3\u623f\u4e3b\u7684\u8111\u5b50\u540e\u62ff\u8d70\u4e86\u4ed6\u5bb6\u7684\u94c1\u6805\u95e8\u3002")],[i.pzaZombieEnum.FOOTBALL_ZOMBIE,new s(i.pzaZombieEnum.FOOTBALL_ZOMBIE,"\u6a44\u6984\u7403\u50f5\u5c38\u7684\u8868\u6f14\u79c0\u3002","<color=#aa582b>\u97e7\u6027\uff1a</c><color=#e6300d>\u6781\u9ad8</color><br/><color=#aa582b>\u901f\u5ea6\uff1a</c><color=#e6300d>\u5feb</color><br/><color=#aa582b>\u5f31\u70b9\uff1a</c><color=#e6300d>\u78c1\u529b\u83c7</color>",!1,"\u5728\u7403\u573a\u4e0a\uff0c\u6a44\u6984\u7403\u50f5\u5c38\u8868\u73b0\u51fa110%\u7684\u6fc0\u60c5\uff0c\u4ed6\u8fdb\u653b\u9632\u5b88\u6837\u6837\u5728\u884c\u3002\u867d\u7136\u4ed6\u5b8c\u5168\u4e0d\u77e5\u9053\u6a44\u6984\u7403\u662f\u4ec0\u4e48\u3002")],[i.pzaZombieEnum.DANCING_ZOMBIE,new s(i.pzaZombieEnum.DANCING_ZOMBIE,"\u821e\u8005\u50f5\u5c38\u548c\u4eba\u7c7b(\u5728\u4e16\u6216\u8005\u6b7b\u53bb\u7684)\u5982\u6709\u96f7\u540c,\u7eaf\u5c5e\u5de7\u5408\u3002","<color=#aa582b>\u97e7\u6027\uff1a</c><color=#e6300d>\u4e2d</color><br/><color=#aa582b>\u7279\u70b9\uff1a</c><color=#e6300d>\u53ec\u5524\u4f34\u821e\u50f5\u5c38</color>",!1,"\u821e\u8005\u50f5\u5c38\u7684\u6700\u65b0\u5531\u7247\u201c\u54c7\u8111\u4e73\u963f\u535c\u963f\u535c\u201d\u5728\u50f5\u5c38\u754c\u7684\u4eba\u6c14\u6b63\u6025\u901f\u98d9\u5347\u3002")],[i.pzaZombieEnum.BACKUP_DANCER,new s(i.pzaZombieEnum.BACKUP_DANCER,"\u5f53\u821e\u8005\u50f5\u5c38\u6447\u6446\u65f6\uff0c\u8fd9\u79cd\u50f5\u5c38\u56db\u4e2a\u7ed3\u4f19\u51fa\u73b0\u3002","<color=#aa582b>\u97e7\u6027\uff1a</c><color=#e6300d>\u4f4e</color>",!1,"\u4f34\u821e\u50f5\u5c38\u66fe\u5728\u4f4d\u4e8e\u50f5\u5c38\u7ebd\u7ea6\u57ce\u7684\u201c\u5480\u5229\u7259\u201d\u8868\u6f14\u827a\u672f\u5b66\u9662\u94bb\u7814\u8fc7\u516d\u5e74\u7684\u821e\u6280\u3002")],[i.pzaZombieEnum.DUCKY_TUBE_ZOMBIE,new s(i.pzaZombieEnum.DUCKY_TUBE_ZOMBIE,"\u9e2d\u5b50\u6551\u751f\u5708\u80fd\u8ba9\u50f5\u5c38\u80fd\u6d6e\u5728\u6c34\u9762\u4e0a\u3002","<color=#aa582b>\u97e7\u6027\uff1a</c><color=#e6300d>\u4f4e</color>",!0,"\u53ea\u6709\u7279\u5b9a\u7684\u50f5\u5c38\u624d\u80fd\u6210\u4e3a\u6551\u751f\u5708\u50f5\u5c38\u3002\u5e76\u4e0d\u662f\u6bcf\u4e2a\u50f5\u5c38\u90fd\u80fd\u80dc\u4efb\u7684\u3002\u6709\u4e9b\u6551\u751f\u5708\u6709\u70b9\u6f0f\u6c14\uff0c\u4f46\u4ed6\u4eec\u6ca1\u80fd\u6ce8\u610f\u5230\uff0c\u6240\u4ee5\u4ed6\u4eec\u79bb\u5f00\u5e76\u653e\u5f03\u4e86\u5bf9\u8111\u5b50\u7684\u6e34\u6c42\u3002")],[i.pzaZombieEnum.SNORKEL_ZOMBIE,new s(i.pzaZombieEnum.SNORKEL_ZOMBIE,"\u6f5c\u6c34\u50f5\u5c38\u53ef\u4ee5\u5728\u6c34\u4e0b\u524d\u884c\u3002","<color=#aa582b>\u97e7\u6027\uff1a</c><color=#e6300d>\u4f4e</color><br/><color=#aa582b>\u7279\u70b9\uff1a</c><color=#e6300d>\u6f5c\u6cf3\u4ee5\u907f\u514d\u906d\u5230\u653b\u51fb</color>",!0,"\u50f5\u5c38\u4e0d\u547c\u5438\u3002\u4ed6\u4eec\u4e0d\u9700\u8981\u7a7a\u6c14\u3002\u90a3\u4e48\u4e3a\u4ec0\u4e48\u6f5c\u6c34\u50f5\u5c38\u9700\u8981\u4e00\u5957\u6f5c\u6c34\u88c5\u7f6e\u6765\u6f5c\u6c34\u5462?\u7b54\u6848\uff1a\u540c\u884c\u7684\u538b\u529b\u3002")],[i.pzaZombieEnum.ZOMBONI,new s(i.pzaZombieEnum.ZOMBONI,"\u9020\u51b0\u8f66\u50f5\u5c38\u8fd0\u7528\u51b0\u96ea\uff0c\u78be\u8fc7\u4f60\u7684\u690d\u7269\u3002","<color=#aa582b>\u97e7\u6027\uff1a</c><color=#e6300d>\u9ad8</color><br/><color=#aa582b>\u7279\u70b9\uff1a</c><color=#e6300d>\u78be\u538b\u690d\u7269\uff0c\u7559\u4e0b\u6761\u51b0\u9053</color>",!1,"\u7ecf\u5e38\u88ab\u8bef\u4ee5\u4e3a\u662f\u5728\u9a7e\u9a76\u7740\u9020\u51b0\u8f66\u7684\u50f5\u5c38\uff0c\u4f46\u4e8b\u5b9e\u4e0a\u9020\u51b0\u8f66\u50f5\u5c38\u662f\u79cd\u5b8c\u5168\u4e0d\u540c\u7684\u751f\u7269\u5f62\u5f0f\uff0c\u4ed6\u4e0e\u592a\u7a7a\u517d\u4eba\u8054\u7cfb\u66f4\u7d27\u5bc6\u800c\u4e0d\u662f\u50f5\u5c38\u3002")],[i.pzaZombieEnum.ZOMBIE_BOBSLED_TEAM,new s(i.pzaZombieEnum.ZOMBIE_BOBSLED_TEAM,"\u8fd9\u4e9b\u50f5\u5c38\u4ee5\u56db\u4eba\u5c0f\u961f\u5f62\u5f0f\u51fa\u73b0\u3002","<color=#aa582b>\u97e7\u6027\uff1a</c><color=#e6300d>\u4f4e(\u6bcf\u4e2a\u50f5\u5c38)</color><br/><color=#aa582b>\u51b0\u8f66\u97e7\u6027\uff1a</c><color=#e6300d>\u4f4e</color><br/><color=#aa582b>\u7279\u70b9\uff1a</c><color=#e6300d>\u53ea\u5728\u96ea\u5730\u91cc\u51fa\u73b0</color>",!1,"\u96ea\u6a47\u50f5\u5c38\u5c0f\u961f\u5c3d\u529b\u5230\u8fbe\u4ed6\u4eec\u6240\u8981\u53bb\u7684\u5730\u65b9\u3002\u4ed6\u4eec\u4e92\u76f8\u4f9d\u8d56\u3001\u5206\u4eab\u8111\u5b50\u5e76\u5171\u540c\u8bad\u7ec3\u6210\u4e3a\u4e00\u4e2a\u5408\u4f5c\u65e0\u95f4\u7684\u50f5\u5c38\u5c0f\u961f\u3002")],[i.pzaZombieEnum.DOLPHIN_RIDER_ZOMBIE,new s(i.pzaZombieEnum.DOLPHIN_RIDER_ZOMBIE,"\u6d77\u8c5a\u9a91\u58eb\u50f5\u5c38\u5584\u4e8e\u5229\u7528\u4f60\u6c34\u6c60\u9632\u5fa1\u7684\u5f31\u70b9\u3002","<color=#aa582b>\u97e7\u6027\uff1a</c><color=#e6300d>\u4e2d</color><br/><color=#aa582b>\u901f\u5ea6\uff1a</c><color=#e6300d>\u5feb\uff0c\u6162(\u8df3\u8dc3\u540e)</color><br/><color=#aa582b>\u7279\u70b9\uff1a</c><color=#e6300d>\u8dc3\u8fc7\u4ed6\u6240\u78b0\u5230\u7684\u7b2c\u4e00\u682a\u690d\u7269</color>",!0,"\u90a3\u6d77\u8c5a\u5176\u5b9e\u4e5f\u662f\u4e2a\u50f5\u5c38\u3002")],[i.pzaZombieEnum.JACK_ZOMBIE,new s(i.pzaZombieEnum.JACK_ZOMBIE,"\u8fd9\u79cd\u50f5\u5c38\u5e26\u7740\u4e2a\u4f1a\u7206\u70b8\u7684\u6f58\u591a\u62c9\u76d2\u5b50\u3002","<color=#aa582b>\u97e7\u6027\uff1a</c><color=#e6300d>\u4e2d</color><br/><color=#aa582b>\u901f\u5ea6\uff1a</c><color=#e6300d>\u5feb</color><br/><color=#aa582b>\u7279\u70b9\uff1a</c><color=#e6300d>\u6253\u5f00\u73a9\u5076\u5323\u4f1a\u7206\u70b8</color><br/><color=#aa582b>\u5f31\u70b9\uff1a</c><color=#e6300d>\u78c1\u529b\u83c7</color>",!1,"\u8fd9\u79cd\u50f5\u5c38\u4ee4\u4eba\u4e0d\u5bd2\u800c\u6817\uff0c\u4e0d\u662f\u56e0\u4e3a\u4ed6\u7684\u51b0\u51b7\u8eab\u8eaf\u800c\u662f\u56e0\u4e3a\u4ed6\u7684\u75af\u72c2\u3002")],[i.pzaZombieEnum.BALLOON_ZOMBIE,new s(i.pzaZombieEnum.BALLOON_ZOMBIE,"\u6c14\u7403\u50f5\u5c38\u6f02\u6d6e\u5728\u7a7a\u4e2d\uff0c\u8eb2\u8fc7\u5927\u591a\u6570\u653b\u51fb\u3002","<color=#aa582b>\u97e7\u6027\uff1a</c><color=#e6300d>\u4f4e</color><br/><color=#aa582b>\u7279\u70b9\uff1a</c><color=#e6300d>\u98de\u884c</color><br/><color=#aa582b>\u5f31\u70b9\uff1a</c><color=#e6300d>\u4ed9\u4eba\u638c\u548c\u4e09\u53f6\u8349</color>",!1,"\u6c14\u7403\u50f5\u5c38\u771f\u5e78\u8fd0\u3002\u6c14\u7403\u6709\u5f88\u591a\u529f\u6548\uff0c\u800c\u5176\u4ed6\u50f5\u5c38\u90fd\u4e0d\u66fe\u6361\u5230\u8fc7\u3002")],[i.pzaZombieEnum.DIGGER_ZOMBIE,new s(i.pzaZombieEnum.DIGGER_ZOMBIE,"\u8fd9\u79cd\u50f5\u5c38\u901a\u8fc7\u6316\u96a7\u9053\u6765\u7a7f\u8fc7\u4f60\u7684\u9632\u5fa1\u3002","<color=#aa582b>\u97e7\u6027\uff1a</c><color=#e6300d>\u4e2d</color><br/><color=#aa582b>\u901f\u5ea6\uff1a</c><color=#e6300d>\u5feb\uff0c\u800c\u540e\u6162</color><br/><color=#aa582b>\u7279\u70b9\uff1a</c><color=#e6300d>\u7a7f\u8fc7\u5730\u4e0b\u96a7\u9053\u5e76\u51fa\u73b0\u5728\u8349\u576a\u7684\u5de6\u4fa7</color><br/><color=#aa582b>\u5f31\u70b9\uff1a</c><color=#e6300d>\u53cc\u5411\u5c04\u624b\u548c\u78c1\u529b\u83c7</color>",!1,"\u77ff\u5de5\u50f5\u5c38\u6bcf\u5468\u82b1\u8d39\u4e09\u5929\u65f6\u95f4\u6765\u7533\u8bf7\u4ed6\u7684\u6316\u6398\u8bb8\u53ef\u8bc1\u3002")],[i.pzaZombieEnum.POGO_ZOMBIE,new s(i.pzaZombieEnum.POGO_ZOMBIE,"\u8df3\u8df3\u50f5\u5c38\u80fd\u8df3\u8dc3\u8fc7\u4f60\u7684\u9632\u5b88\u3002","<color=#aa582b>\u97e7\u6027\uff1a</c><color=#e6300d>\u4e2d</color><br/><color=#aa582b>\u7279\u70b9\uff1a</c><color=#e6300d>\u8dc3\u8fc7\u690d\u7269</color><br/><color=#aa582b>\u5f31\u70b9\uff1a</c><color=#e6300d>\u78c1\u529b\u83c7</color>",!1,"\u8e66!\u8e66!\u8e66!\u90a3\u662f\u8e66\u8e66\u50f5\u5c38\u53d1\u51fa\u7684\u6709\u529b\u4e14\u6709\u6548\u5730\u58f0\u97f3\u3002")],[i.pzaZombieEnum.YETI_ZOMBIE,new s(i.pzaZombieEnum.YETI_ZOMBIE,"\u4e00\u79cd\u7f55\u89c1\u800c\u53e4\u602a\u7684\u751f\u7269\u3002","<color=#aa582b>\u97e7\u6027\uff1a</c><color=#e6300d>\u9ad8</color><br/><color=#aa582b>\u7279\u70b9\uff1a</c><color=#e6300d>\u4e00\u5c0f\u4f1a\u513f\u540e\u4f1a\u9003\u8dd1</color>",!1,"\u5173\u4e8e\u50f5\u5c38\u96ea\u4eba\u7684\u8d44\u6599\u5f88\u5c11\uff0c\u9664\u4e86\u4ed6\u7684\u540d\u5b57\u3001\u51fa\u751f\u65e5\u671f\u3001\u793e\u4fdd\u53f7\u3001\u53d7\u6559\u80b2\u7a0b\u5ea6\u3001\u5de5\u4f5c\u5c65\u5386\u4ee5\u53ca\u559c\u7231\u5939\u5fc3\u4e09\u660e\u6cbb(\u70e4\u725b\u8089\u53ca\u745e\u58eb\u4eba\u8089\u53e3\u5473)\u3002")],[i.pzaZombieEnum.BUNGEE_ZOMBIE,new s(i.pzaZombieEnum.BUNGEE_ZOMBIE,"\u98de\u8d3c\u50f5\u5c38\u4ece\u5929\u4e0a\u653b\u51fb\u3002","<color=#aa582b>\u97e7\u6027\uff1a</c><color=#e6300d>\u4e2d</color><br/><color=#aa582b>\u7279\u70b9\uff1a</c><color=#e6300d>\u4ece\u5929\u800c\u964d\u5e76\u7a83\u53d6\u4f60\u7684\u690d\u7269</color>",!1,"\u98de\u8d3c\u50f5\u5c38\u6700\u7231\u5192\u9669\u3002\u6bd5\u7adf\uff0c\u5982\u679c\u4f60\u4e0d\u518d\u6d3b\u7740\uff0c\u90a3\u518d\u4f53\u9a8c\u6b21\u6b7b\u4ea1\u53c8\u6709\u4f55\u59a8\u5462?")],[i.pzaZombieEnum.LADDER_ZOMBIE,new s(i.pzaZombieEnum.LADDER_ZOMBIE,"\u68af\u5b50\u50f5\u5c38\u80fd\u722c\u8fc7\u969c\u788d\u7269\u3002","<color=#aa582b>\u97e7\u6027\uff1a</c><color=#e6300d>\u4e2d</color><br/><color=#aa582b>\u68af\u5b50\u97e7\u6027\uff1a</c><color=#e6300d>\u4e2d</color><br/><color=#aa582b>\u901f\u5ea6\uff1a</c><color=#e6300d>\u5feb\uff0c\u800c\u540e\u6162(\u653e\u7f6e\u68af\u5b50\u540e)</color><br/><color=#aa582b>\u5f31\u70b9\uff1a</c><color=#e6300d>\u5927\u55b7\u83c7\u548c\u78c1\u529b\u83c7</color>",!1,"\u8fd9\u67b6\u68af\u5b50\u82b1\u4e86\u4ed6$8.99\u3002")],[i.pzaZombieEnum.CATAPULT_ZOMBIE,new s(i.pzaZombieEnum.CATAPULT_ZOMBIE,"\u6295\u77f3\u8f66\u50f5\u5c38\u64cd\u4f5c\u7740\u91cd\u578b\u673a\u5668\u3002","<color=#aa582b>\u97e7\u6027\uff1a</c><color=#e6300d>\u4e2d</color><br/><color=#aa582b>\u7279\u70b9\uff1a</c><color=#e6300d>\u5bf9\u4f60\u7684\u690d\u7269\u6295\u63b7\u7bee\u7403</color>",!1,"\u6295\u77f3\u8f66\u50f5\u5c38\u53ef\u4ee5\u5229\u7528\u5f39\u5c04\u5668\u6765\u53d1\u5c04\u4efb\u4f55\u4e1c\u897f\uff0c\u4f46\u7bee\u7403\u4f3c\u4e4e\u662f\u7edd\u4f73\u9009\u62e9\u3002")],[i.pzaZombieEnum.GARGANTUAR,new s(i.pzaZombieEnum.GARGANTUAR,"\u5de8\u4eba\u50f5\u5c38\u662f\u4e00\u79cd\u5de8\u578b\u50f5\u5c38","<color=#aa582b>\u97e7\u6027\uff1a</c><color=#e6300d>\u6781\u9ad8</color>",!1,"\u5f53\u5de8\u4eba\u50f5\u5c38\u8d70\u52a8\u7684\u65f6\u5019\uff0c\u5927\u5730\u5728\u9707\u98a4\u3002\u5f53\u4ed6\u60b2\u53f9\u7684\u65f6\u5019\uff0c\u6240\u6709\u7684\u50f5\u5c38\u90fd\u6c89\u5bc2\u4e86\u3002\u4ed6\u662f\u50f5\u5c38\u4eec\u68a6\u60f3\u6210\u4e3a\u7684\u5076\u50cf\u3002\u4e0d\u8fc7\u5462\uff0c\u4ed6\u5230\u73b0\u5728\u8fd8\u6ca1\u4ea4\u5230\u5973\u670b\u53cb\u3002")],[i.pzaZombieEnum.IMP,new s(i.pzaZombieEnum.IMP,"\u5c0f\u6dd8\u6c14\u4eec\u662f\u4e00\u7fa4\u5c0f\u578b\u50f5\u5c38\uff0c\u4ed6\u4eec\u88ab\u5de8\u4eba\u50f5\u5c38\u7528\u6765\u6295\u63b7\u8fdb\u4f60\u7684\u9632\u5fa1\u4f53\u7cfb\u3002","<color=#aa582b>\u97e7\u6027\uff1a</c><color=#e6300d>\u4f4e</color>",!1,"\u5c0f\u6dd8\u6c14\u867d\u7136\u7626\u5c0f\uff0c\u5374\u5f88\u7ed3\u5b9e\u3002\u4ed6\u7cbe\u901a\u50f5\u5c38\u67d4\u9053\uff0c\u50f5\u5c38\u7a7a\u624b\u9053\u548c\u50f5\u5c38\u5173\u8282\u6280\u3002\u53e6\u5916\uff0c\u4ed6\u8fd8\u4f1a\u5439\u53e3\u7434\u3002")],[i.pzaZombieEnum.DR_ZOMBOSS,new s(i.pzaZombieEnum.DR_ZOMBOSS,"\u50f5\u738b\u535a\u58eb\u7edf\u6cbb\u6240\u6709\u7684\u50f5\u5c38","<color=#aa582b>\u97e7\u6027(\u53d7\u50f5\u5c38\u673a\u5668\u4eba\u4fdd\u62a4)\uff1a</c><color=#e6300d>\u6781\u9ad8</color>",!1,"\u50f5\u738b?\u4e54\u6cbb?\u57c3\u5fb7\u52a0\u53ea\u82b1\u4e86\u4e24\u5e74\u5c31\u83b7\u5f97\u4e86\u6b7b\u4ea1\u5b66\u7684\u535a\u58eb\u5b66\u4f4d\u3002\u5f88\u5feb\u5c31\u638c\u63e1\u4e86\u6b7b\u4ea1\u5b66\u7684\u6280\u672f\uff0c\u4ed6\u5236\u9020\u4e86\u4e00\u53ea\u6050\u6016\u7684\u5de8\u578b\u50f5\u5c38\u673a\u5668\u4eba\uff0c\u7740\u624b\u5efa\u7acb\u8d77\u4e00\u4e2a\u72ec\u88c1\u7684\u5730\u65b9\u52bf\u529b\u3002")]]),t.NO_RECOMMEND_PLANT=new Map([[1,new Set([9,10,11,12,13,14,15,16,17,20,25,26,32,34,43,44])],[2,new Set([17,20,25,26,34,36,44])],[3,new Set([9,10,11,12,13,14,15,16,25,26,32,34,43])],[4,new Set([12,34,36])],[5,new Set([9,10,11,12,13,14,15,16,17,20,22,25,26,32,43,44,47])]]),t}();a.pzaGameConfig=h,cc._RF.pop()},{"../Battle/Data/pzaDropType":"pzaDropType","../Battle/Data/pzaPlantEnum":"pzaPlantEnum","../Battle/Data/pzaZombieEnum":"pzaZombieEnum","./pzaUtil":"pzaUtil"}],pzaGameFailView:[function(t,e,a){"use strict";cc._RF.push(e,"67529Lq27tAbLepZ8j8zGaa","pzaGameFailView");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaGameFailView=void 0;var r=t("../../Battle/pzaGameState"),p=t("../../Common/pzaGameCommonPool"),c=t("../../Common/pzaGameManager"),l=t("../../Common/pzaUIManager"),s=t("../../Common/pzaWorldEventManager"),u=t("../../Load/pzaPreLoadManager"),h=cc._decorator,f=h.ccclass,d=h.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.failWord=null,e.mask=null,e.board=null,e}return n(e,t),e.prototype.onEnable=function(){var t=this;this.failWord.active=!0,this.mask.active=!1,this.board.active=!1,this.failWord.stopAllActions(),this.failWord.scale=.01,this.failWord.runAction(cc.sequence(cc.scaleTo(1.2,1),cc.repeat(cc.sequence(cc.moveTo(.05,cc.v2(-5,0)),cc.moveTo(.05,cc.v2()),cc.moveTo(.05,cc.v2(0,-5)),cc.moveTo(.05,cc.v2())),6),cc.delayTime(2),cc.callFunc(function(){t.failWord.active=!1,t.mask.active=!0,t.board.active=!0})))},e.prototype.clickRestart=function(){this.close(),s.pzaWorldEventManager.triggerEvent(s.pzaWorldEventType.GAME_OVER,null),c.pzaGameManager.start(r.pzaGameState.curChapter,r.pzaGameState.curPart)},e.prototype.clickMainView=function(){this.close(),s.pzaWorldEventManager.triggerEvent(s.pzaWorldEventType.GAME_OVER,null),c.pzaGameManager.removeBattleUI(),l.pzaUIManager.baseShowBoardUI(u.pzaResourceUrl.MAIN_VIEW,null)},e.prototype.clickSelectPart=function(){this.close(),s.pzaWorldEventManager.triggerEvent(s.pzaWorldEventType.GAME_OVER,null),c.pzaGameManager.removeBattleUI(),l.pzaUIManager.baseShowPopUI(u.pzaResourceUrl.CHAPTER_SELECT_VIEW,function(){l.pzaUIManager.baseShowBoardUI(u.pzaResourceUrl.MAIN_VIEW,null)})},e.prototype.close=function(){p.pzaGameCommonPool.returnInstant(this.node)},i([d({displayName:"\u5931\u8d25\u6587\u5b57",type:cc.Node})],e.prototype,"failWord",void 0),i([d({displayName:"\u906e\u7f69",type:cc.Node})],e.prototype,"mask",void 0),i([d({displayName:"\u5931\u8d25\u754c\u9762",type:cc.Node})],e.prototype,"board",void 0),i([f],e)}(cc.Component);a.pzaGameFailView=m,cc._RF.pop()},{"../../Battle/pzaGameState":"pzaGameState","../../Common/pzaGameCommonPool":"pzaGameCommonPool","../../Common/pzaGameManager":"pzaGameManager","../../Common/pzaUIManager":"pzaUIManager","../../Common/pzaWorldEventManager":"pzaWorldEventManager","../../Load/pzaPreLoadManager":"pzaPreLoadManager"}],pzaGameManager:[function(t,e,a){"use strict";cc._RF.push(e,"dbef5/qfMpJKpk2vS74YyJq","pzaGameManager"),Object.defineProperty(a,"__esModule",{value:!0}),a.pzaGameManager=void 0;var o=t("../Battle/Data/pzaGuideType"),n=t("../Battle/Data/pzaPlantEnum"),i=t("../Battle/pzaEffectManager"),r=t("../Battle/pzaGameState"),p=t("../Load/pzaBundleObjectPool"),c=t("../Load/pzaPreLoadManager"),l=t("../View/Battle/pzaPlantBeltView"),s=t("../View/Battle/pzaPlantSelectView"),u=t("../View/pzaCommonMask"),h=t("./pzaGameCommonPool"),f=t("./pzaGameConfig"),d=t("./pzaGamePartConfig"),m=t("./pzaNodeManager"),y=t("./pzaUIManager"),z=t("./pzaWorldEventManager"),b=function(){function t(){}return t.start=function(t,e){var a=this;u.pzaCommonMask.showMask(),r.pzaGameState.init(t,e),window.pzaMapManager.init(t,e),window.pzaplantManager.init(),window.pzazombieManager.init(),t<=4&&i.pzaEffectManager.createGroveEffect(),window.pzaplantManager.initFlowerPot();var n=function(o){void 0===o&&(o=!0),1!=t||3!=e&&4!=e||i.pzaEffectManager.createShowGrassEffect(2,null,!0);var n=d.pzaGamePartConfig.getPartDefaultPlant(t,e);window.pzaMapManager.previewMap(function(){a.showBattleUI(c.pzaResourceUrl.PLANT_SELECT_VIEW,function(a){u.pzaCommonMask.hideMask();var o=a&&a.getComponent(s.pzaPlantSelectView);o&&o.init(n,function(){u.pzaCommonMask.showMask(),window.pzaMapManager.cancelPreviewMap(null==n?0:1,function(){1!=t||4!=e?(null!=n&&window.pzaMapManager.initCleanCar(),window.pzaMapManager.initMapTomb(t,e,function(){window.pzaMapManager.fogEnter(function(){null==n&&window.pzaMapManager.initCleanCar(),i.pzaEffectManager.createReadyWord(function(){u.pzaCommonMask.hideMask(),window.pzaMapManager.openBattleUI(),o&&o.initPlant(),r.pzaGameState.gamePause=!1})})})):i.pzaEffectManager.createShowGrassEffect(3,function(){window.pzaMapManager.initCleanCar(),i.pzaEffectManager.createReadyWord(function(){u.pzaCommonMask.hideMask(),window.pzaMapManager.openBattleUI(),o&&o.initPlant(),r.pzaGameState.gamePause=!1})})})})})},o)};if(window.pzaGuideManager.guideStart(n),window.pzaGuideManager.guideType!=o.pzaGuideType.GUIDE_PLANT_1_1)if(window.pzaGuideManager.guideType!=o.pzaGuideType.GUIDE_NEW_PLANT_1_2)if(window.pzaGuideManager.guideType!=o.pzaGuideType.GUIDE_SHOVEL_1_5){if(window.pzaGuideManager.guideType!=o.pzaGuideType.GUIDE_BELT_MODE)return window.pzaGuideManager.guideType==o.pzaGuideType.GUIDE_NINGHT_2_1||window.pzaGuideManager.guideType==o.pzaGuideType.GUIDE_CARD_SLOT_2_2||window.pzaGuideManager.guideType==o.pzaGuideType.GUIDE_CARD_SLOT_2_3||window.pzaGuideManager.guideType==o.pzaGuideType.GUIDE_CARD_SLOT_2_6||window.pzaGuideManager.guideType==o.pzaGuideType.GUIDE_POOL_3_1?(u.pzaCommonMask.hideMask(),void window.pzaGuideManager.guideShow(function(){n(!1)})):void(window.pzaGuideManager.guideType!=o.pzaGuideType.GUIDE_KNOCK_ZOMBIE_2_5?window.pzaGuideManager.guideType!=o.pzaGuideType.GUIDE_SMALL_ZOMBIE_3_5||this.guidePlant35():this.guidePlant25());this.guideBletMode()}else this.guidePlant15();else this.guidePlant12();else this.guidePlant11()},t.guidePlant11=function(){var t=this;window.pzaMapManager.previewMap(function(){u.pzaCommonMask.showMask(),window.pzaMapManager.cancelPreviewMap(1,function(){i.pzaEffectManager.createShowGrassEffect(1,function(){window.pzaMapManager.initCleanCar(),t.showBattleUI(c.pzaResourceUrl.PLANT_SELECT_VIEW,function(t){var e=t&&t.getComponent(s.pzaPlantSelectView),a=d.pzaGamePartConfig.getPartDefaultPlant(1,1);e&&e.init(a),e&&e.initPlant(),u.pzaCommonMask.hideMask(),window.pzaMapManager.openBattleUI(),r.pzaGameState.gamePause=!1,r.pzaGameState.guideSunPause=!0,r.pzaGameState.guideZombiePause=!0,window.pzaGuideManager.guideShow()})})})},!0)},t.guidePlant12=function(){var t=this;i.pzaEffectManager.createShowGrassEffect(1,null,!0),window.pzaMapManager.previewMap(function(){u.pzaCommonMask.showMask(),window.pzaMapManager.cancelPreviewMap(1,function(){i.pzaEffectManager.createShowGrassEffect(2,function(){window.pzaMapManager.initCleanCar(),t.showBattleUI(c.pzaResourceUrl.PLANT_SELECT_VIEW,function(t){var e=t&&t.getComponent(s.pzaPlantSelectView),a=d.pzaGamePartConfig.getPartDefaultPlant(1,2);e&&e.init(a),e&&e.initPlant(),u.pzaCommonMask.hideMask(),window.pzaMapManager.openBattleUI(),r.pzaGameState.gamePause=!1,r.pzaGameState.guideZombiePause=!0,window.pzaGuideManager.guideShow()})})})},!0)},t.guidePlant15=function(){var t=this;r.pzaGameState.gameMode=r.pzaGameMode.BELT,window.pzaplantManager.createPlant(n.pzaPlantEnum.PEA_SHOOTER,6,1,!0),window.pzaplantManager.createPlant(n.pzaPlantEnum.PEA_SHOOTER,7,2,!0),window.pzaplantManager.createPlant(n.pzaPlantEnum.PEA_SHOOTER,5,3,!0),window.pzaMapManager.initMapPos(!1),u.pzaCommonMask.hideMask(),window.pzaGuideManager.guideShow(function(){window.pzaMapManager.openBattleUI(),window.pzaGuideManager.guideStepNext()},function(){u.pzaCommonMask.showMask(),window.pzaMapManager.initCleanCar(),t.showBattleUI(c.pzaResourceUrl.PLANT_BELT_VIEW,function(t){var e=t&&t.getComponent(l.pzaPlantBeltView);e&&e.showView(function(){u.pzaCommonMask.hideMask(),r.pzaGameState.gamePause=!1,window.pzazombieManager.nextWaveTime=2})})})},t.guideBletMode=function(){var t=this;r.pzaGameState.gameMode=r.pzaGameMode.BELT,window.pzaMapManager.previewMap(function(){u.pzaCommonMask.showMask(),window.pzaMapManager.cancelPreviewMap(1,function(){window.pzaMapManager.initMapTomb(r.pzaGameState.curChapter,r.pzaGameState.curPart,function(){window.pzaMapManager.initCleanCar(),t.showBattleUI(c.pzaResourceUrl.PLANT_BELT_VIEW,function(t){var e=t&&t.getComponent(l.pzaPlantBeltView);e&&e.showView(function(){i.pzaEffectManager.createReadyWord(function(){u.pzaCommonMask.hideMask(),window.pzaMapManager.openBattleUI(),r.pzaGameState.gamePause=!1,window.pzazombieManager.nextWaveTime=2})})})})})},!0)},t.guidePlant25=function(){window.pzaMapManager.initMapPos(!1),r.pzaGameState.gameMode=r.pzaGameMode.KNOCK_ZOMBIE,u.pzaCommonMask.hideMask(),window.pzaGuideManager.guideShow(function(){window.pzaMapManager.initCleanCar(),window.pzaMapManager.openBattleUI(),window.pzaMapManager.hideSunUI(),r.pzaGameState.gamePause=!1,window.pzazombieManager.nextWaveTime=2})},t.guidePlant35=function(){var t=this;r.pzaGameState.gameMode=r.pzaGameMode.SMALL_ZOMBIE,u.pzaCommonMask.hideMask(),window.pzaGuideManager.guideShow(function(){window.pzaMapManager.previewMap(function(){u.pzaCommonMask.showMask(),window.pzaMapManager.cancelPreviewMap(1,function(){t.showBattleUI(c.pzaResourceUrl.PLANT_BELT_VIEW,function(t){var e=t&&t.getComponent(l.pzaPlantBeltView);e&&e.showView(function(){window.pzaMapManager.initCleanCar(),i.pzaEffectManager.createReadyWord(function(){u.pzaCommonMask.hideMask(),window.pzaMapManager.openBattleUI(),r.pzaGameState.gamePause=!1,window.pzazombieManager.nextWaveTime=2})})})})},!1)})},t.zombieWin=function(){z.pzaWorldEventManager.triggerEvent(z.pzaWorldEventType.GAME_PAUSE,null),r.pzaGameState.gamePause=!0,window.pzaMapManager.closeBattleUI(),window.pzaMapManager.openDoor(),this.removeBattleUI()},t.showGameFail=function(){y.pzaUIManager.baseShowPopUI(c.pzaResourceUrl.GAME_FAIL_VIEW,null)},t.gameWin=function(){z.pzaWorldEventManager.triggerEvent(z.pzaWorldEventType.GAME_PAUSE,null),r.pzaGameState.gamePause=!0,f.pzaGameConfig.getPartStar(r.pzaGameState.curChapter,r.pzaGameState.curPart)<=0?(z.pzaWorldEventManager.triggerEvent(z.pzaWorldEventType.GAME_OVER,null),this.removeBattleUI(),y.pzaUIManager.baseShowPopUI(c.pzaResourceUrl.CHAPTER_SELECT_VIEW,function(){y.pzaUIManager.baseShowBoardUI(c.pzaResourceUrl.MAIN_VIEW,null)})):y.pzaUIManager.baseShowPopUI(c.pzaResourceUrl.GAME_WIN_VIEW,null)},t.nextPart=function(){z.pzaWorldEventManager.triggerEvent(z.pzaWorldEventType.GAME_OVER,null),this.removeBattleUI();var e=r.pzaGameState.curChapter,a=r.pzaGameState.curPart;(a<10||e<5)&&(a<10?a++:(a=1,e++)),t.start(e,a)},t.showBattleUI=function(t,e){var a=this;this.removeBattleUI();var o=m.pzaNodeManager.getBattleUINode();null!=o&&p.pzaBundleObjectPool.requestInstantByUrl(t,!1,function(t,n){null==t&&null!=n?(a.battleUINode=n,n.setParent(o),e&&e(n)):console.error(t)})},t.removeBattleUI=function(){null!=this.battleUINode&&(h.pzaGameCommonPool.returnInstant(this.battleUINode),this.battleUINode=null)},t.battleUINode=null,t}();a.pzaGameManager=b,cc._RF.pop()},{"../Battle/Data/pzaGuideType":"pzaGuideType","../Battle/Data/pzaPlantEnum":"pzaPlantEnum","../Battle/pzaEffectManager":"pzaEffectManager","../Battle/pzaGameState":"pzaGameState","../Load/pzaBundleObjectPool":"pzaBundleObjectPool","../Load/pzaPreLoadManager":"pzaPreLoadManager","../View/Battle/pzaPlantBeltView":"pzaPlantBeltView","../View/Battle/pzaPlantSelectView":"pzaPlantSelectView","../View/pzaCommonMask":"pzaCommonMask","./pzaGameCommonPool":"pzaGameCommonPool","./pzaGameConfig":"pzaGameConfig","./pzaGamePartConfig":"pzaGamePartConfig","./pzaNodeManager":"pzaNodeManager","./pzaUIManager":"pzaUIManager","./pzaWorldEventManager":"pzaWorldEventManager"}],pzaGamePartConfig:[function(t,e,a){"use strict";cc._RF.push(e,"1da54Pqt3NJaJJrwLTjkbmX","pzaGamePartConfig"),Object.defineProperty(a,"__esModule",{value:!0}),a.pzaWaveConfig=a.pzaGamePartConfig=void 0;var o=t("../Battle/Data/pzaPlantEnum"),n=t("../Battle/Data/pzaZombieEnum"),i=t("./pzaGameConfig"),r=t("./pzaUtil"),p=function(){function t(t,e,a,o,n,i,r,p,c){void 0===i&&(i=1),void 0===r&&(r=0),void 0===p&&(p=0),void 0===c&&(c=0),this.part=null,this.maxWave=0,this.waveZombieDensity=null,this.zombieTypes=null,this.newZombieType=null,this.newZombieWave=0,this.magnification=1,this.tombCount=0,this.tombMinRow=0,this.flowerPotColumn=0,this.minWaterWave=0,this.lastWaterWaveMinColumn=0,this.lastWaterWaveZombie=0,this.minFogColumn=0,this.part=t,this.maxWave=e,this.waveZombieDensity=a,this.zombieTypes=o,0!=n&&(this.newZombieType=n),this.magnification=i,this.tombCount=r,this.tombMinRow=p,this.flowerPotColumn=c}return t.initPartConfig=function(e){var a=this;null!=e&&e.forEach(function(e){if(null!=e){var o=null;null!=e.density&&(o=e.density.split(",")).forEach(function(t,e){o[e]=parseInt(t)});var n=null;null!=e.type&&(n=e.type.split(",")).forEach(function(t,e){n[e]=parseInt(t)});var i=null,r=0;if(null!=e.new){var p=e.new.split(",");null!=p&&(i=parseInt(p[0]),r=parseInt(p[1]))}var c=new t(e.Level,parseInt(e.wave),o,n,i,parseInt(e.multiple),parseInt(e.tombstone),parseInt(e.tombstonemini),parseInt(e.flowerpot));if(c.newZombieWave=r,null!=e.waterexit&&(c.minWaterWave=parseInt(e.waterexit)),null!=e.waterend){var l=e.waterend.split(",");null!=l&&(c.lastWaterWaveMinColumn=l[0],c.lastWaterWaveZombie=l[1])}null!=e.fog&&(c.minFogColumn=parseInt(e.fog)),a.partConfigMap.set(e.Level,c)}})},t.getPartConfig=function(t,e){var a=this.partConfigMap.get(t+"-"+e);return null==a?this.partConfigMap.get("1-11"):a},t.getPartDefaultPlant=function(t,e){var a=t+"-"+e;return this.PartDefaultPlantMap.get(a)},t.prototype.getWaveZombieDensity=function(){return null==this.waveZombieDensity&&this.createZombieDensity(),this.waveZombieDensity},t.prototype.createZombieDensity=function(){this.waveZombieDensity=[];for(var t=1;t<=this.maxWave;t++){var e=Math.floor(Math.floor(.8*(t-1))/2)+1;e=t%10==0?Math.floor(2.5*e):Math.floor(e*this.magnification),this.waveZombieDensity.push(e)}},t.prototype.getRandomWaveZombie=function(t,e){void 0===e&&(e=!0),this.getWaveZombieDensity();var a=[];if(null==this.waveZombieDensity||t-1<0)return[n.pzaZombieEnum.ZOMBIE];var o=this.waveZombieDensity[t-1];if(null==o||o<=1)return[n.pzaZombieEnum.ZOMBIE];if(null!=this.newZombieType&&this.newZombieWave==t&&(a.push(this.newZombieType),o-=i.pzaGameConfig.getZombieLevel(this.newZombieType)),e&&t%10==0){a.push(n.pzaZombieEnum.FLAG_ZOMBIE),o-=i.pzaGameConfig.getZombieLevel(n.pzaZombieEnum.FLAG_ZOMBIE);for(var r=Math.min(Math.floor(o/2),8),p=0;p<r;p++)a.push(n.pzaZombieEnum.ZOMBIE),o-=i.pzaGameConfig.getZombieLevel(n.pzaZombieEnum.ZOMBIE)}for(t==this.maxWave&&t>=10&&this.zombieTypes.forEach(function(t){t!=n.pzaZombieEnum.ZOMBIE&&(a.push(t),o-=i.pzaGameConfig.getZombieLevel(t))});o>0;){var c=this.getRandomZombie(o,t);if(null==c)break;a.push(c),a.length>=50?o-=2*i.pzaGameConfig.getZombieLevel(c):o-=i.pzaGameConfig.getZombieLevel(c)}return a},t.prototype.getRandomZombie=function(t,e){var a=this,o=[],n=[];this.zombieTypes.forEach(function(r){if(null!=r&&!(i.pzaGameConfig.isWaterZombie(r)&&e<a.minWaterWave)){var p=i.pzaGameConfig.getZombieConfig(r);null==p||0==p.refrshWeight||p.refreshLevel>t||p.refrshMinWave>e||(o.push(r),n.push(p.refrshWeight))}});var p=r.pzaUtil.getRandomIndexByWeight(n);return o[p]},t.prototype.getPreviewZombies=function(t){var e=[];if(null==this.zombieTypes||this.zombieTypes.length<=1){for(var a=0;a<t;a++)e.push(n.pzaZombieEnum.ZOMBIE);return e}for(a=0;a<this.zombieTypes.length;a++)e.push(this.zombieTypes[a]);if(e.length>=t)return e;var o=[],p=[];this.zombieTypes.forEach(function(t){if(null!=t){var e=i.pzaGameConfig.getZombieConfig(t);null!=e&&0!=e.refrshWeight&&(o.push(t),p.push(e.refrshWeight))}});var c=e.length;for(a=0;a<t-c;a++){var l=r.pzaUtil.getRandomIndexByWeight(p);e.push(o[l])}return e},t.prototype.getRandomTombZombie=function(){var t=[n.pzaZombieEnum.ZOMBIE,n.pzaZombieEnum.BUCKET_HEAD_ZOMBIE,n.pzaZombieEnum.CONE_HEAD_ZOMBIE],e=[];return t.forEach(function(t){var a=i.pzaGameConfig.getZombieConfig(t);e.push(a.refrshWeight)}),t[r.pzaUtil.getRandomIndexByWeight(e)]},t.prototype.getRandomDiveZombie=function(){var t=[n.pzaZombieEnum.DUCKY_TUBE_ZOMBIE];null!=this.zombieTypes&&(this.zombieTypes.indexOf(n.pzaZombieEnum.DUCKY_TUBE_CONE_ZOMBIE)>=0&&t.push(n.pzaZombieEnum.DUCKY_TUBE_CONE_ZOMBIE),this.zombieTypes.indexOf(n.pzaZombieEnum.DUCKY_TUBE_BUCKET_ZOMBIE)>=0&&t.push(n.pzaZombieEnum.DUCKY_TUBE_BUCKET_ZOMBIE));var e=[];return t.forEach(function(t){var a=i.pzaGameConfig.getZombieConfig(t);e.push(a.refrshWeight)}),t[r.pzaUtil.getRandomIndexByWeight(e)]},t.partConfigMap=new Map,t.PartDefaultPlantMap=new Map([["1-1",[o.pzaPlantEnum.PEA_SHOOTER]],["1-2",[o.pzaPlantEnum.PEA_SHOOTER,o.pzaPlantEnum.SUN_FLOWER]],["1-3",[o.pzaPlantEnum.PEA_SHOOTER,o.pzaPlantEnum.SUN_FLOWER,o.pzaPlantEnum.CHERRY_BOMB]],["1-4",[o.pzaPlantEnum.PEA_SHOOTER,o.pzaPlantEnum.SUN_FLOWER,o.pzaPlantEnum.CHERRY_BOMB,o.pzaPlantEnum.WALL_NUT]],["1-6",[o.pzaPlantEnum.PEA_SHOOTER,o.pzaPlantEnum.SUN_FLOWER,o.pzaPlantEnum.CHERRY_BOMB,o.pzaPlantEnum.WALL_NUT,o.pzaPlantEnum.POTATO_MINE]],["2-5",[o.pzaPlantEnum.POTATO_MINE,o.pzaPlantEnum.GRAVE_BUSTER,o.pzaPlantEnum.CHERRY_BOMB]]]),t}();a.pzaGamePartConfig=p;var c=function(){function t(){}return t.getWaveRandomTime=function(){return r.pzaUtil.getRandomFloatNum(this.minWaveRandomTime,this.maxWaveRandomTime)},t.getPreRefreshHp=function(){return r.pzaUtil.getRandomFloatNum(this.preRefreshMinHp,this.preRefreshMaxHp)},t.initBaseWaveConfig=function(t){var e=t&&t[0];null!=e&&(this.firstWaveTime=parseFloat(e.first),this.firstWaveTime=1,this.initSunCount=parseInt(e.lnitial),this.minRefreshTime=parseFloat(e.interval),this.minWaveRandomTime=parseFloat(e.randommini),this.maxWaveRandomTime=parseFloat(e.randommax),this.preRefreshMinHp=parseFloat(e.advancemini),this.preRefreshMaxHp=parseFloat(e.advancemax),this.preRefreshTime=parseFloat(e.advance),this.activeRedTipTime=parseFloat(e.delay),this.redTipNextWaveTime=parseFloat(e.cd))},t.firstWaveTime=18,t.minRefreshTime=6,t.minWaveRandomTime=25,t.maxWaveRandomTime=31,t.preRefreshMinHp=.5,t.preRefreshMaxHp=.67,t.preRefreshTime=2,t.activeRedTipTime=45,t.redTipNextWaveTime=7.2,t.initSunCount=50,t}();a.pzaWaveConfig=c,cc._RF.pop()},{"../Battle/Data/pzaPlantEnum":"pzaPlantEnum","../Battle/Data/pzaZombieEnum":"pzaZombieEnum","./pzaGameConfig":"pzaGameConfig","./pzaUtil":"pzaUtil"}],pzaGameState:[function(t,e,a){"use strict";cc._RF.push(e,"ec118RIzbVBC4zMJO2TojyG","pzaGameState"),Object.defineProperty(a,"__esModule",{value:!0}),a.pzaGameState=a.pzaGameMode=a.pzaGameTimeType=void 0;var o,n,i=t("../Common/pzaGameConfig"),r=t("../Common/pzaGamePartConfig"),p=t("../Common/pzaLocalData");(function(t){t[t.DAY=1]="DAY",t[t.NIGHT=2]="NIGHT"})(o=a.pzaGameTimeType||(a.pzaGameTimeType={})),function(t){t[t.NORMAL=0]="NORMAL",t[t.BELT=1]="BELT",t[t.KNOCK_ZOMBIE=2]="KNOCK_ZOMBIE",t[t.SMALL_ZOMBIE=3]="SMALL_ZOMBIE"}(n=a.pzaGameMode||(a.pzaGameMode={}));var c=function(){function t(){}return t.init=function(t,e){this.curChapter=t,this.curPart=e,this.gamePause=!0,this.guideSunPause=!1,this.guideZombiePause=!1,this.curPlant=null,this.selectShovel=!1,this.zombieWinShowMap=!1,this.zombieWinShowUI=!1,this.envPlantTip.clear(),this.pondPlantTip.clear(),this.specialPlantTip.clear(),this.tombTip=!1,this.cantPlantTip=!1,this.sunLightCount=r.pzaWaveConfig.initSunCount,this.gameMode=n.NORMAL,this.lossCar=!1,this.lossPlantCount=0,this.showSunUI=!0,this.grayPlantWarning=!1,this.partStar=i.pzaGameConfig.getPartStar(t,e),1==t||3==t?this.gameTimeType=o.DAY:2!=t&&4!=t||(this.gameTimeType=o.NIGHT),this.newZombie=null;var a=r.pzaGamePartConfig.getPartConfig(t,e);null!=a&&null!=a.newZombieType&&p.pzaLocalData.data.unlockZombies.indexOf(a.newZombieType)<0&&(this.newZombie=a.newZombieType)},t.curChapter=1,t.curPart=1,t.gamePause=!0,t.guideSunPause=!1,t.guideZombiePause=!1,t.curPlant=null,t.selectShovel=!1,t.sunLightCount=50,t.sunMoveUIPos=null,t.coinMoveUIPos=null,t.gameTimeType=o.DAY,t.gameMode=n.NORMAL,t.newZombie=null,t.zombieWinShowMap=!1,t.zombieWinShowUI=!1,t.partStar=3,t.lossCar=!1,t.lossPlantCount=0,t.showSunUI=!0,t.envPlantTip=new Set,t.pondPlantTip=new Set,t.specialPlantTip=new Set,t.tombTip=!1,t.cantPlantTip=!1,t.grayPlantWarning=!1,t}();a.pzaGameState=c,cc._RF.pop()},{"../Common/pzaGameConfig":"pzaGameConfig","../Common/pzaGamePartConfig":"pzaGamePartConfig","../Common/pzaLocalData":"pzaLocalData"}],pzaGameTime:[function(t,e,a){"use strict";cc._RF.push(e,"6596eId2FRLVqFNHXeYVQ+4","pzaGameTime");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaGameTime=void 0;var r=t("./pzaLocalData"),p=cc._decorator,c=p.ccclass,l=(p.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.update=function(){r.pzaLocalData.dirtySet.size>0&&r.pzaLocalData.localSvaeData()},i([c],e)}(cc.Component));a.pzaGameTime=l,cc._RF.pop()},{"./pzaLocalData":"pzaLocalData"}],pzaGameTouch:[function(t,e,a){"use strict";cc._RF.push(e,"ac5c4atzNFKvqhf2EX+LIiv","pzaGameTouch");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaGameTouch=void 0;var r=cc._decorator,p=r.ccclass,c=(r.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.onEnable=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.touch,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.touch,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.touch,this),this.node.on(cc.Node.EventType.TOUCH_END,this.touch,this),this.node._touchListener.setSwallowTouches(!1)},e.prototype.onDisable=function(){this.node.off(cc.Node.EventType.TOUCH_START,this.touch,this),this.node.off(cc.Node.EventType.TOUCH_MOVE,this.touch,this),this.node.off(cc.Node.EventType.TOUCH_CANCEL,this.touch,this),this.node.off(cc.Node.EventType.TOUCH_END,this.touch,this)},e.prototype.touch=function(t){var e=t&&t.getLocation();if(null!=e){var a=this.node.convertToNodeSpaceAR(e);window.pzaplantManager.AllSunLight.forEach(function(t){null!=t&&(Math.abs(t.node.x-a.x)>50||Math.abs(t.node.y-a.y)>50||t.clickSun())})}},i([p],e)}(cc.Component));a.pzaGameTouch=c,cc._RF.pop()},{}],pzaGameWinView:[function(t,e,a){"use strict";cc._RF.push(e,"f02d8BZIw9Bu48fazOB3R6s","pzaGameWinView");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaGameWinView=void 0;var r=t("../../Battle/Data/pzaGuideType"),p=t("../../Battle/pzaGameState"),c=t("../../Common/pzaGameCommonPool"),l=t("../../Common/pzaGameManager"),s=t("../../Common/pzaLocalData"),u=t("../../Common/pzaSpineController"),h=t("../../Common/pzaUIManager"),f=t("../../Common/pzaWorldEventManager"),d=t("../../Load/pzaPreLoadManager"),m=cc._decorator,y=m.ccclass,z=m.property,b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stars=[],e.mainViewBtn=null,e.nextBtn=null,e.nextTxt=null,e}return n(e,t),e.prototype.onEnable=function(){var t=this;this.stars.forEach(function(t){null!=t&&(t.node.active=!1)});var e=p.pzaGameState.partStar;e>0&&this.showStarAni(0,function(){e>1&&t.showStarAni(1,function(){e>2&&t.showStarAni(2,null)})}),s.pzaLocalData.data.curGuideType==r.pzaGuideType.GUIDE_SHOP_3_4||s.pzaLocalData.data.curGuideType==r.pzaGuideType.GUIDE_SHOP_4_4||s.pzaLocalData.data.curGuideType==r.pzaGuideType.GUIDE_SHOP_5_1?(this.mainViewBtn.active=!1,this.nextBtn.x=0,this.nextTxt.string="\u7ee7\u7eed"):(this.mainViewBtn.active=!0,this.nextBtn.x=211,this.nextTxt.string="\u4e0b\u4e00\u5173")},e.prototype.showStarAni=function(t,e){var a=this.stars[t];null!=a?(a.node.active=!0,a.playAnimation("idle",!1,null,e)):e&&e()},e.prototype.clickMainView=function(){this.close(),f.pzaWorldEventManager.triggerEvent(f.pzaWorldEventType.GAME_OVER,null),l.pzaGameManager.removeBattleUI(),h.pzaUIManager.baseShowBoardUI(d.pzaResourceUrl.MAIN_VIEW,null)},e.prototype.clickNext=function(){this.close(),f.pzaWorldEventManager.triggerEvent(f.pzaWorldEventType.GAME_OVER,null),l.pzaGameManager.removeBattleUI(),s.pzaLocalData.data.curGuideType!=r.pzaGuideType.GUIDE_SHOP_3_4&&s.pzaLocalData.data.curGuideType!=r.pzaGuideType.GUIDE_SHOP_4_4&&s.pzaLocalData.data.curGuideType!=r.pzaGuideType.GUIDE_SHOP_5_1?h.pzaUIManager.baseShowPopUI(d.pzaResourceUrl.CHAPTER_SELECT_VIEW,function(){h.pzaUIManager.baseShowBoardUI(d.pzaResourceUrl.MAIN_VIEW,null)}):h.pzaUIManager.baseShowPopUI(d.pzaResourceUrl.SHOP_VIEW,function(){h.pzaUIManager.baseShowBoardUI(d.pzaResourceUrl.MAIN_VIEW,null)})},e.prototype.close=function(){c.pzaGameCommonPool.returnInstant(this.node)},i([z({displayName:"\u661f\u661f",type:[u.pzaSpineController]})],e.prototype,"stars",void 0),i([z({displayName:"\u4e3b\u83dc\u5355\u6309\u94ae",type:cc.Node})],e.prototype,"mainViewBtn",void 0),i([z({displayName:"\u4e0b\u4e00\u5173\u6309\u94ae",type:cc.Node})],e.prototype,"nextBtn",void 0),i([z({displayName:"\u4e0b\u4e00\u5173\u6587\u6848",type:cc.Label})],e.prototype,"nextTxt",void 0),i([y],e)}(cc.Component);a.pzaGameWinView=b,cc._RF.pop()},{"../../Battle/Data/pzaGuideType":"pzaGuideType","../../Battle/pzaGameState":"pzaGameState","../../Common/pzaGameCommonPool":"pzaGameCommonPool","../../Common/pzaGameManager":"pzaGameManager","../../Common/pzaLocalData":"pzaLocalData","../../Common/pzaSpineController":"pzaSpineController","../../Common/pzaUIManager":"pzaUIManager","../../Common/pzaWorldEventManager":"pzaWorldEventManager","../../Load/pzaPreLoadManager":"pzaPreLoadManager"}],pzaGargantuar:[function(t,e,a){"use strict";cc._RF.push(e,"48badpbNY1B5Ll+3N5c+E3c","pzaGargantuar");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaGargantuar=void 0;var r=t("../../Common/pzaGameConfig"),p=t("../Data/pzaBaseData"),c=t("../Data/pzaBuffData"),l=t("../Data/pzaZombieEnum"),s=t("../Plant/pzaAttackType"),u=t("../pzaGameState"),h=t("./pzaBaseZombie"),f=t("./pzaZombieState"),d=cc._decorator,m=d.ccclass,y=d.property,z=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.throwNode=null,e.throwImping=!1,e}return n(e,t),e.prototype.logicUpdate=function(t){if(null!=this.baseData&&null!=this.baseData.zombieData&&!this.baseData.isDead){if(this.baseData.zombieData.needRefreshEquip)return this.baseData.zombieData.needRefreshEquip=!1,void this.refreshHurtState(!1);if(!this.hypnosisState&&this.baseData.zombieData.hypnosis&&this.beHypnosis(),this.updateRoleBuff(t),this.refreshFrostState(!1),this.animation.flashUpdate(t),this.equipAnimation&&this.equipAnimation.flashUpdate(t),!this.baseData.isBeControlled()&&(this.lastBePasueControled&&(this.lastBePasueControled=!1,this.resumeSelf()),!this.throwImping))if(-1==this.changeTargetRow){var e=this.findTarget();null==e||e.isDead?this.updateMove(t):this.attack(t,e)}else this.changeRowMove(t)}},e.prototype.attack=function(t,e){var a=this;if(!(this.baseData.zombieData.atkInterval>0)){var o=this.baseData.buffData.releaseBuff(c.pzaBuffType.FROST);this.zombieState=f.pzaZombieState.EAT_ATK,this.baseData.zombieData.atkInterval=1,this.animation.playAnimation(this.aniName[this.zombieState-1],!1,function(){a.baseData.zombieData.atkInterval=0,a.damage(e)},function(){a.damage(e)},null!=o?o.buffValue:1)}},e.prototype.damage=function(t){var e=this;if(null!=t&&null!=this.baseData&&null!=this.baseData.zombieData){var a=""+t.xIndex+t.yIndex,o=window.pzaplantManager.pumpkinDataMap.get(a);if(null!=o){var n=window.pzaplantManager.getPlantByData(o);n&&n.hurt(this.baseData.atk,this.baseData,s.pzaAttackType.BANG)}var i=window.pzaplantManager.plantDataMap.get(a);if(null!=i){var r=window.pzaplantManager.getPlantByData(i);r&&r.hurt(this.baseData.atk,this.baseData,s.pzaAttackType.BANG)}var p=window.pzaplantManager.plantEnvDataMap.get(a);if(null!=p){var c=window.pzaplantManager.getPlantByData(p);c&&c.hurt(this.baseData.atk,this.baseData,s.pzaAttackType.BANG)}window.pzazombieManager.hypnoZombieMap.forEach(function(a,o){null!=o&&o.xIndex==t.xIndex&&o.yIndex==t.yIndex&&a.hurt(e.baseData.atk,e.baseData,s.pzaAttackType.BANG)})}},e.prototype.hurt=function(t,e,a){if(void 0===a&&(a=s.pzaAttackType.FLOOR_ATK),null!=this.baseData&&!this.baseData.isDead){var o=this.baseData.hp/this.baseData.maxHp;if(a==s.pzaAttackType.CLEAN_CAR)return this.baseData.zombieDie(),void this.flaserDeath();if(a==s.pzaAttackType.BOOM&&this.baseData.hp<=t)return this.baseData.zombieDie(),void this.death(!0);if(this.baseData.hurtZombie(t),this.baseData.isDead||this.baseData.hp<=0)this.death(!0);else{var n=this.baseData.hp/this.baseData.maxHp;o>.5&&n<=.5&&this.throwImp(),this.refreshHurtState(!1),this.refreshFrostState(!0),this.animation.flash(),this.equipAnimation&&this.equipAnimation.flash()}}},e.prototype.throwImp=function(){var t=this,e=r.pzaGameConfig.getXInterval(u.pzaGameState.curChapter,4)/2,a=r.pzaGameConfig.getBlockLogicPos(u.pzaGameState.curChapter,4,this.baseData.yIndex,e,0);if(!(null!=a&&null!=this.baseData.logicPos&&this.baseData.logicPos.x<a.x)){var o=this.baseData.buffData.releaseBuff(c.pzaBuffType.FROST);this.throwImping=!0,this.animation.playAnimation(this.aniName[this.zombieState-1],!1,function(){t.createImp(),t.playMoveAnimation(),t.throwImping=!1},function(){t.createImp()},null!=o?o.buffValue:1)}},e.prototype.createImp=function(){var t=r.pzaGameConfig.getZombieConfig(l.pzaZombieEnum.IMP),e=new p.pzaBaseData(null,l.pzaZombieEnum.IMP);e.hp=e.maxHp=t.hp,e.atk=t.atk,e.zombieData.equipHp=e.zombieData.maxEquipHp=t.equipHp,e.zombieData.direction=-1,e.zombieData.initMSpd=e.zombieData.moveSpd=r.pzaGameConfig.getBlockWidth(u.pzaGameState.curChapter)/t.speed,e.zombieData.equipType=t.equipType,e.zombieData.toolType=t.toolType,e.xIndex=this.baseData.xIndex,e.yIndex=this.baseData.yIndex;var a=this.throwNode.convertToWorldSpaceAR(cc.v2()),o=this.node.parent.convertToNodeSpaceAR(a);e.logicPos=o,window.pzazombieManager.createZombie(e,!1)},i([y({displayName:"\u5c0f\u9b3c\u51fa\u751f\u70b9",type:cc.Node})],e.prototype,"throwNode",void 0),i([m],e)}(h.pzaBaseZombie);a.pzaGargantuar=z,cc._RF.pop()},{"../../Common/pzaGameConfig":"pzaGameConfig","../Data/pzaBaseData":"pzaBaseData","../Data/pzaBuffData":"pzaBuffData","../Data/pzaZombieEnum":"pzaZombieEnum","../Plant/pzaAttackType":"pzaAttackType","../pzaGameState":"pzaGameState","./pzaBaseZombie":"pzaBaseZombie","./pzaZombieState":"pzaZombieState"}],pzaGarlic:[function(t,e,a){"use strict";cc._RF.push(e,"794ccTUQuVEDYoMQO0xXY3e","pzaGarlic");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaGarlic=void 0;var r=t("../Data/pzaZombieEnum"),p=t("./pzaAttackType"),c=t("./pzaBasePlant"),l=cc._decorator,s=l.ccclass,u=(l.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.bindData=function(e){t.prototype.bindData.call(this,e),this.animation.playAnimation("daiji",!0)},e.prototype.hurt=function(t,e,a){if(void 0===a&&(a=null),null!=this.baseData&&!this.baseData.isDead){if(a==p.pzaAttackType.ROLLING||a==p.pzaAttackType.BOOM)return window.pzaplantManager.removePlant(this.baseData),void this.death(e);if(null!=e&&null!=e.zombieData&&null==a)switch(e.zombieData.zombieType){case r.pzaZombieEnum.FOOTBALL_ZOMBIE:case r.pzaZombieEnum.DANCING_ZOMBIE:case r.pzaZombieEnum.BACKUP_DANCER:t=18;break;case r.pzaZombieEnum.YETI_ZOMBIE:t=24;break;case r.pzaZombieEnum.DIGGER_ZOMBIE:t=28;break;case r.pzaZombieEnum.NEWSPAPER_ZOMBIE:case r.pzaZombieEnum.LADDER_ZOMBIE:t=32;break;case r.pzaZombieEnum.ZOMBIE_BOBSLED_TEAM:t=40;break;case r.pzaZombieEnum.JACK_ZOMBIE:t=44;break;case r.pzaZombieEnum.IMP:t=48;break;case r.pzaZombieEnum.POLEVAULTING_ZOMBIE:t=56;break;case r.pzaZombieEnum.SNORKEL_ZOMBIE:t=72;break;default:t=20}this.baseData.hurtPlanet(t),(this.baseData.isDead||this.baseData.hp<=0)&&(window.pzaplantManager.removePlant(this.baseData),this.death(e))}},i([s],e)}(c.pzaBasePlant));a.pzaGarlic=u,cc._RF.pop()},{"../Data/pzaZombieEnum":"pzaZombieEnum","./pzaAttackType":"pzaAttackType","./pzaBasePlant":"pzaBasePlant"}],pzaGdyxIcon:[function(t,e,a){"use strict";cc._RF.push(e,"0ec51qLWwRBsKE3t3v0v3k9","pzaGdyxIcon");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=t("./pzaChannel"),p=cc._decorator,c=p.ccclass,l=p.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ball=null,e.txt=null,e.pic=null,e.appId=null,e.adList=null,e.curId=0,e}return n(e,t),e.prototype.onLoad=function(){var t=this;this.node.on(cc.Node.EventType.TOUCH_END,function(){r.pzaChannel.instance().jumpTo(t.appId),t.ball.active=!1})},e.prototype.show=function(t,e){var a=this;this.node.active=!0,this.node.parent=t,this.node.setPosition(e),hzzxsdk.getRecommedAdList(!1,0,0).then(function(t){console.log("\u63a8\u8350\u5217\u8868\u5e7f\u544a\uff1a",t),!t||t.length<=0||(a.adList=t,a.showOneIcon(),a.schedule(a.showOneIcon,3,cc.macro.REPEAT_FOREVER))})},e.prototype.showOneIcon=function(){var t=this,e=this.adList[this.curId];if(e||(this.curId=0,e=this.adList[this.curId])){this.shake(),this.appId=e.appid;var a=e.image;if(a){var o=".png";-1!=a.indexOf(".jpg")&&(o=".jpg"),cc.assetManager.loadRemote(a,{ext:o},function(a,o){if(a)console.log("err==",a);else{var n=new cc.SpriteFrame(o);t.pic.spriteFrame=n,t.txt.string=e.title||""}}),this.curId++,this.curId>=this.adList.length&&(this.curId=0)}}},e.prototype.shake=function(){cc.tween(this.node).repeat(5,cc.tween().to(.05,{angle:10}).to(.05,{angle:0}).to(.05,{angle:-10}).to(.05,{angle:0})).start()},i([l(cc.Node)],e.prototype,"ball",void 0),i([l(cc.Label)],e.prototype,"txt",void 0),i([l(cc.Sprite)],e.prototype,"pic",void 0),i([c],e)}(cc.Component);a.default=s,cc._RF.pop()},{"./pzaChannel":"pzaChannel"}],pzaGdyxItem:[function(t,e,a){"use strict";cc._RF.push(e,"fc0a6pFUMNChYfi/kNAhTFt","pzaGdyxItem");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=t("./pzaChannel"),p=cc._decorator,c=p.ccclass,l=p.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.gdyx_img=null,e.appId=null,e.page=null,e}return n(e,t),e.prototype.onLoad=function(){this.node.on(cc.Node.EventType.TOUCH_END,this.on_tiaozhuan,this)},e.prototype.on_tiaozhuan=function(){r.pzaChannel.instance().jumpTo(this.appId)},e.prototype.init=function(t,e,a,o,n){var i=this;this.appId=o,this.page=n;var r=".png";-1!=t.indexOf(".jpg")&&(r=".jpg"),cc.assetManager.loadRemote(t,{ext:r},function(t,e){if(t)console.log("err==",t);else{var a=new cc.SpriteFrame(e);i.gdyx_img.getComponent(cc.Sprite).spriteFrame=a}})},i([l(cc.Node)],e.prototype,"gdyx_img",void 0),i([c],e)}(cc.Component);a.default=s,cc._RF.pop()},{"./pzaChannel":"pzaChannel"}],pzaGraveBuster:[function(t,e,a){"use strict";cc._RF.push(e,"88b4f8lc7lKtpSRmJt/bXt1","pzaGraveBuster");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaGraveBuster=void 0;var r=t("../Data/pzaDropType"),p=t("../pzaEffectManager"),c=t("../pzaGameState"),l=t("./pzaBasePlant"),s=cc._decorator,u=s.ccclass,h=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.swallTime=0,e}return n(e,t),e.prototype.bindData=function(e){var a=this;t.prototype.bindData.call(this,e),this.swallTime=0,this.animation.playAnimation("idle1",!1,function(){a.animation.playAnimation("idle2",!0)}),this.atkInterval=4.5},e.prototype.logicUpdate=function(t){null==this.baseData||this.baseData.isDead||(this.swallTime+=t,this.swallTime>=this.atkInterval?this.swallowEnd():null!=this.baseData.logicPos&&(this.baseData.logicPos.y-=t*(35/this.atkInterval)))},e.prototype.logicLateUpdate=function(){t.prototype.logicLateUpdate.call(this),null!=this.baseData&&null!=this.baseData.logicPos&&this.node.setPosition(this.baseData.logicPos)},e.prototype.swallowEnd=function(){window.pzaplantManager.removePlant(this.baseData),this.death(),window.pzaMapManager.removeTomb(this.baseData.xIndex,this.baseData.yIndex),p.pzaEffectManager.createDirtEffect("idle2",this.baseData.logicPos,null),2!=c.pzaGameState.curChapter||5!=c.pzaGameState.curPart&&10!=c.pzaGameState.curPart||(Math.random()<=.2?p.pzaEffectManager.createDropCoin(r.pzaDropType.GOLD_COIN,this.baseData.logicPos):p.pzaEffectManager.createDropCoin(r.pzaDropType.SILVER_COIN,this.baseData.logicPos))},i([u],e)}(l.pzaBasePlant));a.pzaGraveBuster=h,cc._RF.pop()},{"../Data/pzaDropType":"pzaDropType","../pzaEffectManager":"pzaEffectManager","../pzaGameState":"pzaGameState","./pzaBasePlant":"pzaBasePlant"}],pzaGroupEnum:[function(t,e,a){"use strict";cc._RF.push(e,"3426cg49eVIiYOL6XQvZ3G4","pzaGroupEnum"),Object.defineProperty(a,"__esModule",{value:!0}),a.pzaGroupEnum=void 0,function(t){t.PLANT_BULLET="PlantBullet",t.ZOMBIE="Zombie",t.TORCHWOOD="TorchWood",t.PLANT="Plant",t.BOWLING="Bowling",t.WALL="Wall"}(a.pzaGroupEnum||(a.pzaGroupEnum={})),cc._RF.pop()},{}],pzaGroveEffect:[function(t,e,a){"use strict";cc._RF.push(e,"ca9a1YXYU5Lq6K1D3L5mq+/","pzaGroveEffect");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaGroveEffect=void 0;var r=t("../../Common/pzaBaseComponent"),p=t("../../Common/pzaSpineController"),c=t("../../Common/pzaWorldEventManager"),l=t("../pzaGameState"),s=cc._decorator,u=s.ccclass,h=s.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.groveAnis=[],e}return n(e,t),e.prototype.onEnable=function(){t.prototype.onEnable.call(this);var e="skin1";2!=l.pzaGameState.curChapter&&4!=l.pzaGameState.curChapter||(e="skin2"),this.groveAnis.forEach(function(t){null!=t&&(t.setAnimationSkin(e),t&&t.playAnimation("idle2",!0))}),c.pzaWorldEventManager.addListener(c.pzaWorldEventType.GROVE_SHAKE,this.groveShake,this)},e.prototype.onDisable=function(){t.prototype.onDisable.call(this),c.pzaWorldEventManager.removeListener(c.pzaWorldEventType.GROVE_SHAKE,this.groveShake,this)},e.prototype.groveShake=function(t){t>=5&&(t=4);var e=this.groveAnis[t];e&&e.playAnimation("idle1",!1,function(){e&&e.playAnimation("idle2",!0)})},e.prototype.pauseSelf=function(){this.groveAnis.forEach(function(t){t&&t.pauseAnimation()})},e.prototype.resumeSelf=function(){this.groveAnis.forEach(function(t){t&&t.resumeAnimation()})},i([h({displayName:"\u6811\u6797\u52a8\u753b",type:[p.pzaSpineController]})],e.prototype,"groveAnis",void 0),i([u],e)}(r.pzaBaseComponent);a.pzaGroveEffect=f,cc._RF.pop()},{"../../Common/pzaBaseComponent":"pzaBaseComponent","../../Common/pzaSpineController":"pzaSpineController","../../Common/pzaWorldEventManager":"pzaWorldEventManager","../pzaGameState":"pzaGameState"}],pzaGuideDialogView:[function(t,e,a){"use strict";cc._RF.push(e,"b41ebcZIqNOl6hK3wENh5Vn","pzaGuideDialogView");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaGuideDialogView=void 0;var r=t("../Common/pzaGameCommonPool"),p=t("../Common/pzaSpineController"),c=cc._decorator,l=c.ccclass,s=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bgButton=null,e.dialogNode=null,e.word=null,e.continueNode=null,e.selectBoard=null,e.selectTittle=null,e.selectTxt=null,e.daveAni=null,e.words=null,e.confirmWords=null,e.cancelWords=null,e.dialogEndCall=null,e.firstClickCall=null,e.lastDialogCall=null,e.confirmCall=null,e.cancelCall=null,e.canContinue=!1,e}return n(e,t),e.prototype.onEnable=function(){this.bgButton.on(cc.Node.EventType.TOUCH_START,this.clickNext,this)},e.prototype.onDisable=function(){this.bgButton.off(cc.Node.EventType.TOUCH_START,this.clickNext,this)},e.prototype.showDialog=function(t,e,a,o){void 0===a&&(a=null),this.words=t,this.continueNode.active=!0,this.selectBoard.active=!1,this.dialogNode.active=!1,this.canContinue=!1,this.dialogEndCall=e,this.firstClickCall=a,this.lastDialogCall=o,this.enterAnimation()},e.prototype.showSelectDialog=function(t,e,a,o,n,i,r,p,c){var l=this;void 0===c&&(c=null),this.words=t,this.continueNode.active=!0,this.selectBoard.active=!1,this.dialogNode.active=!1,this.confirmWords=n,this.cancelWords=r,this.dialogEndCall=p,this.lastDialogCall=function(){l.showSelectBoard(e,a,o,i)},this.firstClickCall=c,this.enterAnimation()},e.prototype.showSelectBoard=function(t,e,a,o){this.continueNode.active=!1,this.selectBoard.active=!0,this.selectTittle.string=t,this.selectTxt.string=e,this.confirmCall=a,this.cancelCall=o},e.prototype.showNextWord=function(){var t=this;if(null!=this.words){var e=this.words.shift();null!=e?(this.word.string=e,"\u563f\uff0c\u62ff\u597d\u8fd9\u4e2a\u575a\u679c\uff01"==e?this.daveAni.playAnimation("2alk3",!1,function(){t.daveAni.playAnimation("2idle1",!0)}):this.daveAni.playAnimation("1talk3",!1,function(){t.daveAni.playAnimation("1idle1",!0)}),null!=this.lastDialogCall&&this.words.length<=0&&(this.lastDialogCall(),this.lastDialogCall=null)):this.outAnimation()}else this.outAnimation()},e.prototype.enterAnimation=function(){var t=this;this.daveAni.playAnimation("1enter1",!1,function(){t.dialogNode.active=!0,t.canContinue=!0,t.showNextWord()})},e.prototype.outAnimation=function(){var t=this;this.dialogNode.active=!1,this.canContinue=!1,this.daveAni.playAnimation("leave",!1,function(){t.close(),t.dialogEndCall&&t.dialogEndCall()})},e.prototype.clickNext=function(){this.canContinue&&(this.showNextWord(),this.firstClickCall&&this.firstClickCall(),this.firstClickCall=null)},e.prototype.clickConfirm=function(){this.confirmCall&&this.confirmCall(),this.selectBoard.active=!1,this.words=this.confirmWords,this.showNextWord()},e.prototype.clickCancel=function(){this.cancelCall&&this.cancelCall(),this.selectBoard.active=!1,this.words=this.cancelWords,this.showNextWord()},e.prototype.close=function(){r.pzaGameCommonPool.returnInstant(this.node)},i([s({displayName:"\u80cc\u666f\u6309\u94ae",type:cc.Node})],e.prototype,"bgButton",void 0),i([s({displayName:"\u5bf9\u8bdd\u6846\u8282\u70b9",type:cc.Node})],e.prototype,"dialogNode",void 0),i([s({displayName:"\u6587\u5b57",type:cc.Label})],e.prototype,"word",void 0),i([s({displayName:"\u7ee7\u7eed",type:cc.Node})],e.prototype,"continueNode",void 0),i([s({displayName:"\u9009\u62e9\u5bf9\u8bdd\u6846\u8282\u70b9",type:cc.Node})],e.prototype,"selectBoard",void 0),i([s({displayName:"\u9009\u62e9\u6807\u9898",type:cc.Label})],e.prototype,"selectTittle",void 0),i([s({displayName:"\u9009\u62e9\u6587\u672c",type:cc.Label})],e.prototype,"selectTxt",void 0),i([s({displayName:"\u6234\u592b\u52a8\u753b",type:p.pzaSpineController})],e.prototype,"daveAni",void 0),i([l],e)}(cc.Component);a.pzaGuideDialogView=u,cc._RF.pop()},{"../Common/pzaGameCommonPool":"pzaGameCommonPool","../Common/pzaSpineController":"pzaSpineController"}],pzaGuideManager:[function(t,e,a){"use strict";cc._RF.push(e,"769a2uE36pNHoz5+DpNycx5","pzaGuideManager");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaGuideManager=void 0;var r=t("../Battle/Data/pzaGuideType"),p=t("../Battle/Data/pzaPlantEnum"),c=t("../Battle/pzaGameState"),l=t("../Load/pzaPreLoadManager"),s=t("../View/pzaGuideDialogView"),u=t("./pzaLocalData"),h=t("./pzaTipManager"),f=t("./pzaUIManager"),d=cc._decorator,m=d.ccclass,y=(d.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.guideType=null,e.guideStep=0,e.autoHideTime=0,e.autoNextGuide=!1,e.guidePlant=null,e.triggerExtraGuide=!1,e.guideEndCall=null,e}return n(e,t),e.prototype.onLoad=function(){window.pzaGuideManager=this},e.prototype.update=function(t){c.pzaGameState.gamePause||this.autoHideTime>0&&(this.autoHideTime-=t,this.autoHideTime<=0&&(this.autoNextGuide?(this.autoNextGuide=!1,this.guideStepNext()):h.pzaTipManager.hideGuideTip()))},e.prototype.guideStart=function(t){if(this.guideType=null,this.guideStep=0,this.guidePlant=null,this.triggerExtraGuide=!1,this.autoHideTime=0,this.autoNextGuide=!1,this.guideEndCall=null,1==c.pzaGameState.curChapter){if(1==c.pzaGameState.curPart)return this.guideType=r.pzaGuideType.GUIDE_PLANT_1_1,void(c.pzaGameState.sunLightCount=150);if(2==c.pzaGameState.curPart)return this.guideType=r.pzaGuideType.GUIDE_NEW_PLANT_1_2,void(this.guidePlant=p.pzaPlantEnum.SUN_FLOWER);if(5==c.pzaGameState.curPart)return void(this.guideType=r.pzaGuideType.GUIDE_SHOVEL_1_5);if(10==c.pzaGameState.curPart)return void(this.guideType=r.pzaGuideType.GUIDE_BELT_MODE)}else if(2==c.pzaGameState.curChapter){if(1==c.pzaGameState.curPart)return void(this.guideType=r.pzaGuideType.GUIDE_NINGHT_2_1);if(2==c.pzaGameState.curPart)return void(this.guideType=r.pzaGuideType.GUIDE_CARD_SLOT_2_2);if(3==c.pzaGameState.curPart){if(u.pzaLocalData.data.coin>=750&&6==u.pzaLocalData.data.plantSlotCount)return void(this.guideType=r.pzaGuideType.GUIDE_CARD_SLOT_2_3)}else{if(5==c.pzaGameState.curPart)return void(this.guideType=r.pzaGuideType.GUIDE_KNOCK_ZOMBIE_2_5);if(6==c.pzaGameState.curPart){if(u.pzaLocalData.data.coin>=5e3&&7==u.pzaLocalData.data.plantSlotCount)return void(this.guideType=r.pzaGuideType.GUIDE_CARD_SLOT_2_6)}else if(10==c.pzaGameState.curPart)return void(this.guideType=r.pzaGuideType.GUIDE_BELT_MODE)}}else if(3==c.pzaGameState.curChapter){if(1==c.pzaGameState.curPart)return void(this.guideType=r.pzaGuideType.GUIDE_POOL_3_1);if(5==c.pzaGameState.curPart)return void(this.guideType=r.pzaGuideType.GUIDE_SMALL_ZOMBIE_3_5);if(10==c.pzaGameState.curPart)return void(this.guideType=r.pzaGuideType.GUIDE_BELT_MODE)}t&&t()},e.prototype.guideStepPre=function(){this.guideStep--,this.guideShow()},e.prototype.guideStepNext=function(){this.guideStep++,this.guideShow()},e.prototype.guideStepTo=function(t){this.guideStep=t,this.guideShow()},e.prototype.guideShow=function(t,e){if(void 0===t&&(t=null),void 0===e&&(e=null),null!=e&&(this.guideEndCall=e),this.guideType==r.pzaGuideType.GUIDE_PLANT_1_1)switch(this.guideStep){case 0:return this.guidePlant=p.pzaPlantEnum.PEA_SHOOTER,void h.pzaTipManager.showGuideTip("\u70b9\u51fb\u79cd\u5b50\u5305\uff0c\u628a\u5b83\u6361\u8d77\u6765\uff01");case 1:return this.guidePlant=null,void h.pzaTipManager.showGuideTip("\u70b9\u51fb\u8349\u5730\u79cd\u4e0b\u4f60\u7684\u79cd\u5b50\uff01");case 2:return c.pzaGameState.guideSunPause=!1,void h.pzaTipManager.showGuideTip("\u5e72\u5f97\u6f02\u4eae\uff01\n\u4f60\u4e5f\u53ef\u4ee5\u62d6\u653e\u79cd\u5b50\u5305\uff01");case 3:return void h.pzaTipManager.showGuideTip("\u70b9\u51fb\u6536\u96c6\u6389\u843d\u7684\u9633\u5149\uff01");case 4:return void h.pzaTipManager.showGuideTip("\u7ee7\u7eed\u6536\u96c6\u9633\u5149\uff01\n\u4f60\u9700\u8981\u5b83\u4eec\u6765\u79cd\u4e0b\u66f4\u591a\u7684\u690d\u7269\uff01");case 5:return this.autoHideTime=5,this.autoNextGuide=!0,this.guidePlant=null,void h.pzaTipManager.showGuideTip("\u592a\u597d\u4e86\uff0c\u4f60\u5df2\u7ecf\u6536\u96c6\u5230\u4e86\u8db3\u591f\n\u8fdb\u884c\u4e0b\u4e00\u6b21\u79cd\u690d\u7684\u9633\u5149\u4e86\uff01");case 6:return this.guidePlant=p.pzaPlantEnum.PEA_SHOOTER,void h.pzaTipManager.showGuideTip("\u70b9\u51fb\u8c4c\u8c46\u5c04\u624b\uff0c\u518d\u79cd\u4e00\u9897\uff01");case 7:return this.guidePlant=null,c.pzaGameState.guideZombiePause=!1,window.pzazombieManager.nextWaveTime=0,this.autoHideTime=5,void h.pzaTipManager.showGuideTip("\u522b\u8ba9\u50f5\u5c38\u9760\u8fd1\u4f60\u7684\u623f\u5b50\uff01");default:return void this.guideEnd()}if(this.guideType==r.pzaGuideType.GUIDE_NEW_PLANT_1_2)switch(this.guideStep){case 0:return this.autoHideTime=5,this.autoNextGuide=!0,void h.pzaTipManager.showGuideTip("\u5411\u65e5\u8475\u662f\u975e\u5e38\u91cd\u8981\u7684\u690d\u7269\uff01");case 1:return this.autoHideTime=5,this.autoNextGuide=!0,void h.pzaTipManager.showGuideTip("\u81f3\u5c11\u8981\u79cd\u4e0b\u4e09\u9897\u5411\u65e5\u8475\uff01");case 2:return this.autoHideTime=5,void h.pzaTipManager.showGuideTip("\u79cd\u4e0b\u81f3\u5c11\u4e09\u9897\u5411\u65e5\u8475\uff0c\u8fd9\u6837\u4f60\u624d\u6709\u66f4\u591a\u7684\n\u673a\u4f1a\u80fd\u5728\u50f5\u5c38\u7684\u653b\u52bf\u4e2d\u6d3b\u4e0b\u6765\uff01");default:return void this.guideEnd()}if(this.guideType==r.pzaGuideType.GUIDE_SHOVEL_1_5)switch(this.guideStep){case 0:return void this.showGuideDialogView(["\u4f60\u597d\uff0c\u6211\u4eec\u53c8\u89c1\u9762\u4e86\uff0c","\u76ee\u524d\u4e3a\u6b62\u4f60\u5e72\u5f97\u4e0d\u9519\uff0c","\u56e0\u6b64\u6211\u8981\u5956\u52b1\u4f60\uff0c","\u4f46\u662f\u9996\u5148\uff0c\u4f60\u5f97\u5e2e\u6211\u4e2a\u5fd9\uff0c","\u628a\u8349\u576a\u6e05\u7406\u5e72\u51c0\u3002","\u7528\u94f2\u5b50\u6316\u6389\u90a3\u4e9b\u690d\u7269\uff01","\u5f00\u59cb\u6316\u5427\uff01"],t);case 1:return void h.pzaTipManager.showGuideTip("\u70b9\u51fb\u62fe\u53d6\u94f2\u5b50\uff01");case 2:return void h.pzaTipManager.showGuideTip("\u70b9\u51fb\u79fb\u9664\u4e00\u9897\u690d\u7269\uff01");case 3:return void h.pzaTipManager.showGuideTip("\u4e00\u76f4\u6316\u5427\uff0c\u76f4\u5230\u4f60\u7684\u8349\u576a\u4e0a\u6ca1\u6709\u690d\u7269\uff01");case 4:return h.pzaTipManager.hideGuideTip(),void this.showGuideDialogView(["\u597d\u7684\uff0c\u5e72\u5f97\u4e0d\u9519\uff0c\n\u73b0\u5728\u7ed9\u4f60\u4e2a\u60ca\u559c\u2026\u2026","\u6211\u4eec\u53bb\u73a9\u4fdd\u9f84\u7403\uff01","\u563f\uff0c\u62ff\u597d\u8fd9\u4e2a\u575a\u679c\uff01","\u4e3a\u4ec0\u4e48\u6211\u8981\u7ed9\u4f60\u575a\u679c\uff1f","\u56e0\u4e3a\u6211\u75af\u4e86\uff01\uff01\uff01\uff01\uff01","\u73b0\u5728\u51fa\u53d1\uff01\n\u7ed9\u6211\u8d62\u4e2a\u51a0\u519b\u56de\u6765\uff01\uff01\uff01"],this.guideStepNext.bind(this),function(){window.pzaMapManager.showRedLine()});default:return void this.guideEnd()}this.guideType!=r.pzaGuideType.GUIDE_NINGHT_2_1?this.guideType!=r.pzaGuideType.GUIDE_CARD_SLOT_2_2?this.guideType!=r.pzaGuideType.GUIDE_CARD_SLOT_2_3?this.guideType!=r.pzaGuideType.GUIDE_KNOCK_ZOMBIE_2_5?this.guideType!=r.pzaGuideType.GUIDE_CARD_SLOT_2_6?this.guideType!=r.pzaGuideType.GUIDE_POOL_3_1?this.guideType!=r.pzaGuideType.GUIDE_SMALL_ZOMBIE_3_5||this.showGuideDialogView(["\u50f5\u5c38\u7684\u8fdb\u653b\u8ba1\u5212\u5176\u5b9e\u662f\u4ef6\u6709\n\u8da3\u7684\u4e8b\u60c5\u3002\u6709\u65f6\u4ed6\u4eec\u7684\u6570\u91cf\n\u4f1a\u5f88\u5c11\u3002","\u5f88\u5c0f\n\u4f46\u5f88\u5351\u9119\uff01","\u9632\u5b88\u597d\u4f60\u7684\u5c0f\u817f\u5427\uff01"],t):this.showGuideDialogView(["\u770b\u6765\u50f5\u5c38\u4eec\u8981\u653e\u5f03\u8fdb\u653b\u4f60\u7684\n\u524d\u9662\u4e86\u3002","\u73b0\u5728\u4ed6\u4eec\u60f3\u8bd5\u8bd5\n\u4f60\u7684\u540e\u9662\u3002","\u4f46\u6700\u91cd\u8981\u7684\u662f\uff0c\n\u4f60\u4e0d\u80fd\u4f7f\u7528\n\u4f60\u7684\u8611\u83c7\u4e86\uff01","\u56e0\u4e3a\u4ed6\u4eec\u767d\u5929\u8981\u7761\u89c9\uff01","\u8fd9\u96be\u9053\u4e0d\u662f\n\u516c\u5b50\u54e5\u7684\u4f5c\u98ce\u5417\uff1f"],t):this.showGuideSelectDialog(["\u563f\uff01\u670b\u53cb\uff01\n\u60f3\u518d\u589e\u52a0\u4e00\u4e2a\u5361\u7247\u69fd\u5417\uff1f","\u8fd9\u5c06\u82b1\u8d39\u4f60$5000\uff0c\u4e4b\u540e\u4f60\u6bcf\n\u5173\u80fd\u90098\u79cd\u690d\u7269\u800c\u4e0d\u662f7\u79cd\uff01","\u542c\u8d77\u6765\u600e\u4e48\u6837\uff1f"],"$5000","\u5347\u7ea7\u52308\n\u4e2a\u5361\u7247\u69fd\uff1f",function(){u.pzaLocalData.data.coin-=5e3,u.pzaLocalData.data.plantSlotCount=8,u.pzaLocalData.addDirty("coin","plantSlotCount")},["\u56de\u89c1\uff01"],null,["\u771f\u626b\u5174\u554a\uff01"],t):this.showGuideDialogView(["\u73a9\u8fc7\u201c\u6253\u50f5\u5c38\u201d\u6e38\u620f\u5417\uff1f","\u8fd9\u5c31\u50cf\u662f\n\u73a9\u6572\u5730\u9f20\u3002","\u4f60\u770b\uff0c\u90a3\u4e9b\u6bdb\u8338\u8338\u7684\n\u5c0f\u8001\u9f20\u4e0d\u662f\u6b64\u523b\u6b63\u5728\u4f60\u7684\u8349\n\u576a\u91cc\u6253\u6d1e\u5417\uff1f","\u8036\uff0c\u5c31\u50cf\u90a3\u6837\uff0c\n\u4f46\u5e76\u4e0d\u662f\u9f39\u9f20\uff0c\n\u800c\u662f\u50f5\u5c38\u3002","\u5e76\u4e14\u4e0d\u662f\u94c1\u9539\uff0c\u662f\u9524\u5b50\u3002","\u5f53\u7136\u4e0d\u662f\u6211\uff0c\n\u662f\u4f60\uff01"],t,null,function(){window.pzaMapManager.initMapTomb(c.pzaGameState.curChapter,c.pzaGameState.curPart,null)}):this.showGuideSelectDialog(["\u563f\uff01\n\u60f3\u518d\u589e\u52a0\u4e00\u4e2a\u5361\u7247\u69fd\u5417\uff1f","\u8fd9\u5c06\u82b1\u8d39\u4f60$750\uff0c\n\u4e4b\u540e\u4f60\u6bcf\u5173\u80fd\u9009\u62e97\u79cd\u690d\n\u7269\u800c\u4e0d\u662f6\u79cd\uff01","\u542c\u8d77\u6765\u600e\u4e48\u6837\uff1f"],"$750","\u5347\u7ea7\u52307\n\u4e2a\u5361\u7247\u69fd\uff1f",function(){u.pzaLocalData.data.coin-=750,u.pzaLocalData.data.plantSlotCount=7,u.pzaLocalData.addDirty("coin","plantSlotCount")},["\u592a\u597d\u4e86\uff01\u5f53\u4f60\u6512\u5230$5000\uff0c\n\u6211\u5c06\u4f1a\u7ed9\u4f60\u5347\u7ea7\u5230\n8\u4e2a\u5361\u7247\u69fd\uff01","\u56de\u89c1\uff01"],null,["\u771f\u626b\u5174\u554a\uff01"],t):this.showGuideDialogView(["\u563f\uff0c\u6211\u7684\u670b\u53cb\n\u4f60\u76ee\u524d\u5df2\u7ecf\u6536\u96c6\u4e86$"+u.pzaLocalData.data.coin,"\u5f53\u4f60\u6536\u96c6\u5230$750\u65f6\uff0c\n\u6211\u4f1a\u5356\u7ed9\u4f60\u4e9b\u5b9e\u7528\u7684\u4e1c\u897f\uff01"],t):this.showGuideDialogView(["\u665a\u4e0a\u597d\u3002","\u90a3\u4e9b\u50f5\u5c38\u4e0d\u4f1a\u90a3\u4e48\u5bb9\u6613\u5c31\n\u8f7b\u6613\u653e\u5f03\u5427\uff1f","\u4f60\u4f1a\u6ce8\u610f\u5230\u591c\u95f4\u548c\u50f5\u5c38\u4f5c\u6218\n\u4e0d\u540c\u4e8e\u767d\u5929\u3002","\u9996\u5148\uff0c\n\u4e0d\u80fd\u4ece\u5929\u4e0a\n\u5f97\u5230\u9633\u5149\u3002","\u4f46\u4f60\u4ecd\u53ef\u4ee5\u901a\u8fc7\n\u5411\u65e5\u8475\u6765\u83b7\u5f97\u9633\u5149\u3002","\u800c\u4e14\u4f60\u5f88\u5e78\u8fd0\uff0c\n\u4f60\u5f97\u5230\u4e86\u5c0f\u55b7\u83c7\u3002","\u5c3d\u53ef\u80fd\u591a\u79cd\u690d\u4e9b\u8611\u83c7\u5427\uff0c\n\u4f60\u4f1a\u633a\u8fc7\u53bb\u7684\u3002"],t)},e.prototype.guideShowNeedMoreSun=function(){this.autoHideTime=5,this.triggerExtraGuide=!0,h.pzaTipManager.showGuideTip("\u4f60\u9700\u8981\u66f4\u591a\u7684\u5411\u65e5\u8475\n\u8fd9\u6837\u4f60\u624d\u80fd\u66f4\u5feb\u5730\u79cd\u690d\u7269\uff01")},e.prototype.guideEnd=function(){this.hideGuide(),this.guideEndCall&&this.guideEndCall()},e.prototype.hideGuide=function(){this.guidePlant=null,h.pzaTipManager.hideGuideTip()},e.prototype.showGuideDialogView=function(t,e,a,o){void 0===a&&(a=null),void 0===o&&(o=null),f.pzaUIManager.baseShowPopUI(l.pzaResourceUrl.GUIDE_DIALOG_VIEW,function(n){(n&&n.getComponent(s.pzaGuideDialogView)).showDialog(t,e,a,o)})},e.prototype.showGuideSelectDialog=function(t,e,a,o,n,i,r,p,c){void 0===c&&(c=null),f.pzaUIManager.baseShowPopUI(l.pzaResourceUrl.GUIDE_DIALOG_VIEW,function(l){(l&&l.getComponent(s.pzaGuideDialogView)).showSelectDialog(t,e,a,o,n,i,r,p,c)})},i([m],e)}(cc.Component));a.pzaGuideManager=y,cc._RF.pop()},{"../Battle/Data/pzaGuideType":"pzaGuideType","../Battle/Data/pzaPlantEnum":"pzaPlantEnum","../Battle/pzaGameState":"pzaGameState","../Load/pzaPreLoadManager":"pzaPreLoadManager","../View/pzaGuideDialogView":"pzaGuideDialogView","./pzaLocalData":"pzaLocalData","./pzaTipManager":"pzaTipManager","./pzaUIManager":"pzaUIManager"}],pzaGuideTip:[function(t,e,a){"use strict";cc._RF.push(e,"8c8adtgMMlIxaYhA5UfNdVR","pzaGuideTip");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaGuideTip=void 0;var r=t("./pzaBaseComponent"),p=t("./pzaGameCommonPool"),c=cc._decorator,l=c.ccclass,s=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.word=null,e.lossCarTip=null,e.lossPlantTip=null,e.closeTime=0,e}return n(e,t),e.prototype.showGuideTip=function(t){this.lossCarTip.active=!1,this.lossPlantTip.active=!1,this.word.node.active=!0,this.word.string=t,this.closeTime=0,this.word.node.stopAllActions(),this.word.node.opacity=255,this.word.node.runAction(cc.repeatForever(cc.sequence(cc.fadeTo(.3,177),cc.fadeTo(.3,255))))},e.prototype.showGameTip=function(t){this.lossCarTip.active=!1,this.lossPlantTip.active=!1,this.word.node.active=!0,this.word.string=t,this.closeTime=5,this.word.node.stopAllActions(),this.word.node.opacity=255,this.word.node.runAction(cc.repeatForever(cc.sequence(cc.fadeTo(.3,177),cc.fadeTo(.3,255))))},e.prototype.showStarLoseTip=function(t,e){this.word.node.active=!1,this.lossCarTip.active=t,this.lossPlantTip.active=e,this.closeTime=5},e.prototype.logicUpdate=function(t){this.closeTime<=0||(this.closeTime-=t,this.closeTime<=0&&this.close())},e.prototype.pauseSelf=function(){this.word.node.pauseAllActions()},e.prototype.resumeSelf=function(){this.word.node.resumeAllActions()},e.prototype.close=function(){p.pzaGameCommonPool.returnInstant(this.node)},i([s({displayName:"\u6587\u5b57",type:cc.Label})],e.prototype,"word",void 0),i([s({displayName:"\u635f\u5931\u5c0f\u63a8\u8f66\u6587\u6848",type:cc.Node})],e.prototype,"lossCarTip",void 0),i([s({displayName:"\u635f\u5931\u690d\u7269\u6587\u6848",type:cc.Node})],e.prototype,"lossPlantTip",void 0),i([l],e)}(r.pzaBaseComponent);a.pzaGuideTip=u,cc._RF.pop()},{"./pzaBaseComponent":"pzaBaseComponent","./pzaGameCommonPool":"pzaGameCommonPool"}],pzaGuideType:[function(t,e,a){"use strict";cc._RF.push(e,"8420bdgYmdMUL+6b3c38Mgc","pzaGuideType"),Object.defineProperty(a,"__esModule",{value:!0}),a.pzaDialog=a.pzaGuideType=void 0,function(t){t[t.GUIDE_PLANT_1_1=0]="GUIDE_PLANT_1_1",t[t.GUIDE_NEW_PLANT_1_2=1]="GUIDE_NEW_PLANT_1_2",t[t.GUIDE_SHOVEL_1_5=2]="GUIDE_SHOVEL_1_5",t[t.GUIDE_BELT_MODE=3]="GUIDE_BELT_MODE",t[t.GUIDE_NINGHT_2_1=4]="GUIDE_NINGHT_2_1",t[t.GUIDE_CARD_SLOT_2_2=5]="GUIDE_CARD_SLOT_2_2",t[t.GUIDE_CARD_SLOT_2_3=6]="GUIDE_CARD_SLOT_2_3",t[t.GUIDE_KNOCK_ZOMBIE_2_5=7]="GUIDE_KNOCK_ZOMBIE_2_5",t[t.GUIDE_CARD_SLOT_2_6=8]="GUIDE_CARD_SLOT_2_6",t[t.GUIDE_POOL_3_1=9]="GUIDE_POOL_3_1",t[t.GUIDE_SHOP_3_4=10]="GUIDE_SHOP_3_4",t[t.GUIDE_SMALL_ZOMBIE_3_5=11]="GUIDE_SMALL_ZOMBIE_3_5",t[t.GUIDE_SHOP_4_4=12]="GUIDE_SHOP_4_4",t[t.GUIDE_SHOP_5_1=13]="GUIDE_SHOP_5_1"}(a.pzaGuideType||(a.pzaGuideType={}));a.pzaDialog=function(t,e){void 0===e&&(e=null),this.event=null,this.word=t,this.event=e},cc._RF.pop()},{}],pzaHammerEffect:[function(t,e,a){"use strict";cc._RF.push(e,"dedbdX7ZaBIZbSV49lpNH0w","pzaHammerEffect");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaHammerEffect=void 0;var r=t("../../Common/pzaBaseComponent"),p=t("../../Common/pzaGroupEnum"),c=t("../Plant/pzaAttackType"),l=t("../pzaBaseBody"),s=cc._decorator,u=s.ccclass,h=s.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hammer=null,e.peng=null,e.trigger=!1,e.hitZombie=!1,e}return n(e,t),e.prototype.showEffect=function(){var t=this;this.trigger=!1,this.hitZombie=!1,this.peng.active=!1,this.hammer.stopAllActions(),this.hammer.angle=40,this.hammer.opacity=255,this.hammer.runAction(cc.sequence(cc.rotateTo(.1,-60),cc.callFunc(function(){t.trigger=!0}),cc.fadeOut(.1),cc.callFunc(function(){t.hitZombie||t.close()})))},e.prototype.showPeng=function(){var t=this;this.peng.active=!0,this.peng.stopAllActions(),this.peng.scale=.5,this.peng.opacity=122,this.peng.runAction(cc.sequence(cc.spawn(cc.scaleTo(.1,1),cc.fadeIn(.1)),cc.delayTime(.4),cc.fadeOut(.1),cc.callFunc(function(){t.close()})))},e.prototype.pauseSelf=function(){this.hammer.pauseAllActions(),this.peng.pauseAllActions()},e.prototype.resumeSelf=function(){this.hammer.resumeAllActions(),this.peng.resumeAllActions()},e.prototype.onCollisionEnter=function(t,e){this.onCollision(t,e)},e.prototype.onCollisionStay=function(t,e){this.onCollision(t,e)},e.prototype.onCollision=function(t){if(!this.trigger&&t.node.group==p.pzaGroupEnum.ZOMBIE){var e=t.node.getComponent(l.pzaBaseBody);if(null==e||null==e.baseData||e.baseData.isDead)return;var a=window.pzazombieManager.getZombie(e.baseData);if(null==a)return;a.hurt(1e3,null,c.pzaAttackType.KNOCK),this.trigger=!0,this.hitZombie=!0,this.showPeng()}},i([h({displayName:"\u9524\u5b50",type:cc.Node})],e.prototype,"hammer",void 0),i([h({displayName:"\u562d",type:cc.Node})],e.prototype,"peng",void 0),i([u],e)}(r.pzaBaseComponent);a.pzaHammerEffect=f,cc._RF.pop()},{"../../Common/pzaBaseComponent":"pzaBaseComponent","../../Common/pzaGroupEnum":"pzaGroupEnum","../Plant/pzaAttackType":"pzaAttackType","../pzaBaseBody":"pzaBaseBody"}],pzaHandbookCard:[function(t,e,a){"use strict";cc._RF.push(e,"90c044XkCxGMLQGNppnP0Zh","pzaHandbookCard");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaHandbookCard=void 0;var r=t("../Common/pzaGameCommonPool"),p=t("../Common/pzaGameConfig"),c=t("../Common/pzaSpriteFrameManager"),l=cc._decorator,s=l.ccclass,u=l.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cardBoard=null,e.cardBoardFrames=[],e.cardIcon=null,e.priceLabel=null,e.plantType=null,e.clickCall=null,e}return n(e,t),e.prototype.bindData=function(t,e){this.plantType=t,this.clickCall=e,c.pzaSpriteFrameManager.loadPlantCard(t,this.cardIcon);var a=p.pzaGameConfig.getPlantConfig(t);null!=a&&(this.priceLabel.string=""+a.price,this.cardBoard.spriteFrame=this.cardBoardFrames[a.rareLevel])},e.prototype.clickCard=function(){this.clickCall&&this.clickCall(this.plantType)},e.prototype.close=function(){r.pzaGameCommonPool.returnInstant(this.node)},i([u({displayName:"\u5361\u7247\u6846",type:cc.Sprite})],e.prototype,"cardBoard",void 0),i([u({displayName:"\u5361\u7247\u6846\u5143\u7d20",type:[cc.SpriteFrame]})],e.prototype,"cardBoardFrames",void 0),i([u({displayName:"\u5361\u7247\u56fe",type:cc.Sprite})],e.prototype,"cardIcon",void 0),i([u({displayName:"\u9633\u5149\u4ef7\u683c",type:cc.Label})],e.prototype,"priceLabel",void 0),i([s],e)}(cc.Component);a.pzaHandbookCard=h,cc._RF.pop()},{"../Common/pzaGameCommonPool":"pzaGameCommonPool","../Common/pzaGameConfig":"pzaGameConfig","../Common/pzaSpriteFrameManager":"pzaSpriteFrameManager"}],pzaHandbookView:[function(t,e,a){"use strict";cc._RF.push(e,"3cd4cOQNe5AlKqqOM/396Us","pzaHandbookView");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaHandbookView=void 0;var r=t("../Common/pzaGameCommonPool"),p=t("../Common/pzaUIManager"),c=t("../Load/pzaPreLoadManager"),l=t("./pzaPlantHandbookView"),s=t("./pzaZombieHandbookView"),u=cc._decorator,h=u.ccclass,f=(u.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.closeCall=null,e}return n(e,t),e.prototype.bindCloseCall=function(t){this.closeCall=t},e.prototype.clickPlantBook=function(){var t=this;p.pzaUIManager.baseShowPopUI(c.pzaResourceUrl.PLANT_HANDBOOK_VIEW,function(e){var a=e&&e.getComponent(l.pzaPlantHandbookView);a&&a.bindCloseCall(function(){t.close(),t.closeCall&&t.closeCall(),t.closeCall=null})})},e.prototype.clickZombieBook=function(){var t=this;p.pzaUIManager.baseShowPopUI(c.pzaResourceUrl.ZOMBIE_HANDBOOK_VIEW,function(e){var a=e&&e.getComponent(s.pzaZombieHandbookView);a&&a.bindCloseCall(function(){t.close(),t.closeCall&&t.closeCall(),t.closeCall=null})})},e.prototype.clickClose=function(){this.close(),this.closeCall&&this.closeCall(),this.closeCall=null},e.prototype.close=function(){r.pzaGameCommonPool.returnInstant(this.node)},i([h],e)}(cc.Component));a.pzaHandbookView=f,cc._RF.pop()},{"../Common/pzaGameCommonPool":"pzaGameCommonPool","../Common/pzaUIManager":"pzaUIManager","../Load/pzaPreLoadManager":"pzaPreLoadManager","./pzaPlantHandbookView":"pzaPlantHandbookView","./pzaZombieHandbookView":"pzaZombieHandbookView"}],pzaHtBox:[function(t,e,a){"use strict";cc._RF.push(e,"44316KwvdxB/ppm7+H8BMcc","pzaHtBox");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=t("./pzaGdyxItem"),p=t("./pzakc"),c=cc._decorator,l=c.ccclass,s=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.close=null,e.content=null,e.list=null,e.curr_time=0,e.total_time=.1,e.is_scroll=!1,e.spacing=140,e.itemHeight=130,e.jishu_num=0,e.dir=1,e.start_y=0,e}return n(e,t),e.prototype.onLoad=function(){var t=this;this.close.on(cc.Node.EventType.TOUCH_END,function(){t.hide()}),this.list.on("touch-up",function(){t.node.active&&(t.is_scroll=!0)}),this.content.on(cc.Node.EventType.TOUCH_START,function(){t.is_scroll=!1}),this.content.on(cc.Node.EventType.TOUCH_END,function(){t.is_scroll=!0}),this.content.on(cc.Node.EventType.TOUCH_CANCEL,function(){t.is_scroll=!0})},e.prototype.hide=function(){this.is_scroll=!1,this.node.active=!1,p.default.log("\u4e92\u63a8\u5173\u95ed")},e.prototype.show=function(){var t=this;this.node.active=!0,this.node.setPosition(0,0),this.content.removeAllChildren(),hzzxsdk.getBannerAdList(!1,0,0).then(function(e){console.log("\u83b7\u53d6banner\u5e7f\u544a\u5217\u8868:",e),e&&(e.forEach(function(e,a){var o=cc.instantiate(pzaResMgr.instance().getPrefab("gdyx_item1"));o.parent=t.content;var n=-t.itemHeight/2-t.spacing*a+2*t.spacing;o.setPosition(o.x,o.y+n),o.getComponent(r.default).init(e.banner,e.title,e.description,e.appid,e.page)}),t.start_y=t.content.children[0].y,t.content.setContentSize(e.length,e.length*t.spacing),t.is_scroll=!0)})},e.prototype.update=function(t){if(this.is_scroll){this.curr_time=0;var e=50*t,a=this.content.childrenCount;if(this.content.y,!(a<=4)){var o;if(this.dir>0)this.content.children[0].y>this.spacing&&(this.jishu_num+=this.dir,this.jishu_num>=a&&(this.dir=-this.dir),this.jishu_num<=0&&(this.dir=-this.dir),(o=this.content.children.shift()).y=-(a-1)*this.spacing*this.dir,this.content.children.push(o));else this.content.childrenCount,this.content.children[0].y<0&&(this.jishu_num+=this.dir,this.jishu_num<=0&&(this.dir=-this.dir),(o=this.content.children.pop()).y=this.start_y,this.content.children.unshift(o));for(var n=0;n<a;++n)this.content.children[n].y+=e*this.dir}}},i([s(cc.Node)],e.prototype,"close",void 0),i([s(cc.Node)],e.prototype,"content",void 0),i([s(cc.Node)],e.prototype,"list",void 0),i([l],e)}(cc.Component);a.default=u,cc._RF.pop()},{"./pzaGdyxItem":"pzaGdyxItem","./pzakc":"pzakc"}],pzaHypnoShroom:[function(t,e,a){"use strict";cc._RF.push(e,"8c657KDT2VN1IijQ4azCEx/","pzaHypnoShroom");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaHypnoShroom=void 0;var r=t("../pzaGameState"),p=t("./pzaBasePlant"),c=cc._decorator,l=c.ccclass,s=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.bindData=function(e){t.prototype.bindData.call(this,e),r.pzaGameState.gameTimeType==r.pzaGameTimeType.DAY?(this.animation.playAnimation("idle1",!0),e.plantData.sleeping=!0):this.animation.playAnimation("idle2",!0)},e.prototype.wakeUp=function(){var t=this;null!=this.baseData&&null!=this.baseData.plantData&&this.baseData.plantData.sleeping&&(this.baseData.plantData.sleeping=!1,this.animation.playAnimation("awoke",!1,function(){t.animation.playAnimation("idle2",!0)}))},e.prototype.logicUpdate=function(e){t.prototype.logicUpdate.call(this,e),null==this.baseData||null==this.baseData.plantData||this.baseData.plantData.sleeping||null!=this.body.curTarget&&null!=this.body.curTarget.zombieData&&(window.pzazombieManager.zombieHypnosis(this.body.curTarget),window.pzaplantManager.removePlant(this.baseData),this.death(null))},e.prototype.hurt=function(e,a,o){void 0===o&&(o=null),t.prototype.hurt.call(this,e,a,o),null==this.baseData||null==this.baseData.plantData||this.baseData.plantData.sleeping||this.baseData.hp>0&&null!=a&&(window.pzazombieManager.zombieHypnosis(a),window.pzaplantManager.removePlant(this.baseData),this.death(null))},i([l],e)}(p.pzaBasePlant));a.pzaHypnoShroom=s,cc._RF.pop()},{"../pzaGameState":"pzaGameState","./pzaBasePlant":"pzaBasePlant"}],pzaIceGroundEffect:[function(t,e,a){"use strict";cc._RF.push(e,"b6d09eU8vpEEqYlH++7vryG","pzaIceGroundEffect");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaIceGroundEffect=void 0;var r=t("../../Common/pzaBaseComponent"),p=t("../../Common/pzaGameConfig"),c=t("../pzaGameState"),l=cc._decorator,s=l.ccclass,u=l.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.iceGround=null,e.iceGround2=null,e.lifeTime=0,e.iceInitZombiePosX=0,e.iceLength=0,e.yIndex=-1,e.xIndex=-1,e}return n(e,t),e.prototype.init=function(t,e,a){this.baseData=t,this.lifeTime=0,null!=t&&null!=t.logicPos&&(this.node.setPosition(cc.v2(e,a)),this.iceGround.width=0,this.iceGround2.x=0,this.iceLength=0,this.iceInitZombiePosX=t.logicPos.x,this.yIndex=t.yIndex,this.xIndex=-1,window.pzaMapManager.addIceGround(this))},e.prototype.logicUpdate=function(t){(null==this.baseData||this.baseData.isDead)&&(this.lifeTime+=t,this.lifeTime>=30&&this.close())},e.prototype.logicLateUpdate=function(){if(null!=this.baseData&&!this.baseData.isDead&&null!=this.baseData.logicPos){var t=Math.abs(this.iceInitZombiePosX-this.baseData.logicPos.x);this.iceLength=t,this.iceGround.width=t,this.iceGround2.x=-t;var e=p.pzaGameConfig.getMapXIndex(c.pzaGameState.curChapter,cc.v2(this.node.x+t,0));this.xIndex=e}},e.prototype.containBlock=function(t,e){return e==this.yIndex&&-1!=this.xIndex&&this.xIndex<=t},e.prototype.getIceX=function(){return this.iceInitZombiePosX-this.iceLength},e.prototype.close=function(){t.prototype.close.call(this),window.pzaMapManager.removeIceGround(this)},i([u({displayName:"\u51b0\u5730\u9762",type:cc.Node})],e.prototype,"iceGround",void 0),i([u({displayName:"\u51b0\u5730\u97622",type:cc.Node})],e.prototype,"iceGround2",void 0),i([s],e)}(r.pzaBaseComponent);a.pzaIceGroundEffect=h,cc._RF.pop()},{"../../Common/pzaBaseComponent":"pzaBaseComponent","../../Common/pzaGameConfig":"pzaGameConfig","../pzaGameState":"pzaGameState"}],pzaIceShroom:[function(t,e,a){"use strict";cc._RF.push(e,"b65b3EL8DpDPp+QT7IWve1B","pzaIceShroom");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaIceShroom=void 0;var r=t("../Data/pzaBuffData"),p=t("../pzaEffectManager"),c=t("../pzaGameState"),l=t("./pzaBasePlant"),s=cc._decorator,u=s.ccclass,h=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lifeTime=0,e.hasBomb=!1,e}return n(e,t),e.prototype.bindData=function(e){t.prototype.bindData.call(this,e),this.hasBomb=!1,this.lifeTime=0,c.pzaGameState.gameTimeType==c.pzaGameTimeType.DAY?(this.animation.playAnimation("idle2",!0),e.plantData.sleeping=!0):this.animation.playAnimation("idle1",!0)},e.prototype.logicUpdate=function(t){null==this.baseData||this.baseData.isDead||null==this.baseData.plantData||this.baseData.plantData.sleeping||(this.lifeTime+=t,this.lifeTime>=1&&!this.hasBomb&&this.attack())},e.prototype.wakeUp=function(){var t=this;null!=this.baseData&&null!=this.baseData.plantData&&this.baseData.plantData.sleeping&&(this.baseData.plantData.sleeping=!1,this.animation.playAnimation("awoke",!1,function(){t.animation.playAnimation("idle1",!0)}))},e.prototype.attack=function(){var t=this;this.hasBomb=!0,window.pzaplantManager.removePlant(this.baseData),this.death(),p.pzaEffectManager.createIceBoomEffect(this.baseData.logicPos);var e=window.pzazombieManager.findAllZombies();null!=e&&e.forEach(function(e){null!=e&&null!=e.baseData&&(e.hurt(t.baseData.atk,t.baseData),e.baseData.buffData.hasBuff(r.pzaBuffType.IMM_ICE)||(e.bePauseControl(),e.baseData.buffData.addBuff(new r.pzaBuffInfo(r.pzaBuffType.FROST,15,.5)),e.baseData.buffData.addBuff(new r.pzaBuffInfo(r.pzaBuffType.FROZEN,4)),p.pzaEffectManager.createFrozenEffect(e.baseData)))})},i([u],e)}(l.pzaBasePlant));a.pzaIceShroom=h,cc._RF.pop()},{"../Data/pzaBuffData":"pzaBuffData","../pzaEffectManager":"pzaEffectManager","../pzaGameState":"pzaGameState","./pzaBasePlant":"pzaBasePlant"}],pzaImp:[function(t,e,a){"use strict";cc._RF.push(e,"60cda1HD21OrqK/2G31WX/4","pzaImp");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaImp=void 0;var r=t("../../Common/pzaGameConfig"),p=t("../pzaGameState"),c=t("./pzaBaseZombie"),l=cc._decorator,s=l.ccclass,u=(l.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.fallASpeed=0,e.fallXSpeed=0,e.fallYSpeed=0,e.fallTime=1.5,e}return n(e,t),e.prototype.bindData=function(e){t.prototype.bindData.call(this,e),this.fallTime=1.5;var a=4*r.pzaGameConfig.getBlockWidth(p.pzaGameState.curChapter);this.fallXSpeed=a/this.fallTime,this.fallYSpeed=0;var o=cc.v2(e.logicPos.x-a,0),n=.1*r.pzaGameConfig.getYInterval(p.pzaGameState.curChapter,this.baseData.yIndex);r.pzaGameConfig.fixMapYOffset(p.pzaGameState.curChapter,e.yIndex,o,n);var i=e.logicPos.y-o.y;this.fallASpeed=2*i/(this.fallTime*this.fallTime),this.animation.node.stopAllActions(),this.animation.node.angle=90,this.animation.node.runAction(cc.rotateBy(this.fallTime,-270))},e.prototype.logicUpdate=function(e){if(this.fallTime>0)return this.fallTime-=e,void this.fallMove(e);t.prototype.logicUpdate.call(this,e)},e.prototype.fallMove=function(t){this.baseData.logicPos.x-=t*this.fallXSpeed,this.baseData.logicPos.y-=t*this.fallYSpeed,this.fallYSpeed+=t*this.fallASpeed},e.prototype.logicLateUpdate=function(){t.prototype.logicLateUpdate.call(this),this.fallTime<=0&&!this.bodyBindData&&null!=this.body&&(this.bodyBindData=!0,this.body.bindData(this.baseData)),null!=this.baseData&&null!=this.baseData.logicPos&&this.node.setPosition(this.baseData.logicPos)},i([s],e)}(c.pzaBaseZombie));a.pzaImp=u,cc._RF.pop()},{"../../Common/pzaGameConfig":"pzaGameConfig","../pzaGameState":"pzaGameState","./pzaBaseZombie":"pzaBaseZombie"}],pzaJackZombie:[function(t,e,a){"use strict";cc._RF.push(e,"0acdd8NEJFLu5WbLeyEM4Rs","pzaJackZombie");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaJackZombie=void 0;var r=t("../../Common/pzaGameConfig"),p=t("../../Common/pzaUtil"),c=t("../Data/pzaBuffData"),l=t("../Plant/pzaAttackType"),s=t("../pzaGameState"),u=t("./pzaBaseZombie"),h=cc._decorator,f=h.ccclass,d=(h.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.boomLeftTime=0,e.openBoxTime=0,e.hasOpenBox=!1,e}return n(e,t),e.prototype.bindData=function(e){t.prototype.bindData.call(this,e),this.hasOpenBox=!1,this.boomLeftTime=0,Math.random()>.05?this.openBoxTime=p.pzaUtil.getRandomFloatNum(13.22,22.68):this.openBoxTime=p.pzaUtil.getRandomFloatNum(4.4,7.54)},e.prototype.logicUpdate=function(e){if(t.prototype.logicUpdate.call(this,e),this.boomLeftTime>0)return this.boomLeftTime-=e,void(this.boomLeftTime<=0&&this.boom());!this.hasOpenBox&&this.hasTool&&(this.openBoxTime-=e,this.baseData.isBeControlled()||this.openBoxTime<=0&&(this.hasOpenBox=!0,this.boomLeftTime=1.1,this.animation.playAnimation(this.aniName[2],!1),this.baseData.buffData.addBuff(new c.pzaBuffInfo(c.pzaBuffType.HARD_BODY,-1))))},e.prototype.boom=function(){var t=this;if(null!=this.baseData&&null!=this.baseData.zombieData)if(this.baseData.zombieDie(),this.death(!1),this.baseData.zombieData.hypnosis){var e=window.pzazombieManager.findFixRangeZombies(this.baseData.logicPos,1.5*r.pzaGameConfig.getBlockWidth(s.pzaGameState.curChapter));null!=e&&e.forEach(function(e){e&&e.hurt(t.baseData.atk,t.baseData,l.pzaAttackType.BOOM)})}else{var a=window.pzaplantManager.findFixRangePlants(this.baseData.logicPos,1.5*r.pzaGameConfig.getBlockWidth(s.pzaGameState.curChapter));if(null==a)return;a.forEach(function(e){e&&e.hurt(t.baseData.atk,t.baseData,l.pzaAttackType.BOOM)})}},i([f],e)}(u.pzaBaseZombie));a.pzaJackZombie=d,cc._RF.pop()},{"../../Common/pzaGameConfig":"pzaGameConfig","../../Common/pzaUtil":"pzaUtil","../Data/pzaBuffData":"pzaBuffData","../Plant/pzaAttackType":"pzaAttackType","../pzaGameState":"pzaGameState","./pzaBaseZombie":"pzaBaseZombie"}],pzaJalapeno:[function(t,e,a){"use strict";cc._RF.push(e,"b9da2ckJ49KCJ87/y5Ssjij","pzaJalapeno");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaJalapeno=void 0;var r=t("../../Common/pzaGameConfig"),p=t("../pzaEffectManager"),c=t("../pzaGameState"),l=t("./pzaAttackType"),s=t("./pzaBasePlant"),u=cc._decorator,h=u.ccclass,f=(u.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.bindData=function(e){var a=this;t.prototype.bindData.call(this,e),this.animation.playAnimation("blow",!1,function(){a.attack()})},e.prototype.attack=function(){var t=this;window.pzaplantManager.removePlant(this.baseData),this.death();for(var e=r.pzaGameConfig.getBlockLogicPos(c.pzaGameState.curChapter,0,this.baseData.yIndex,0,0),a=0;a<12;a++){var o=e.clone();o.x+=100*a;var n=r.pzaGameConfig.getMapYIndex(c.pzaGameState.curChapter,o);r.pzaGameConfig.fixMapYOffset(c.pzaGameState.curChapter,n,o,0);var i=.1*a+.5;a>=5&&(i=.05*a+.5),p.pzaEffectManager.createBoomFireEffect(this.baseData.yIndex,i,o,null)}window.pzaMapManager.removeRowIceGround(this.baseData.yIndex);var s=window.pzazombieManager.zombieDatas[this.baseData.yIndex];null!=s&&s.forEach(function(e){var a=window.pzazombieManager.getZombie(e);a&&a.hurt(t.baseData.atk,t.baseData,l.pzaAttackType.BOOM)})},i([h],e)}(s.pzaBasePlant));a.pzaJalapeno=f,cc._RF.pop()},{"../../Common/pzaGameConfig":"pzaGameConfig","../pzaEffectManager":"pzaEffectManager","../pzaGameState":"pzaGameState","./pzaAttackType":"pzaAttackType","./pzaBasePlant":"pzaBasePlant"}],pzaKDefine:[function(t,e,a){"use strict";cc._RF.push(e,"3240ehvR6hL063gjjpfAYyj","pzaKDefine"),Object.defineProperty(a,"__esModule",{value:!0}),a.State=a.FavSpine=a.Pet=a.PropFrom=a.TokenType=a.BuffType=a.AudioName=a.PhoneType=a.NextEventType=a.Msg=void 0,function(t){t.showIosAlert="showIosAlert",t.favUpgrade="favUpgrade",t.showPrivacy="showPrivacy",t.closeLoading="closeLoading",t.step1done="step1done",t.step2done="step2done",t.step3done="step3done",t.step4done="step4done",t.mainRoundStart="mainRoundStart",t.propSet="propSet",t.propUpdate="propUpdate",t.plotChoose="plotChoose",t.spPlotChoose="spPlotChoose",t.talkChoose="talkChoose",t.addBuff="addBuff",t.onClick="onClick",t.toTalk="toTalk",t.adGet="adGet",t.addGem="addGem",t.addSoul="addSoul",t.addProp="addProp",t.addTreasure="addTreasure",t.addEffectTxt="addEffectTxt",t.showDiary="showDiary",t.addDrug="addDrug",t.gameOver="gameOver",t.gameOverBackMain="gameOverBackMain",t.miniGameOver="miniGameOver",t.selectTreasure="selectTreasure",t.abortBuy="abortBuy",t.battleEnd="battleEnd",t.sellTr="sellTr",t.sellDrug="sellDrug",t.propItemClick="propItemClick",t.gemAdd="gemAdd",t.djUpgrade="djUpgrade",t.petUpgrade="petUpgrade",t.tokenUse="tokenUse",t.tokenNotUse="tokenNotUse",t.selectTitle="selectTitle",t.getTitle="getTitle",t.allSoundLoaded="allSoundLoaded",t.lateLoaed="lateLoaed",t.phoneAlertDone="phoneAlertDone",t.recorderStart="recorderStart",t.recorderStop="recorderStop",t.recorderFail="recorderFail",t.recorderDone="recorderDone",t.showQA="showQA",t.showDrugBuy="showDrugBuy",t.dateSuc="dateSuc",t.dateFail="dateFail",t.videoSuc="videoSuc"}(a.Msg||(a.Msg={})),function(t){t[t.none=0]="none",t[t.checkDating=1]="checkDating",t[t.contacts=2]="contacts",t[t.jump=3]="jump",t[t.choose=4]="choose",t[t.trBuy=5]="trBuy",t[t.drugBuy=6]="drugBuy",t[t.diary=7]="diary",t[t.qa=8]="qa",t[t.petUpgrade=9]="petUpgrade",t[t.dead=10]="dead"}(a.NextEventType||(a.NextEventType={})),function(t){t[t.msg=1]="msg",t[t.social=2]="social",t[t.talk=3]="talk",t[t.dating=4]="dating"}(a.PhoneType||(a.PhoneType={})),function(t){t.bgm="bgm",t.wx="wx",t.main_bgm="main_bgm",t.click="click",t.upgrade="upgrade"}(a.AudioName||(a.AudioName={})),function(t){t.base="base",t.trBase="trBase",t.addWhenSub="addWhenSub",t.addWhenAdd="addWhenAdd",t.special="special"}(a.BuffType||(a.BuffType={})),function(t){t.trRefreshToken="trRefreshToken",t.petRefreshToken="petRefreshToken"}(a.TokenType||(a.TokenType={})),function(t){t.tr="tr",t.pet="pet",t.title="title",t.event="event",t.init="init",t.fav="fav",t.qa="qa",t.xingGe="xingGe",t.drug="drug"}(a.PropFrom||(a.PropFrom={})),function(t){t.tiger="\u767d\u864e",t.rosefinch="\u6731\u96c0"}(a.Pet||(a.Pet={})),function(t){t.J1="role1",t.J2="role2",t.J3="role3"}(a.FavSpine||(a.FavSpine={})),function(t){t.idle="idle",t.init="init",t.normal="normal",t.move="move",t.moving="moving",t.play="play",t.stop="stop",t.pause="pause",t.hurt="hurt",t.hurting="hurting",t.dead="dead",t.deading="deading",t.lock="lock",t.run="run",t.runing="runing"}(a.State||(a.State={})),cc._RF.pop()},{}],pzaKernelPult:[function(t,e,a){"use strict";cc._RF.push(e,"a554b9cVXhM/bC6YEkbOSS+","pzaKernelPult");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaKernelPult=void 0;var r=t("../../Common/pzaGameCommonPool"),p=t("../../Common/pzaNodeManager"),c=t("../Bullet/pzaThrowBullet"),l=t("../Data/pzaBuffData"),s=t("./pzaBasePlant"),u=cc._decorator,h=u.ccclass,f=u.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.shootNode=null,e.cornBulletPrefab=null,e.butterBulletPrefab=null,e}return n(e,t),e.prototype.bindData=function(e){t.prototype.bindData.call(this,e),this.animation.playAnimation("daiji",!0)},e.prototype.logicUpdate=function(t){var e=this;if(!(null==this.baseData||this.baseData.isDead||null==this.baseData.plantData||(this.baseData.plantData.atkInterval+=t,this.baseData.plantData.atkInterval<this.atkInterval))){var a=this.findAttackTarget();null!=a&&(this.baseData.plantData.atkInterval=0,this.animation.playAnimation("gongji",!1,function(){e.animation.playAnimation("daiji",!0)},function(){e.attack(a)}))}},e.prototype.findAttackTarget=function(){var t=this;if(null==this.baseData||null==this.baseData.logicPos)return null;var e=null,a=-1;return window.pzazombieManager.zombieDatas[this.baseData.yIndex].forEach(function(o){if(o&&o.logicPos&&!(o.logicPos.x<t.baseData.logicPos.x)&&!o.buffData.hasBuff(l.pzaBuffType.FLY)&&!o.buffData.hasBuff(l.pzaBuffType.UNABLE_SELECT)){var n=o.logicPos.x-t.baseData.logicPos.x;(-1==a||n<a)&&(e=o,a=n)}}),e},e.prototype.attack=function(t){if(null!=t&&null!=t.logicPos&&null!=this.baseData&&null!=this.baseData.logicPos){var e=p.pzaNodeManager.getBulletNode();if(null!=e){var a=Math.random()<=.25,o=r.pzaGameCommonPool.requestInstant(a?this.butterBulletPrefab:this.cornBulletPrefab,!1);if(null!=o){var n=this.node.convertToNodeSpaceAR(this.shootNode.convertToWorldSpaceAR(cc.v2()));o.setParent(e);var i=cc.v2(n.x+this.baseData.logicPos.x,n.y+this.baseData.logicPos.y);o.setPosition(i);var l=o.getComponent(c.pzaThrowBullet);null!=l&&(l.init(this.baseData.yIndex,a?40:this.baseData.atk,t),a&&(l.hasImmobilize=!0))}}}},i([f({displayName:"\u53d1\u5c04\u70b9",type:cc.Node})],e.prototype,"shootNode",void 0),i([f({displayName:"\u7389\u7c73\u5b50\u5f39\u9884\u8bbe",type:cc.Prefab})],e.prototype,"cornBulletPrefab",void 0),i([f({displayName:"\u9ec4\u6cb9\u5b50\u5f39\u9884\u8bbe",type:cc.Prefab})],e.prototype,"butterBulletPrefab",void 0),i([h],e)}(s.pzaBasePlant);a.pzaKernelPult=d,cc._RF.pop()},{"../../Common/pzaGameCommonPool":"pzaGameCommonPool","../../Common/pzaNodeManager":"pzaNodeManager","../Bullet/pzaThrowBullet":"pzaThrowBullet","../Data/pzaBuffData":"pzaBuffData","./pzaBasePlant":"pzaBasePlant"}],pzaLadderZombie:[function(t,e,a){"use strict";cc._RF.push(e,"1da57fq0vhB656A46n7VtJx","pzaLadderZombie");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaLadderZombie=void 0;var r=t("../../Common/pzaGameConfig"),p=t("../pzaGameState"),c=t("./pzaBaseZombie"),l=cc._decorator,s=l.ccclass,u=(l.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.equipDying=function(){t.prototype.equipDying.call(this),this.equipAnimation.setAnimationSkin("tiewang3")},e.prototype.equipHurt=function(){t.prototype.equipHurt.call(this),this.equipAnimation.setAnimationSkin("tiewang2")},e.prototype.equipIntact=function(){t.prototype.equipIntact.call(this),this.equipAnimation.setAnimationSkin("tiewang1")},e.prototype.equipDeath=function(e){if(t.prototype.equipDeath.call(this,e),null!=this.baseData&&null!=this.baseData.zombieData){var a=r.pzaGameConfig.getZombieSpecialSpeed(this.baseData.zombieData.zombieType);this.baseData.zombieData.moveSpd=r.pzaGameConfig.getBlockWidth(p.pzaGameState.curChapter)/a}},i([s],e)}(c.pzaBaseZombie));a.pzaLadderZombie=u,cc._RF.pop()},{"../../Common/pzaGameConfig":"pzaGameConfig","../pzaGameState":"pzaGameState","./pzaBaseZombie":"pzaBaseZombie"}],pzaLilyPad:[function(t,e,a){"use strict";cc._RF.push(e,"6b830Fm1MRJB7qJldotUMJd","pzaLilyPad");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaLilyPad=void 0;var r=t("../../Common/pzaUtil"),p=t("./pzaBasePlant"),c=cc._decorator,l=c.ccclass,s=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.blinkTime=3,e.up=!0,e.stayTime=0,e}return n(e,t),e.prototype.bindData=function(e){t.prototype.bindData.call(this,e),this.node.zIndex=-1,this.up=!0,this.stayTime=0,this.blinkTime=r.pzaUtil.getRandomFloatNum(3,6),this.animation.playAnimation("idle",!0)},e.prototype.logicUpdate=function(t){var e=this;if(null!=this.baseData&&!this.baseData.isDead&&null!=this.baseData.plantData)return this.floatMove(t),this.blinkTime-=t,this.blinkTime<=0?(this.blinkTime=r.pzaUtil.getRandomFloatNum(3,6),void this.animation.playAnimation("idle_eye",!1,function(){e.animation.playAnimation("idle",!0)})):void 0},e.prototype.floatMove=function(t){this.stayTime-=t,this.stayTime>0||(this.baseData.floatY+=this.up?Math.abs(7-this.baseData.floatY)/7*.2:-.2*Math.abs(this.baseData.floatY+2)/7,this.baseData.floatY>5&&(this.up=!1),this.baseData.floatY<=0&&(this.up=!0,this.stayTime=.3))},e.prototype.logicLateUpdate=function(){t.prototype.logicLateUpdate.call(this);var e=""+this.baseData.xIndex+this.baseData.yIndex,a=window.pzaplantManager.plantDataMap.get(e);null!=a&&(a.floatY=this.baseData.floatY);var o=window.pzaplantManager.pumpkinDataMap.get(e);null!=o&&(o.floatY=this.baseData.floatY)},i([l],e)}(p.pzaBasePlant));a.pzaLilyPad=s,cc._RF.pop()},{"../../Common/pzaUtil":"pzaUtil","./pzaBasePlant":"pzaBasePlant"}],pzaLoading:[function(t,e,a){"use strict";cc._RF.push(e,"27507cVVUpAoLFLVcGzTsNh","pzaLoading");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaLoading=void 0;var r=t("../Scripts/Common/pzaLocalData"),p=t("../Scripts/Common/pzaUIManager"),c=t("../Scripts/Load/pzaBundleObjectPool"),l=t("../Scripts/Load/pzaPreLoadManager"),s=cc._decorator,u=s.ccclass,h=s.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.grassProBar=null,e.grassTag=null,e.loadTip=null,e.startTip=null,e.flowerAni=[],e.loadPro=new Map,e.finishLoadCount=0,e.loadCom=!1,e}return n(e,t),e.prototype.onLoad=function(){var t=this;this.grassProBar.fillRange=0,this.grassTag.x=-230,this.loadTip.active=!0,this.startTip.active=!1,this.loadCom=!1,l.pzaPreLoadManager.AllResourceMap.forEach(function(e){c.pzaBundleObjectPool.preLoadResource(e,function(a,o){t.loadProgress(e,a/o)},function(){t.finishLoad(e)})}),r.pzaLocalData.readLoaclData(),this.node.on(cc.Node.EventType.TOUCH_START,this.clickStart,this)},e.prototype.onDisable=function(){this.node.off(cc.Node.EventType.TOUCH_START,this.clickStart,this)},e.prototype.loadProgress=function(t,e){var a=this.loadPro.get(t);if(!(null!=a&&a>e)){this.loadPro.set(t,e);var o=0;this.loadPro.forEach(function(t){o+=t}),o/=l.pzaPreLoadManager.AllResourceMap.size,this.grassProBar.fillRange=o,this.grassTag.x=460*o-230,this.grassTag.y=68*(1-.4*o)-211-68,this.grassTag.angle=-360*o,this.grassTag.scale=1-.4*o,this.showFlower(460*o-230)}},e.prototype.finishLoad=function(){this.finishLoadCount++,this.finishLoadCount>=l.pzaPreLoadManager.AllResourceMap.size&&(this.grassTag.active=!1,this.loadTip.active=!1,this.startTip.active=!0,this.loadCom=!0)},e.prototype.clickStart=function(){this.loadCom&&cc.director.loadScene("main",function(){p.pzaUIManager.baseShowBoardUI(l.pzaResourceUrl.MAIN_VIEW,null)})},e.prototype.showFlower=function(t){this.flowerAni.forEach(function(e){e.node.x+20<t&&(e.node.active=!0)})},i([h({displayName:"\u8349\u5730\u8fdb\u5ea6\u6761",type:cc.Sprite})],e.prototype,"grassProBar",void 0),i([h({displayName:"\u8349\u579b\u6807\u8bb0",type:cc.Node})],e.prototype,"grassTag",void 0),i([h({displayName:"\u52a0\u8f7d\u63d0\u793a",type:cc.Node})],e.prototype,"loadTip",void 0),i([h({displayName:"\u5f00\u59cb\u63d0\u793a",type:cc.Node})],e.prototype,"startTip",void 0),i([h({displayName:"\u82b1\u52a8\u753b",type:[sp.Skeleton]})],e.prototype,"flowerAni",void 0),i([u],e)}(cc.Component);a.pzaLoading=f,cc._RF.pop()},{"../Scripts/Common/pzaLocalData":"pzaLocalData","../Scripts/Common/pzaUIManager":"pzaUIManager","../Scripts/Load/pzaBundleObjectPool":"pzaBundleObjectPool","../Scripts/Load/pzaPreLoadManager":"pzaPreLoadManager"}],pzaLocalData:[function(t,e,a){"use strict";cc._RF.push(e,"4d625P7p1FM7rUmddZZbB7E","pzaLocalData"),Object.defineProperty(a,"__esModule",{value:!0}),a.pzaLocalData=void 0;var o=t("../Battle/Data/pzaPlantEnum"),n=function(){function t(){this.curChapter=1,this.curPart=1,this.passLastPart=!1,this.lastChapter=1,this.lastPart=1,this.plantSlotCount=6,this.coin=0,this.unlockZombies=[1],this.ownPlants=[o.pzaPlantEnum.PEA_SHOOTER],this.partStar=[],this.curGuideType=null,this.firstPickCoinTip=!1}return t.passPart=function(t,e,a){return this.data.partStar[t-1][e-1]<a&&(this.data.partStar[t-1][e-1]=a,this.addDirty("partStar")),t==this.data.curChapter&&e==this.data.curPart&&(t>=5&&e>=10?(this.data.passLastPart=!0,this.addDirty("passLastPart"),!0):e>=10?(this.data.curChapter++,this.data.curPart=1,this.addDirty("curChapter","curPart"),!0):(this.data.curPart++,this.addDirty("curPart"),!0))},t.getPassPart=function(t){return t==this.data.curChapter?this.data.curPart-1:t>this.data.curChapter?0:-1},t.getPartStar=function(t,e){var a=this.data.partStar[t-1];if(null==a)return 0;var o=a[e-1];return null==o?0:o},t.getAllStar=function(){for(var t=0,e=0;e<this.data.partStar.length;e++){var a=this.data.partStar[e];if(null!=a)for(var o=0;o<a.length;o++){var n=a[o];null!=n&&(t+=n)}}return t},t.getJsonStr=function(){return JSON.stringify(this.data)},t.parseFromStr=function(t){if(null!=t&&""!=t&&"string"==typeof t)try{var e=JSON.parse(t);if(null==e)return;null!=e.curChapter&&(this.data.curChapter=e.curChapter),null!=e.curPart&&(this.data.curPart=e.curPart),null!=e.passLastPart&&(this.data.passLastPart=e.passLastPart),null!=e.lastChapter&&(this.data.lastChapter=e.lastChapter),null!=e.lastPart&&(this.data.lastPart=e.lastPart),null!=e.plantSlotCount&&(this.data.plantSlotCount=e.plantSlotCount),null!=e.coin&&(this.data.coin=e.coin,this.data.coin=1e4),null!=e.unlockZombies&&(this.data.unlockZombies=e.unlockZombies),null!=e.ownPlants&&(this.data.ownPlants=e.ownPlants),null!=e.partStar&&(this.data.partStar=e.partStar),null!=e.curGuideType&&(this.data.curGuideType=e.curGuideType),null!=e.firstPickCoinTip&&(this.data.firstPickCoinTip=e.firstPickCoinTip)}catch(a){console.error(a)}},t.addDirty=function(){for(var t=this,e=[],a=0;a<arguments.length;a++)e[a]=arguments[a];null!=e&&e.forEach(function(e){t.dirtySet.add(e)})},t.readLoaclData=function(){var t=cc.sys.localStorage.getItem(this.DATA_SAVE_KEY);this.parseFromStr(t)},t.localSvaeData=function(){this.dirtySet.clear();var t=this.getJsonStr();cc.sys.localStorage.setItem(this.DATA_SAVE_KEY,t)},t.DATA_SAVE_KEY="pza-data",t.dirtySet=new Set,t.data=new t,t}();a.pzaLocalData=n,cc._RF.pop()},{"../Battle/Data/pzaPlantEnum":"pzaPlantEnum"}],pzaMagnetShroom:[function(t,e,a){"use strict";cc._RF.push(e,"ee7788Nq0hJyLUTPjE/LN6f","pzaMagnetShroom");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaMagnetShroom=void 0;var r=t("../../Common/pzaGameConfig"),p=t("../../Common/pzaUtil"),c=t("../Data/pzaZombieEnum"),l=t("../pzaEffectManager"),s=t("../pzaGameState"),u=t("./pzaBasePlant"),h=cc._decorator,f=h.ccclass,d=(h.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.blinkTime=3,e.restTime=0,e.drawTime=0,e.resting=!1,e}return n(e,t),e.prototype.bindData=function(e){t.prototype.bindData.call(this,e),s.pzaGameState.gameTimeType==s.pzaGameTimeType.DAY&&(e.plantData.sleeping=!0),this.restTime=0,this.resting=!1,this.blinkTime=p.pzaUtil.getRandomFloatNum(3,6),this.playNormalAni()},e.prototype.playNormalAni=function(){var t=this,e=function(){if(t.drawTime>0)t.animation.playAnimation("attack",!1,e);else{if(t.restTime<=0&&!t.baseData.plantData.sleeping){if(t.resting)return t.resting=!1,void t.animation.playAnimation("back",!1,e);var a=t.findTarget();if(null!=a)return t.restTime=15,t.resting=!0,void t.animation.playAnimation("go",!1,function(){t.absorbIronEquip(a),t.drawTime=1.5,t.animation.playAnimation("attack",!1,e)})}if(t.blinkTime>0)return t.restTime>0?void t.animation.playAnimation("idle4",!1,e):void t.animation.playAnimation(t.baseData.plantData.sleeping?"idle3":"idle1",!1,e);t.blinkTime=p.pzaUtil.getRandomFloatNum(3,6),t.restTime>0?t.animation.playAnimation("idle4_eye",!1,e):t.animation.playAnimation(t.baseData.plantData.sleeping?"idle3_eye":"idle1_eye",!1,e)}};this.animation.playAnimation(this.baseData.plantData.sleeping?"idle3":"idle1",!1,e)},e.prototype.logicUpdate=function(t){this.blinkTime-=t,this.restTime-=t,this.drawTime-=t},e.prototype.wakeUp=function(){null!=this.baseData&&null!=this.baseData.plantData&&this.baseData.plantData.sleeping&&(this.baseData.plantData.sleeping=!1,this.animation.playAnimation("awoke",!1,this.playNormalAni.bind(this)))},e.prototype.findTarget=function(){var t=this,e=null,a=-1,o=3*r.pzaGameConfig.getBlockWidth(s.pzaGameState.curChapter);return window.pzazombieManager.zombieMap.forEach(function(n,i){if(null!=i&&null!=i.zombieData&&(!(i.zombieData.equipType!=c.pzaEquipType.IRON_EQUIP||i.zombieData.equipHp<=0)||i.zombieData.toolType==c.pzaEquipType.IRON_EQUIP)){var r=i.logicPos.sub(t.baseData.logicPos).len();r<=o&&(-1==a||r<a)&&(e=i,a=r)}}),e},e.prototype.absorbIronEquip=function(t){if(null!=t&&null!=t.zombieData&&!t.isDead){var e=c.pzaHurtStateEnum.INTACT;if(0!=t.zombieData.maxEquipHp){var a=t.zombieData.equipHp/t.zombieData.maxEquipHp;e=a<=1/3?c.pzaHurtStateEnum.DYING:a<=2/3?c.pzaHurtStateEnum.HURT:c.pzaHurtStateEnum.INTACT}t.destroyIronEquip(),l.pzaEffectManager.createAbsorbIronEquip(this.baseData,t,e)}},i([f],e)}(u.pzaBasePlant));a.pzaMagnetShroom=d,cc._RF.pop()},{"../../Common/pzaGameConfig":"pzaGameConfig","../../Common/pzaUtil":"pzaUtil","../Data/pzaZombieEnum":"pzaZombieEnum","../pzaEffectManager":"pzaEffectManager","../pzaGameState":"pzaGameState","./pzaBasePlant":"pzaBasePlant"}],pzaMainView:[function(t,e,a){"use strict";cc._RF.push(e,"989ffMuIlxKu6rfCg54nfUa","pzaMainView");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaMainView=void 0;var r=t("../Common/pzaGameConfig"),p=t("../Common/pzaGamePartConfig"),c=t("../Common/pzaUIManager"),l=t("../Load/pzaPreLoadManager"),s=t("../Shop/pzaShopConfig"),u=t("../utils/pzaResMgr"),h=cc._decorator,f=h.ccclass,d=(h.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.onLoad=function(){u.pzaResMgr.instance().loadConf(function(){var t=u.pzaResMgr.instance().getConf("a2");p.pzaWaveConfig.initBaseWaveConfig(t);var e=u.pzaResMgr.instance().getConf("a3");r.pzaGameConfig.initPlantConfig(e);var a=u.pzaResMgr.instance().getConf("a4");r.pzaGameConfig.initZombieConfig(a);var o=u.pzaResMgr.instance().getConf("a5");p.pzaGamePartConfig.initPartConfig(o);var n=u.pzaResMgr.instance().getConf("a6");s.pzaShopConfig.initShopConfig(n)})},e.prototype.clickAdventure=function(){c.pzaUIManager.baseShowPopUI(l.pzaResourceUrl.CHAPTER_SELECT_VIEW,null)},i([f],e)}(cc.Component));a.pzaMainView=d,cc._RF.pop()},{"../Common/pzaGameConfig":"pzaGameConfig","../Common/pzaGamePartConfig":"pzaGamePartConfig","../Common/pzaUIManager":"pzaUIManager","../Load/pzaPreLoadManager":"pzaPreLoadManager","../Shop/pzaShopConfig":"pzaShopConfig","../utils/pzaResMgr":"pzaResMgr"}],pzaMapManager:[function(t,e,a){"use strict";cc._RF.push(e,"2ae8cyvWMVGZ5KducPAy6fC","pzaMapManager");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaMapManager=a.pzaBlockType=void 0;var r,p=t("../Battle/Data/pzaBaseData"),c=t("../Battle/Data/pzaZombieEnum"),l=t("../Battle/Zombie/pzaBaseZombie"),s=t("../Battle/pzaCleanCar"),u=t("../Battle/pzaEffectManager"),h=t("../Battle/pzaGameState"),f=t("../Battle/pzaTomb"),d=t("../Load/pzaBundleObjectPool"),m=t("../Load/pzaPreLoadManager"),y=t("../View/Battle/pzaBattleDownView"),z=t("../View/Battle/pzaBattleUpView"),b=t("./pzaGameConfig"),g=t("./pzaGamePartConfig"),v=t("./pzaNodeManager"),_=t("./pzaSpriteFrameManager"),P=t("./pzaTipManager"),E=t("./pzaUtil"),C=cc._decorator,D=C.ccclass,S=C.property;(function(t){t[t.BLANK=0]="BLANK",t[t.GRASS=1]="GRASS",t[t.POND=2]="POND",t[t.ROOF=3]="ROOF",t[t.ICE=4]="ICE",t[t.DOOM_HOLE=5]="DOOM_HOLE"})(r=a.pzaBlockType||(a.pzaBlockType={}));var O=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mapSprite=null,e.preMapSprite=null,e.inDoorSprite=null,e.tussock=null,e.previewZombieNode=null,e.previewShadowNode=null,e.plantTouchNode=null,e.battleUpView=null,e.battleDownView=null,e.redLine=null,e.mapOriPos=null,e.BlockTypeMap=new Map,e.TombSet=new Set,e.TombMap=new Map,e.PreviewZombies=new Set,e.IceGroundSet=new Set,e.DoomHoleSet=new Set,e.fog=null,e}return n(e,t),e.prototype.onLoad=function(){window.pzaMapManager=this,this.mapOriPos=cc.v2(this.mapSprite.node.position.x,this.mapSprite.node.position.y)},e.prototype.init=function(t,e){this.battleDownView.node.active=!1,this.battleUpView.node.active=!1,this.redLine.active=!1,this.inDoorSprite.node.active=!1,this.preMapSprite.node.active=!1,this.tussock.active=1==t&&e<=4,_.pzaSpriteFrameManager.loadMap(t,e,this.mapSprite);var a=b.pzaGameConfig.getMapOriPos(t);null!=a&&this.plantTouchNode.setPosition(a.clone()),this.BlockTypeMap.clear(),this.TombSet.clear(),this.TombMap.clear(),this.PreviewZombies.clear(),this.IceGroundSet.clear(),this.DoomHoleSet.clear(),this.fog=null,this.initMapPos(!0);var o=b.pzaGameConfig.getMapRow(t),n=b.pzaGameConfig.getMapColumn();if(1!=t||1!=e)if(1!=t||2!=e&&3!=e){if(1==t||2==t)for(i=0;i<n;i++)for(p=0;p<o;p++)c=""+i+p,this.BlockTypeMap.set(c,r.GRASS);else if(3==t||4==t){for(i=0;i<n;i++)for(p=0;p<o;p++)c=""+i+p,2==p||3==p?this.BlockTypeMap.set(c,r.POND):this.BlockTypeMap.set(c,r.GRASS);u.pzaEffectManager.createWaterLightEffect()}else if(5==t)for(i=0;i<n;i++)for(p=0;p<o;p++)c=""+i+p,this.BlockTypeMap.set(c,r.ROOF)}else for(var i=0;i<n;i++)for(var p=0;p<o;p++){var c=""+i+p;l=1==p||2==p||3==p?r.GRASS:r.BLANK,this.BlockTypeMap.set(c,l)}else for(i=0;i<n;i++)for(p=0;p<o;p++){c=""+i+p;var l=2==p?r.GRASS:r.BLANK;this.BlockTypeMap.set(c,l)}},e.prototype.getRandomWayIndex=function(t,e,a){if(null==e||null==a||a.length<=0)return 0;var o=a[t%a.length];if(e==c.pzaZombieEnum.GARGANTUAR&&o==a.length-1)return E.pzaUtil.getRandomValueFromArray([0,1]);var n=b.pzaGameConfig.isWaterZombie(e),i=this.isInWaterWay(o);return i&&n||!i&&!n?o:n?this.getRandomWaterWay():this.getRandomNoWaterWay()},e.prototype.getRandomNoWaterWay=function(){return E.pzaUtil.getRandomValueFromArray([0,1,4,5])},e.prototype.getRandomWaterWay=function(){return Math.random()>.5?2:3},e.prototype.isInWaterWay=function(t){return!(3!=h.pzaGameState.curChapter&&4!=h.pzaGameState.curChapter||2!=t&&3!=t)},e.prototype.getRowBlockType=function(t){var e="0"+t;return this.BlockTypeMap.get(e)},e.prototype.getPlantBlockType=function(t,e){var a=!1;if(this.DoomHoleSet.forEach(function(o){null!=o&&o.mapXIndex==t&&o.mapYIndex==e&&(a=!0)}),a)return r.DOOM_HOLE;var o=!1;if(this.IceGroundSet.forEach(function(a){a.containBlock(t,e)&&(o=!0)}),o)return r.ICE;var n=""+t+e;return this.BlockTypeMap.get(n)},e.prototype.hasTomb=function(t,e){var a=""+t+e;return this.TombSet.has(a)},e.prototype.initMapTomb=function(t,e,a){var o=this,n=g.pzaGamePartConfig.getPartConfig(t,e),i=n.tombCount;if(i<=0)a&&a();else{for(var p=b.pzaGameConfig.getMapRow(t),c=b.pzaGameConfig.getMapColumn(),l=[],s=n.tombMinRow-1;s<c;s++)for(var u=0;u<p;u++){var h=""+s+u,f=this.BlockTypeMap.get(h);f!=r.GRASS&&f!=r.ROOF||l.push(h)}var d=E.pzaUtil.getRandomArrayValue(l,i);null!=d&&d.forEach(function(t){o.TombSet.add(t)});var m=function(){--i<=0&&a&&a()};for(s=0;s<c;s++)for(u=0;u<p;u++)h=""+s+u,this.TombSet.has(h)&&this.createTomb(s,u,m)}},e.prototype.randomCreateTomb=function(t){var e=this,a=g.pzaGamePartConfig.getPartConfig(h.pzaGameState.curChapter,h.pzaGameState.curPart);if(null!=a){for(var o=b.pzaGameConfig.getMapRow(h.pzaGameState.curChapter),n=b.pzaGameConfig.getMapColumn(),i=[],p=a.tombMinRow-1;p<n;p++)for(var c=0;c<o;c++){var l=""+p+c;if(!this.TombSet.has(l)){var s=this.BlockTypeMap.get(l);s!=r.GRASS&&s!=r.ROOF||i.push(l)}}var u=E.pzaUtil.getRandomArrayValue(i,t);for(null!=u&&u.forEach(function(t){e.TombSet.add(t)}),p=0;p<n;p++)for(c=0;c<o;c++)l=""+p+c,-1!=u.indexOf(l)&&this.createTomb(p,c,null)}},e.prototype.createTomb=function(t,e,a){var o=this,n=v.pzaNodeManager.getDownEffectNode();if(null!=n){var i=cc.v2(b.pzaGameConfig.getXPos(h.pzaGameState.curChapter,t)+b.pzaGameConfig.getMapOriPos(h.pzaGameState.curChapter).x+b.pzaGameConfig.getXInterval(h.pzaGameState.curChapter,t)/2,b.pzaGameConfig.getYPos(h.pzaGameState.curChapter,e)+.2*b.pzaGameConfig.getYInterval(h.pzaGameState.curChapter,e)+b.pzaGameConfig.getMapOriPos(h.pzaGameState.curChapter).y);d.pzaBundleObjectPool.requestInstantByUrl(m.pzaResourceUrl.TOMB,!1,function(r,p){if(null==r&&null!=p){p.setParent(n),p.setPosition(i);var c=p.getComponent(f.pzaTomb);c&&c.init(t,e,a);var l=""+t+e;o.TombMap.set(l,c)}else console.error(r)})}},e.prototype.removeTomb=function(t,e){var a=""+t+e,o=this.TombMap.get(a);o&&o.close(),this.TombMap.delete(a),this.TombSet.delete(a)},e.prototype.initCleanCar=function(){var t=b.pzaGameConfig.getMapRow(h.pzaGameState.curChapter),e=v.pzaNodeManager.getPlantZombieNode();if(null!=e)for(var a=function(t){if(window.pzaMapManager.getRowBlockType(t)==r.BLANK)return"continue";d.pzaBundleObjectPool.requestInstantByUrl(m.pzaResourceUrl.CLEANER_CAR,!1,function(a,o){if(null==a&&null!=o){o.setParent(e);var n=o.getComponent(s.pzaCleanCar);n&&n.init(1,t)}else console.error(a)})},o=0;o<t;o++)a(o)},e.prototype.addIceGround=function(t){this.IceGroundSet.add(t)},e.prototype.removeIceGround=function(t){this.IceGroundSet.delete(t)},e.prototype.removeRowIceGround=function(t){this.IceGroundSet.forEach(function(e){null!=e&&e.yIndex==t&&e.close()})},e.prototype.getIceGround=function(t){var e=[];return this.IceGroundSet.forEach(function(a){null!=a&&a.yIndex==t&&e.push(a)}),e},e.prototype.addDoomHole=function(t){this.DoomHoleSet.add(t)},e.prototype.removeDoomHole=function(t){this.DoomHoleSet.delete(t)},e.prototype.fogEnter=function(t){var e=g.pzaGamePartConfig.getPartConfig(h.pzaGameState.curChapter,h.pzaGameState.curPart);null==e||e.minFogColumn<=0?t&&t():u.pzaEffectManager.createFogEffect(e.minFogColumn,t)},e.prototype.blowFog=function(){null!=this.fog&&this.fog.blowFog()},e.prototype.planternScatterFog=function(t){null!=this.fog&&this.fog.addPlantern(t)},e.prototype.planternRemove=function(t){null!=this.fog&&this.fog.removePlantern(t)},e.prototype.createPreviewZombie=function(t,e){var a=this,o=10==e?E.pzaUtil.getRandomNum(16,17):E.pzaUtil.getRandomNum(9,10),n=1;1==t&&1==e&&(o=5),3==t&&5==e&&(o=E.pzaUtil.getRandomNum(13,14),n=b.pzaGameConfig.miniZombieScale);var i=g.pzaGamePartConfig.getPartConfig(t,e);if(null!=i){var r=i.getPreviewZombies(o);if(null!=r){var c=[];c.push(cc.v2(1750+E.pzaUtil.getRandomFloatNum(-25,25),40)),c.push(cc.v2(1925+E.pzaUtil.getRandomFloatNum(-25,25),40)),c.push(cc.v2(2025+E.pzaUtil.getRandomFloatNum(-25,25),40)),c.push(cc.v2(1750+E.pzaUtil.getRandomFloatNum(-25,25),90)),c.push(cc.v2(1925+E.pzaUtil.getRandomFloatNum(-25,25),90)),c.push(cc.v2(2025+E.pzaUtil.getRandomFloatNum(-25,25),90)),c.push(cc.v2(1750+E.pzaUtil.getRandomFloatNum(-25,25),140)),c.push(cc.v2(1925+E.pzaUtil.getRandomFloatNum(-25,25),140)),c.push(cc.v2(2025+E.pzaUtil.getRandomFloatNum(-25,25),140)),c.push(cc.v2(1750+E.pzaUtil.getRandomFloatNum(-25,25),190)),c.push(cc.v2(1925+E.pzaUtil.getRandomFloatNum(-25,25),190)),c.push(cc.v2(2025+E.pzaUtil.getRandomFloatNum(-25,25),190)),c.push(cc.v2(1680+E.pzaUtil.getRandomFloatNum(-20,20),240)),c.push(cc.v2(1780+E.pzaUtil.getRandomFloatNum(-20,20),240)),c.push(cc.v2(1880+E.pzaUtil.getRandomFloatNum(-20,20),240)),c.push(cc.v2(1680+E.pzaUtil.getRandomFloatNum(-20,20),290)),c.push(cc.v2(1780+E.pzaUtil.getRandomFloatNum(-20,20),290)),c.push(cc.v2(1880+E.pzaUtil.getRandomFloatNum(-20,20),290)),c.push(cc.v2(1680+E.pzaUtil.getRandomFloatNum(-20,20),340)),c.push(cc.v2(1780+E.pzaUtil.getRandomFloatNum(-20,20),340)),c.push(cc.v2(1880+E.pzaUtil.getRandomFloatNum(-20,20),340)),c.push(cc.v2(1670+E.pzaUtil.getRandomFloatNum(-30,30),390)),c.push(cc.v2(1770+E.pzaUtil.getRandomFloatNum(-30,30),390)),c.push(cc.v2(1670+E.pzaUtil.getRandomFloatNum(-30,30),440)),c.push(cc.v2(1770+E.pzaUtil.getRandomFloatNum(-30,30),440)),c.push(cc.v2(1670+E.pzaUtil.getRandomFloatNum(-30,30),490)),c.push(cc.v2(1770+E.pzaUtil.getRandomFloatNum(-30,30),490)),c.push(cc.v2(1660+E.pzaUtil.getRandomFloatNum(-20,20),540)),c.push(cc.v2(1700+E.pzaUtil.getRandomFloatNum(-20,20),540)),c.sort(function(){return Math.random()-.5});for(var s=function(t){var e=r[t],o=c[t],i=m.pzaPreLoadManager.getZombieUrl(e);d.pzaBundleObjectPool.requestInstantByUrl(i,!1,function(t,i){if(null==t&&null!=i){i.setParent(a.previewZombieNode),i.setPosition(o),i.zIndex=-o.y;var r=i.getComponent(l.pzaBaseZombie),c=new p.pzaBaseData(null,e);c.hp=1,c.logicPos=o,r&&r.preview(c,a.previewShadowNode,n),a.PreviewZombies.add(r)}else console.error(t)})},u=0;u<r.length;u++)s(u)}}},e.prototype.closePreviewZombie=function(){this.PreviewZombies.forEach(function(t){t&&t.previewClose()}),this.PreviewZombies.clear()},e.prototype.previewMap=function(t,e){var a=this;window.pzaMapManager.createPreviewZombie(h.pzaGameState.curChapter,h.pzaGameState.curPart),this.node.stopAllActions();var o=this.mapSprite.node.width*(1-this.mapSprite.node.anchorX)-(1280+(cc.winSize.width-1280)/2),n=function(){a.node.runAction(cc.sequence(cc.delayTime(e?.1:1.5),cc.moveTo(1.5,cc.v2(-o,0)),cc.callFunc(function(){t&&t()})))};if(!e)return n();P.pzaTipManager.showPreviewTip(h.pzaGameState.curChapter,n)},e.prototype.cancelPreviewMap=function(t,e){var a=this;this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.delayTime(t),cc.moveTo(1.5,cc.v2()),cc.delayTime(.3),cc.callFunc(function(){a.closePreviewZombie(),e&&e()})))},e.prototype.failShowInfactMap=function(){this.node.stopAllActions();var t=this.mapSprite.node.width*this.mapSprite.node.anchorX-(cc.winSize.width-1280)/2;t=Math.max(0,t),this.node.runAction(cc.moveTo(1,cc.v2(t,0)))},e.prototype.initMapPos=function(t){if(this.node.stopAllActions(),t){var e=this.mapSprite.node.width*this.mapSprite.node.anchorX-(cc.winSize.width-1280)/2;e=Math.max(0,e),this.node.setPosition(cc.v2(e,0))}else this.node.setPosition(cc.v2())},e.prototype.openBattleUI=function(){this.battleUpView.node.active=!0,this.battleDownView.node.active=!0},e.prototype.closeBattleUI=function(){this.battleUpView.node.active=!1,this.battleDownView.node.active=!1},e.prototype.showSunUI=function(){this.battleDownView.showSunUI(),h.pzaGameState.showSunUI=!0},e.prototype.hideSunUI=function(){this.battleDownView.hideSunUI(),h.pzaGameState.showSunUI=!1},e.prototype.showCoinUI=function(){this.battleUpView.showCoinNode()},e.prototype.showRedLine=function(){this.redLine.active=!0},e.prototype.openDoor=function(){var t=h.pzaGameState.curChapter;this.inDoorSprite.node.active=!0,this.preMapSprite.node.active=!0,_.pzaSpriteFrameManager.loadPreMap(t,this.preMapSprite),_.pzaSpriteFrameManager.loadInDoor(t,this.inDoorSprite),1==t?(this.preMapSprite.node.setPosition(cc.v2(-729.6,-37.3)),this.inDoorSprite.node.setPosition(cc.v2(-597,-23))):2==t?(this.preMapSprite.node.setPosition(cc.v2(-729.6,-37.3)),this.inDoorSprite.node.setPosition(cc.v2(-594,-42))):3==t?(this.preMapSprite.node.setPosition(cc.v2(-768.6,-35.3)),this.inDoorSprite.node.setPosition(cc.v2(-683,-24))):4==t&&(this.preMapSprite.node.setPosition(cc.v2(-768.6,-35.3)),this.inDoorSprite.node.setPosition(cc.v2(-683,-24)))},i([S({displayName:"\u5730\u56fe",type:cc.Sprite})],e.prototype,"mapSprite",void 0),i([S({displayName:"\u5730\u56fe\u524d\u666f",type:cc.Sprite})],e.prototype,"preMapSprite",void 0),i([S({displayName:"\u5f00\u95e8",type:cc.Sprite})],e.prototype,"inDoorSprite",void 0),i([S({displayName:"\u8349\u4e1b",type:cc.Node})],e.prototype,"tussock",void 0),i([S({displayName:"\u5730\u56fe\u9884\u89c8\u50f5\u5c38\u8282\u70b9",type:cc.Node})],e.prototype,"previewZombieNode",void 0),i([S({displayName:"\u5730\u56fe\u9884\u89c8\u5f71\u5b50\u8282\u70b9",type:cc.Node})],e.prototype,"previewShadowNode",void 0),i([S({displayName:"\u5730\u56fe\u79cd\u690d\u8282\u70b9",type:cc.Node})],e.prototype,"plantTouchNode",void 0),i([S({displayName:"\u5730\u56fe\u4e0a\u5c42UI",type:z.pzaBattleUpView})],e.prototype,"battleUpView",void 0),i([S({displayName:"\u5730\u56fe\u4e0b\u5c42UI",type:y.pzaBattleDownView})],e.prototype,"battleDownView",void 0),i([S({displayName:"\u7ea2\u7ebf",type:cc.Node})],e.prototype,"redLine",void 0),i([D],e)}(cc.Component);a.pzaMapManager=O,cc._RF.pop()},{"../Battle/Data/pzaBaseData":"pzaBaseData","../Battle/Data/pzaZombieEnum":"pzaZombieEnum","../Battle/Zombie/pzaBaseZombie":"pzaBaseZombie","../Battle/pzaCleanCar":"pzaCleanCar","../Battle/pzaEffectManager":"pzaEffectManager","../Battle/pzaGameState":"pzaGameState","../Battle/pzaTomb":"pzaTomb","../Load/pzaBundleObjectPool":"pzaBundleObjectPool","../Load/pzaPreLoadManager":"pzaPreLoadManager","../View/Battle/pzaBattleDownView":"pzaBattleDownView","../View/Battle/pzaBattleUpView":"pzaBattleUpView","./pzaGameConfig":"pzaGameConfig","./pzaGamePartConfig":"pzaGamePartConfig","./pzaNodeManager":"pzaNodeManager","./pzaSpriteFrameManager":"pzaSpriteFrameManager","./pzaTipManager":"pzaTipManager","./pzaUtil":"pzaUtil"}],pzaMarigold:[function(t,e,a){"use strict";cc._RF.push(e,"9267fAJVONNm59HBZWdHpJe","pzaMarigold");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaMarigold=void 0;var r=t("./pzaBasePlant"),p=cc._decorator,c=p.ccclass,l=(p.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.bindData=function(e){t.prototype.bindData.call(this,e),this.animation.playAnimation("daiji",!0)},e.prototype.logicUpdate=function(t){null==this.baseData||this.baseData.isDead||null==this.baseData.plantData||(this.baseData.plantData.atkInterval+=t,this.baseData.plantData.atkInterval<this.atkInterval)||(this.baseData.plantData.atkInterval=0,this.node.convertToWorldSpaceAR(cc.v2()))},i([c],e)}(r.pzaBasePlant));a.pzaMarigold=l,cc._RF.pop()},{"./pzaBasePlant":"pzaBasePlant"}],pzaMelonPult:[function(t,e,a){"use strict";cc._RF.push(e,"64a61e7cCtKGIFerGr5ltkK","pzaMelonPult");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaMelonPult=void 0;var r=t("../../Common/pzaGameCommonPool"),p=t("../../Common/pzaNodeManager"),c=t("../Bullet/pzaThrowBullet"),l=t("../Data/pzaBuffData"),s=t("./pzaBasePlant"),u=cc._decorator,h=u.ccclass,f=u.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.shootNode=null,e.bulletPrefab=null,e}return n(e,t),e.prototype.bindData=function(e){t.prototype.bindData.call(this,e),this.animation.playAnimation("daiji",!0)},e.prototype.logicUpdate=function(t){var e=this;if(!(null==this.baseData||this.baseData.isDead||null==this.baseData.plantData||(this.baseData.plantData.atkInterval+=t,this.baseData.plantData.atkInterval<this.atkInterval))){var a=this.findAttackTarget();null!=a&&(this.baseData.plantData.atkInterval=0,this.animation.playAnimation("gongji",!1,function(){e.animation.playAnimation("daiji",!0)},function(){e.attack(a)}))}},e.prototype.findAttackTarget=function(){var t=this;if(null==this.baseData||null==this.baseData.logicPos)return null;var e=null,a=-1;return window.pzazombieManager.zombieDatas[this.baseData.yIndex].forEach(function(o){if(o&&o.logicPos&&!(o.logicPos.x<t.baseData.logicPos.x)&&!o.buffData.hasBuff(l.pzaBuffType.FLY)&&!o.buffData.hasBuff(l.pzaBuffType.UNABLE_SELECT)){var n=o.logicPos.x-t.baseData.logicPos.x;(-1==a||n<a)&&(e=o,a=n)}}),e},e.prototype.attack=function(t){if(null!=t&&null!=t.logicPos&&null!=this.baseData&&null!=this.baseData.logicPos){var e=p.pzaNodeManager.getBulletNode();if(null!=e){var a=r.pzaGameCommonPool.requestInstant(this.bulletPrefab,!1);if(null!=a){var o=this.node.convertToNodeSpaceAR(this.shootNode.convertToWorldSpaceAR(cc.v2()));a.setParent(e);var n=cc.v2(o.x+this.baseData.logicPos.x,o.y+this.baseData.logicPos.y);a.setPosition(n);var i=a.getComponent(c.pzaThrowBullet);null!=i&&(i.init(this.baseData.yIndex,this.baseData.atk,t),i.hasSpatter=!0)}}}},i([f({displayName:"\u53d1\u5c04\u70b9",type:cc.Node})],e.prototype,"shootNode",void 0),i([f({displayName:"\u5b50\u5f39\u9884\u8bbe",type:cc.Prefab})],e.prototype,"bulletPrefab",void 0),i([h],e)}(s.pzaBasePlant);a.pzaMelonPult=d,cc._RF.pop()},{"../../Common/pzaGameCommonPool":"pzaGameCommonPool","../../Common/pzaNodeManager":"pzaNodeManager","../Bullet/pzaThrowBullet":"pzaThrowBullet","../Data/pzaBuffData":"pzaBuffData","./pzaBasePlant":"pzaBasePlant"}],pzaMenuView:[function(t,e,a){"use strict";cc._RF.push(e,"2ba1170aStGH6sXVabAjldb","pzaMenuView");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaMenuView=void 0;var r=t("../../Battle/pzaGameState"),p=t("../../Common/pzaGameCommonPool"),c=t("../../Common/pzaGameManager"),l=t("../../Common/pzaUIManager"),s=t("../../Common/pzaWorldEventManager"),u=t("../../Load/pzaPreLoadManager"),h=t("./pzaAssessView"),f=cc._decorator,d=f.ccclass,m=(f.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.closeCall=null,e}return n(e,t),e.prototype.bindCloseCall=function(t){this.closeCall=t},e.prototype.clickAssess=function(){var t=this;l.pzaUIManager.baseShowPopUI(u.pzaResourceUrl.GAME_ASSESS_VIEW,function(e){var a=e&&e.getComponent(h.pzaAssessView);a&&a.bindCloseCall(t.closeCall)}),this.close()},e.prototype.clickMainMenu=function(){c.pzaGameManager.removeBattleUI(),s.pzaWorldEventManager.triggerEvent(s.pzaWorldEventType.GAME_OVER,null),l.pzaUIManager.baseShowBoardUI(u.pzaResourceUrl.MAIN_VIEW,null),this.close()},e.prototype.clickOption=function(){var t=this;l.pzaUIManager.baseShowPopUI(u.pzaResourceUrl.GAME_OPTION_VIEW,function(e){var a=e&&e.getComponent(h.pzaAssessView);a&&a.bindCloseCall(t.closeCall)}),this.close()},e.prototype.clickHandbook=function(){l.pzaUIManager.baseShowPopUI(u.pzaResourceUrl.HANDBOOK_VIEW,null)},e.prototype.clickBackGame=function(){this.closeCall&&this.closeCall(),this.close()},e.prototype.clickRestart=function(){c.pzaGameManager.removeBattleUI(),s.pzaWorldEventManager.triggerEvent(s.pzaWorldEventType.GAME_OVER,null),c.pzaGameManager.start(r.pzaGameState.curChapter,r.pzaGameState.curPart),this.close()},e.prototype.close=function(){p.pzaGameCommonPool.returnInstant(this.node)},i([d],e)}(cc.Component));a.pzaMenuView=m,cc._RF.pop()},{"../../Battle/pzaGameState":"pzaGameState","../../Common/pzaGameCommonPool":"pzaGameCommonPool","../../Common/pzaGameManager":"pzaGameManager","../../Common/pzaUIManager":"pzaUIManager","../../Common/pzaWorldEventManager":"pzaWorldEventManager","../../Load/pzaPreLoadManager":"pzaPreLoadManager","./pzaAssessView":"pzaAssessView"}],pzaNewPlantView:[function(t,e,a){"use strict";cc._RF.push(e,"f9afcKJigNB0qIcbc5rtBY4","pzaNewPlantView");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaNewPlantView=void 0;var r=t("../../Battle/Data/pzaDropType"),p=t("../../Common/pzaGameCommonPool"),c=t("../../Common/pzaGameConfig"),l=t("../../Common/pzaGameManager"),s=t("../../Common/pzaSpriteFrameManager"),u=t("../../Common/pzaUIManager"),h=t("../../Common/pzaWorldEventManager"),f=t("../../Load/pzaPreLoadManager"),d=t("../pzaHandbookView"),m=cc._decorator,y=m.ccclass,z=m.property,b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tittle=null,e.plantName=null,e.plantDesc=null,e.cardBoard=null,e.cardBoardFrames=[],e.cardIcon=null,e.priceLabel=null,e.shovel=null,e.handbookNode=null,e.baconic=null,e.taco=null,e.sprinkler=null,e.btnTxt=null,e.dropType=null,e}return n(e,t),e.prototype.showView=function(t,e){if(this.dropType=t,this.shovel.active=t==r.pzaDropType.SHOVEL,this.handbookNode.active=t==r.pzaDropType.HAND_BOOK,this.baconic.active=t==r.pzaDropType.BACONIC,this.taco.active=t==r.pzaDropType.TACO,this.sprinkler.active=t==r.pzaDropType.SPRINKLER,t==r.pzaDropType.SHOVEL)return this.cardBoard.node.active=!1,this.plantName.string="\u94c1\u94f2",this.plantDesc.string="\u8ba9\u4f60\u6316\u51fa\u4e00\u682a\u690d\u7269\u4ee5\u4fbf\u7ed9\u5176\u4ed6\u690d\u7269\u51fa\u7a7a\u95f4",this.tittle.string="\u4f60\u5f97\u5230\u4e00\u628a\u94c1\u94f2\uff01",void(this.btnTxt.string="\u7ee7\u7eed");if(t==r.pzaDropType.HAND_BOOK)return this.cardBoard.node.active=!1,this.plantName.string="\u5927\u56fe\u9274",this.plantDesc.string="\u8bb0\u8f7d\u4f60\u9047\u5230\u7684\u690d\u7269\u548c\u50f5\u5c38",this.tittle.string="\u4f60\u53d1\u73b0\u4e86\u5927\u56fe\u9274\uff01",void(this.btnTxt.string="\u67e5\u770b\u56fe\u9274");if(t==r.pzaDropType.BACONIC)return this.cardBoard.node.active=!1,this.plantName.string="\u57f9\u6839",this.plantDesc.string="\u53ef\u57f9\u6839\u53c8\u80fd\u62ff\u6765\u505a\u4ec0\u4e48\u5462?",this.tittle.string="\u4f60\u53d1\u73b0\u4e86\u4e00\u4e2a\u57f9\u6839\uff01",void(this.btnTxt.string="\u7ee7\u7eed");if(t==r.pzaDropType.TACO)return this.cardBoard.node.active=!1,this.plantName.string="\u7389\u7c73\u5377",this.plantDesc.string="\u8fd9\u4e2a\u7389\u7c73\u5377\u5230\u5e95\u80fd\u505a\u4ec0\u4e48?",this.tittle.string="\u4f60\u53d1\u73b0\u4e86\u4e00\u4e2a\u7389\u7c73\u5377\uff01",void(this.btnTxt.string="\u7ee7\u7eed");if(t==r.pzaDropType.SPRINKLER)return this.cardBoard.node.active=!1,this.plantName.string="\u6d12\u6c34\u58f6",this.plantDesc.string="\u73b0\u5728\u4f60\u53ef\u4ee5\u73a9\u82b1\u56ed\u6a21\u5f0f\u4e86\uff01",this.tittle.string="\u4f60\u53d1\u73b0\u4e86\u4e00\u4e2a\u6d12\u6c34\u58f6\uff01",void(this.btnTxt.string="\u7ee7\u7eed");this.cardBoard.node.active=!0,this.tittle.string="\u4f60\u5f97\u5230\u4e00\u682a\u65b0\u690d\u7269\uff01",this.btnTxt.string="\u7ee7\u7eed";var a=c.pzaGameConfig.getPlantConfig(e);null!=a&&(this.plantName.string=a.name,this.cardBoard.spriteFrame=this.cardBoardFrames[a.rareLevel],this.priceLabel.string=""+a.price);var o=c.pzaGameConfig.PlantDescMap.get(e);null!=o&&(this.plantDesc.string=o),s.pzaSpriteFrameManager.loadPlantCard(e,this.cardIcon)},e.prototype.clickNext=function(){this.close(),this.dropType==r.pzaDropType.HAND_BOOK?(l.pzaGameManager.removeBattleUI(),h.pzaWorldEventManager.triggerEvent(h.pzaWorldEventType.GAME_OVER,null),u.pzaUIManager.baseShowPopUI(f.pzaResourceUrl.HANDBOOK_VIEW,function(t){var e=t&&t.getComponent(d.pzaHandbookView);e&&e.bindCloseCall(function(){l.pzaGameManager.gameWin()})})):l.pzaGameManager.gameWin()},e.prototype.close=function(){p.pzaGameCommonPool.returnInstant(this.node)},i([z({displayName:"\u6807\u9898",type:cc.Label})],e.prototype,"tittle",void 0),i([z({displayName:"\u690d\u7269\u540d\u79f0",type:cc.Label})],e.prototype,"plantName",void 0),i([z({displayName:"\u690d\u7269\u4ecb\u7ecd",type:cc.Label})],e.prototype,"plantDesc",void 0),i([z({displayName:"\u5361\u7247\u6846",type:cc.Sprite})],e.prototype,"cardBoard",void 0),i([z({displayName:"\u5361\u7247\u6846\u5143\u7d20",type:[cc.SpriteFrame]})],e.prototype,"cardBoardFrames",void 0),i([z({displayName:"\u5361\u7247\u56fe",type:cc.Sprite})],e.prototype,"cardIcon",void 0),i([z({displayName:"\u9633\u5149\u4ef7\u683c",type:cc.Label})],e.prototype,"priceLabel",void 0),i([z({displayName:"\u94f2\u5b50",type:cc.Node})],e.prototype,"shovel",void 0),i([z({displayName:"\u56fe\u9274",type:cc.Node})],e.prototype,"handbookNode",void 0),i([z({displayName:"\u57f9\u6839",type:cc.Node})],e.prototype,"baconic",void 0),i([z({displayName:"\u7389\u7c73\u5377",type:cc.Node})],e.prototype,"taco",void 0),i([z({displayName:"\u6c34\u58f6",type:cc.Node})],e.prototype,"sprinkler",void 0),i([z({displayName:"\u6309\u94ae\u6587\u6848",type:cc.Label})],e.prototype,"btnTxt",void 0),i([y],e)}(cc.Component);a.pzaNewPlantView=b,cc._RF.pop()},{"../../Battle/Data/pzaDropType":"pzaDropType","../../Common/pzaGameCommonPool":"pzaGameCommonPool","../../Common/pzaGameConfig":"pzaGameConfig","../../Common/pzaGameManager":"pzaGameManager","../../Common/pzaSpriteFrameManager":"pzaSpriteFrameManager","../../Common/pzaUIManager":"pzaUIManager","../../Common/pzaWorldEventManager":"pzaWorldEventManager","../../Load/pzaPreLoadManager":"pzaPreLoadManager","../pzaHandbookView":"pzaHandbookView"}],pzaNewZombieView:[function(t,e,a){"use strict";cc._RF.push(e,"065d6jtpVlEi5hTXXQxVRdB","pzaNewZombieView");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaNewZombieView=void 0;var r=t("../../Battle/pzaGameState"),p=t("../../Common/pzaGameCommonPool"),c=t("../../Common/pzaGameConfig"),l=t("../../Common/pzaWorldEventManager"),s=cc._decorator,u=s.ccclass,h=s.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.zombieName=null,e.zombieDesc=null,e.maskNode=null,e}return n(e,t),e.prototype.showNewZombie=function(t,e){var a=c.pzaGameConfig.getZombieConfig(t);if(null!=e&&null!=a){this.zombieName.string=a.name;var o=c.pzaGameConfig.ZombieDescMap.get(t);null!=o&&(this.zombieDesc.string=o),this.node.getComponent(cc.Widget).updateAlignment();var n=this.node.convertToNodeSpaceAR(e);this.maskNode.setPosition(cc.v2(n.x,n.y+100))}else this.close()},e.prototype.clickConfirm=function(){this.close()},e.prototype.close=function(){r.pzaGameState.gamePause=!1,l.pzaWorldEventManager.triggerEvent(l.pzaWorldEventType.GAME_RESUME,null),p.pzaGameCommonPool.returnInstant(this.node)},i([h({displayName:"\u50f5\u5c38\u540d\u79f0",type:cc.Label})],e.prototype,"zombieName",void 0),i([h({displayName:"\u50f5\u5c38\u4ecb\u7ecd",type:cc.Label})],e.prototype,"zombieDesc",void 0),i([h({displayName:"\u900f\u660e\u906e\u7f69",type:cc.Node})],e.prototype,"maskNode",void 0),i([u],e)}(cc.Component);a.pzaNewZombieView=f,cc._RF.pop()},{"../../Battle/pzaGameState":"pzaGameState","../../Common/pzaGameCommonPool":"pzaGameCommonPool","../../Common/pzaGameConfig":"pzaGameConfig","../../Common/pzaWorldEventManager":"pzaWorldEventManager"}],pzaNewspaperZombie:[function(t,e,a){"use strict";cc._RF.push(e,"d1e17eiULxA2714SgSPTN3g","pzaNewspaperZombie");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaNewspaperZombie=void 0;var r=t("../../Common/pzaGameConfig"),p=t("../Data/pzaZombieEnum"),c=t("../pzaGameState"),l=t("./pzaBaseZombie"),s=cc._decorator,u=s.ccclass,h=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.equipDying=function(){t.prototype.equipDying.call(this),this.animation.setAnimationSkin("biaoqing1-3")},e.prototype.equipHurt=function(){t.prototype.equipHurt.call(this),this.animation.setAnimationSkin("biaoqing1-2")},e.prototype.equipIntact=function(){t.prototype.equipIntact.call(this),this.animation.setAnimationSkin("biaoqing1-1")},e.prototype.equipDeath=function(){var t=this;this.equipHurtState=p.pzaHurtStateEnum.DEAD,this.hasEquip=!1,null!=this.baseData&&null!=this.baseData.zombieData&&(this.baseData.zombieData.moveSpd=0),this.animation.playAnimation(this.equipDeathAniName,!1,function(){if(t.animation.setAnimationSkin("biaoqing1_0"),null!=t.baseData&&null!=t.baseData.zombieData){var e=r.pzaGameConfig.getZombieSpecialSpeed(t.baseData.zombieData.zombieType);t.baseData.zombieData.moveSpd=r.pzaGameConfig.getBlockWidth(c.pzaGameState.curChapter)/e}t.playMoveAnimation()})},i([u],e)}(l.pzaBaseZombie));a.pzaNewspaperZombie=h,cc._RF.pop()},{"../../Common/pzaGameConfig":"pzaGameConfig","../Data/pzaZombieEnum":"pzaZombieEnum","../pzaGameState":"pzaGameState","./pzaBaseZombie":"pzaBaseZombie"}],pzaNodeManager:[function(t,e,a){"use strict";cc._RF.push(e,"df721QfqtJH6ISch33dy7N5","pzaNodeManager");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaNodeManager=void 0;var r=cc._decorator,p=r.ccclass,c=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bgNode=null,e.grassNode=null,e.battleUINode=null,e.downEffectNode=null,e.plantZombieNode=null,e.bulletNode=null,e.upEffectNode=null,e.upBgNode=null,e}var a;return n(e,t),a=e,e.prototype.onLoad=function(){a.instance=this},e.getGrassNode=function(){return null==this.instance?null:this.instance.grassNode},e.getPlantZombieNode=function(){return null==this.instance?null:this.instance.plantZombieNode},e.getBulletNode=function(){return null==this.instance?null:this.instance.bulletNode},e.getDownEffectNode=function(){return null==this.instance?null:this.instance.downEffectNode},e.getUpEffectNode=function(){return null==this.instance?null:this.instance.upEffectNode},e.getUpBgNode=function(){return null==this.instance?null:this.instance.upBgNode},e.getBattleUINode=function(){return null==this.instance?null:this.instance.battleUINode},e.instance=null,i([c({displayName:"\u80cc\u666f\u8282\u70b9",type:cc.Node})],e.prototype,"bgNode",void 0),i([c({displayName:"\u8349\u5730\u8282\u70b9",type:cc.Node})],e.prototype,"grassNode",void 0),i([c({displayName:"\u6218\u6597UI\u8282\u70b9",type:cc.Node})],e.prototype,"battleUINode",void 0),i([c({displayName:"\u4e0b\u5c42\u7279\u6548\u8282\u70b9",type:cc.Node})],e.prototype,"downEffectNode",void 0),i([c({displayName:"\u690d\u7269\u50f5\u5c38\u8282\u70b9",type:cc.Node})],e.prototype,"plantZombieNode",void 0),i([c({displayName:"\u5b50\u5f39\u8282\u70b9",type:cc.Node})],e.prototype,"bulletNode",void 0),i([c({displayName:"\u4e0a\u5c42\u7279\u6548\u8282\u70b9",type:cc.Node})],e.prototype,"upEffectNode",void 0),i([c({displayName:"\u4e0a\u5c42\u80cc\u666f\u8282\u70b9",type:cc.Node})],e.prototype,"upBgNode",void 0),a=i([p],e)}(cc.Component);a.pzaNodeManager=l,cc._RF.pop()},{}],pzaNormalZombie:[function(t,e,a){"use strict";cc._RF.push(e,"939b5ISX1BN+oTtVwQEGr8m","pzaNormalZombie");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaNormalZombie=void 0;var r=t("../Data/pzaZombieEnum"),p=t("../pzaEffectManager"),c=t("./pzaBaseZombie"),l=cc._decorator,s=l.ccclass,u=(l.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.zombieHurt=function(){this.zombieHurtState=r.pzaHurtStateEnum.HURT,this.curSkinName=this.curSkinName+"_1",this.animation.setAnimationSkin(this.curSkinName);var t=10*-this.baseData.yIndex+5;p.pzaEffectManager.createZombieCloseFallEffect(this.baseData.logicPos,t,null)},i([s],e)}(c.pzaBaseZombie));a.pzaNormalZombie=u,cc._RF.pop()},{"../Data/pzaZombieEnum":"pzaZombieEnum","../pzaEffectManager":"pzaEffectManager","./pzaBaseZombie":"pzaBaseZombie"}],pzaOptionView:[function(t,e,a){"use strict";cc._RF.push(e,"d0d58cuEPJPcoHhY3EJvkOz","pzaOptionView");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaOptionView=void 0;var r=t("../../Battle/pzaGameState"),p=t("../../Common/pzaGameCommonPool"),c=t("../../Common/pzaGameManager"),l=t("../../Common/pzaWorldEventManager"),s=cc._decorator,u=s.ccclass,h=s.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.soundTxt=null,e.soundTag=null,e.musicTxt=null,e.musicTag=null,e.vibrateSelect=null,e.version=null,e.closeCall=null,e}return n(e,t),e.prototype.bindCloseCall=function(t){this.closeCall=t},e.prototype.clickBackGame=function(){this.closeCall&&this.closeCall(),this.close()},e.prototype.clickRestart=function(){c.pzaGameManager.removeBattleUI(),l.pzaWorldEventManager.triggerEvent(l.pzaWorldEventType.GAME_OVER,null),c.pzaGameManager.start(r.pzaGameState.curChapter,r.pzaGameState.curPart),this.close()},e.prototype.clickVibrate=function(){},e.prototype.close=function(){p.pzaGameCommonPool.returnInstant(this.node)},i([h({displayName:"\u97f3\u6548\u6587\u672c",type:cc.Label})],e.prototype,"soundTxt",void 0),i([h({displayName:"\u97f3\u6548\u6807\u8bb0",type:cc.Node})],e.prototype,"soundTag",void 0),i([h({displayName:"\u97f3\u4e50\u6587\u672c",type:cc.Label})],e.prototype,"musicTxt",void 0),i([h({displayName:"\u97f3\u4e50\u6807\u8bb0",type:cc.Node})],e.prototype,"musicTag",void 0),i([h({displayName:"\u9707\u52a8\u9009\u62e9",type:cc.Node})],e.prototype,"vibrateSelect",void 0),i([h({displayName:"\u7248\u672c\u53f7",type:cc.Label})],e.prototype,"version",void 0),i([u],e)}(cc.Component);a.pzaOptionView=f,cc._RF.pop()},{"../../Battle/pzaGameState":"pzaGameState","../../Common/pzaGameCommonPool":"pzaGameCommonPool","../../Common/pzaGameManager":"pzaGameManager","../../Common/pzaWorldEventManager":"pzaWorldEventManager"}],pzaParseCond:[function(t,e,a){"use strict";cc._RF.push(e,"9bcafcyHHxJ6IInsPwGIrzq","pzaParseCond"),Object.defineProperty(a,"__esModule",{value:!0}),a.pzaParseCond=void 0;var o=t("./pzakc"),n=function(){function t(){}return t.condMap={">":function(t,e){return t>e},"<":function(t,e){return t<e},">=":function(t,e){return t>=e},"<=":function(t,e){return t<=e},"==":function(t,e){return t==e},"=":function(t,e){return t==e},"!=":function(t,e){return t!=e},"!":function(t,e){return!e}},t.orAndMap={"&":function(t,e){return t&&e},"&&":function(t,e){return t&&e},"|":function(t,e){return t||e},"||":function(t,e){return t||e}},t.parseVar=function(t,e){if("number"==typeof t||!isNaN(Number(t)))return Number(t);var a=e[t];if(void 0===a||"number"!=typeof a)throw"parseVar\u5931\u8d25,\u672a\u77e5\u53d8\u91cf:"+t;return Number(a)},t.scanBracketEnd=function(t){for(var e=0,a=-1,o=t.length,n=0;n<o;n++){var i=t[n];if("("===i)e++;else if(")"===i&&0==--e){a=n;break}}if(a<0)throw"[ERR]scanBracketEnd\u5931\u8d25:"+t;return{outStr:t.substring(1,a),endPos:a}},t.scanOrAndNext=function(e){for(var a=-1,o=e.length,n=0;n<o;n++){var i=e[n];if("|"===i&&"|"===e[n+1]||"&"===i&&"&"===e[n+1]){a=n;break}"("===i&&(n=t.scanBracketEnd(e.substring(n)).endPos+1)}return a<0?{outStr:e,endPos:o-1}:{outStr:e.substring(0,a),endPos:a}},t.parseCond=function(e,a){for(var n="",i=null,r="",p=-1,c=null,l=0,s=e.length;l<s;l++){var u=e[l],h=t.condMap[u];if(h)l+1!==s&&t.condMap[u+e[l+1]]&&(u+=e[l+1],h=t.condMap[u],l++),p=1,i=h;else{var f=t.orAndMap[u];if(f){if(l+1!==s&&t.orAndMap[u+e[l+1]]&&(u+=e[l+1],f=t.orAndMap[u],l++),l+1>=s||p<0&&null===c)throw"[ERR]parseCond\u5931\u8d25,\u65e0\u6548orAnd\u4f4d\u7f6e:"+l+"|"+e;var d=t.scanOrAndNext(e.substring(l+1));p>0&&(c=i(t.parseVar(n,a),t.parseVar(r,a)),n="",r="",i=null),c=f(c,t.parseCond(d.outStr,a)),l=l+d.endPos+1,p=-1}else if("("!==u)p<0?n+=u:p>0&&(r+=u);else{var m=t.scanBracketEnd(e.substring(l));if(m.endPos+2===s)return p>0&&i?i(n,t.parseCond(m.outStr,a)):t.parseCond(m.outStr,a);c=t.parseCond(m.outStr,a),p>0&&i&&(c=i(n,t.parseCond(m.outStr,a))),p=-1,l=l+m.endPos+1}}}return p<0||!i?null!==c?c:(o.default.err("[ERR]parseCond\u5931\u8d25:"+e,a),null):i(t.parseVar(n,a),t.parseVar(r,a))},t.condParse=function(e,a){return!e||(e=e.replace(/\s/g,""),t.parseCond(e,a))},t.test=function(){o.default.log("[realRe]=====",!1),o.default.log("[parseCond]=====",t.condParse("a1 > b1 || !((b1 < a1 || c1 > f1) || b1 > a1 )",{a1:12,b1:23,c1:2,d1:3,e1:5,f1:15,g1:20}))},t}();a.pzaParseCond=n,cc._RF.pop()},{"./pzakc":"pzakc"}],pzaPartItem:[function(t,e,a){"use strict";cc._RF.push(e,"f47eaiKmI1Kgo/ZfambzNGv","pzaPartItem");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaPartItem=void 0;var r=t("../../Battle/Data/pzaZombieEnum"),p=t("../../Common/pzaGameConfig"),c=t("../../Common/pzaGameManager"),l=t("../../Common/pzaLocalData"),s=t("../../Common/pzaSpriteFrameManager"),u=t("../../Common/pzaUIManager"),h=cc._decorator,f=h.ccclass,d=h.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.partShow=null,e.starNode=null,e.stars=[],e.mask=null,e.partIcon=null,e.lock=null,e.zombieIcon1=null,e.zombieIcon2=null,e.curChapter=1,e.curPart=1,e.startGameCall=null,e.zombieTypes=[[[r.pzaZombieEnum.ZOMBIE],[r.pzaZombieEnum.FLAG_ZOMBIE,r.pzaZombieEnum.ZOMBIE],[r.pzaZombieEnum.CONE_HEAD_ZOMBIE],[r.pzaZombieEnum.CONE_HEAD_ZOMBIE,r.pzaZombieEnum.ZOMBIE],[r.pzaZombieEnum.CONE_HEAD_ZOMBIE,r.pzaZombieEnum.FLAG_ZOMBIE],[r.pzaZombieEnum.POLEVAULTING_ZOMBIE],[r.pzaZombieEnum.POLEVAULTING_ZOMBIE,r.pzaZombieEnum.ZOMBIE],[r.pzaZombieEnum.BUCKET_HEAD_ZOMBIE],[r.pzaZombieEnum.BUCKET_HEAD_ZOMBIE,r.pzaZombieEnum.ZOMBIE],[r.pzaZombieEnum.POLEVAULTING_ZOMBIE,r.pzaZombieEnum.BUCKET_HEAD_ZOMBIE]],[[r.pzaZombieEnum.NEWSPAPER_ZOMBIE],[r.pzaZombieEnum.NEWSPAPER_ZOMBIE,r.pzaZombieEnum.ZOMBIE],[r.pzaZombieEnum.SCREEN_DOOR_ZOMBIE],[r.pzaZombieEnum.SCREEN_DOOR_ZOMBIE,r.pzaZombieEnum.ZOMBIE],[r.pzaZombieEnum.NEWSPAPER_ZOMBIE,r.pzaZombieEnum.SCREEN_DOOR_ZOMBIE],[r.pzaZombieEnum.FOOTBALL_ZOMBIE],[r.pzaZombieEnum.SCREEN_DOOR_ZOMBIE,r.pzaZombieEnum.CONE_HEAD_ZOMBIE],[r.pzaZombieEnum.DANCING_ZOMBIE],[r.pzaZombieEnum.BACKUP_DANCER,r.pzaZombieEnum.ZOMBIE],[r.pzaZombieEnum.DANCING_ZOMBIE,r.pzaZombieEnum.FOOTBALL_ZOMBIE]],[],[],[]],e.zombiePosS=[[[cc.v2(119,-105)],[cc.v2(41,-71),cc.v2(119,-105)],[cc.v2(121,-105)],[cc.v2(57,-71),cc.v2(119,-105)],[cc.v2(57,-71),cc.v2(104,-104)],[cc.v2(67,-107)],[cc.v2(15,-69),cc.v2(123,-105)],[cc.v2(118,-105)],[cc.v2(119,-105),cc.v2(54,-71)],[cc.v2(15,-69),cc.v2(118,-105)]],[[cc.v2(117,-105)],[cc.v2(42,-70),cc.v2(118,-110)],[cc.v2(121,-106)],[cc.v2(60,-74),cc.v2(119,-105)],[cc.v2(42,-70),cc.v2(121,-106)],[cc.v2(116,-106)],[cc.v2(60,-74),cc.v2(119,-105)],[cc.v2(122,-106)],[cc.v2(51,-74),cc.v2(119,-105)],[cc.v2(59,-74),cc.v2(116,-106)]],[],[],[]],e.zombieScaleS=[[[.8],[.7,.8],[.8],[.7,.8],[.7,.8],[.8],[.65,.8],[.8],[.8,.7],[.65,.8]],[[.8],[.7,.8],[.8],[.7,.8],[.7,.8],[.7],[.7,.8],[.8],[.65,.7],[.65,.7]],[],[],[]],e}return n(e,t),e.prototype.init=function(t,e,a){this.curChapter=t,this.curPart=e,this.startGameCall=a,this.partShow.string=t+"-"+e;var o=l.pzaLocalData.data.curChapter>t||l.pzaLocalData.data.curPart>=e;if(this.lock.active=!o,this.starNode.active=!o,this.mask.active=!1,p.pzaGameConfig.getPartStar(t,e)<=0||!o)this.starNode.active=!1;else{this.starNode.active=!0;for(var n=l.pzaLocalData.getPartStar(t,e),i=0;i<this.stars.length;i++){var r=this.stars[i];null!=r&&(r.active=n>i)}}s.pzaSpriteFrameManager.loadPartIcon(t,this.partIcon);var c=this.zombieTypes[t-1][e-1],u=this.zombiePosS[t-1][e-1],h=this.zombieScaleS[t-1][e-1];if(null==c||c.length<=0)return this.zombieIcon1.node.active=!1,void(this.zombieIcon2.node.active=!1);var f=c[0],d=u[0],m=h[0];null==f||null==d||null==m?this.zombieIcon1.node.active=!1:(this.zombieIcon1.node.active=!0,this.zombieIcon1.node.scale=m,s.pzaSpriteFrameManager.loadZombieCard(f,this.zombieIcon1),this.zombieIcon1.node.setPosition(cc.v2(d.x,d.y)));var y=c[1],z=u[1],b=h[1];null==y||null==z||null==b?this.zombieIcon2.node.active=!1:(this.zombieIcon2.node.active=!0,this.zombieIcon2.node.scale=b,s.pzaSpriteFrameManager.loadZombieCard(y,this.zombieIcon2),this.zombieIcon2.node.setPosition(cc.v2(z.x,z.y)))},e.prototype.clickPart=function(){this.startGameCall&&this.startGameCall(),l.pzaLocalData.data.lastChapter=this.curChapter,l.pzaLocalData.data.lastPart=this.curPart,l.pzaLocalData.addDirty("lastChapter","lastPart"),u.pzaUIManager.removeBoardUI(),c.pzaGameManager.start(this.curChapter,this.curPart)},e.prototype.refreshMask=function(t){this.mask.active=this.curPart!=t},i([d({displayName:"\u5173\u5361\u663e\u793a",type:cc.Label})],e.prototype,"partShow",void 0),i([d({displayName:"\u661f\u661f\u8282\u70b9",type:cc.Node})],e.prototype,"starNode",void 0),i([d({displayName:"\u661f\u661f",type:[cc.Node]})],e.prototype,"stars",void 0),i([d({displayName:"\u9ed1\u906e\u7f69",type:cc.Node})],e.prototype,"mask",void 0),i([d({displayName:"\u5173\u5361\u56fe",type:cc.Sprite})],e.prototype,"partIcon",void 0),i([d({displayName:"\u9501",type:cc.Node})],e.prototype,"lock",void 0),i([d({displayName:"\u50f5\u5c381",type:cc.Sprite})],e.prototype,"zombieIcon1",void 0),i([d({displayName:"\u50f5\u5c382",type:cc.Sprite})],e.prototype,"zombieIcon2",void 0),i([f],e)}(cc.Component);a.pzaPartItem=m,cc._RF.pop()},{"../../Battle/Data/pzaZombieEnum":"pzaZombieEnum","../../Common/pzaGameConfig":"pzaGameConfig","../../Common/pzaGameManager":"pzaGameManager","../../Common/pzaLocalData":"pzaLocalData","../../Common/pzaSpriteFrameManager":"pzaSpriteFrameManager","../../Common/pzaUIManager":"pzaUIManager"}],pzaPartSelectView:[function(t,e,a){"use strict";cc._RF.push(e,"ef3c6ha091GG5dk2FNtDcK1","pzaPartSelectView");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaPartSelectView=void 0;var r=t("../../Common/pzaChapterConfig"),p=t("../../Common/pzaGameCommonPool"),c=t("../../Common/pzaGameConfig"),l=t("../../Common/pzaLocalData"),s=t("../../Common/pzaSpriteFrameManager"),u=t("./pzaPartItem"),h=cc._decorator,f=h.ccclass,d=h.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bg=null,e.partItems=[],e.partScroll=null,e.starCount=null,e.curChapter=1,e.curPart=1,e.scrollBeiginOffset=null,e.startGameCall=null,e}return n(e,t),e.prototype.init=function(t,e){s.pzaSpriteFrameManager.loadSelectPartBg(t,this.bg),this.starCount.string=l.pzaLocalData.getAllStar()+"/"+c.pzaGameConfig.getAllPartStar(),this.curChapter=t,this.startGameCall=e;var a=r.pzaChapterConfig.chapterConfigMap.get(t);if(null!=a){for(var o=1;o<=a.partCount;o++){var n=this.partItems[o-1];n&&n.init(t,o,this.selectPart.bind(this))}t==l.pzaLocalData.data.lastChapter?this.curPart=l.pzaLocalData.data.lastPart:this.curPart=1,this.partScroll.scrollToOffset(cc.v2(702*(this.curPart-1),0)),this.refreshMask()}},e.prototype.scrollEvent=function(t,e){if(12!=e){if(10==e){var a=this.partScroll.getScrollOffset();if(null!=a&&null!=this.scrollBeiginOffset){var o=a.x-this.scrollBeiginOffset.x;this.scrollBeiginOffset=null,Math.abs(o)<10||(this.curPart=o>0?this.curPart-1:this.curPart+1,this.partScroll.scrollToOffset(cc.v2(702*(this.curPart-1),0),Math.abs(702-Math.abs(o))/1404),this.refreshMask())}}}else this.scrollBeiginOffset=this.partScroll.getScrollOffset()},e.prototype.refreshMask=function(){var t=this;this.partItems.forEach(function(e){e&&e.refreshMask(t.curPart)})},e.prototype.selectPart=function(){this.startGameCall&&this.startGameCall(),this.close()},e.prototype.clickClose=function(){this.close()},e.prototype.close=function(){p.pzaGameCommonPool.returnInstant(this.node)},i([d({displayName:"\u80cc\u666f\u56fe",type:cc.Sprite})],e.prototype,"bg",void 0),i([d({displayName:"\u5173\u5361Item",type:[u.pzaPartItem]})],e.prototype,"partItems",void 0),i([d({displayName:"\u5173\u5361\u6eda\u52a8\u9762\u677f",type:cc.ScrollView})],e.prototype,"partScroll",void 0),i([d({displayName:"\u661f\u661f\u6570\u91cf",type:cc.Label})],e.prototype,"starCount",void 0),i([f],e)}(cc.Component);a.pzaPartSelectView=m,cc._RF.pop()},{"../../Common/pzaChapterConfig":"pzaChapterConfig","../../Common/pzaGameCommonPool":"pzaGameCommonPool","../../Common/pzaGameConfig":"pzaGameConfig","../../Common/pzaLocalData":"pzaLocalData","../../Common/pzaSpriteFrameManager":"pzaSpriteFrameManager","./pzaPartItem":"pzaPartItem"}],pzaPeaBullet:[function(t,e,a){"use strict";cc._RF.push(e,"ff576r5pupJj4CweHFNsimX","pzaPeaBullet");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaPeaBullet=void 0;var r=t("../../Common/pzaGameConfig"),p=t("../../Common/pzaGroupEnum"),c=t("../Data/pzaBuffData"),l=t("../Plant/pzaPlantBody"),s=t("../Zombie/pzaZombieBody"),u=t("../pzaEffectManager"),h=t("../pzaGameState"),f=t("./pzaBaseBullet"),d=cc._decorator,m=d.ccclass,y=d.property,z=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.frostBulletNode=null,e.frostEffect=null,e.normalBulletNode=null,e.fireBulletNode=null,e.bulletLevel=0,e.colliderWoods=new Set,e}return n(e,t),e.prototype.init=function(e,a,o,n,i){void 0===o&&(o=0),void 0===n&&(n=null),void 0===i&&(i=cc.v2(1,0)),t.prototype.init.call(this,e,a,o,n,i),this.bulletLevel=o,this.colliderWoods.clear(),this.refreshBulletState()},e.prototype.onCollision=function(t){if(null!=t){if(t.node.group==p.pzaGroupEnum.ZOMBIE){var e=t.node.getComponent(s.pzaZombieBody);this.colliderZombie(e&&e.baseData)}t.node.group!=p.pzaGroupEnum.TORCHWOOD||this.colliderWoods.has(t)||this.colliderTorchWood(t)}},e.prototype.colliderTorchWood=function(t){var e=t&&t.node.getComponent(l.pzaPlantBody);null!=e&&null!=e.baseData&&e.baseData.yIndex==this.bulletYIndex&&(this.bulletLevel>=2||(this.bulletLevel++,this.colliderWoods.add(t),this.refreshBulletState()))},e.prototype.refreshBulletState=function(){this.frostBulletNode.active=0==this.bulletLevel,this.frostEffect.active=0==this.bulletLevel,this.normalBulletNode.active=1==this.bulletLevel,this.fireBulletNode.active=2==this.bulletLevel},e.prototype.colliderZombie=function(t){!t||t.isDead||-1!=this.bulletYIndex&&this.bulletYIndex!=t.yIndex||t.zombieData&&t.zombieData.hypnosis||t.buffData.hasBuff(c.pzaBuffType.DIVE)||t.buffData.hasBuff(c.pzaBuffType.FLY)||(0==this.bulletLevel?this.frostColliderZombie(t):1==this.bulletLevel?this.normalColliderZombie(t):this.fireColliderZombie(t))},e.prototype.normalColliderZombie=function(t){var e=window.pzazombieManager.getZombie(t);e&&e.hurt(this.atk),this.close();var a=10*-t.yIndex+5;u.pzaEffectManager.createPeaHitEffect(this.bulletLevel,cc.v2(t.logicPos.x,t.logicPos.y+70),a)},e.prototype.frostColliderZombie=function(t){var e=window.pzazombieManager.getZombie(t);e&&e.hurt(this.atk),this.close();var a=10*-t.yIndex+5;u.pzaEffectManager.createPeaHitEffect(this.bulletLevel,cc.v2(t.logicPos.x,t.logicPos.y+70),a),e.baseData.buffData.hasBuff(c.pzaBuffType.IMM_ICE)||e.baseData.buffData.hasBuff(c.pzaBuffType.HARD_BODY)||t.buffData.addBuff(new c.pzaBuffInfo(c.pzaBuffType.FROST,10,.5))},e.prototype.fireColliderZombie=function(t){var e=window.pzazombieManager.getZombie(t);e&&e.hurt(40),t.buffData.removeBuff(c.pzaBuffType.FROST),t.buffData.removeBuff(c.pzaBuffType.FROZEN),this.close();var a=cc.v2(t.logicPos.x,t.logicPos.y+60);if(u.pzaEffectManager.createBoomFireEffect(t.yIndex,0,a,null),!e.baseData.buffData.hasBuff(c.pzaBuffType.IMM_SPATTER)){var o=window.pzazombieManager.findFixRangeZombies(t.logicPos,.5*r.pzaGameConfig.getBlockWidth(h.pzaGameState.curChapter));o&&o.forEach(function(e){null!=e&&e.baseData!=t&&e.hurt(13)})}},i([y({displayName:"\u51b0\u971c\u5b50\u5f39\u8282\u70b9",type:cc.Node})],e.prototype,"frostBulletNode",void 0),i([y({displayName:"\u51b0\u971c\u5b50\u5f39\u7279\u6548",type:cc.Node})],e.prototype,"frostEffect",void 0),i([y({displayName:"\u666e\u901a\u5b50\u5f39\u8282\u70b9",type:cc.Node})],e.prototype,"normalBulletNode",void 0),i([y({displayName:"\u706b\u7130\u5b50\u5f39\u8282\u70b9",type:cc.Node})],e.prototype,"fireBulletNode",void 0),i([m],e)}(f.pzaBaseBullet);a.pzaPeaBullet=z,cc._RF.pop()},{"../../Common/pzaGameConfig":"pzaGameConfig","../../Common/pzaGroupEnum":"pzaGroupEnum","../Data/pzaBuffData":"pzaBuffData","../Plant/pzaPlantBody":"pzaPlantBody","../Zombie/pzaZombieBody":"pzaZombieBody","../pzaEffectManager":"pzaEffectManager","../pzaGameState":"pzaGameState","./pzaBaseBullet":"pzaBaseBullet"}],pzaPeashooter:[function(t,e,a){"use strict";cc._RF.push(e,"136e0qMLeFJNLvOV19FzBd4","pzaPeashooter");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaPeashooter=void 0;var r=t("../../Common/pzaGameCommonPool"),p=t("../../Common/pzaGameConfig"),c=t("../../Common/pzaNodeManager"),l=t("../../Common/pzaUtil"),s=t("../Bullet/pzaBaseBullet"),u=t("../pzaGameState"),h=t("./pzaBasePlant"),f=cc._decorator,d=f.ccclass,m=f.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.shootNode=null,e.bulletPrefab=null,e.blinkTime=3,e}return n(e,t),e.prototype.bindData=function(e){var a=this;t.prototype.bindData.call(this,e),this.blinkTime=l.pzaUtil.getRandomFloatNum(3,6);var o=function(){if(window.pzazombieManager.hasCanAttackZombie(a.baseData)){var t=l.pzaUtil.getRandomNum(1,5),e=0;a.animation.playAnimation("attack",!1,o,function(){t==++e&&a.shoot()})}else a.blinkTime>0?a.animation.playAnimation("idle1",!1,o):(a.blinkTime=l.pzaUtil.getRandomFloatNum(3,6),a.animation.playAnimation("idle2",!1,o))};this.animation.playAnimation("idle1",!1,o)},e.prototype.logicUpdate=function(t){null==this.baseData||this.baseData.isDead||null==this.baseData.plantData||(this.blinkTime-=t)},e.prototype.shoot=function(){var t=c.pzaNodeManager.getBulletNode();if(null!=t){var e=r.pzaGameCommonPool.requestInstant(this.bulletPrefab,!1);if(null!=e){e.setParent(t);var a=this.shootNode.convertToWorldSpaceAR(cc.v2()),o=t.convertToNodeSpaceAR(a);e.setPosition(o);var n=e.getComponent(s.pzaBaseBullet);if(null!=n){n.init(this.baseData.yIndex,this.baseData.atk,1);var i=p.pzaGameConfig.getMapSkewColumn(u.pzaGameState.curChapter);i>0&&this.baseData.xIndex<=i-2&&(n.maxPosX=this.baseData.logicPos.x+p.pzaGameConfig.getBlockWidth(u.pzaGameState.curChapter))}}}},i([m({displayName:"\u53d1\u5c04\u70b9",type:cc.Node})],e.prototype,"shootNode",void 0),i([m({displayName:"\u5b50\u5f39\u9884\u8bbe",type:cc.Prefab})],e.prototype,"bulletPrefab",void 0),i([d],e)}(h.pzaBasePlant);a.pzaPeashooter=y,cc._RF.pop()},{"../../Common/pzaGameCommonPool":"pzaGameCommonPool","../../Common/pzaGameConfig":"pzaGameConfig","../../Common/pzaNodeManager":"pzaNodeManager","../../Common/pzaUtil":"pzaUtil","../Bullet/pzaBaseBullet":"pzaBaseBullet","../pzaGameState":"pzaGameState","./pzaBasePlant":"pzaBasePlant"}],pzaPlantBeltView:[function(t,e,a){"use strict";cc._RF.push(e,"d48aaIGJ4JNFaarGyGIrRf1","pzaPlantBeltView");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaPlantBeltView=void 0;var r=t("../../Battle/Data/pzaPlantEnum"),p=t("../../Battle/pzaGameState"),c=t("../../Common/pzaGameCommonPool"),l=t("../../Common/pzaGameConfig"),s=t("../../Common/pzaWorldEventManager"),u=t("./pzaBeltCard"),h=cc._decorator,f=h.ccclass,d=h.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.boardNode=null,e.belt1=null,e.belt2=null,e.cardContent=null,e.beltCardPre=null,e.beltSpeed=54,e.beltOriPos=null,e.beltCardList=[],e.createInterval=4,e.beltPause=!1,e.boomNutRate=.5,e}return n(e,t),e.prototype.onEnable=function(){s.pzaWorldEventManager.addListener(s.pzaWorldEventType.PLANT_PLANT,this.plantCall,this),s.pzaWorldEventManager.addListener(s.pzaWorldEventType.CLICK_SHOVEL,this.clickCardCall,this)},e.prototype.onDisable=function(){this.clearBeltCard(),s.pzaWorldEventManager.removeListener(s.pzaWorldEventType.PLANT_PLANT,this.plantCall,this),s.pzaWorldEventManager.removeListener(s.pzaWorldEventType.CLICK_SHOVEL,this.clickCardCall,this)},e.prototype.onLoad=function(){this.beltOriPos=cc.v2(this.belt1.x,this.belt1.y)},e.prototype.showView=function(t){this.belt1.setPosition(this.beltOriPos.clone()),this.belt2.setPosition(cc.v2(this.beltOriPos.x,this.beltOriPos.y-this.belt1.height)),this.createInterval=4,this.boomNutRate=.5,this.beltPause=!1,this.boardNode.stopAllActions(),this.boardNode.setPosition(cc.v2(-200,0)),this.boardNode.runAction(cc.sequence(cc.moveTo(.2,cc.v2()),cc.callFunc(function(){t&&t()})))},e.prototype.update=function(t){if(!p.pzaGameState.gamePause&&!this.beltPause){var e=t*this.beltSpeed;this.belt1.y+=e,this.belt2.y+=e,this.belt1.y>=this.beltOriPos.y+720&&(this.belt1.y-=2*this.belt1.height),this.belt2.y>=this.beltOriPos.y+720&&(this.belt2.y-=2*this.belt1.height);for(var a=0;a<this.beltCardList.length;a++){var o=this.beltCardList[a],n=360-80*a;o.node.y>=n?8==a&&(this.beltPause=!0):o.node.y=Math.min(o.node.y+e,n)}this.createInterval-=t,this.createInterval<=0&&(this.createInterval=4,this.createCard())}},e.prototype.createCard=function(){if(!(this.beltCardList.length>=9)){var t=c.pzaGameCommonPool.requestInstant(this.beltCardPre);t.setParent(this.cardContent),t.setPosition(cc.v2(0,-360));var e=t.getComponent(u.pzaBeltCard);if(null!=e){var a=l.pzaGameConfig.getRandomBeltPlant(p.pzaGameState.curChapter,p.pzaGameState.curPart);if(null!=a)return e.bindData(a,this.clickCardCall.bind(this)),void this.beltCardList.push(e);a=r.pzaPlantEnum.WALL_NUT_BOWLING,Math.random()<=this.boomNutRate&&(a=r.pzaPlantEnum.BOOM_NUT_BOWLING,this.boomNutRate=Math.max(.2,this.boomNutRate-.05)),e.bindData(a,this.clickCardCall.bind(this)),this.beltCardList.push(e)}}},e.prototype.clickCardCall=function(){null!=this.beltCardList&&this.beltCardList.forEach(function(t){t&&t.diselect()})},e.prototype.plantCall=function(){if(null!=this.beltCardList){this.beltCardList.length>=9&&(this.beltPause=!1,this.createInterval=10);for(var t=0,e=0;e<this.beltCardList.length;e++){var a=this.beltCardList[e];null!=a&&a.hasSelect&&(a.close(),t=e)}this.beltCardList.splice(t,1)}},e.prototype.clearBeltCard=function(){null!=this.beltCardList&&(this.beltCardList.forEach(function(t){t&&t.close()}),this.beltCardList=[])},i([d({displayName:"\u9762\u677f\u8282\u70b9",type:cc.Node})],e.prototype,"boardNode",void 0),i([d({displayName:"\u4f20\u9001\u5e261",type:cc.Node})],e.prototype,"belt1",void 0),i([d({displayName:"\u4f20\u9001\u5e262",type:cc.Node})],e.prototype,"belt2",void 0),i([d({displayName:"\u5361\u7247\u5bb9\u5668",type:cc.Node})],e.prototype,"cardContent",void 0),i([d({displayName:"\u4f20\u9001\u5e26\u5361\u7247\u9884\u8bbe",type:cc.Prefab})],e.prototype,"beltCardPre",void 0),i([f],e)}(cc.Component);a.pzaPlantBeltView=m,cc._RF.pop()},{"../../Battle/Data/pzaPlantEnum":"pzaPlantEnum","../../Battle/pzaGameState":"pzaGameState","../../Common/pzaGameCommonPool":"pzaGameCommonPool","../../Common/pzaGameConfig":"pzaGameConfig","../../Common/pzaWorldEventManager":"pzaWorldEventManager","./pzaBeltCard":"pzaBeltCard"}],pzaPlantBody:[function(t,e,a){"use strict";cc._RF.push(e,"96c396uvMtPhLUJFoRD9JmK","pzaPlantBody");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaPlantBody=void 0;var r=t("../Data/pzaZombieEnum"),p=t("../pzaBaseBody"),c=cc._decorator,l=c.ccclass,s=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.onCollisionEnter=function(t,e){this.onCollision(t,e)},e.prototype.onCollisionStay=function(t,e){this.onCollision(t,e)},e.prototype.onCollisionExit=function(t){if(null!=t&&null!=this.curTarget){var e=t.node.getComponent(p.pzaBaseBody);null!=e&&e.baseData==this.curTarget&&(this.curTarget=null)}},e.prototype.onCollision=function(t){if(null!=t&&null==this.curTarget){var e=t.node.getComponent(p.pzaBaseBody);null==e||null==e.baseData||e.baseData.isDead||this.baseData.yIndex==e.baseData.yIndex&&e.baseData.zombieData.zombieType!=r.pzaZombieEnum.ZOMBONI&&(this.curTarget=e.baseData)}},i([l],e)}(p.pzaBaseBody));a.pzaPlantBody=s,cc._RF.pop()},{"../Data/pzaZombieEnum":"pzaZombieEnum","../pzaBaseBody":"pzaBaseBody"}],pzaPlantCard:[function(t,e,a){"use strict";cc._RF.push(e,"7c370pfHupJy6vC3j5aNppR","pzaPlantCard");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaPlantCard=void 0;var r=t("../../Battle/pzaGameState"),p=t("../../Common/pzaGameConfig"),c=t("../../Common/pzaSpriteFrameManager"),l=cc._decorator,s=l.ccclass,u=l.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cardBoard=null,e.cardBoardFrames=[],e.cardIcon=null,e.priceLabel=null,e.cdStaticMask=null,e.cdMask=null,e.selectTag=null,e.guideMask=null,e.curPlantType=null,e.plantConfigData=null,e.clickCall=null,e.showGuideArrow=null,e.putPlantToBagCall=null,e.bagSelect=!1,e}return n(e,t),e.prototype.onEnable=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.clickCard,this),this.node._touchListener.setSwallowTouches(!1)},e.prototype.onDisable=function(){this.node.off(cc.Node.EventType.TOUCH_START,this.clickCard,this)},e.prototype.bagSelectPlant=function(t,e){this.bagSelect=!0,this.curPlantType=t,this.putPlantToBagCall=e,null!=this.curPlantType?(this.node.active=!0,this.cdStaticMask.active=!1,this.cdMask.node.active=!1,this.selectTag.active=!1,this.guideMask.active=!1,this.plantConfigData=p.pzaGameConfig.getPlantConfig(t),c.pzaSpriteFrameManager.loadPlantCard(t,this.cardIcon),this.cardBoard.spriteFrame=this.cardBoardFrames[this.plantConfigData.rareLevel],this.priceLabel.node.active=!0,this.priceLabel.string=""+this.plantConfigData.price):this.node.active=!1},e.prototype.bindData=function(t,e,a){this.bagSelect=!1,this.curPlantType=t,this.clickCall=e,this.showGuideArrow=a,null!=t&&(this.node.active=!0,this.cdStaticMask.active=!1,this.cdMask.node.active=!1,this.selectTag.active=!1,this.guideMask.active=!1,this.plantConfigData=p.pzaGameConfig.getPlantConfig(t),c.pzaSpriteFrameManager.loadPlantCard(t,this.cardIcon),this.cardBoard.spriteFrame=this.cardBoardFrames[this.plantConfigData.rareLevel],this.priceLabel.node.active=!0,this.priceLabel.string=""+this.plantConfigData.price)},e.prototype.clickCard=function(){null!=this.curPlantType&&(this.bagSelect?this.putPlantToBagCall&&this.putPlantToBagCall(this):this.clickCall&&this.clickCall(this.curPlantType))},e.prototype.update=function(){if(null!=this.curPlantType&&!r.pzaGameState.gamePause){var t=window.pzaplantManager.getPlantCD(this.curPlantType);if(t>0){this.selectTag.active=!1,this.cdStaticMask.active=!0,this.cdMask.node.active=!0;var e=this.plantConfigData.createCD;this.cdMask.fillRange=-t/e}else this.cdMask.node.active=!1,r.pzaGameState.sunLightCount>=this.plantConfigData.price?(this.cdStaticMask.active=!1,this.refreshGuide()):this.cdStaticMask.active=!0}},e.prototype.select=function(){null!=this.curPlantType&&(window.pzaplantManager.getPlantCD(this.curPlantType)>0||this.plantConfigData.price>r.pzaGameState.sunLightCount||(r.pzaGameState.curPlant=this.curPlantType,this.selectTag.active=!0,this.refreshGuide()))},e.prototype.diselect=function(){r.pzaGameState.curPlant=null,this.selectTag.active=!1},e.prototype.refreshGuide=function(){var t=this.curPlantType==window.pzaGuideManager.guidePlant&&null==r.pzaGameState.curPlant;t?this.guideMask.active||(this.guideMask.active=!0,this.guideMask.stopAllActions(),this.guideMask.opacity=0,this.guideMask.runAction(cc.repeatForever(cc.sequence(cc.fadeTo(1,200),cc.fadeOut(.5)))),this.showGuideArrow&&this.showGuideArrow(cc.v2(this.node.x+63,this.node.y-100))):t||this.guideMask.active&&(this.guideMask.active=!1,this.showGuideArrow&&this.showGuideArrow(null))},e.prototype.moveTo=function(t,e,a){null!=t&&this.node.runAction(cc.sequence(cc.moveTo(e,t),cc.callFunc(function(){a&&a()})))},i([u({displayName:"\u5361\u7247\u6846",type:cc.Sprite})],e.prototype,"cardBoard",void 0),i([u({displayName:"\u5361\u7247\u6846\u5143\u7d20",type:[cc.SpriteFrame]})],e.prototype,"cardBoardFrames",void 0),i([u({displayName:"\u5361\u7247\u56fe",type:cc.Sprite})],e.prototype,"cardIcon",void 0),i([u({displayName:"\u9633\u5149\u4ef7\u683c",type:cc.Label})],e.prototype,"priceLabel",void 0),i([u({displayName:"cd\u906e\u7f69\u9759\u6001",type:cc.Node})],e.prototype,"cdStaticMask",void 0),i([u({displayName:"cd\u906e\u7f69\u52a8\u6001",type:cc.Sprite})],e.prototype,"cdMask",void 0),i([u({displayName:"\u9009\u4e2d\u6846",type:cc.Node})],e.prototype,"selectTag",void 0),i([u({displayName:"\u5f15\u5bfc\u906e\u7f69",type:cc.Node})],e.prototype,"guideMask",void 0),i([s],e)}(cc.Component);a.pzaPlantCard=h,cc._RF.pop()},{"../../Battle/pzaGameState":"pzaGameState","../../Common/pzaGameConfig":"pzaGameConfig","../../Common/pzaSpriteFrameManager":"pzaSpriteFrameManager"}],pzaPlantEnum:[function(t,e,a){"use strict";cc._RF.push(e,"a65bb2FjL9ESa64+zIqKD9N","pzaPlantEnum"),Object.defineProperty(a,"__esModule",{value:!0}),a.pzaPlantEnvEnum=a.pzaPlantEnum=void 0,function(t){t[t.PEA_SHOOTER=1]="PEA_SHOOTER",t[t.SUN_FLOWER=2]="SUN_FLOWER",t[t.CHERRY_BOMB=3]="CHERRY_BOMB",t[t.WALL_NUT=4]="WALL_NUT",t[t.POTATO_MINE=5]="POTATO_MINE",t[t.SNOW_PEA=6]="SNOW_PEA",t[t.CHOMPER=7]="CHOMPER",t[t.REPEATER=8]="REPEATER",t[t.PUFF_SHROOM=9]="PUFF_SHROOM",t[t.SUN_SHROOM=10]="SUN_SHROOM",t[t.FUME_SHROOM=11]="FUME_SHROOM",t[t.GRAVE_BUSTER=12]="GRAVE_BUSTER",t[t.HYPNO_SHROOM=13]="HYPNO_SHROOM",t[t.SCAREDY_SHROOM=14]="SCAREDY_SHROOM",t[t.ICE_SHROOM=15]="ICE_SHROOM",t[t.DOOM_SHROOM=16]="DOOM_SHROOM",t[t.LILY_PAD=17]="LILY_PAD",t[t.SQUASH=18]="SQUASH",t[t.THREE_PEATER=19]="THREE_PEATER",t[t.TANGLE_KELP=20]="TANGLE_KELP",t[t.JALAPENO=21]="JALAPENO",t[t.SPIKEWEED=22]="SPIKEWEED",t[t.TORCHWOOD=23]="TORCHWOOD",t[t.TALL_NUT=24]="TALL_NUT",t[t.SEA_SHROOM=25]="SEA_SHROOM",t[t.PLANTERN=26]="PLANTERN",t[t.CACTUS=27]="CACTUS",t[t.BLOVER=28]="BLOVER",t[t.SPLIT_PEA=29]="SPLIT_PEA",t[t.STAR_FRUIT=30]="STAR_FRUIT",t[t.PUMPKIN=31]="PUMPKIN",t[t.MAGNET_SHROOM=32]="MAGNET_SHROOM",t[t.CABBAGE_PULT=33]="CABBAGE_PULT",t[t.FLOWER_POT=34]="FLOWER_POT",t[t.KERNEL_PULT=35]="KERNEL_PULT",t[t.COFFEE_BEAN=36]="COFFEE_BEAN",t[t.GARLIC=37]="GARLIC",t[t.UMBRELLA_LEAF=38]="UMBRELLA_LEAF",t[t.MARIGOLD=39]="MARIGOLD",t[t.MELON_PULT=40]="MELON_PULT",t[t.GATLING_PEA=41]="GATLING_PEA",t[t.TWIN_SUNFLOWER=42]="TWIN_SUNFLOWER",t[t.GLOOM_SHROOM=43]="GLOOM_SHROOM",t[t.CATTAIL=44]="CATTAIL",t[t.WINTER_MELON=45]="WINTER_MELON",t[t.GOLD_MAGNET=46]="GOLD_MAGNET",t[t.SPIKEROCK=37]="SPIKEROCK",t[t.COB_CANNON=38]="COB_CANNON",t[t.WALL_NUT_BOWLING=1e3]="WALL_NUT_BOWLING",t[t.BOOM_NUT_BOWLING=1001]="BOOM_NUT_BOWLING"}(a.pzaPlantEnum||(a.pzaPlantEnum={})),function(t){t[t.NORMAL=0]="NORMAL",t[t.SOIL=1]="SOIL",t[t.TOMB=2]="TOMB",t[t.POND=3]="POND",t[t.GRASS=4]="GRASS",t[t.ROOF=5]="ROOF",t[t.SHROOM=6]="SHROOM"}(a.pzaPlantEnvEnum||(a.pzaPlantEnvEnum={})),cc._RF.pop()},{}],pzaPlantHandbookView:[function(t,e,a){"use strict";cc._RF.push(e,"e34a1VvNv1H9J5Da8DtogW6","pzaPlantHandbookView");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaPlantHandbookView=void 0;var r=t("../Battle/Data/pzaPlantEnum"),p=t("../Common/pzaGameCommonPool"),c=t("../Common/pzaGameConfig"),l=t("./pzaHandbookCard"),s=cc._decorator,u=s.ccclass,h=s.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cardPrefab=null,e.cardContent=null,e.plantName=null,e.plantDesc=null,e.plantProp=null,e.special=null,e.bg1=null,e.bg2=null,e.plantCD=null,e.sunPrice=null,e.txtScroll=null,e.curPlant=null,e.plantCardList=null,e.closeCall=null,e}return n(e,t),e.prototype.onEnable=function(){this.plantCardList=[];for(var t=r.pzaPlantEnum.PEA_SHOOTER;t<=r.pzaPlantEnum.MELON_PULT;t++){var e=p.pzaGameCommonPool.requestInstant(this.cardPrefab);e.setParent(this.cardContent);var a=e.getComponent(l.pzaHandbookCard);null!=a&&(a.bindData(t,this.showPlant.bind(this)),this.plantCardList.push(a))}this.showPlant(r.pzaPlantEnum.PEA_SHOOTER)},e.prototype.onDisable=function(){null!=this.plantCardList&&this.plantCardList.forEach(function(t){t&&t.close()}),this.plantCardList=null},e.prototype.bindCloseCall=function(t){this.closeCall=t},e.prototype.showPlant=function(t){if(this.curPlant!=t){this.curPlant=t;var e=c.pzaGameConfig.getPlantConfig(t),a=c.pzaGameConfig.PlantBookMap.get(t);null!=e&&null!=a&&(this.plantName.string=e.name,this.plantDesc.node.active=null!=a.desc,null!=a.desc&&(this.plantDesc.string=a.desc),this.plantProp.node.active=null!=a.prop,null!=a.prop&&(this.plantProp.string=a.prop),this.special.node.active=null!=a.special,null!=a.special&&(this.special.string=a.special),this.bg1.node.active=null!=a.bg1,null!=a.bg1&&(this.bg1.string=a.bg1),this.bg2.node.active=null!=a.bg2,null!=a.bg2&&(this.bg2.string=a.bg2),this.plantCD.node.active=null!=a.cd,null!=a.cd&&(this.plantCD.string=a.cd),this.sunPrice.string="<color=#aa582b>\u6d88\u8017\u9633\u5149\uff1a</c><color=#e6300d>"+e.price+"</color>",this.txtScroll.scrollToTop())}},e.prototype.clickBack=function(){this.close()},e.prototype.clickClose=function(){this.close(),this.closeCall&&this.closeCall()},e.prototype.close=function(){p.pzaGameCommonPool.returnInstant(this.node)},i([h({displayName:"\u5361\u7247\u9884\u8bbe",type:cc.Prefab})],e.prototype,"cardPrefab",void 0),i([h({displayName:"\u5361\u7247\u5bb9\u5668",type:cc.Node})],e.prototype,"cardContent",void 0),i([h({displayName:"\u690d\u7269\u540d\u79f0",type:cc.Label})],e.prototype,"plantName",void 0),i([h({displayName:"\u690d\u7269\u4ecb\u7ecd",type:cc.Label})],e.prototype,"plantDesc",void 0),i([h({displayName:"\u690d\u7269\u5c5e\u6027",type:cc.RichText})],e.prototype,"plantProp",void 0),i([h({displayName:"\u7279\u6b8a",type:cc.RichText})],e.prototype,"special",void 0),i([h({displayName:"\u80cc\u666f\u63cf\u8ff01",type:cc.Label})],e.prototype,"bg1",void 0),i([h({displayName:"\u80cc\u666f\u63cf\u8ff02",type:cc.Label})],e.prototype,"bg2",void 0),i([h({displayName:"\u6062\u590d\u65f6\u95f4",type:cc.RichText})],e.prototype,"plantCD",void 0),i([h({displayName:"\u6d88\u8017\u9633\u5149",type:cc.RichText})],e.prototype,"sunPrice",void 0),i([h({displayName:"\u6587\u672cScroll",type:cc.ScrollView})],e.prototype,"txtScroll",void 0),i([u],e)}(cc.Component);a.pzaPlantHandbookView=f,cc._RF.pop()},{"../Battle/Data/pzaPlantEnum":"pzaPlantEnum","../Common/pzaGameCommonPool":"pzaGameCommonPool","../Common/pzaGameConfig":"pzaGameConfig","./pzaHandbookCard":"pzaHandbookCard"}],pzaPlantManager:[function(t,e,a){"use strict";cc._RF.push(e,"43616PuMRlF4ooGSkXeY6Ka","pzaPlantManager");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaPlantManager=void 0;var r=t("../Common/pzaBaseComponent"),p=t("../Common/pzaGameConfig"),c=t("../Common/pzaGamePartConfig"),l=t("../Common/pzaMapManager"),s=t("../Common/pzaNodeManager"),u=t("../Common/pzaTipManager"),h=t("../Common/pzaUtil"),f=t("../Common/pzaWorldEventManager"),d=t("../Load/pzaBundleObjectPool"),m=t("../Load/pzaPreLoadManager"),y=t("./Data/pzaBaseData"),z=t("./Data/pzaGuideType"),b=t("./Data/pzaPlantEnum"),g=t("./pzaEffectManager"),v=t("./pzaGameState"),_=t("./pzaSunLight"),P=cc._decorator,E=P.ccclass,C=(P.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.plantDataMap=new Map,e.plantEnvDataMap=new Map,e.pumpkinDataMap=new Map,e.plantMap=new Map,e.plantCdMap=new Map,e.AllSunLight=new Set,e.sunAutoCount=0,e.sunAutoCD=0,e}return n(e,t),e.prototype.onLoad=function(){window.pzaplantManager=this},e.prototype.init=function(){this.plantDataMap.clear(),this.plantEnvDataMap.clear(),this.pumpkinDataMap.clear(),this.plantMap.clear(),this.AllSunLight.clear(),this.initPlantCD(),this.sunAutoCount=0,this.randomAutoSunCD()},e.prototype.logicUpdate=function(t){var e=this,a=[];this.plantCdMap.forEach(function(o,n){o-=t,e.plantCdMap.set(n,o),o<=0&&a.push(n)}),a.forEach(function(t){e.plantCdMap.delete(t)}),v.pzaGameState.guideSunPause||(this.sunAutoCD-=t,this.sunAutoCD<=0&&this.autoCreateSun())},e.prototype.randomAutoSunCD=function(){if(1!=v.pzaGameState.curChapter||1!=v.pzaGameState.curPart&&2!=v.pzaGameState.curPart)if(this.sunAutoCount<=0)this.sunAutoCD=h.pzaUtil.getRandomFloatNum(6.25,9);else{var t=h.pzaUtil.getRandomFloatNum(4.25,7)+.1*this.sunAutoCount;this.sunAutoCD=Math.min(t,9.5)}else this.sunAutoCD=6.25},e.prototype.autoCreateSun=function(){var t=this;if(v.pzaGameState.gameTimeType!=v.pzaGameTimeType.NIGHT&&v.pzaGameState.gameMode!=v.pzaGameMode.BELT&&v.pzaGameState.gameMode!=v.pzaGameMode.KNOCK_ZOMBIE&&v.pzaGameState.gameMode!=v.pzaGameMode.SMALL_ZOMBIE){var e=s.pzaNodeManager.getUpEffectNode();if(null!=e){this.randomAutoSunCD(),this.sunAutoCount++;var a=p.pzaGameConfig.getRandomSunPos();d.pzaBundleObjectPool.requestInstantByUrl(m.pzaResourceUrl.SUN,!1,function(o,n){if(null==o&&null!=n){n.setParent(e);var i=n.getComponent(_.pzaSunLight);i&&i.init(a,!0,!0),t.AllSunLight.add(i)}else console.error(o)}),window.pzaGuideManager.guideType==z.pzaGuideType.GUIDE_PLANT_1_1&&2==window.pzaGuideManager.guideStep&&window.pzaGuideManager.guideStepNext()}}},e.prototype.plantCreateSun=function(t,e,a){var o=this;void 0===a&&(a=!1);var n=s.pzaNodeManager.getUpEffectNode();null!=n&&null!=t&&d.pzaBundleObjectPool.requestInstantByUrl(m.pzaResourceUrl.SUN,!1,function(i,r){if(null==i&&null!=r){r.setParent(n);var p=r.getComponent(_.pzaSunLight);p&&p.init(t,!1,e,a),o.AllSunLight.add(p)}else console.error(i)})},e.prototype.initFlowerPot=function(){var t=c.pzaGamePartConfig.getPartConfig(v.pzaGameState.curChapter,v.pzaGameState.curPart);if(!(null==t||t.flowerPotColumn<=0))for(var e=p.pzaGameConfig.getMapRow(v.pzaGameState.curChapter),a=0;a<t.flowerPotColumn;a++)for(var o=0;o<e;o++)this.createPlant(b.pzaPlantEnum.FLOWER_POT,a,o,!0)},e.prototype.createPlant=function(t,e,a,o){var n=this;if(void 0===o&&(o=!1),t!=b.pzaPlantEnum.WALL_NUT_BOWLING&&t!=b.pzaPlantEnum.BOOM_NUT_BOWLING){var i=p.pzaGameConfig.getPlantConfig(t);if(null!=i&&null!=t){var c=this.createPlantData(t);c.xIndex=e,c.yIndex=a;var l=s.pzaNodeManager.getPlantZombieNode();if(t==b.pzaPlantEnum.LILY_PAD&&(l=s.pzaNodeManager.getDownEffectNode()),null!=l){var u=p.pzaGameConfig.getXInterval(v.pzaGameState.curChapter,e)/2,h=p.pzaGameConfig.getYInterval(v.pzaGameState.curChapter,a)/3,y=p.pzaGameConfig.getBlockLogicPos(v.pzaGameState.curChapter,e,a,u,h);c.logicPos=y;var _=""+e+a;p.pzaPlantConfigData.isEnvPlant(t)?this.plantEnvDataMap.set(_,c):t==b.pzaPlantEnum.PUMPKIN?this.pumpkinDataMap.set(_,c):t==b.pzaPlantEnum.COFFEE_BEAN||this.plantDataMap.set(_,c);var P=m.pzaPreLoadManager.getPlantUrl(t);if(d.pzaBundleObjectPool.requestInstantByUrl(P,!1,function(e,a){if(null==e&&null!=a){if(a.setParent(l),t==b.pzaPlantEnum.GRAVE_BUSTER){var o=window.pzaMapManager.TombMap.get(_);null!=o&&o.smallTomb?y.y+=50:y.y+=70}a.setPosition(y);var i=a.getComponent(r.pzaBaseComponent);i&&i.bindData(c),n.plantMap.set(c,i)}else console.error(e)}),v.pzaGameState.gameMode!=v.pzaGameMode.BELT&&v.pzaGameState.gameMode!=v.pzaGameMode.SMALL_ZOMBIE){if(!o){if(null!=i&&i.createCD>0&&this.plantCdMap.set(t,i.createCD),v.pzaGameState.sunLightCount-=i.price,window.pzaGuideManager.guideType==z.pzaGuideType.GUIDE_PLANT_1_1&&(1==window.pzaGuideManager.guideStep?window.pzaGuideManager.guideStepNext():window.pzaGuideManager.guideStep<7&&window.pzaGuideManager.guideStepTo(7)),window.pzaGuideManager.guideType==z.pzaGuideType.GUIDE_NEW_PLANT_1_2){v.pzaGameState.guideZombiePause=!1;var E=this.getPlantCount(b.pzaPlantEnum.SUN_FLOWER);!window.pzaGuideManager.triggerExtraGuide&&E>=2&&window.pzaGuideManager.guideShowNeedMoreSun(),E>=3&&(window.pzaGuideManager.guidePlant=null)}var C=window.pzaMapManager.getPlantBlockType(c.xIndex,c.yIndex);g.pzaEffectManager.createPlantEffect(c.logicPos,C,null)}}else f.pzaWorldEventManager.triggerEvent(f.pzaWorldEventType.PLANT_PLANT,null)}}}else this.createBowlingNut(t,e,a)},e.prototype.createBowlingNut=function(t,e,a){var o=new y.pzaBaseData(t,null);o.xIndex=e,o.yIndex=a;var n=s.pzaNodeManager.getPlantZombieNode();if(null!=n){var i=p.pzaGameConfig.getXInterval(v.pzaGameState.curChapter,e)/2,c=p.pzaGameConfig.getYInterval(v.pzaGameState.curChapter,a)/3,l=p.pzaGameConfig.getBlockLogicPos(v.pzaGameState.curChapter,e,a,i,c);o.logicPos=l;var u=m.pzaPreLoadManager.getPlantUrl(t);d.pzaBundleObjectPool.requestInstantByUrl(u,!1,function(t,e){if(null==t&&null!=e){e.setParent(n),e.setPosition(l);var a=e.getComponent(r.pzaBaseComponent);a&&a.bindData(o)}else console.error(t)}),f.pzaWorldEventManager.triggerEvent(f.pzaWorldEventType.PLANT_PLANT,null)}},e.prototype.shovelPlant=function(t,e){var a,o=""+t+e;if(this.plantDataMap.has(o)){(a=this.plantDataMap.get(o)).isDead=!0,this.plantDataMap.delete(o);var n=this.plantMap.get(a);return this.plantMap.delete(a),void(n&&n.close())}return this.pumpkinDataMap.has(o)?((a=this.pumpkinDataMap.get(o)).isDead=!0,this.pumpkinDataMap.delete(o),n=this.plantMap.get(a),this.plantMap.delete(a),void(n&&n.close())):this.plantEnvDataMap.has(o)?((a=this.plantEnvDataMap.get(o)).isDead=!0,this.plantEnvDataMap.delete(o),n=this.plantMap.get(a),this.plantMap.delete(a),void(n&&n.close())):void 0},e.prototype.removePlant=function(t){if(null!=t){var e=""+t.xIndex+t.yIndex;this.plantDataMap.get(e)==t&&this.plantDataMap.delete(e),this.pumpkinDataMap.get(e)==t&&this.pumpkinDataMap.delete(e),this.plantEnvDataMap.get(e)==t&&this.plantEnvDataMap.delete(e),this.plantMap.delete(t)}},e.prototype.hasPlant=function(t,e){var a=""+t+e;return!!this.plantDataMap.has(a)||!!this.pumpkinDataMap.has(a)||!!this.plantEnvDataMap.has(a)},e.prototype.canPlant=function(t,e,a){if(v.pzaGameState.curPlant==b.pzaPlantEnum.WALL_NUT_BOWLING||v.pzaGameState.curPlant==b.pzaPlantEnum.BOOM_NUT_BOWLING)return t<=2;var o=window.pzaMapManager.getPlantBlockType(t,e),n=p.pzaGameConfig.getPlantConfig(v.pzaGameState.curPlant),i=n&&n.env,r=""+t+e,c=window.pzaMapManager.hasTomb(t,e);if(v.pzaGameState.curPlant==b.pzaPlantEnum.GRAVE_BUSTER){if(!c)return a&&u.pzaTipManager.showSpecialPlantTip(v.pzaGameState.curPlant,n.name),!1}else if(c)return a&&!v.pzaGameState.tombTip&&(v.pzaGameState.tombTip=!0,u.pzaTipManager.showGameTip("\u4f60\u4e0d\u80fd\u628a\u690d\u7269\u79cd\u5728\u5893\u7891\u4e0a")),!1;if(v.pzaGameState.curPlant==b.pzaPlantEnum.COFFEE_BEAN){var s=this.plantDataMap.get(r);return!(null==s||null==s.plantData||!s.plantData.sleeping)}switch(o){case l.pzaBlockType.ICE:return!1;case l.pzaBlockType.DOOM_HOLE:return a&&u.pzaTipManager.showEnvPlantTip(o),!1;case l.pzaBlockType.BLANK:return!1;case l.pzaBlockType.GRASS:if(i!=b.pzaPlantEnvEnum.NORMAL&&i!=b.pzaPlantEnvEnum.SOIL&&i!=b.pzaPlantEnvEnum.TOMB&&i!=b.pzaPlantEnvEnum.GRASS)return a&&i==b.pzaPlantEnvEnum.POND&&u.pzaTipManager.showPondPlantTip(v.pzaGameState.curPlant,n.name),!1;break;case l.pzaBlockType.POND:if(i==b.pzaPlantEnvEnum.POND){if(this.plantEnvDataMap.has(r))return!1}else{if(a&&v.pzaGameState.curPlant==b.pzaPlantEnum.SPIKEWEED&&u.pzaTipManager.showSpecialPlantTip(v.pzaGameState.curPlant,n.name),i!=b.pzaPlantEnvEnum.NORMAL)return a&&v.pzaGameState.curPlant==b.pzaPlantEnum.POTATO_MINE?u.pzaTipManager.showSpecialPlantTip(v.pzaGameState.curPlant,n.name):a&&!v.pzaGameState.cantPlantTip&&(v.pzaGameState.cantPlantTip=!0,u.pzaTipManager.showGameTip("\u4f60\u4e0d\u80fd\u79cd\u5728\u8fd9\u91cc")),!1;if(!this.plantEnvDataMap.has(r))return a&&u.pzaTipManager.showEnvPlantTip(o),!1}break;case l.pzaBlockType.ROOF:if(i==b.pzaPlantEnvEnum.ROOF){if(this.plantEnvDataMap.has(r))return!1}else{if(a&&v.pzaGameState.curPlant==b.pzaPlantEnum.SPIKEWEED&&u.pzaTipManager.showSpecialPlantTip(v.pzaGameState.curPlant,n.name),i!=b.pzaPlantEnvEnum.NORMAL&&i!=b.pzaPlantEnvEnum.SOIL)return a&&i==b.pzaPlantEnvEnum.POND?u.pzaTipManager.showPondPlantTip(v.pzaGameState.curPlant,n.name):a&&!v.pzaGameState.cantPlantTip&&(v.pzaGameState.cantPlantTip=!0,u.pzaTipManager.showGameTip("\u4f60\u4e0d\u80fd\u79cd\u5728\u8fd9\u91cc")),!1;if(!this.plantEnvDataMap.has(r))return a&&u.pzaTipManager.showEnvPlantTip(o),!1}break;default:return!1}return v.pzaGameState.curPlant==b.pzaPlantEnum.PUMPKIN?!this.pumpkinDataMap.has(r):!this.plantDataMap.has(r)},e.prototype.getCanAttackPlant=function(t,e){var a=""+t+e,o=this.pumpkinDataMap.get(a);return null==o&&(o=this.plantDataMap.get(a)),null==o&&(o=this.plantEnvDataMap.get(a)),this.plantMap.get(o)},e.prototype.getPlantByData=function(t){return this.plantMap.get(t)},e.prototype.getCanAttackPlantData=function(t,e,a){void 0===a&&(a=!1);var o=""+t+e;return a&&this.plantDataMap.has(o)?this.plantDataMap.get(o):this.pumpkinDataMap.has(o)?this.pumpkinDataMap.get(o):!a&&this.plantDataMap.has(o)?this.plantDataMap.get(o):this.plantEnvDataMap.get(o)},e.prototype.getRandomBlock=function(t,e){var a=[];if(t&&this.plantMap.forEach(function(t,o){if(null!=o){var n=o.xIndex+"-"+o.yIndex;a.includes(n)||null!=e&&e.includes(n)||a.push(n)}}),a.length<=0)for(var o=p.pzaGameConfig.getMapRow(v.pzaGameState.curChapter),n=p.pzaGameConfig.getMapColumn(),i=0;i<n;i++)for(var r=0;r<o;r++){var c=i+"-"+r;if(null!=e&&e.includes(c))return;a.push(c)}return h.pzaUtil.getRandomValueFromArray(a)},e.prototype.findFixRangePlants=function(t,e){if(null==t)return null;var a=[];return this.plantMap.forEach(function(o,n){null==o||null==n||n.isDead||null==n.logicPos||h.pzaUtil.getDistance(t,n.logicPos)<=e&&a.push(o)}),a},e.prototype.createPlantData=function(t){var e=new y.pzaBaseData(t,null);if(null==e.plantData)return e;var a=p.pzaGameConfig.getPlantConfig(t);return null==a?e:(e.hp=e.maxHp=a.hp,e.atk=a.atk,e)},e.prototype.getPlantCD=function(t){return this.plantCdMap.has(t)?this.plantCdMap.get(t):0},e.prototype.initPlantCD=function(){this.plantCdMap.clear();for(var t=b.pzaPlantEnum.PEA_SHOOTER;t<=b.pzaPlantEnum.REPEATER;t++){var e=p.pzaGameConfig.getPlantConfig(t);e&&e.initCD>0&&this.plantCdMap.set(t,e.initCD)}},e.prototype.getPlantCount=function(t){var e=0;return this.plantMap.forEach(function(a,o){null!=o&&null!=o.plantData&&o.plantData.plantType==t&&e++}),e},e.prototype.getAllPlantCount=function(){return this.plantMap.size},i([E],e)}(cc.Component));a.pzaPlantManager=C,cc._RF.pop()},{"../Common/pzaBaseComponent":"pzaBaseComponent","../Common/pzaGameConfig":"pzaGameConfig","../Common/pzaGamePartConfig":"pzaGamePartConfig","../Common/pzaMapManager":"pzaMapManager","../Common/pzaNodeManager":"pzaNodeManager","../Common/pzaTipManager":"pzaTipManager","../Common/pzaUtil":"pzaUtil","../Common/pzaWorldEventManager":"pzaWorldEventManager","../Load/pzaBundleObjectPool":"pzaBundleObjectPool","../Load/pzaPreLoadManager":"pzaPreLoadManager","./Data/pzaBaseData":"pzaBaseData","./Data/pzaGuideType":"pzaGuideType","./Data/pzaPlantEnum":"pzaPlantEnum","./pzaEffectManager":"pzaEffectManager","./pzaGameState":"pzaGameState","./pzaSunLight":"pzaSunLight"}],pzaPlantSelectCardList:[function(t,e,a){"use strict";cc._RF.push(e,"1fd6bOvfHhGU7STqwU/NFaY","pzaPlantSelectCardList");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaPlantSelectCardList=void 0;var r=t("./pzaPlantCard"),p=cc._decorator,c=p.ccclass,l=p.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cardList=[],e.oriPosArr=[],e.selectPlants=[],e}return n(e,t),e.prototype.onLoad=function(){for(var t=0;t<this.cardList.length;t++){var e=this.cardList[t];null!=e&&this.oriPosArr.push(cc.v2(e.node.position.x,e.node.position.y))}},e.prototype.onEnable=function(){this.selectPlants=[],this.cardList.forEach(function(t){t&&t.bagSelectPlant(null,null)})},e.prototype.getNextVoidPos=function(){var t=this.oriPosArr[this.selectPlants.length];return null==t?null:this.node.convertToWorldSpaceAR(t)},e.prototype.getNextVoidCard=function(){for(var t=0;t<this.cardList.length;t++){var e=this.cardList[t];if(null!=e&&null==e.curPlantType)return e}return null},e.prototype.selectPlant=function(t,e){var a=this.getNextVoidCard();if(null!=a){var o=this.oriPosArr[this.selectPlants.length-1];a.node.setPosition(o.clone()),a.bagSelectPlant(t,e)}},e.prototype.removeSelect=function(t){var e=this.selectPlants.indexOf(t);if(!(e<0)){for(var a=e+1;a<this.selectPlants.length;a++){var o=this.getCardByPlantType(this.selectPlants[a]);if(null!=o){var n=this.oriPosArr[a-1];o.moveTo(n,.1,null)}}this.selectPlants.splice(e,1)}},e.prototype.getCardByPlantType=function(t){for(var e=0;e<this.cardList.length;e++){var a=this.cardList[e];if(null!=a&&a.curPlantType==t)return a}return null},i([l({displayName:"\u5361\u7247\u5217\u8868",type:[r.pzaPlantCard]})],e.prototype,"cardList",void 0),i([c],e)}(cc.Component);a.pzaPlantSelectCardList=s,cc._RF.pop()},{"./pzaPlantCard":"pzaPlantCard"}],pzaPlantSelectView:[function(t,e,a){"use strict";cc._RF.push(e,"2968fkttspIT5a1kZ/KNhdN","pzaPlantSelectView");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaPlantSelectView=void 0;var r=t("../../Battle/Data/pzaGuideType"),p=t("../../Battle/Data/pzaPlantEnum"),c=t("../../Battle/Data/pzaZombieEnum"),l=t("../../Battle/pzaGameState"),s=t("../../Common/pzaGameCommonPool"),u=t("../../Common/pzaGameConfig"),h=t("../../Common/pzaGamePartConfig"),f=t("../../Common/pzaLocalData"),d=t("../../Common/pzaUIManager"),m=t("../../Common/pzaUtil"),y=t("../../Common/pzaWorldEventManager"),z=t("../../Load/pzaPreLoadManager"),b=t("../pzaCommonMask"),g=t("../pzaWarningView"),v=t("./pzaBagPlantCard"),_=t("./pzaMenuView"),P=t("./pzaPlantSelectCardList"),E=cc._decorator,C=E.ccclass,D=E.property,S=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cardPrefab=null,e.cardBag=null,e.startBtn=null,e.bagNode=null,e.cardSelectList=null,e.cardSlotNode=null,e.cardSlotList=[],e.guideArrowNode=null,e.bagCards=[],e.startGameCall=null,e}return n(e,t),e.prototype.onEnable=function(){y.pzaWorldEventManager.addListener(y.pzaWorldEventType.CLICK_SHOVEL,this.clickListCardCall,this)},e.prototype.onDisable=function(){this.clearBag(),y.pzaWorldEventManager.removeListener(y.pzaWorldEventType.CLICK_SHOVEL,this.clickListCardCall,this)},e.prototype.init=function(t,e){if(void 0===t&&(t=null),void 0===e&&(e=null),this.guideArrowNode.active=!1,null!=t)return this.cardSelectList.selectPlants=Array.from(t),this.bagNode.active=!1,this.cardSlotNode.active=!1,void(e&&e());this.startGameCall=e;for(var a=p.pzaPlantEnum.PEA_SHOOTER;a<=p.pzaPlantEnum.MELON_PULT;a++){var o=s.pzaGameCommonPool.requestInstant(this.cardPrefab,!1);if(null!=o){o.setParent(this.cardBag);var n=o.getComponent(v.pzaBagPlantCard);null!=n&&(n.bindData(a,this.clickBagCardCall.bind(this)),this.bagCards.push(n))}}this.bagNode.active=!0,this.cardSlotNode.active=!0;for(var i=0;i<this.cardSlotList.length;i++){var r=this.cardSlotList[i];null!=r&&(r.active=i<f.pzaLocalData.data.plantSlotCount)}m.pzaUtil.switchGraySprite(this.startBtn,!0)},e.prototype.clickListCardCall=function(t){var e=l.pzaGameState.curPlant;if(this.cardSelectList.cardList.forEach(function(a){null!=a&&(null!=t&&a.curPlantType!=e||a.diselect())}),null!=t&&t!=e&&this.cardSelectList.cardList.forEach(function(e){null!=e&&e.curPlantType==t&&e.select()}),null!=t&&(l.pzaGameState.selectShovel=!1,y.pzaWorldEventManager.triggerEvent(y.pzaWorldEventType.REMOVE_SHOVEL,null),window.pzaGuideManager.guideType==r.pzaGuideType.GUIDE_PLANT_1_1)){if(0==window.pzaGuideManager.guideStep&&null!=l.pzaGameState.curPlant)return void window.pzaGuideManager.guideStepNext();if(6==window.pzaGuideManager.guideStep&&null!=l.pzaGameState.curPlant)return void window.pzaGuideManager.hideGuide();if((1==window.pzaGuideManager.guideStep||6==window.pzaGuideManager.guideStep)&&null==l.pzaGameState.curPlant)return void window.pzaGuideManager.guideStepPre()}},e.prototype.clickBagCardCall=function(t,e){var a=this,o=this.cardSelectList.getNextVoidPos();if(null!=e&&null!=o){var n=this.node.convertToNodeSpaceAR(o),i=this.node.convertToNodeSpaceAR(e);this.cardSelectList.selectPlants.push(t);var r=s.pzaGameCommonPool.requestInstant(this.cardPrefab,!1);if(null!=r){r.setParent(this.node),r.setPosition(i);var p=r.getComponent(v.pzaBagPlantCard);p.bindData(t,null),b.pzaCommonMask.showMask(),p.moveTo(n,.2,function(){a.cardSelectList.selectPlant(t,a.putPlantToBagCall.bind(a)),b.pzaCommonMask.hideMask()}),this.cardSelectList.selectPlants.length>=f.pzaLocalData.data.plantSlotCount&&(this.bagCards.forEach(function(t){t&&t.selectFull(!0)}),m.pzaUtil.switchGraySprite(this.startBtn,!1))}}},e.prototype.putPlantToBagCall=function(t){var e=t.curPlantType;if(null!=t&&null!=e){var a=this.getBagCard(e);if(null!=a){t.bagSelectPlant(null,null);var o=this.cardSelectList.selectPlants.length>=f.pzaLocalData.data.plantSlotCount,n=this.node.convertToNodeSpaceAR(t.node.convertToWorldSpaceAR(cc.v2())),i=this.node.convertToNodeSpaceAR(a.node.convertToWorldSpaceAR(cc.v2())),r=s.pzaGameCommonPool.requestInstant(this.cardPrefab,!1);if(null!=r){r.setParent(this.node),r.setPosition(n);var p=r.getComponent(v.pzaBagPlantCard);p.bindData(e,null),b.pzaCommonMask.showMask(),p.moveTo(i,.2,function(){b.pzaCommonMask.hideMask(),a.disSelect()}),o&&(this.bagCards.forEach(function(t){t&&t.selectFull(!1)}),m.pzaUtil.switchGraySprite(this.startBtn,!0)),this.cardSelectList.removeSelect(e)}}}},e.prototype.getBagCard=function(t){var e=null;return this.bagCards.forEach(function(a){null!=a&&a.curPlantType==t&&(e=a)}),e},e.prototype.clickHandBook=function(){d.pzaUIManager.baseShowPopUI(z.pzaResourceUrl.HANDBOOK_VIEW,null)},e.prototype.clickShop=function(){d.pzaUIManager.baseShowPopUI(z.pzaResourceUrl.SHOP_VIEW,null)},e.prototype.clickMenu=function(){y.pzaWorldEventManager.triggerEvent(y.pzaWorldEventType.GAME_PAUSE,null),d.pzaUIManager.baseShowPopUI(z.pzaResourceUrl.GAME_MENU_VIEW,function(t){var e=t&&t.getComponent(_.pzaMenuView);e&&e.bindCloseCall(function(){y.pzaWorldEventManager.triggerEvent(y.pzaWorldEventType.GAME_RESUME,null)})})},e.prototype.clickStart=function(){var t=this;this.cardSelectList.selectPlants.length<f.pzaLocalData.data.plantSlotCount||this.checkPuffShroom(function(){t.checkBallZombie(function(){t.checkPongPlant(function(){t.checkFlowerPot(function(){t.checkSunPlant(function(){t.clearBag(),t.bagNode.active=!1,t.startGameCall&&t.startGameCall()})})})})})},e.prototype.initPlant=function(){for(var t=0;t<this.cardSelectList.selectPlants.length;t++){var e=this.cardSelectList.cardList[t],a=this.cardSelectList.selectPlants[t];null!=e&&null!=a&&e.bindData(a,this.clickListCardCall.bind(this),this.showGuideArrow.bind(this))}this.node.getComponent(cc.Widget).updateAlignment(),this.cardSlotNode.active=!1},e.prototype.showGuideArrow=function(t){null!=t?(this.guideArrowNode.active=!0,this.guideArrowNode.stopAllActions(),this.guideArrowNode.setPosition(t),this.guideArrowNode.runAction(cc.repeatForever(cc.sequence(cc.moveTo(.2,cc.v2(t.x,t.y+20)),cc.moveTo(.2,cc.v2(t.x,t.y)))))):this.guideArrowNode.active=!1},e.prototype.clearBag=function(){this.bagCards.forEach(function(t){t&&t.close()}),this.bagCards=[]},e.prototype.checkSunPlant=function(t){this.cardSelectList.selectPlants.indexOf(p.pzaPlantEnum.SUN_FLOWER)>=0?t&&t():this.cardSelectList.selectPlants.indexOf(p.pzaPlantEnum.SUN_SHROOM)>=0?t&&t():this.cardSelectList.selectPlants.indexOf(p.pzaPlantEnum.TWIN_SUNFLOWER)>=0?t&&t():d.pzaUIManager.baseShowPopUI(z.pzaResourceUrl.WARNING_VIEW,function(e){var a=e&&e.getComponent(g.pzaWarningView);a&&a.show("\u4f60\u6ca1\u6709\u9009\u80fd\u4ea7\u751f\u9633\u5149\u7684\u690d\u7269\uff0c\n\u786e\u5b9a\u8981\u7ee7\u7eed\u5417\uff1f","\u662f","\u91cd\u9009",t,null)})},e.prototype.checkPuffShroom=function(t){2==l.pzaGameState.curChapter&&1==l.pzaGameState.curPart?this.cardSelectList.selectPlants.indexOf(p.pzaPlantEnum.PUFF_SHROOM)>=0?t&&t():d.pzaUIManager.baseShowPopUI(z.pzaResourceUrl.WARNING_VIEW,function(e){var a=e&&e.getComponent(g.pzaWarningView);a&&a.show("\u8fd9\u5173\u5982\u679c\u4e0d\u643a\u5e26\u5c0f\u55b7\u83c7\u5c06\u4f1a\u5f88\u96be\u3002\n\u4f60\u786e\u5b9a\u4e0d\u4f7f\u7528\u5c0f\u55b7\u83c7\u5417\uff1f","\u662f","\u91cd\u9009",t,null)}):t&&t()},e.prototype.checkPongPlant=function(t){if(3==l.pzaGameState.curChapter||4==l.pzaGameState.curChapter){var e=!1;this.cardSelectList.selectPlants.forEach(function(t){var a=u.pzaGameConfig.getPlantConfig(t);null!=a&&a.env==p.pzaPlantEnvEnum.POND&&(e=!0)}),e?t&&t():d.pzaUIManager.baseShowPopUI(z.pzaResourceUrl.WARNING_VIEW,function(e){var a=e&&e.getComponent(g.pzaWarningView);a&&a.show("\u8fd9\u5173\u5982\u679c\u4e0d\u4f7f\u7528\u6c34\u751f\u690d\u7269\u5c06\u4f1a\u5f88\u96be\u3002\n\u4f60\u786e\u5b9a\u4e0d\u4f7f\u7528\u4efb\u4f55\u6c34\u751f\u690d\u7269\u5417\uff1f","\u662f","\u91cd\u9009",t,null)})}else t&&t()},e.prototype.checkBallZombie=function(t){var e=h.pzaGamePartConfig.getPartConfig(l.pzaGameState.curChapter,l.pzaGameState.curPart);null==e||e.zombieTypes.indexOf(c.pzaZombieEnum.BALLOON_ZOMBIE)<0?t&&t():this.cardSelectList.selectPlants.indexOf(p.pzaPlantEnum.BLOVER)>=0?t&&t():this.cardSelectList.selectPlants.indexOf(p.pzaPlantEnum.CACTUS)>=0?t&&t():d.pzaUIManager.baseShowPopUI(z.pzaResourceUrl.WARNING_VIEW,function(e){var a=e&&e.getComponent(g.pzaWarningView);a&&a.show("\u4f60\u6ca1\u6709\u9009\u80fd\u5bf9\u4ed8\u6c14\u7403\u50f5\u5c38\u7684\u690d\u7269\uff0c\n\u4f60\u786e\u5b9a\u8981\u7ee7\u7eed\u5417\uff1f","\u662f","\u91cd\u9009",t,null)})},e.prototype.checkFlowerPot=function(t){5==l.pzaGameState.curChapter?this.cardSelectList.selectPlants.indexOf(p.pzaPlantEnum.FLOWER_POT)>=0?t&&t():d.pzaUIManager.baseShowPopUI(z.pzaResourceUrl.WARNING_VIEW,function(e){var a=e&&e.getComponent(g.pzaWarningView);a&&a.show("\u8fd9\u5173\u5982\u679c\u4e0d\u4f7f\u7528\u82b1\u76c6\u5c06\u4f1a\u975e\u5e38\u7684\u96be\u3002\n\u4f60\u786e\u5b9a\u8981\u7ee7\u7eed\u5417\uff1f","\u662f","\u91cd\u9009",t,null)}):t&&t()},i([D({displayName:"\u5361\u7247\u9884\u8bbe",type:cc.Prefab})],e.prototype,"cardPrefab",void 0),i([D({displayName:"\u5361\u7247\u80cc\u5305\u5bb9\u5668",type:cc.Node})],e.prototype,"cardBag",void 0),i([D({displayName:"\u5f00\u59cb\u6309\u94ae",type:cc.Sprite})],e.prototype,"startBtn",void 0),i([D({displayName:"\u80cc\u5305\u8282\u70b9",type:cc.Node})],e.prototype,"bagNode",void 0),i([D({displayName:"\u5361\u7247\u9009\u62e9\u5217\u8868",type:P.pzaPlantSelectCardList})],e.prototype,"cardSelectList",void 0),i([D({displayName:"\u5361\u7247\u69fd\u8282\u70b9",type:cc.Node})],e.prototype,"cardSlotNode",void 0),i([D({displayName:"\u5361\u7247\u69fd",type:[cc.Node]})],e.prototype,"cardSlotList",void 0),i([D({displayName:"\u5361\u7247\u5f15\u5bfc\u7bad\u5934",type:cc.Node})],e.prototype,"guideArrowNode",void 0),i([C],e)}(cc.Component);a.pzaPlantSelectView=S,cc._RF.pop()},{"../../Battle/Data/pzaGuideType":"pzaGuideType","../../Battle/Data/pzaPlantEnum":"pzaPlantEnum","../../Battle/Data/pzaZombieEnum":"pzaZombieEnum","../../Battle/pzaGameState":"pzaGameState","../../Common/pzaGameCommonPool":"pzaGameCommonPool","../../Common/pzaGameConfig":"pzaGameConfig","../../Common/pzaGamePartConfig":"pzaGamePartConfig","../../Common/pzaLocalData":"pzaLocalData","../../Common/pzaUIManager":"pzaUIManager","../../Common/pzaUtil":"pzaUtil","../../Common/pzaWorldEventManager":"pzaWorldEventManager","../../Load/pzaPreLoadManager":"pzaPreLoadManager","../pzaCommonMask":"pzaCommonMask","../pzaWarningView":"pzaWarningView","./pzaBagPlantCard":"pzaBagPlantCard","./pzaMenuView":"pzaMenuView","./pzaPlantSelectCardList":"pzaPlantSelectCardList"}],pzaPlantTouch:[function(t,e,a){"use strict";cc._RF.push(e,"86a4cwtXIlMSrXJ0lrmrlsK","pzaPlantTouch");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaPlantTouch=void 0;var r=t("../Common/pzaGameConfig"),p=t("../Common/pzaNodeManager"),c=t("../Common/pzaWorldEventManager"),l=t("../Load/pzaBundleObjectPool"),s=t("../Load/pzaPreLoadManager"),u=t("./Data/pzaGuideType"),h=t("./Effect/pzaShovelEffect"),f=t("./pzaEffectManager"),d=t("./pzaGameState"),m=cc._decorator,y=m.ccclass,z=m.property,b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.plantTouchNode=null,e.touchShowGraph=null,e.curSelectXIndex=-1,e.curSelectYIndex=-1,e.shovelEffect=null,e}return n(e,t),e.prototype.onEnable=function(){this.plantTouchNode.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.plantTouchNode.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.plantTouchNode.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.plantTouchNode.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchCancel,this),this.plantTouchNode._touchListener.setSwallowTouches(!1),this.touchShowGraph.clear()},e.prototype.onDisable=function(){this.plantTouchNode.off(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.plantTouchNode.off(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.plantTouchNode.off(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.plantTouchNode.off(cc.Node.EventType.TOUCH_CANCEL,this.onTouchCancel,this)},e.prototype.onTouchStart=function(t){if(null!=d.pzaGameState.curPlant||d.pzaGameState.selectShovel){var e=t&&t.getLocation();if(!(null==e||e.y>=620)){var a=this.node.convertToNodeSpaceAR(e);this.showTouchBlock(a)}}else d.pzaGameState.gameMode==d.pzaGameMode.KNOCK_ZOMBIE&&this.knockZombie(t)},e.prototype.onTouchMove=function(t){if(null!=d.pzaGameState.curPlant||d.pzaGameState.selectShovel){var e=t&&t.getLocation();if(!(null==e||e.y>=620)){var a=this.node.convertToNodeSpaceAR(e);this.showTouchBlock(a)}}},e.prototype.onTouchEnd=function(t){var e=t&&t.getLocation();if(!(null==e||e.y>=620))return null!=d.pzaGameState.curPlant?(this.curSelectXIndex>=0&&this.curSelectYIndex>=0&&window.pzaplantManager.canPlant(this.curSelectXIndex,this.curSelectYIndex,!0)&&(window.pzaplantManager.createPlant(d.pzaGameState.curPlant,this.curSelectXIndex,this.curSelectYIndex),d.pzaGameState.curPlant=null),void this.onTouchCancel()):void(d.pzaGameState.selectShovel&&(this.curSelectXIndex>=0&&this.curSelectYIndex>=0&&window.pzaplantManager.hasPlant(this.curSelectXIndex,this.curSelectYIndex)?(window.pzaplantManager.shovelPlant(this.curSelectXIndex,this.curSelectYIndex),window.pzaGuideManager.guideType==u.pzaGuideType.GUIDE_SHOVEL_1_5&&(2==window.pzaGuideManager.guideStep||3==window.pzaGuideManager.guideStep&&window.pzaplantManager.getAllPlantCount()<=0)&&window.pzaGuideManager.guideStepNext()):window.pzaGuideManager.guideType==u.pzaGuideType.GUIDE_SHOVEL_1_5&&2==window.pzaGuideManager.guideStep&&window.pzaGuideManager.guideStepPre(),d.pzaGameState.selectShovel=!1,c.pzaWorldEventManager.triggerEvent(c.pzaWorldEventType.REMOVE_SHOVEL,null),this.onTouchCancel()))},e.prototype.onTouchCancel=function(){this.curSelectXIndex=-1,this.curSelectYIndex=-1,this.touchShowGraph.clear(),null!=this.shovelEffect&&(this.shovelEffect.close(),this.shovelEffect=null)},e.prototype.showTouchBlock=function(t){if(null!=t){var e=r.pzaGameConfig.getMapXIndex(d.pzaGameState.curChapter,null,t);if(e<0)return this.onTouchCancel();var a=r.pzaGameConfig.getMapYIndex(d.pzaGameState.curChapter,null,t);if(a<0)return this.onTouchCancel();if(e!=this.curSelectXIndex||a!=this.curSelectYIndex){if(this.touchShowGraph.clear(),null!=d.pzaGameState.curPlant){if(!window.pzaplantManager.canPlant(e,a,!1))return this.curSelectXIndex=e,void(this.curSelectYIndex=a)}else if(d.pzaGameState.selectShovel&&(null==this.shovelEffect?this.createShovelEffect(e,a):this.shovelEffect.changeShovelPos(e,a),!window.pzaplantManager.hasPlant(e,a)))return this.curSelectXIndex=e,void(this.curSelectYIndex=a);this.curSelectXIndex=e,this.curSelectYIndex=a;var o=d.pzaGameState.curChapter,n=r.pzaGameConfig.getMapRow(o),i=r.pzaGameConfig.getMapColumn(),p=r.pzaGameConfig.getMapSkewRadion(o),c=r.pzaGameConfig.getMapSkewColumn(o),l=r.pzaGameConfig.getBlockAllPos(o,e,0,0);this.touchShowGraph.moveTo(l.x,l.y);var s=r.pzaGameConfig.getBlockAllPos(o,e,0,1);this.touchShowGraph.lineTo(s.x,s.y);var u=r.pzaGameConfig.getBlockAllPos(o,e,a,1);if(this.touchShowGraph.lineTo(u.x,u.y),p>0&&c>0&&e<c-1){var h=r.pzaGameConfig.getBlockAllPos(o,c-1,a,1);this.touchShowGraph.lineTo(h.x,h.y)}var f=r.pzaGameConfig.getBlockAllPos(o,i-1,a,1);this.touchShowGraph.lineTo(f.x,f.y);var m=r.pzaGameConfig.getBlockAllPos(o,i-1,a,2);this.touchShowGraph.lineTo(m.x,m.y),p>0&&c>0&&e<c-1&&(h=r.pzaGameConfig.getBlockAllPos(o,c-1,a,2),this.touchShowGraph.lineTo(h.x,h.y));var y=r.pzaGameConfig.getBlockAllPos(o,e,a,2);this.touchShowGraph.lineTo(y.x,y.y);var z=r.pzaGameConfig.getBlockAllPos(o,e,n-1,2);this.touchShowGraph.lineTo(z.x,z.y);var b=r.pzaGameConfig.getBlockAllPos(o,e,n-1,3);this.touchShowGraph.lineTo(b.x,b.y);var g=r.pzaGameConfig.getBlockAllPos(o,e,a,3);this.touchShowGraph.lineTo(g.x,g.y),p>0&&c>0&&e>c-1&&(h=r.pzaGameConfig.getBlockAllPos(o,c,a,3),this.touchShowGraph.lineTo(h.x,h.y));var v=r.pzaGameConfig.getBlockAllPos(o,0,a,3);this.touchShowGraph.lineTo(v.x,v.y);var _=r.pzaGameConfig.getBlockAllPos(o,0,a,0);this.touchShowGraph.lineTo(_.x,_.y),p>0&&c>0&&e>c-1&&(h=r.pzaGameConfig.getBlockAllPos(o,c,a,0),this.touchShowGraph.lineTo(h.x,h.y));var P=r.pzaGameConfig.getBlockAllPos(o,e,a,0);this.touchShowGraph.lineTo(P.x,P.y),this.touchShowGraph.lineTo(l.x,l.y),this.touchShowGraph.fill()}}},e.prototype.createShovelEffect=function(t,e){var a=this;if(-1!=t&&-1!=e){var o=p.pzaNodeManager.getUpEffectNode();null!=o&&l.pzaBundleObjectPool.requestInstantByUrl(s.pzaResourceUrl.SHOVEL_EFFECT,!1,function(n,i){if(null==n&&null!=i){i.setParent(o);var r=i.getComponent(h.pzaShovelEffect);r&&r.init(t,e),a.shovelEffect=r}else console.error(n)})}},e.prototype.knockZombie=function(t){var e=t&&t.getLocation();if(!(null==e||e.y>=620)){var a=this.plantTouchNode.convertToNodeSpaceAR(e);f.pzaEffectManager.createHammerEffect(a)}},i([z({displayName:"\u79cd\u690d\u89e6\u6478\u533a\u57df",type:cc.Node})],e.prototype,"plantTouchNode",void 0),i([z({displayName:"\u89e6\u6478\u663e\u793a\u7ed8\u5236",type:cc.Graphics})],e.prototype,"touchShowGraph",void 0),i([y],e)}(cc.Component);a.pzaPlantTouch=b,cc._RF.pop()},{"../Common/pzaGameConfig":"pzaGameConfig","../Common/pzaNodeManager":"pzaNodeManager","../Common/pzaWorldEventManager":"pzaWorldEventManager","../Load/pzaBundleObjectPool":"pzaBundleObjectPool","../Load/pzaPreLoadManager":"pzaPreLoadManager","./Data/pzaGuideType":"pzaGuideType","./Effect/pzaShovelEffect":"pzaShovelEffect","./pzaEffectManager":"pzaEffectManager","./pzaGameState":"pzaGameState"}],pzaPlantern:[function(t,e,a){"use strict";cc._RF.push(e,"bb6aaesl+ZIn5FoUcBvWlno","pzaPlantern");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaPlantern=void 0;var r=t("../../Common/pzaUtil"),p=t("./pzaBasePlant"),c=cc._decorator,l=c.ccclass,s=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.blinkTime=3,e}return n(e,t),e.prototype.bindData=function(e){var a=this;t.prototype.bindData.call(this,e),window.pzaMapManager.planternScatterFog(e),this.blinkTime=r.pzaUtil.getRandomFloatNum(3,6);var o=function(){a.blinkTime>0?a.animation.playAnimation("idle",!1,o):(a.blinkTime=r.pzaUtil.getRandomFloatNum(3,6),a.animation.playAnimation("idle_eye",!1,o))};this.animation.playAnimation("idle",!1,o)},e.prototype.logicUpdate=function(t){this.blinkTime-=t},e.prototype.close=function(){t.prototype.close.call(this),window.pzaMapManager.planternRemove(this.baseData)},i([l],e)}(p.pzaBasePlant));a.pzaPlantern=s,cc._RF.pop()},{"../../Common/pzaUtil":"pzaUtil","./pzaBasePlant":"pzaBasePlant"}],pzaPogoZombie:[function(t,e,a){"use strict";cc._RF.push(e,"27db4B0lNVCSYrTzm7645M2","pzaPogoZombie");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaPogoZombie=void 0;var r=t("../../Common/pzaGameConfig"),p=t("../Data/pzaPlantEnum"),c=t("../Data/pzaZombieEnum"),l=t("../pzaGameState"),s=t("./pzaBaseZombie"),u=t("./pzaZombieState"),h=cc._decorator,f=h.ccclass,d=(h.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.jumping=!1,e}return n(e,t),e.prototype.bindData=function(e){this.jumping=!1,t.prototype.bindData.call(this,e)},e.prototype.logicUpdate=function(t){if(null!=this.baseData&&null!=this.baseData.zombieData&&!this.baseData.isDead){if(this.baseData.zombieData.needRefreshEquip)return this.baseData.zombieData.needRefreshEquip=!1,void this.refreshHurtState(!1);if(!this.hypnosisState&&this.baseData.zombieData.hypnosis&&this.beHypnosis(),this.updateRoleBuff(t),this.refreshFrostState(!1),this.animation.flashUpdate(t),this.equipAnimation&&this.equipAnimation.flashUpdate(t),!this.baseData.isBeControlled())if(this.lastBePasueControled&&(this.lastBePasueControled=!1,this.resumeSelf()),-1==this.changeTargetRow){if(!this.jumping)if(this.hasTool){var e=this.findJumpTarget();null!=e?this.jump(e):this.updateMove(t)}else{var a=this.findTarget();null==a||a.isDead?this.updateMove(t):this.attack(t,a)}}else this.changeRowMove(t)}},e.prototype.findJumpTarget=function(){if(null==this.body||null==this.body.curTarget)return null;if(this.body.curTarget.isDead)return this.body.curTarget=null,null;var t=""+this.body.curTarget.xIndex+this.body.curTarget.yIndex;if(this.body.curTarget.plantData.plantType==p.pzaPlantEnum.SPIKEWEED){var e=window.pzaplantManager.pumpkinDataMap.get(t);return null==e||e.isDead?null:e}if(this.body.curTarget.plantData.plantType==p.pzaPlantEnum.TALL_NUT)return this.body.curTarget;var a=window.pzaplantManager.plantDataMap.get(t);return null==a||a.isDead||a.plantData.plantType!=p.pzaPlantEnum.TALL_NUT?this.body.curTarget:a},e.prototype.jump=function(t){var e=this;if(null!=t){var a=t.xIndex;this.jumping=!0,this.animation.playAnimation("kenyao",!1,function(){e.jumping=!1,t.plantData.plantType==p.pzaPlantEnum.TALL_NUT?(e.baseData.logicPos.x=r.pzaGameConfig.getXPos(l.pzaGameState.curChapter,a)+.75*r.pzaGameConfig.getXInterval(l.pzaGameState.curChapter,a)+r.pzaGameConfig.getMapOriPos(l.pzaGameState.curChapter).x,e.baseData.zombieData.toolType=c.pzaEquipType.NO_EQUIP,e.toolDeath()):e.baseData.logicPos.x=r.pzaGameConfig.getXPos(l.pzaGameState.curChapter,a)+r.pzaGameConfig.getMapOriPos(l.pzaGameState.curChapter).x;var o=r.pzaGameConfig.getMapXIndex(l.pzaGameState.curChapter,e.baseData.logicPos);e.baseData.xIndex=o,e.playMoveAnimation()},null,1)}},e.prototype.playMoveAnimation=function(){this.zombieState=u.pzaZombieState.MOVE,this.hasTool,this.animation.playAnimation(this.aniName[this.zombieState-1],!0,null,null,1)},e.prototype.toolDeath=function(){t.prototype.toolDeath.call(this);var e=r.pzaGameConfig.getZombieSpecialSpeed(this.baseData.zombieData.zombieType);this.baseData.zombieData.initMSpd=this.baseData.zombieData.moveSpd=r.pzaGameConfig.getBlockWidth(l.pzaGameState.curChapter)/e},i([f],e)}(s.pzaBaseZombie));a.pzaPogoZombie=d,cc._RF.pop()},{"../../Common/pzaGameConfig":"pzaGameConfig","../Data/pzaPlantEnum":"pzaPlantEnum","../Data/pzaZombieEnum":"pzaZombieEnum","../pzaGameState":"pzaGameState","./pzaBaseZombie":"pzaBaseZombie","./pzaZombieState":"pzaZombieState"}],pzaPolevaultingZombie:[function(t,e,a){"use strict";cc._RF.push(e,"26b45tyyhtNxoQDjmmxZDGZ","pzaPolevaultingZombie");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaPolevaultingZombie=void 0;var r=t("../../Common/pzaGameConfig"),p=t("../Data/pzaBuffData"),c=t("../Data/pzaPlantEnum"),l=t("../Data/pzaZombieEnum"),s=t("../pzaGameState"),u=t("./pzaBaseZombie"),h=t("./pzaZombieState"),f=cc._decorator,d=f.ccclass,m=(f.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hasJump=!1,e.jumping=!1,e}return n(e,t),e.prototype.bindData=function(e){this.hasJump=!1,this.jumping=!1,t.prototype.bindData.call(this,e)},e.prototype.logicUpdate=function(t){if(null!=this.baseData&&null!=this.baseData.zombieData&&!this.baseData.isDead&&(!this.hypnosisState&&this.baseData.zombieData.hypnosis&&this.beHypnosis(),this.updateRoleBuff(t),this.refreshFrostState(!1),this.animation.flashUpdate(t),this.equipAnimation&&this.equipAnimation.flashUpdate(t),!this.baseData.isBeControlled()))if(this.lastBePasueControled&&(this.lastBePasueControled=!1,this.resumeSelf()),-1==this.changeTargetRow){if(!this.jumping)if(this.hasJump){var e=this.findTarget();null==e||e.isDead?this.updateMove(t):this.attack(t,e)}else{var a=this.findJumpTarget();null!=a?this.jump(a):this.updateMove(t)}}else this.changeRowMove(t)},e.prototype.findJumpTarget=function(){if(null==this.body||null==this.body.curTarget)return null;if(this.body.curTarget.isDead)return this.body.curTarget=null,null;if(null==this.body.curTarget.zombieData){var t=""+this.body.curTarget.xIndex+this.body.curTarget.yIndex;if(this.body.curTarget.plantData.plantType==c.pzaPlantEnum.SPIKEWEED){var e=window.pzaplantManager.pumpkinDataMap.get(t);return null==e||e.isDead?null:e}if(this.body.curTarget.plantData.plantType==c.pzaPlantEnum.TALL_NUT)return this.body.curTarget;var a=window.pzaplantManager.plantDataMap.get(t);return null==a||a.isDead||a.plantData.plantType!=c.pzaPlantEnum.TALL_NUT?this.body.curTarget:a}},e.prototype.jump=function(t){var e=this;if(null!=t){var a=t.xIndex;this.jumping=!0,this.curShadow&&this.curShadow.hideShadow(),this.baseData.buffData.addBuff(new p.pzaBuffInfo(p.pzaBuffType.UNABLE_SELECT,-1));var o=t.plantData.plantType!=c.pzaPlantEnum.TALL_NUT;this.animation.playAnimation(o?"jump":"jump1",!1,function(){var t;o?null!=(t=e.animation.findBone("body2"))?e.baseData.logicPos.x+=e.baseData.zombieData.direction*(15-t.worldX):e.baseData.logicPos.x=r.pzaGameConfig.getXPos(s.pzaGameState.curChapter,a)+r.pzaGameConfig.getMapOriPos(s.pzaGameState.curChapter).x:null!=(t=e.animation.findBone("body2"))?e.baseData.logicPos.x+=e.baseData.zombieData.direction*(15-t.worldX):e.baseData.logicPos.x=r.pzaGameConfig.getXPos(s.pzaGameState.curChapter,a)+.75*r.pzaGameConfig.getXInterval(s.pzaGameState.curChapter,a)+r.pzaGameConfig.getMapOriPos(s.pzaGameState.curChapter).x,e.baseData.zombieData.toolType=l.pzaEquipType.NO_EQUIP,e.toolDeath();var n=r.pzaGameConfig.getZombieSpecialSpeed(e.baseData.zombieData.zombieType);e.baseData.zombieData.moveSpd=r.pzaGameConfig.getBlockWidth(s.pzaGameState.curChapter)/n;var i=r.pzaGameConfig.getMapXIndex(s.pzaGameState.curChapter,e.baseData.logicPos);e.baseData.xIndex=i,e.hasJump=!0,o?e.playMoveAnimation():e.animation.playAnimation("attack1",!0),e.body.curTarget=null,e.jumping=!1,e.curShadow&&e.curShadow.showShadow(),e.baseData.buffData.removeBuff(p.pzaBuffType.UNABLE_SELECT)},null,1)}},e.prototype.playMoveAnimation=function(){this.zombieState=h.pzaZombieState.MOVE,this.hasJump?this.animation.playAnimation(this.moveAniName[0],!0,null,null,1):this.animation.playAnimation("run",!0,null,null,1)},e.prototype.zombieWinMove=function(e){if(t.prototype.zombieWinMove.call(this,e),!this.hasJump){this.hasJump=!0;var a=r.pzaGameConfig.getZombieSpecialSpeed(this.baseData.zombieData.zombieType);this.baseData.zombieData.moveSpd=r.pzaGameConfig.getBlockWidth(s.pzaGameState.curChapter)/a,this.animation.playAnimation(this.moveAniName[0],!0)}},i([d],e)}(u.pzaBaseZombie));a.pzaPolevaultingZombie=m,cc._RF.pop()},{"../../Common/pzaGameConfig":"pzaGameConfig","../Data/pzaBuffData":"pzaBuffData","../Data/pzaPlantEnum":"pzaPlantEnum","../Data/pzaZombieEnum":"pzaZombieEnum","../pzaGameState":"pzaGameState","./pzaBaseZombie":"pzaBaseZombie","./pzaZombieState":"pzaZombieState"}],pzaPotatoMine:[function(t,e,a){"use strict";cc._RF.push(e,"b1bfb8jog9M2q3U9xqelKMY","pzaPotatoMine");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaPotatoMine=void 0;var r=t("../../Common/pzaGameConfig"),p=t("../../Common/pzaUtil"),c=t("../Data/pzaBuffData"),l=t("../pzaGameState"),s=t("./pzaAttackType"),u=t("./pzaBasePlant"),h=cc._decorator,f=h.ccclass,d=(h.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lifeTime=0,e.hasBreakGround=!1,e.hasBomb=!1,e.blinkTime=3,e}return n(e,t),e.prototype.bindData=function(e){t.prototype.bindData.call(this,e),this.animation.playAnimation("idle1",!0),this.lifeTime=0,this.hasBreakGround=!1,this.hasBomb=!1,this.blinkTime=p.pzaUtil.getRandomFloatNum(3,6)},e.prototype.logicUpdate=function(t){var e=this;if(null!=this.baseData&&!this.baseData.isDead&&!this.hasBomb)if(this.lifeTime+=t,this.lifeTime>=15&&!this.hasBreakGround)this.breakGround();else if(this.hasBreakGround){if(null!=this.findAttackTarget())return void this.attack();this.blinkTime-=t,this.blinkTime<=0&&(this.blinkTime=p.pzaUtil.getRandomFloatNum(3,6),this.animation.playAnimation("idle4",!1,function(){e.animation.playAnimation("idle3",!0)}))}},e.prototype.findAttackTarget=function(){return this.body.curTarget},e.prototype.breakGround=function(){var t=this;this.hasBreakGround=!0,this.animation.playAnimation("idle2",!1,function(){t.animation.playAnimation("idle3",!0)})},e.prototype.attack=function(){var t=this;this.hasBomb=!0,this.baseData.isDead=!0,window.pzaplantManager.removePlant(this.baseData),this.animation.playAnimation("blow",!1,function(){t.death()});var e=window.pzazombieManager.findFixRangeZombies(this.baseData.logicPos,1.5*r.pzaGameConfig.getBlockWidth(l.pzaGameState.curChapter));null!=e&&e.forEach(function(e){null==e||null==e.baseData||e.baseData.isDead||e.baseData.buffData.hasBuff(c.pzaBuffType.FLY)||e&&e.hurt(t.baseData.atk,t.baseData,s.pzaAttackType.NORMAL_BOOM)})},i([f],e)}(u.pzaBasePlant));a.pzaPotatoMine=d,cc._RF.pop()},{"../../Common/pzaGameConfig":"pzaGameConfig","../../Common/pzaUtil":"pzaUtil","../Data/pzaBuffData":"pzaBuffData","../pzaGameState":"pzaGameState","./pzaAttackType":"pzaAttackType","./pzaBasePlant":"pzaBasePlant"}],pzaPreLoadManager:[function(t,e,a){"use strict";cc._RF.push(e,"d9bd6gq3PZCwoEpcfU9s174","pzaPreLoadManager"),Object.defineProperty(a,"__esModule",{value:!0}),a.pzaPreLoadManager=a.pzaResourceUrl=a.pzaResourceDetail=a.pzaResourceType=void 0;var o,n=t("../Battle/Data/pzaPlantEnum"),i=t("../Battle/Data/pzaZombieEnum");(function(t){t[t.Prefab=0]="Prefab",t[t.PrefabDir=1]="PrefabDir",t[t.SpriteFrameDir=2]="SpriteFrameDir",t[t.Scene=3]="Scene"})(o=a.pzaResourceType||(a.pzaResourceType={}));var r,p=function(t,e){this.url=null,this.resourceType=null,this.url=t,this.resourceType=e};a.pzaResourceDetail=p,function(t){t.MAIN_SCENE="main",t.PREFAB_DIR="Prefab",t.SPRITE_DIR="Texture",t.MAIN_VIEW="Prefab/View/MainView",t.CHAPTER_SELECT_VIEW="Prefab/View/ChapterSelectView",t.PART_SELECT_VIEW="Prefab/View/PartSelectView",t.PLANT_SELECT_VIEW="Prefab/View/PlantSelectView",t.PLANT_BELT_VIEW="Prefab/View/PlantBeltView",t.GAME_FAIL_VIEW="Prefab/View/GameFailView",t.GAME_WIN_VIEW="Prefab/View/GameWinView",t.GUIDE_DIALOG_VIEW="Prefab/View/GuideDialogView",t.NEW_ZOMBIE_VIEW="Prefab/View/NewZombieView",t.NEW_PLANT_VIEW="Prefab/View/NewPlantView",t.GAME_MENU_VIEW="Prefab/View/MenuView",t.GAME_ASSESS_VIEW="Prefab/View/AssessView",t.GAME_OPTION_VIEW="Prefab/View/OptionView",t.CG_PAPER_VIEW="Prefab/View/CGPaperView",t.HANDBOOK_VIEW="Prefab/View/HandbookView",t.PLANT_HANDBOOK_VIEW="Prefab/View/PlantHandbookView",t.ZOMBIE_HANDBOOK_VIEW="Prefab/View/ZombieHandbookView",t.SHOP_VIEW="Prefab/View/ShopView",t.BUY_CONFIRM_VIEW="Prefab/View/BuyConfirmView",t.WARNING_VIEW="Prefab/View/WarningView",t.PEA_SHOOTER="Prefab/Plant/Peashooter",t.SUN_FLOWER="Prefab/Plant/Sunflower",t.CHERRY_BOMB="Prefab/Plant/CherryBomb",t.WALL_NUT="Prefab/Plant/WallNut",t.POTATO_MINE="Prefab/Plant/PotatoMine",t.SNOW_PEA="Prefab/Plant/SnowPea",t.CHOMPER="Prefab/Plant/Chomper",t.REPEATER="Prefab/Plant/Repeater",t.SUN_SHROOM="Prefab/Plant/SunShroom",t.PUFF_SHROOM="Prefab/Plant/PuffShroom",t.FUME_SHROOM="Prefab/Plant/FumeShroom",t.GRAVE_BUSTER="Prefab/Plant/GraveBuster",t.HYPNO_SHROOM="Prefab/Plant/HypnoShroom",t.SCAREDY_SHROOM="Prefab/Plant/ScaredyShroom",t.ICE_SHROOM="Prefab/Plant/IceShroom",t.DOOM_SHROOM="Prefab/Plant/DoomShroom",t.LILY_PAD="Prefab/Plant/LilyPad",t.SQUASH="Prefab/Plant/Squash",t.THREE_PEATER="Prefab/Plant/ThreePeater",t.TANGLE_KELP="Prefab/Plant/TangleKelp",t.JALAPENO="Prefab/Plant/Jalapeno",t.SPIKEWEED="Prefab/Plant/Spikeweed",t.TORCHWOOD="Prefab/Plant/Torchwood",t.TALL_NUT="Prefab/Plant/TallNut",t.SEA_SHROOM="Prefab/Plant/SeaShroom",t.PLANTERN="Prefab/Plant/Plantern",t.CACTUS="Prefab/Plant/Cactus",t.BLOVER="Prefab/Plant/Blover",t.SPLIT_PEA="Prefab/Plant/SplitPea",t.STAR_FRUIT="Prefab/Plant/StarFruit",t.PUMPKIN="Prefab/Plant/Pumpkin",t.MAGNET_SHROOM="Prefab/Plant/MagnetShroom",t.CABBAGE_PULT="Prefab/Plant/CabbagePult",t.FLOWER_POT="Prefab/Plant/FlowerPot",t.KERNEL_PULT="Prefab/Plant/KernelPult",t.COFFEE_BEAN="Prefab/Plant/CoffeeBean",t.GARLIC="Prefab/Plant/Garlic",t.UMBRELLA_LEAF="Prefab/Plant/UmbrellaLeaf",t.MARIGOLD="Prefab/Plant/Marigold",t.MELON_PULT="Prefab/Plant/MelonPult",t.WALL_NUT_BOWLING="Prefab/Plant/WallNutBowling",t.BOOM_NUT_BOWLING="Prefab/Plant/BoomNutBowling",t.SUN="Prefab/Sun",t.CLEANER_CAR="Prefab/CleanerCar",t.ZOMBIE="Prefab/Zombie/NormalZombie",t.FLAG_ZOMBIE="Prefab/Zombie/FlagZombie",t.CONE_HEAD_ZOMBIE="Prefab/Zombie/ConeHeadZombie",t.POLEVAULTING_ZOMBIE="Prefab/Zombie/PolevaultingZombie",t.BUCKET_HEAD_ZOMBIE="Prefab/Zombie/BucketHeadZombie",t.NEWSPAPER_ZOMBIE="Prefab/Zombie/NewspaperZombie",t.SCREEN_DOOR_ZOMBIE="Prefab/Zombie/ScreenDoorZombie",t.FOOTBALL_ZOMBIE="Prefab/Zombie/FootballZombie",t.DANCING_ZOMBIE="Prefab/Zombie/DancingZombie",t.BACKUP_DANCER="Prefab/Zombie/BackupDancerZombie",t.DUCKY_TUBE_ZOMBIE="Prefab/Zombie/DuckyTubeZombie",t.DUCKY_TUBE_CONE_ZOMBIE="Prefab/Zombie/DuckyTubeConeZombie",t.DUCKY_TUBE_BUCKET_ZOMBIE="Prefab/Zombie/DuckyTubeBucketZombie",t.SNORKEL_ZOMBIE="Prefab/Zombie/SnorkelZombie",t.ZOMBONI="Prefab/Zombie/Zomboni",t.ZOMBIE_BOBSLED_TEAM="Prefab/Zombie/ZombieBobsledTeam",t.DOLPHIN_RIDER_ZOMBIE="Prefab/Zombie/DolphinRiderZombie",t.JACK_ZOMBIE="Prefab/Zombie/JackZombie",t.BALLOON_ZOMBIE="Prefab/Zombie/BalloonZombie",t.DIGGER_ZOMBIE="Prefab/Zombie/DiggerZombie",t.POGO_ZOMBIE="Prefab/Zombie/PogoZombie",t.YETI_ZOMBIE="Prefab/Zombie/YetiZombie",t.BUNGEE_ZOMBIE="Prefab/Zombie/BungeeZombie",t.LADDER_ZOMBIE="Prefab/Zombie/LadderZombie",t.CATAPULT_ZOMBIE="Prefab/Zombie/CatapultZombie",t.GARGANTUAR="Prefab/Zombie/Gargantuar",t.IMP="Prefab/Zombie/Imp",t.DR_ZOMBOSS="Prefab/Zombie/DrZomBoss",t.ZOMBIE_BOBSLED="Prefab/Zombie/ZombieBobsled",t.WORD_EFFECT="Prefab/Effect/WordEffect",t.ICE_GROUND="Prefab/Effect/IceGround",t.FOG_EFFECT="Prefab/Effect/FogEffect",t.ABSORB_IRON_EQUIP="Prefab/Effect/AbsorbIronEquip",t.SHOVEL_EFFECT="Prefab/Effect/ShovelEffect",t.SHADOW="Prefab/Effect/Shadow",t.SHOW_GRASS_EFFECT="Prefab/Effect/ShowGrassEffect",t.CHERRY_BOOM_EFFECT="Prefab/Effect/CherryBoomEffect",t.NUT_BOOM_EFFECT="Prefab/Effect/NutBoomEffect",t.PLANT_EFFECT="Prefab/Effect/PlantEffect",t.PLANT_WATER_EFFECT="Prefab/Effect/PlantWaterEffect",t.GROVE_EFFECT="Prefab/Effect/GroveEffect",t.DROP_CARD="Prefab/Effect/DropCard",t.TOMB="Prefab/Effect/Tomb",t.DIRT_EFFECT="Prefab/Effect/DirtEffect",t.HAMMER_EFFECT="Prefab/Effect/HammerEffect",t.DROP_COIN="Prefab/Effect/DropCoin",t.WATER_LIGHT_EFFECT="Prefab/Effect/WaterLightEffect",t.WATER_FLOWER_EFFECT="Prefab/Effect/WaterFlowerEffect",t.BOOM_FIRE_EFFECT="Prefab/Effect/BoomFireEffect",t.TANGLEKELP_EFFECT="Prefab/Effect/TangleKelpEffect",t.BACK_PUMPKIN="Prefab/Effect/BackPumpkin",t.DOOM_HOLE_EFFECT="Prefab/Effect/DoomHoleEffect",t.ZOMBIE_CLOTHER_FALL_EFFECT="Prefab/Effect/ZombieClotherFallEffect",t.PEA_HIT_EFFECT="Prefab/Effect/HitEffect/PeaHitEffect",t.SNOW_PEA_HIT_EFFECT="Prefab/Effect/HitEffect/SnowPeaHitEffect",t.SHROOM_HIT_EFFECT="Prefab/Effect/HitEffect/ShroomHitEffect",t.DOOM_BOOM_EFFECT="Prefab/Effect/DoomBoomEffect",t.FUME_SHROOM_EFFECT="Prefab/Effect/FumeShroomEffect",t.ICE_BOOM_EFFECT="Prefab/Effect/IceBoomEffect",t.FROZEN_EFFECT="Prefab/Effect/FrozenEffect",t.STAR_HIT_EFFECT="Prefab/Effect/HitEffect/StarHitEffect",t.NUT_HURT_EFFECT="Prefab/Effect/NutHurtEffect"}(r=a.pzaResourceUrl||(a.pzaResourceUrl={}));var c=function(){function t(){}return t.getPlantUrl=function(t){switch(t){case n.pzaPlantEnum.PEA_SHOOTER:return r.PEA_SHOOTER;case n.pzaPlantEnum.SUN_FLOWER:return r.SUN_FLOWER;case n.pzaPlantEnum.CHERRY_BOMB:return r.CHERRY_BOMB;case n.pzaPlantEnum.WALL_NUT:return r.WALL_NUT;case n.pzaPlantEnum.POTATO_MINE:return r.POTATO_MINE;case n.pzaPlantEnum.SNOW_PEA:return r.SNOW_PEA;case n.pzaPlantEnum.CHOMPER:return r.CHOMPER;case n.pzaPlantEnum.REPEATER:return r.REPEATER;case n.pzaPlantEnum.SUN_SHROOM:return r.SUN_SHROOM;case n.pzaPlantEnum.PUFF_SHROOM:return r.PUFF_SHROOM;case n.pzaPlantEnum.FUME_SHROOM:return r.FUME_SHROOM;case n.pzaPlantEnum.GRAVE_BUSTER:return r.GRAVE_BUSTER;case n.pzaPlantEnum.HYPNO_SHROOM:return r.HYPNO_SHROOM;case n.pzaPlantEnum.SCAREDY_SHROOM:return r.SCAREDY_SHROOM;case n.pzaPlantEnum.ICE_SHROOM:return r.ICE_SHROOM;case n.pzaPlantEnum.DOOM_SHROOM:return r.DOOM_SHROOM;case n.pzaPlantEnum.LILY_PAD:return r.LILY_PAD;case n.pzaPlantEnum.SQUASH:return r.SQUASH;case n.pzaPlantEnum.THREE_PEATER:return r.THREE_PEATER;case n.pzaPlantEnum.TANGLE_KELP:return r.TANGLE_KELP;case n.pzaPlantEnum.JALAPENO:return r.JALAPENO;case n.pzaPlantEnum.SPIKEWEED:return r.SPIKEWEED;case n.pzaPlantEnum.TORCHWOOD:return r.TORCHWOOD;case n.pzaPlantEnum.TALL_NUT:return r.TALL_NUT;case n.pzaPlantEnum.SEA_SHROOM:return r.SEA_SHROOM;case n.pzaPlantEnum.PLANTERN:return r.PLANTERN;case n.pzaPlantEnum.CACTUS:return r.CACTUS;case n.pzaPlantEnum.BLOVER:return r.BLOVER;case n.pzaPlantEnum.SPLIT_PEA:return r.SPLIT_PEA;case n.pzaPlantEnum.STAR_FRUIT:return r.STAR_FRUIT;case n.pzaPlantEnum.PUMPKIN:return r.PUMPKIN;case n.pzaPlantEnum.MAGNET_SHROOM:return r.MAGNET_SHROOM;case n.pzaPlantEnum.CABBAGE_PULT:return r.CABBAGE_PULT;case n.pzaPlantEnum.FLOWER_POT:return r.FLOWER_POT;case n.pzaPlantEnum.KERNEL_PULT:return r.KERNEL_PULT;case n.pzaPlantEnum.COFFEE_BEAN:return r.COFFEE_BEAN;case n.pzaPlantEnum.GARLIC:return r.GARLIC;case n.pzaPlantEnum.UMBRELLA_LEAF:return r.UMBRELLA_LEAF;case n.pzaPlantEnum.MARIGOLD:return r.MARIGOLD;case n.pzaPlantEnum.MELON_PULT:return r.MELON_PULT;case n.pzaPlantEnum.WALL_NUT_BOWLING:return r.WALL_NUT_BOWLING;case n.pzaPlantEnum.BOOM_NUT_BOWLING:return r.BOOM_NUT_BOWLING}return null},t.getZombieUrl=function(t){switch(t){case i.pzaZombieEnum.ZOMBIE:return r.ZOMBIE;case i.pzaZombieEnum.FLAG_ZOMBIE:return r.FLAG_ZOMBIE;case i.pzaZombieEnum.CONE_HEAD_ZOMBIE:return r.CONE_HEAD_ZOMBIE;case i.pzaZombieEnum.POLEVAULTING_ZOMBIE:return r.POLEVAULTING_ZOMBIE;case i.pzaZombieEnum.BUCKET_HEAD_ZOMBIE:return r.BUCKET_HEAD_ZOMBIE;case i.pzaZombieEnum.NEWSPAPER_ZOMBIE:return r.NEWSPAPER_ZOMBIE;case i.pzaZombieEnum.SCREEN_DOOR_ZOMBIE:return r.SCREEN_DOOR_ZOMBIE;case i.pzaZombieEnum.FOOTBALL_ZOMBIE:return r.FOOTBALL_ZOMBIE;case i.pzaZombieEnum.DANCING_ZOMBIE:return r.DANCING_ZOMBIE;case i.pzaZombieEnum.BACKUP_DANCER:return r.BACKUP_DANCER;case i.pzaZombieEnum.DUCKY_TUBE_ZOMBIE:return r.DUCKY_TUBE_ZOMBIE;case i.pzaZombieEnum.DUCKY_TUBE_CONE_ZOMBIE:return r.DUCKY_TUBE_CONE_ZOMBIE;case i.pzaZombieEnum.DUCKY_TUBE_BUCKET_ZOMBIE:return r.DUCKY_TUBE_BUCKET_ZOMBIE;case i.pzaZombieEnum.SNORKEL_ZOMBIE:return r.SNORKEL_ZOMBIE;case i.pzaZombieEnum.ZOMBONI:return r.ZOMBONI;case i.pzaZombieEnum.ZOMBIE_BOBSLED_TEAM:return r.ZOMBIE_BOBSLED_TEAM;case i.pzaZombieEnum.DOLPHIN_RIDER_ZOMBIE:return r.DOLPHIN_RIDER_ZOMBIE;case i.pzaZombieEnum.JACK_ZOMBIE:return r.JACK_ZOMBIE;case i.pzaZombieEnum.BALLOON_ZOMBIE:return r.BALLOON_ZOMBIE;case i.pzaZombieEnum.DIGGER_ZOMBIE:return r.DIGGER_ZOMBIE;case i.pzaZombieEnum.POGO_ZOMBIE:return r.POGO_ZOMBIE;case i.pzaZombieEnum.YETI_ZOMBIE:return r.YETI_ZOMBIE;case i.pzaZombieEnum.BUNGEE_ZOMBIE:return r.BUNGEE_ZOMBIE;case i.pzaZombieEnum.LADDER_ZOMBIE:return r.LADDER_ZOMBIE;case i.pzaZombieEnum.CATAPULT_ZOMBIE:return r.CATAPULT_ZOMBIE;case i.pzaZombieEnum.GARGANTUAR:return r.GARGANTUAR;case i.pzaZombieEnum.IMP:return r.IMP;case i.pzaZombieEnum.DR_ZOMBOSS:return r.DR_ZOMBOSS;case i.pzaZombieEnum.ZOMBIE_BOBSLED:return r.ZOMBIE_BOBSLED}return null},t.AllResourceMap=new Map([[r.PREFAB_DIR,new p(r.PREFAB_DIR,o.PrefabDir)],[r.SPRITE_DIR,new p(r.SPRITE_DIR,o.SpriteFrameDir)],[r.MAIN_SCENE,new p(r.MAIN_SCENE,o.Scene)]]),t}();a.pzaPreLoadManager=c,cc._RF.pop()},{"../Battle/Data/pzaPlantEnum":"pzaPlantEnum","../Battle/Data/pzaZombieEnum":"pzaZombieEnum"}],pzaPreviewTip:[function(t,e,a){"use strict";cc._RF.push(e,"f8bc1KUK1dFB62k9KmZdlgF","pzaPreviewTip");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaPreviewTip=void 0;var r=t("./pzaGameCommonPool"),p=cc._decorator,c=p.ccclass,l=p.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.word=null,e.chapterPreviewTips=["\u8fd9\u91cc\u662f\u4f60\u7684\u623f\u5b50","\u8fd9\u91cc\u662f\u4f60\u7684\u623f\u5b50","\u50f5\u5c38\u4eec\u5728\u540e\u9662","\u50f5\u5c38\u4eec\u5728\u540e\u9662","\u4fdd\u62a4\u597d\u4f60\u7684\u5c4b\u9876"],e}return n(e,t),e.prototype.showTip=function(t,e){var a=this;this.word.string=this.chapterPreviewTips[t-1],this.word.node.stopAllActions(),this.word.node.opacity=255,this.word.node.runAction(cc.sequence(cc.delayTime(1.5),cc.callFunc(e),cc.delayTime(.5),cc.fadeOut(.4),cc.callFunc(function(){a.close()})))},e.prototype.close=function(){r.pzaGameCommonPool.returnInstant(this.node)},i([l({displayName:"\u6587\u5b57",type:cc.Label})],e.prototype,"word",void 0),i([c],e)}(cc.Component);a.pzaPreviewTip=s,cc._RF.pop()},{"./pzaGameCommonPool":"pzaGameCommonPool"}],pzaPrivacyWin:[function(t,e,a){"use strict";cc._RF.push(e,"a87761x8ORPppXOssBXcfCw","pzaPrivacyWin");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=t("./pzaChannel"),p=t("./pzaKDefine"),c=t("./pzakc"),l=cc._decorator,s=l.ccclass,u=l.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.txt_main=null,e.bt_agree=null,e.bt_reject=null,e.win2=null,e.txt=null,e.bt_next=null,e.bt_pre=null,e.close=null,e.bt_type1=null,e.bt_type2=null,e.pType=0,e}return n(e,t),e.prototype.onLoad=function(){var t=this;this.close.on(cc.Node.EventType.TOUCH_END,function(){t.closeDetail()}),this.bt_pre.on(cc.Node.EventType.TOUCH_END,function(){t.txt.string=r.pzaChannel.instance().privacyPrePage(t.pType)}),this.bt_next.on(cc.Node.EventType.TOUCH_END,function(){t.txt.string=r.pzaChannel.instance().privacyNextPage(t.pType)}),this.bt_type1.on(cc.Node.EventType.TOUCH_END,function(){t.pType=0,t.txt.string=r.pzaChannel.instance().privacyPage1(t.pType)}),this.bt_type2.on(cc.Node.EventType.TOUCH_END,function(){t.pType=1,t.txt.string=r.pzaChannel.instance().privacyPage1(t.pType)}),this.txt.string=r.pzaChannel.instance().privacyPage1(this.pType),this.bt_agree.on(cc.Node.EventType.TOUCH_END,function(){t.agree()}),this.bt_reject.on(cc.Node.EventType.TOUCH_END,function(){t.node.active=!1,r.pzaChannel.instance().privacyReject(),r.pzaChannel.instance().exit()}),this.txt_main.on(cc.Node.EventType.TOUCH_END,function(){t.win2.active=!0}),this.win2.active=!1},e.prototype.closeDetail=function(){this.win2.active=!1},e.prototype.agree=function(){r.pzaChannel.instance().privacyAgree(),this.node.active=!1,c.default.sendMsg(p.Msg.closeLoading)},i([u(cc.Node)],e.prototype,"txt_main",void 0),i([u(cc.Node)],e.prototype,"bt_agree",void 0),i([u(cc.Node)],e.prototype,"bt_reject",void 0),i([u(cc.Node)],e.prototype,"win2",void 0),i([u(cc.Label)],e.prototype,"txt",void 0),i([u(cc.Node)],e.prototype,"bt_next",void 0),i([u(cc.Node)],e.prototype,"bt_pre",void 0),i([u(cc.Node)],e.prototype,"close",void 0),i([u(cc.Node)],e.prototype,"bt_type1",void 0),i([u(cc.Node)],e.prototype,"bt_type2",void 0),i([s],e)}(cc.Component);a.default=h,cc._RF.pop()},{"./pzaChannel":"pzaChannel","./pzaKDefine":"pzaKDefine","./pzakc":"pzakc"}],pzaPuffShroom:[function(t,e,a){"use strict";cc._RF.push(e,"ed4225QSM9JNoAv41wvq5Yv","pzaPuffShroom");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaPuffShroom=void 0;var r=t("../../Common/pzaGameCommonPool"),p=t("../../Common/pzaGameConfig"),c=t("../../Common/pzaNodeManager"),l=t("../../Common/pzaUtil"),s=t("../Bullet/pzaBaseBullet"),u=t("../pzaEffectManager"),h=t("../pzaGameState"),f=t("./pzaBasePlant"),d=cc._decorator,m=d.ccclass,y=d.property,z=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.shootNode=null,e.bulletPrefab=null,e.blinkTime=3,e}return n(e,t),e.prototype.bindData=function(e){t.prototype.bindData.call(this,e),this.blinkTime=l.pzaUtil.getRandomFloatNum(3,6),h.pzaGameState.gameTimeType==h.pzaGameTimeType.DAY?(this.animation.playAnimation("idle2",!0),e.plantData.sleeping=!0):(this.blinkTime=l.pzaUtil.getRandomFloatNum(3,6),this.playNormalAni())},e.prototype.logicUpdate=function(t){null==this.baseData||this.baseData.isDead||null==this.baseData.plantData||this.baseData.plantData.sleeping||(this.blinkTime-=t)},e.prototype.wakeUp=function(){null!=this.baseData&&null!=this.baseData.plantData&&this.baseData.plantData.sleeping&&(this.baseData.plantData.sleeping=!1,this.animation.playAnimation("awoke",!1,this.playNormalAni.bind(this)))},e.prototype.playNormalAni=function(){var t=this,e=function(){window.pzazombieManager.hasCanAttackZombie(t.baseData,3)?t.animation.playAnimation("attack",!1,e,function(){t.shoot()}):t.blinkTime>0?t.animation.playAnimation("idle1",!1,e):(t.blinkTime=l.pzaUtil.getRandomFloatNum(3,6),t.animation.playAnimation("idle1_eye",!1,e))};this.animation.playAnimation("idle1",!1,e)},e.prototype.shoot=function(){var t=c.pzaNodeManager.getBulletNode();if(null!=t){var e=r.pzaGameCommonPool.requestInstant(this.bulletPrefab,!1);if(null!=e){e.setParent(t);var a=this.shootNode.convertToWorldSpaceAR(cc.v2()),o=t.convertToNodeSpaceAR(a);e.setPosition(o);var n=e.getComponent(s.pzaBaseBullet);if(null!=n){n.init(this.baseData.yIndex,this.baseData.atk,0,null,cc.v2(1,0),function(t){if(null!=t){var e=10*-t.yIndex+5;u.pzaEffectManager.createShroomHitEffect(cc.v2(t.logicPos.x,t.logicPos.y+70),e)}});var i=p.pzaGameConfig.getMapSkewColumn(h.pzaGameState.curChapter);i>0&&this.baseData.xIndex<=i-2&&(n.maxPosX=this.baseData.logicPos.x+p.pzaGameConfig.getBlockWidth(h.pzaGameState.curChapter))}}}},i([y({displayName:"\u53d1\u5c04\u70b9",type:cc.Node})],e.prototype,"shootNode",void 0),i([y({displayName:"\u5b50\u5f39\u9884\u8bbe",type:cc.Prefab})],e.prototype,"bulletPrefab",void 0),i([m],e)}(f.pzaBasePlant);a.pzaPuffShroom=z,cc._RF.pop()},{"../../Common/pzaGameCommonPool":"pzaGameCommonPool","../../Common/pzaGameConfig":"pzaGameConfig","../../Common/pzaNodeManager":"pzaNodeManager","../../Common/pzaUtil":"pzaUtil","../Bullet/pzaBaseBullet":"pzaBaseBullet","../pzaEffectManager":"pzaEffectManager","../pzaGameState":"pzaGameState","./pzaBasePlant":"pzaBasePlant"}],pzaPumpkin:[function(t,e,a){"use strict";cc._RF.push(e,"e8b25lxRy5Gm5x3+k2egv7w","pzaPumpkin");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaPumpkin=void 0;var r=t("../pzaEffectManager"),p=t("./pzaBasePlant"),c=cc._decorator,l=c.ccclass,s=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.bindData=function(e){if(t.prototype.bindData.call(this,e),this.animation.playAnimation("idle",!0),null!=e&&null!=e.yIndex){var a=10*-this.baseData.yIndex+1;this.node.zIndex=a,r.pzaEffectManager.createBackPumpkin(e)}},e.prototype.plantDying=function(){t.prototype.plantDying.call(this),this.animation.setAnimationSkin("skin_3")},e.prototype.plantHurt=function(){t.prototype.plantHurt.call(this),this.animation.setAnimationSkin("skin_2")},e.prototype.plantIntact=function(){t.prototype.plantIntact.call(this),this.animation.setAnimationSkin("skin_1")},i([l],e)}(p.pzaBasePlant));a.pzaPumpkin=s,cc._RF.pop()},{"../pzaEffectManager":"pzaEffectManager","./pzaBasePlant":"pzaBasePlant"}],pzaRepeater:[function(t,e,a){"use strict";cc._RF.push(e,"084b5XksgtEvpNLAM4svCKL","pzaRepeater");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaRepeater=void 0;var r=t("../../Common/pzaGameCommonPool"),p=t("../../Common/pzaGameConfig"),c=t("../../Common/pzaNodeManager"),l=t("../../Common/pzaUtil"),s=t("../Bullet/pzaBaseBullet"),u=t("../pzaGameState"),h=t("./pzaBasePlant"),f=cc._decorator,d=f.ccclass,m=f.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.shootNode=null,e.bulletPrefab=null,e.blinkTime=3,e}return n(e,t),e.prototype.bindData=function(e){var a=this;t.prototype.bindData.call(this,e),this.blinkTime=l.pzaUtil.getRandomFloatNum(3,6);var o=function(){window.pzazombieManager.hasCanAttackZombie(a.baseData)?a.animation.playAnimation("attack",!1,o,function(){a.shoot()}):a.blinkTime>0?a.animation.playAnimation("idle1",!1,o):(a.blinkTime=l.pzaUtil.getRandomFloatNum(3,6),a.animation.playAnimation("idle2",!1,o))};this.animation.playAnimation("idle1",!1,o)},e.prototype.logicUpdate=function(t){null==this.baseData||this.baseData.isDead||null==this.baseData.plantData||(this.blinkTime-=t)},e.prototype.shoot=function(){var t=c.pzaNodeManager.getBulletNode();if(null!=t){var e=r.pzaGameCommonPool.requestInstant(this.bulletPrefab,!1);if(null!=e){e.setParent(t);var a=this.shootNode.convertToWorldSpaceAR(cc.v2()),o=t.convertToNodeSpaceAR(a);e.setPosition(o);var n=e.getComponent(s.pzaBaseBullet);if(null!=n){n.init(this.baseData.yIndex,this.baseData.atk,1);var i=p.pzaGameConfig.getMapSkewColumn(u.pzaGameState.curChapter);i>0&&this.baseData.xIndex<=i-2&&(n.maxPosX=this.baseData.logicPos.x+p.pzaGameConfig.getBlockWidth(u.pzaGameState.curChapter))}}}},i([m({displayName:"\u53d1\u5c04\u70b9",type:cc.Node})],e.prototype,"shootNode",void 0),i([m({displayName:"\u5b50\u5f39\u9884\u8bbe",type:cc.Prefab})],e.prototype,"bulletPrefab",void 0),i([d],e)}(h.pzaBasePlant);a.pzaRepeater=y,cc._RF.pop()},{"../../Common/pzaGameCommonPool":"pzaGameCommonPool","../../Common/pzaGameConfig":"pzaGameConfig","../../Common/pzaNodeManager":"pzaNodeManager","../../Common/pzaUtil":"pzaUtil","../Bullet/pzaBaseBullet":"pzaBaseBullet","../pzaGameState":"pzaGameState","./pzaBasePlant":"pzaBasePlant"}],pzaResMgr:[function(t,e,a){"use strict";cc._RF.push(e,"bfe23rKP+xApq5lrOWvYJyF","pzaResMgr"),Object.defineProperty(a,"__esModule",{value:!0}),a.pzaResMgr=void 0;var o=t("./pzaAES"),n=t("./pzaChannel"),i=t("./pzakc"),r=function(){function t(){this.verMap={local:{key:"gnbPeMVXnoY8XIDT",id:"63d8c66e2a34514914f048eb"},test:{key:"uNUocJTagJBideb8",id:"637b43f82a46f73077399978"},debug:{key:"ihiKqvgY3kNFwou4",id:"65dbfb5a05db8b4be9b19b21"}},this.cUrl="https://ga.gamejym.com/fcm/jts/cc",this.cId=this.verMap[n.pzaChannel.remoteVerKey].id,this.spfCache=new Map,this.prefabCache=new Map,this.audioCache=new Map,this.fontCache=new Map,this.spineCache=new Map,this.confCache=new Map}return t.instance=function(){return t._me||(t._me=new t),t._me},t.prototype.getConf=function(t){return this.confCache.get(t)},t.prototype.readCC=function(t,e){e||(e=this.verMap[n.pzaChannel.remoteVerKey].key);var a=o.pzaAES.create(e,{iv:[12,13,12,33,33,44,3,34,44,44,9,45,28,44,22,2]}).decString(t);if(a){var r=JSON.parse(a);for(var p in r)this.confCache.set(p,r[p][p]);i.default.log("conf loaded:",this.confCache.size),i.default.log("ccv:"+this.getConf("a1")[0].ver)}},t.prototype.readDC=function(t){var e=JSON.parse(t);for(var a in e)this.confCache.set(a,e[a][a]);i.default.log("conf loaded:",this.confCache.size),i.default.log("ccv:"+this.getConf("a1")[0].ver)},t.prototype.loadConf=function(t){var e=this;i.default.jget("https://ga.gamejym.com/fcm/zip/"+this.cId+".bin",function(a,o){a?t(a):(new JSZip).loadAsync(o).then(function(a){a.file("conf.txt").async("string").then(function(a){e.readDC(a),t(null)})})})},t.prototype.getAudio=function(t){return this.audioCache.get("audio/"+t)},t.prototype.getPic=function(t){return this.spfCache.get("img/"+t)},t.prototype.getPrefab=function(t){return this.prefabCache.get("prefab/"+t)},t.prototype.getFont=function(t){return this.fontCache.get("font/"+t)},t.prototype.getSpineData=function(t){return this.spineCache.get("spine/"+t)},t._me=null,t}();a.pzaResMgr=r,cc._RF.pop()},{"./pzaAES":"pzaAES","./pzaChannel":"pzaChannel","./pzakc":"pzakc"}],pzaScaredyShroom:[function(t,e,a){"use strict";cc._RF.push(e,"5b53daDLMZBKa9zrcCsOB5E","pzaScaredyShroom");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaScaredyShroom=void 0;var r=t("../../Common/pzaGameCommonPool"),p=t("../../Common/pzaGameConfig"),c=t("../../Common/pzaNodeManager"),l=t("../../Common/pzaUtil"),s=t("../Bullet/pzaBaseBullet"),u=t("../pzaEffectManager"),h=t("../pzaGameState"),f=t("./pzaBasePlant"),d=cc._decorator,m=d.ccclass,y=d.property,z=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.shootNode=null,e.bulletPrefab=null,e.blinkTime=3,e.hiding=!1,e}return n(e,t),e.prototype.bindData=function(e){t.prototype.bindData.call(this,e),this.hiding=!1,h.pzaGameState.gameTimeType==h.pzaGameTimeType.DAY?(this.animation.playAnimation("idle2",!0),e.plantData.sleeping=!0):(this.blinkTime=l.pzaUtil.getRandomFloatNum(3,6),this.playNormalAni())},e.prototype.logicUpdate=function(t){null==this.baseData||this.baseData.isDead||null==this.baseData.plantData||this.baseData.plantData.sleeping||(this.blinkTime-=t)},e.prototype.wakeUp=function(){null!=this.baseData&&null!=this.baseData.plantData&&this.baseData.plantData.sleeping&&(this.baseData.plantData.sleeping=!1,this.animation.playAnimation("awoke",!1,this.playNormalAni.bind(this)))},e.prototype.playNormalAni=function(){var t=this,e=function(){var a=window.pzazombieManager.findFixRangeZombies(t.baseData.logicPos,p.pzaGameConfig.getBlockWidth(h.pzaGameState.curChapter));if(!(null!=a&&a.length>0))return t.hiding?(t.hiding=!1,void t.animation.playAnimation("scared2",!1,e)):void(window.pzazombieManager.hasCanAttackZombie(t.baseData)?t.animation.playAnimation("attack",!1,e,function(){t.shoot()}):t.blinkTime>0?t.animation.playAnimation("idle1",!1,e):(t.blinkTime=l.pzaUtil.getRandomFloatNum(3,6),t.animation.playAnimation("idle1_eye",!1,e)));t.hiding?t.animation.playAnimation("scared_idle",!1,e):(t.hiding=!0,t.animation.playAnimation("scared1",!1,e))};this.animation.playAnimation("idle1",!1,e)},e.prototype.shoot=function(){var t=c.pzaNodeManager.getBulletNode();if(null!=t){var e=r.pzaGameCommonPool.requestInstant(this.bulletPrefab,!1);if(null!=e){e.setParent(t);var a=this.shootNode.convertToWorldSpaceAR(cc.v2()),o=t.convertToNodeSpaceAR(a);e.setPosition(o);var n=e.getComponent(s.pzaBaseBullet);if(null!=n){n.init(this.baseData.yIndex,this.baseData.atk,0,null,cc.v2(1,0),function(t){if(null!=t){var e=10*-t.yIndex+5;u.pzaEffectManager.createShroomHitEffect(cc.v2(t.logicPos.x,t.logicPos.y+70),e)}});var i=p.pzaGameConfig.getMapSkewColumn(h.pzaGameState.curChapter);i>0&&this.baseData.xIndex<=i-2&&(n.maxPosX=this.baseData.logicPos.x+p.pzaGameConfig.getBlockWidth(h.pzaGameState.curChapter))}}}},i([y({displayName:"\u53d1\u5c04\u70b9",type:cc.Node})],e.prototype,"shootNode",void 0),i([y({displayName:"\u5b50\u5f39\u9884\u8bbe",type:cc.Prefab})],e.prototype,"bulletPrefab",void 0),i([m],e)}(f.pzaBasePlant);a.pzaScaredyShroom=z,cc._RF.pop()},{"../../Common/pzaGameCommonPool":"pzaGameCommonPool","../../Common/pzaGameConfig":"pzaGameConfig","../../Common/pzaNodeManager":"pzaNodeManager","../../Common/pzaUtil":"pzaUtil","../Bullet/pzaBaseBullet":"pzaBaseBullet","../pzaEffectManager":"pzaEffectManager","../pzaGameState":"pzaGameState","./pzaBasePlant":"pzaBasePlant"}],pzaScreenDoorZombie:[function(t,e,a){"use strict";cc._RF.push(e,"380c7Jm5iRIh58Mj/TsP22t","pzaScreenDoorZombie");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaScreenDoorZombie=void 0;var r=t("../../Common/pzaSpineController"),p=t("../../Common/pzaUtil"),c=t("../Data/pzaZombieEnum"),l=t("./pzaBaseZombie"),s=t("./pzaZombieState"),u=cc._decorator,h=u.ccclass,f=u.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.doorAnimation=null,e.curSkinName="zombie_3",e}return n(e,t),e.prototype.onEnable=function(){t.prototype.onEnable.call(this),this.doorAnimation.node.active=!1},e.prototype.equipDeath=function(e){var a=this;switch(t.prototype.equipDeath.call(this,!1),this.zombieState){case s.pzaZombieState.STAY:this.playStayAnimation();break;case s.pzaZombieState.MOVE:this.playMoveAnimation();break;case s.pzaZombieState.EAT_ATK:this.playAttakAnimation()}e&&(this.doorAnimation.node.active=!0,this.doorAnimation.setAnimationSkin(this.curSkinName),this.doorAnimation.playAnimation(this.equipDeathAniName,!1,function(){a.doorAnimation.node.active=!1}))},e.prototype.equipDying=function(){t.prototype.equipDying.call(this),this.animation.setAnimationSkin("zombie_3"),this.curSkinName="zombie_3"},e.prototype.equipHurt=function(){t.prototype.equipHurt.call(this),this.animation.setAnimationSkin("zombie_2"),this.curSkinName="zombie_2"},e.prototype.equipIntact=function(){t.prototype.equipIntact.call(this),this.animation.setAnimationSkin("zombie_1"),this.curSkinName="zombie_1"},e.prototype.playStayAnimation=function(){this.zombieState=s.pzaZombieState.STAY;var t=p.pzaUtil.getRandomValueFromArray(this.idleAniName);this.hasEquip||(t+="_1"),this.animation.playAnimation(t,!0)},e.prototype.playMoveAnimation=function(){var t=this,e=p.pzaUtil.getRandomValueFromArray(this.moveAniName);this.hasEquip||(e+="_1"),this.zombieState==s.pzaZombieState.EAT_ATK&&this.hasEquip?this.animation.playAnimation("1attack_idle",!1,function(){t.animation.playAnimation(e,!0,null,null,1)}):this.animation.playAnimation(e,!0,null,null,1),this.zombieState=s.pzaZombieState.MOVE},e.prototype.playAttakAnimation=function(){var t=this,e=p.pzaUtil.getRandomValueFromArray(this.attackAniName);this.hasEquip||(e+="_1"),this.zombieState==s.pzaZombieState.MOVE&&this.hasEquip?this.animation.playAnimation("1idle_attack",!1,function(){t.animation.playAnimation(e,!0)}):this.animation.playAnimation(e,!0),this.zombieState=s.pzaZombieState.EAT_ATK},e.prototype.playDeathAnimation=function(t){this.zombieState=s.pzaZombieState.DEAD,this.zombieHurtState=c.pzaHurtStateEnum.DEAD,this.animation.closeFlash();var e=p.pzaUtil.getRandomValueFromArray(this.deathAniName);this.animation.playAnimation(e,!1,t)},i([f({displayName:"\u94c1\u7f51\u52a8\u753b",type:r.pzaSpineController})],e.prototype,"doorAnimation",void 0),i([h],e)}(l.pzaBaseZombie);a.pzaScreenDoorZombie=d,cc._RF.pop()},{"../../Common/pzaSpineController":"pzaSpineController","../../Common/pzaUtil":"pzaUtil","../Data/pzaZombieEnum":"pzaZombieEnum","./pzaBaseZombie":"pzaBaseZombie","./pzaZombieState":"pzaZombieState"}],pzaSeaShroom:[function(t,e,a){"use strict";cc._RF.push(e,"5796ctByRNPe78i2kmko1Pi","pzaSeaShroom");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaSeaShroom=void 0;var r=t("../../Common/pzaGameCommonPool"),p=t("../../Common/pzaNodeManager"),c=t("../../Common/pzaUtil"),l=t("../Bullet/pzaBaseBullet"),s=t("../pzaEffectManager"),u=t("../pzaGameState"),h=t("./pzaBasePlant"),f=cc._decorator,d=f.ccclass,m=f.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.shootNode=null,e.bulletPrefab=null,e.blinkTime=3,e}return n(e,t),e.prototype.bindData=function(e){t.prototype.bindData.call(this,e),u.pzaGameState.gameTimeType==u.pzaGameTimeType.DAY?(this.animation.playAnimation("idle2",!0),e.plantData.sleeping=!0):(this.blinkTime=c.pzaUtil.getRandomFloatNum(3,6),this.playNormalAni())},e.prototype.logicUpdate=function(t){this.blinkTime-=t},e.prototype.wakeUp=function(){null!=this.baseData&&null!=this.baseData.plantData&&this.baseData.plantData.sleeping&&(this.baseData.plantData.sleeping=!1,this.animation.playAnimation("awoke",!1,this.playNormalAni.bind(this)))},e.prototype.playNormalAni=function(){var t=this,e=function(){window.pzazombieManager.hasCanAttackZombie(t.baseData,3)?t.animation.playAnimation("attack",!1,e,function(){t.shoot()}):t.blinkTime>0?t.animation.playAnimation("idle1",!1,e):(t.blinkTime=c.pzaUtil.getRandomFloatNum(3,6),t.animation.playAnimation("idle1_eye",!1,e))};this.animation.playAnimation("idle1",!1,e)},e.prototype.shoot=function(){var t=p.pzaNodeManager.getBulletNode();if(null!=t){var e=r.pzaGameCommonPool.requestInstant(this.bulletPrefab,!1);if(null!=e){e.setParent(t);var a=this.shootNode.convertToWorldSpaceAR(cc.v2()),o=t.convertToNodeSpaceAR(a);e.setPosition(o);var n=e.getComponent(l.pzaBaseBullet);null!=n&&n.init(this.baseData.yIndex,this.baseData.atk,0,null,cc.v2(1,0),function(t){if(null!=t){var e=10*-t.yIndex+5;s.pzaEffectManager.createShroomHitEffect(cc.v2(t.logicPos.x,t.logicPos.y+70),e)}})}}},i([m({displayName:"\u53d1\u5c04\u70b9",type:cc.Node})],e.prototype,"shootNode",void 0),i([m({displayName:"\u5b50\u5f39\u9884\u8bbe",type:cc.Prefab})],e.prototype,"bulletPrefab",void 0),i([d],e)}(h.pzaBasePlant);a.pzaSeaShroom=y,cc._RF.pop()},{"../../Common/pzaGameCommonPool":"pzaGameCommonPool","../../Common/pzaNodeManager":"pzaNodeManager","../../Common/pzaUtil":"pzaUtil","../Bullet/pzaBaseBullet":"pzaBaseBullet","../pzaEffectManager":"pzaEffectManager","../pzaGameState":"pzaGameState","./pzaBasePlant":"pzaBasePlant"}],pzaShadowEffect:[function(t,e,a){"use strict";cc._RF.push(e,"5a5631Pu8pMi7fB/Bp6K4iY","pzaShadowEffect");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaShadowEffect=void 0;var r=t("../../Common/pzaBaseComponent"),p=cc._decorator,c=p.ccclass,l=p.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.shadowSp=null,e}return n(e,t),e.prototype.init=function(e,a,o){void 0===a&&(a=cc.v2(0,30)),void 0===o&&(o=1),t.prototype.bindData.call(this,e),this.shadowSp.stopAllActions(),null!=a&&this.shadowSp.setPosition(a),this.shadowSp.scale=o,this.showShadow(),this.updatePos()},e.prototype.update=function(){null!=this.baseData&&(this.baseData.isDead||this.baseData.hp<=0?this.close():this.updatePos())},e.prototype.pauseSelf=function(){this.shadowSp.pauseAllActions()},e.prototype.resumeSelf=function(){this.shadowSp.resumeAllActions()},e.prototype.updatePos=function(){null!=this.baseData&&null!=this.baseData.logicPos&&this.node.setPosition(cc.v2(this.baseData.logicPos.x,this.baseData.logicPos.y+this.baseData.floatY))},e.prototype.followMove=function(t){null!=t&&this.node.setPosition(t)},e.prototype.hideShadow=function(){this.shadowSp.active=!1},e.prototype.showShadow=function(){this.shadowSp.active=!0},e.prototype.scaleShadow=function(t,e){this.shadowSp.runAction(cc.scaleTo(t,e))},e.prototype.changeOffset=function(t){void 0===t&&(t=cc.v2(0,30)),null!=t&&this.shadowSp.setPosition(t)},i([l({displayName:"\u5f71\u5b50\u56fe",type:cc.Node})],e.prototype,"shadowSp",void 0),i([c],e)}(r.pzaBaseComponent);a.pzaShadowEffect=s,cc._RF.pop()},{"../../Common/pzaBaseComponent":"pzaBaseComponent"}],pzaShopConfig:[function(t,e,a){"use strict";cc._RF.push(e,"d2b36zP1kZHN4M7r1NAkwvE","pzaShopConfig"),Object.defineProperty(a,"__esModule",{value:!0}),a.pzaShopConfig=a.pzaShopItemType=void 0,function(t){t[t.CARD_SLOT_7=1]="CARD_SLOT_7",t[t.CARD_SLOT_8=2]="CARD_SLOT_8",t[t.CARD_SLOT_9=3]="CARD_SLOT_9",t[t.BACONIC_SMALL=4]="BACONIC_SMALL",t[t.BACONIC_BIG=5]="BACONIC_BIG",t[t.POOL_CLEAN_CAR=6]="POOL_CLEAN_CAR",t[t.PITCHFORK=8]="PITCHFORK",t[t.ROOF_CART=9]="ROOF_CART",t[t.GATLING_PEA=10]="GATLING_PEA",t[t.TWIN_SUNFLOWER=11]="TWIN_SUNFLOWER",t[t.GLOOM_SHROOM=12]="GLOOM_SHROOM",t[t.CATTAIL=13]="CATTAIL",t[t.SPIKEROCK=14]="SPIKEROCK",t[t.GOLD_MAGNET=15]="GOLD_MAGNET",t[t.WINTER_MELON=16]="WINTER_MELON",t[t.COB_CANNON=17]="COB_CANNON",t[t.IMITATER=18]="IMITATER",t[t.NUT_HEALING=19]="NUT_HEALING",t[t.MARIGOLD_FLOWERPOT=20]="MARIGOLD_FLOWERPOT",t[t.GOLD_KETTLE=21]="GOLD_KETTLE",t[t.FERTILIZER=22]="FERTILIZER",t[t.PESTICIDE=23]="PESTICIDE",t[t.JUKEBOX=24]="JUKEBOX",t[t.GLOVE=25]="GLOVE",t[t.SHROOM_GARDEN=26]="SHROOM_GARDEN",t[t.AQUARIUM=27]="AQUARIUM",t[t.WHEELBARROW=28]="WHEELBARROW",t[t.SNAIL=29]="SNAIL",t[t.FLOWER_SEED=30]="FLOWER_SEED",t[t.BRONZE_FLOWER_SEED=31]="BRONZE_FLOWER_SEED",t[t.SILVER_FLOWER_SEED=32]="SILVER_FLOWER_SEED",t[t.GOLD_FLOWER_SEED=33]="GOLD_FLOWER_SEED",t[t.DAVE_COIN=1e3]="DAVE_COIN"}(a.pzaShopItemType||(a.pzaShopItemType={}));var o=function(){function t(t,e,a,o,n){this.itemType=null,this.price=0,this.desc=null,this.unlockChapter=0,this.unlockPart=0,this.itemType=t,this.price=e,this.desc=a,this.unlockChapter=o,this.unlockPart=n}return t.initShopConfig=function(e){var a=this;null!=e&&e.forEach(function(e){if(null!=e){var o=parseInt(e.id),n=parseInt(e.gold),i=e.desc,r=e.new,p=0,c=0;if(null!=r){var l=r.split("-");p=parseInt(l[0]),c=parseInt(l[1])}var s=new t(o,n,i,p,c);a.SHOP_CONFIG.set(o,s)}})},t.SHOP_CONFIG=new Map,t}();a.pzaShopConfig=o,cc._RF.pop()},{}],pzaShopItem:[function(t,e,a){"use strict";cc._RF.push(e,"945eaXxxrdJMqWmnEpN5n5u","pzaShopItem");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaShopItem=void 0;var r=t("../Common/pzaGameCommonPool"),p=t("../Common/pzaSpriteFrameManager"),c=t("../Common/pzaUIManager"),l=t("../Load/pzaPreLoadManager"),s=t("../Shop/pzaShopConfig"),u=t("./pzaBuyConfirmView"),h=cc._decorator,f=h.ccclass,d=h.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.price=null,e.itemIcon=null,e.plantCard=null,e.plantIcon=null,e.soldNode=null,e.comingNode=null,e.itemName=null,e.itemPosArr=[cc.v2(99,85),cc.v2(216,85),cc.v2(333,85),cc.v2(450,85),cc.v2(59,-58),cc.v2(176,-58),cc.v2(293,-58),cc.v2(410,-58)],e.itemType=null,e}return n(e,t),e.prototype.bindData=function(t,e){this.itemType=t;var a=this.itemPosArr[e];null!=a&&this.node.setPosition(a);var o=s.pzaShopConfig.SHOP_CONFIG.get(t);null!=o&&(this.price.string=""+o.price,this.soldNode.active=!1,this.comingNode.active=!1,this.itemName.node.active=!1,t>=s.pzaShopItemType.CARD_SLOT_7&&t<=s.pzaShopItemType.CARD_SLOT_9?(this.itemIcon.node.active=!0,this.plantCard.active=!1,this.itemName.node.active=!0,this.itemIcon.node.setPosition(cc.v2(-5,66)),p.pzaSpriteFrameManager.loadShopItemIcon(1,this.itemIcon),t==s.pzaShopItemType.CARD_SLOT_7?this.itemName.string="7\n\u5361\u7247\u69fd":t==s.pzaShopItemType.CARD_SLOT_8?this.itemName.string="8\n\u5361\u7247\u69fd":this.itemName.string="9\n\u5361\u7247\u69fd"):t==s.pzaShopItemType.BACONIC_SMALL||t==s.pzaShopItemType.BACONIC_BIG?(this.itemIcon.node.active=!0,this.plantCard.active=!1,this.itemIcon.node.setPosition(cc.v2(5,74)),p.pzaSpriteFrameManager.loadShopItemIcon(4,this.itemIcon)):t<s.pzaShopItemType.GATLING_PEA||t>s.pzaShopItemType.IMITATER?(this.itemIcon.node.active=!0,this.plantCard.active=!1,this.itemIcon.node.setPosition(cc.v2(5,74)),p.pzaSpriteFrameManager.loadShopItemIcon(t,this.itemIcon)):(this.itemIcon.node.active=!1,this.plantCard.active=!0))},e.prototype.click=function(){var t=this;c.pzaUIManager.baseShowPopUI(l.pzaResourceUrl.BUY_CONFIRM_VIEW,function(e){var a=e&&e.getComponent(u.pzaBuyConfirmView);a&&a.bindData(t.itemType)})},e.prototype.close=function(){r.pzaGameCommonPool.returnInstant(this.node)},i([d({displayName:"\u4ef7\u683c",type:cc.Label})],e.prototype,"price",void 0),i([d({displayName:"\u7269\u54c1\u56fe\u6807",type:cc.Sprite})],e.prototype,"itemIcon",void 0),i([d({displayName:"\u690d\u7269\u5361\u7247\u8282\u70b9",type:cc.Node})],e.prototype,"plantCard",void 0),i([d({displayName:"\u690d\u7269\u56fe\u7247",type:cc.Sprite})],e.prototype,"plantIcon",void 0),i([d({displayName:"\u5df2\u552e\u51fa",type:cc.Node})],e.prototype,"soldNode",void 0),i([d({displayName:"\u5373\u5c06\u63a8\u51fa",type:cc.Node})],e.prototype,"comingNode",void 0),i([d({displayName:"\u5546\u54c1\u540d\u79f0",type:cc.Label})],e.prototype,"itemName",void 0),i([f],e)}(cc.Component);a.pzaShopItem=m,cc._RF.pop()},{"../Common/pzaGameCommonPool":"pzaGameCommonPool","../Common/pzaSpriteFrameManager":"pzaSpriteFrameManager","../Common/pzaUIManager":"pzaUIManager","../Load/pzaPreLoadManager":"pzaPreLoadManager","../Shop/pzaShopConfig":"pzaShopConfig","./pzaBuyConfirmView":"pzaBuyConfirmView"}],pzaShopView:[function(t,e,a){"use strict";cc._RF.push(e,"33f42AEVkRP07M+oYZJtsjF","pzaShopView");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaShopView=void 0;var r=t("../Battle/Data/pzaGuideType"),p=t("../Common/pzaGameCommonPool"),c=t("../Common/pzaLocalData"),l=t("../Common/pzaSpineController"),s=t("../Common/pzaUIManager"),u=t("../Load/pzaPreLoadManager"),h=t("../Shop/pzaShopConfig"),f=t("./pzaBuyConfirmView"),d=t("./pzaCommonMask"),m=t("./pzaShopItem"),y=cc._decorator,z=y.ccclass,b=y.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bg=null,e.bgFrames=[],e.backCarNode=null,e.backCarDoor=null,e.backCarCloseDoor=null,e.nightWindow=null,e.nightbackWindow=null,e.coin=null,e.mainBtnNode=null,e.mainBtn=null,e.mainBtnFrames=[],e.dave=null,e.itemPrefab=null,e.shopContent=null,e.leftLightBtn=null,e.rightLightBtn=null,e.dialogNode=null,e.word=null,e.continueNode=null,e.diamond=null,e.lastCoinCount=null,e.shopItems=[],e.curPage=null,e.closeCall=null,e.words=null,e.pageShops=[[h.pzaShopItemType.CARD_SLOT_7,h.pzaShopItemType.POOL_CLEAN_CAR,h.pzaShopItemType.PITCHFORK,h.pzaShopItemType.ROOF_CART,h.pzaShopItemType.GATLING_PEA,h.pzaShopItemType.TWIN_SUNFLOWER,h.pzaShopItemType.GLOOM_SHROOM,h.pzaShopItemType.CATTAIL],[h.pzaShopItemType.SPIKEROCK,h.pzaShopItemType.GOLD_MAGNET,h.pzaShopItemType.WINTER_MELON,h.pzaShopItemType.COB_CANNON,h.pzaShopItemType.IMITATER,h.pzaShopItemType.NUT_HEALING],[h.pzaShopItemType.MARIGOLD_FLOWERPOT,h.pzaShopItemType.MARIGOLD_FLOWERPOT,h.pzaShopItemType.MARIGOLD_FLOWERPOT,h.pzaShopItemType.GOLD_KETTLE,h.pzaShopItemType.FERTILIZER,h.pzaShopItemType.PESTICIDE,h.pzaShopItemType.JUKEBOX,h.pzaShopItemType.GLOVE],[h.pzaShopItemType.SHROOM_GARDEN,h.pzaShopItemType.AQUARIUM,h.pzaShopItemType.WHEELBARROW,h.pzaShopItemType.SNAIL,h.pzaShopItemType.FLOWER_SEED,h.pzaShopItemType.BRONZE_FLOWER_SEED,h.pzaShopItemType.SILVER_FLOWER_SEED,h.pzaShopItemType.GOLD_FLOWER_SEED]],e}return n(e,t),e.prototype.onEnable=function(){var t=this;this.lastCoinCount=null,this.refreshCoinCount(),this.curPage=null,this.dialogNode.active=!1,this.diamond.active=!1,c.pzaLocalData.data.curGuideType==r.pzaGuideType.GUIDE_SHOP_3_4||c.pzaLocalData.data.curGuideType==r.pzaGuideType.GUIDE_SHOP_4_4||c.pzaLocalData.data.curGuideType==r.pzaGuideType.GUIDE_SHOP_5_1?(this.show(!0,!1),this.bindCloseCall(!1,function(){s.pzaUIManager.baseShowPopUI(u.pzaResourceUrl.CHAPTER_SELECT_VIEW,null)}),this.mainBtnNode.active=!1,c.pzaLocalData.data.curGuideType==r.pzaGuideType.GUIDE_SHOP_3_4?this.words=[new r.pzaDialog("\u4f60\u627e\u5230\u4e86\u6211\u7684\u57f9\u6839\uff01\n!"),new r.pzaDialog("\u6211\u7684\u5b9d\u8d1d\uff0c\u6cb9\u5149\u57f9\u6839\n\uff01"),new r.pzaDialog("\u6211\u51fa1000\u91d1\u5e01\u4e70\u4e86\uff01"),new r.pzaDialog("\u54c8\u54c8\u54c8\uff01\u554a\u54c8\u54c8\xb7\xb7\xb7\n\u54c8\uff01",function(){t.showDiamondAni()}),new r.pzaDialog("\u6162\u6162\u6570\u94b1\u5427!"),new r.pzaDialog("\u73b0\u5728\u6211\u8981\u53bb\u6577\u57f9\u6839\u9762\n\u819c\u4e86\uff01",function(){t.openCarDoor()})]:c.pzaLocalData.data.curGuideType==r.pzaGuideType.GUIDE_SHOP_4_4?this.words=[new r.pzaDialog("\u4f60\u627e\u5230\u4e86\u6211\u7684\n\u9b54\u6cd5\u7389\u7c73\u5377\uff01\uff01"),new r.pzaDialog("\u5b83\u53ea\u80fd\u662f\u6211\u7684\uff01\n\u6211\u7ed9\u4f601000\u91d1\u5e01\uff01"),new r.pzaDialog("\u5f88\u597d\uff01\u7389\u7c73\u5377\n\u73b0\u5728\u662f\u6211\u7684\u5566\uff01"),new r.pzaDialog("\u4e3a\u4ec0\u4e48\u6211\u8981\u82b1\u8fd9\u4e48\u591a\n\u94b1\u4e70\u4f60\u90a3\u4e2a\u7389\u7c73\u5377\uff1f"),new r.pzaDialog("\u56e0\u4e3a\u6211\u5f88\u75af\u72c2\uff01\uff01\uff01\n\uff01"),new r.pzaDialog("\u6211\u7684\u5c0f\u5e97\uff01\u4f60\u4f1a\u6ce8\u610f\n\u5230\u6211\u8fdb\u4e86\u4e9b\u65b0\u8d27\uff01")]:c.pzaLocalData.data.curGuideType==r.pzaGuideType.GUIDE_SHOP_5_1&&(this.words=[new r.pzaDialog("\u563f\uff0c\u6211\u7684\u90bb\u5c45\uff01\u6211\u6709\n\u4e00\u4e9b\u65b0\u4e1c\u897f\u51fa\u552e\u5566\uff01")])):(this.mainBtnNode.active=!0,this.show(!0,!0),this.bindCloseCall(!1,null),this.showShopItem(1)),this.dialogNode.on(cc.Node.EventType.TOUCH_START,this.clickNextWord,this)},e.prototype.onDisable=function(){this.clearShopItem(),this.dialogNode.off(cc.Node.EventType.TOUCH_START,this.clickNextWord,this)},e.prototype.bindCloseCall=function(t,e){this.closeCall=e,this.mainBtn.spriteFrame=t?this.mainBtnFrames[0]:this.mainBtnFrames[1]},e.prototype.show=function(t,e){var a=this;t?(this.bg.spriteFrame=this.bgFrames[0],this.nightWindow.active=!1,this.nightbackWindow.active=!1,e?(this.backCarDoor.active=!0,this.backCarCloseDoor.active=!1,this.leftLightBtn.interactable=!0,this.rightLightBtn.interactable=!0):(this.backCarDoor.active=!1,this.backCarCloseDoor.active=!0,this.leftLightBtn.interactable=!1,this.rightLightBtn.interactable=!1)):(this.bg.spriteFrame=this.bgFrames[1],this.nightWindow.active=!0,e?(this.nightbackWindow.active=!1,this.backCarDoor.active=!0,this.backCarCloseDoor.active=!1,this.leftLightBtn.interactable=!0,this.rightLightBtn.interactable=!0):(this.nightbackWindow.active=!0,this.backCarDoor.active=!1,this.backCarCloseDoor.active=!0,this.leftLightBtn.interactable=!1,this.rightLightBtn.interactable=!1)),this.dave.playAnimation("1enter1",!1,function(){a.dave.playAnimation("1idle1",!1),a.showDaveDialog()})},e.prototype.update=function(){this.refreshCoinCount()},e.prototype.refreshCoinCount=function(){this.lastCoinCount!=c.pzaLocalData.data.coin&&(this.lastCoinCount=c.pzaLocalData.data.coin,this.coin.string=""+this.lastCoinCount)},e.prototype.clickMainView=function(){this.close(),this.closeCall&&this.closeCall()},e.prototype.clickBuyMoreCoin=function(){s.pzaUIManager.baseShowPopUI(u.pzaResourceUrl.BUY_CONFIRM_VIEW,function(t){var e=t&&t.getComponent(f.pzaBuyConfirmView);e&&e.bindData(h.pzaShopItemType.DAVE_COIN)})},e.prototype.showShopItem=function(t){if(this.curPage!=t){this.curPage=t,this.clearShopItem();var e=this.pageShops[this.curPage-1];if(null!=e)for(var a=0;a<e.length;a++){var o=e[a],n=p.pzaGameCommonPool.requestInstant(this.itemPrefab);n.setParent(this.shopContent);var i=n.getComponent(m.pzaShopItem);i&&i.bindData(o,a),this.shopItems.push(i)}}},e.prototype.clearShopItem=function(){this.shopItems.forEach(function(t){t&&t.close()}),this.shopItems=[]},e.prototype.clickPrePage=function(){var t=this.curPage-1;t<1&&(t=4),this.showChangeAni(t)},e.prototype.clickNextPage=function(){var t=this.curPage+1;t>4&&(t=1),this.showChangeAni(t)},e.prototype.showChangeAni=function(t){var e=this;d.pzaCommonMask.showMask(),this.backCarDoor.runAction(cc.sequence(cc.fadeOut(.2),cc.delayTime(.37),cc.fadeIn(.15))),this.backCarCloseDoor.active=!0,this.backCarCloseDoor.opacity=1,this.backCarCloseDoor.runAction(cc.sequence(cc.delayTime(.15),cc.fadeIn(.15),cc.delayTime(.12),cc.fadeOut(.2))),this.backCarNode.y=0,this.backCarNode.runAction(cc.sequence(cc.delayTime(.3),cc.repeat(cc.sequence(cc.moveTo(.02,cc.v2(0,-2)),cc.moveTo(.02,cc.v2(0,0))),3))),this.shopContent.runAction(cc.sequence(cc.fadeOut(.2),cc.callFunc(function(){e.showShopItem(t)}),cc.delayTime(.37),cc.fadeIn(.15),cc.callFunc(function(){d.pzaCommonMask.hideMask(),e.backCarCloseDoor.active=!1})))},e.prototype.openCarDoor=function(){var t=this;d.pzaCommonMask.showMask(),this.backCarNode.y=0,this.backCarNode.runAction(cc.repeat(cc.sequence(cc.moveTo(.02,cc.v2(0,-2)),cc.moveTo(.02,cc.v2(0,0))),3)),this.backCarDoor.active=!0,this.backCarDoor.opacity=1,this.backCarDoor.runAction(cc.sequence(cc.delayTime(.27),cc.fadeIn(.15))),this.backCarCloseDoor.runAction(cc.sequence(cc.delayTime(.12),cc.fadeOut(.2))),this.shopContent.opacity=1,this.shopContent.runAction(cc.sequence(cc.callFunc(function(){t.showShopItem(1)}),cc.delayTime(.27),cc.fadeIn(.15),cc.callFunc(function(){d.pzaCommonMask.hideMask(),t.backCarCloseDoor.active=!1})))},e.prototype.showDaveDialog=function(){null!=this.words&&(this.dialogNode.active=!0,this.showNextWord())},e.prototype.clickNextWord=function(){this.showNextWord()},e.prototype.showNextWord=function(){var t=this;if(null==this.words)return this.mainBtnNode.active=!0,this.dialogNode.active=!1,c.pzaLocalData.data.curGuideType=null,void c.pzaLocalData.addDirty("curGuideType");var e=this.words.shift();if(null==e)return this.mainBtnNode.active=!0,this.dialogNode.active=!1,c.pzaLocalData.data.curGuideType=null,void c.pzaLocalData.addDirty("curGuideType");this.word.string=e.word,e.event&&e.event(),this.dave.playAnimation("1talk3",!1,function(){t.dave.playAnimation("1idle1",!0)})},e.prototype.showDiamondAni=function(){this.diamond.active=!0,this.diamond.stopAllActions(),this.diamond.setPosition(cc.v2(-424,-262)),this.diamond.opacity=255,this.diamond.runAction(cc.sequence(cc.moveTo(.5,cc.v2(281,-288)),cc.callFunc(function(){c.pzaLocalData.data.coin+=1e3,c.pzaLocalData.addDirty("coin")}),cc.fadeOut(.3)))},e.prototype.close=function(){p.pzaGameCommonPool.returnInstant(this.node)},i([b({displayName:"\u80cc\u666f",type:cc.Sprite})],e.prototype,"bg",void 0),i([b({displayName:"\u80cc\u666f\u56fe",type:[cc.SpriteFrame]})],e.prototype,"bgFrames",void 0),i([b({displayName:"\u540e\u8f66\u8282\u70b9",type:cc.Node})],e.prototype,"backCarNode",void 0),i([b({displayName:"\u540e\u8f66\u95e8-\u5f00",type:cc.Node})],e.prototype,"backCarDoor",void 0),i([b({displayName:"\u540e\u8f66\u95e8-\u5173",type:cc.Node})],e.prototype,"backCarCloseDoor",void 0),i([b({displayName:"\u591c\u665a\u7a97",type:cc.Node})],e.prototype,"nightWindow",void 0),i([b({displayName:"\u591c\u665a\u540e\u7a97",type:cc.Node})],e.prototype,"nightbackWindow",void 0),i([b({displayName:"\u91d1\u5e01\u6570\u91cf",type:cc.Label})],e.prototype,"coin",void 0),i([b({displayName:"\u4e3b\u83dc\u5355\u6309\u94ae\u8282\u70b9",type:cc.Node})],e.prototype,"mainBtnNode",void 0),i([b({displayName:"\u4e3b\u83dc\u5355\u6309\u94ae",type:cc.Sprite})],e.prototype,"mainBtn",void 0),i([b({displayName:"\u4e3b\u83dc\u5355\u6309\u94ae\u56fe",type:[cc.SpriteFrame]})],e.prototype,"mainBtnFrames",void 0),i([b({displayName:"\u6234\u592b\u52a8\u753b",type:l.pzaSpineController})],e.prototype,"dave",void 0),i([b({displayName:"\u5546\u54c1\u9884\u8bbe",type:cc.Prefab})],e.prototype,"itemPrefab",void 0),i([b({displayName:"\u5546\u54c1\u5bb9\u5668",type:cc.Node})],e.prototype,"shopContent",void 0),i([b({displayName:"\u5de6\u8f66\u706f\u6309\u94ae",type:cc.Button})],e.prototype,"leftLightBtn",void 0),i([b({displayName:"\u53f3\u8f66\u706f\u6309\u94ae",type:cc.Button})],e.prototype,"rightLightBtn",void 0),i([b({displayName:"\u5bf9\u8bdd\u6846\u8282\u70b9",type:cc.Node})],e.prototype,"dialogNode",void 0),i([b({displayName:"\u6587\u5b57",type:cc.Label})],e.prototype,"word",void 0),i([b({displayName:"\u7ee7\u7eed",type:cc.Node})],e.prototype,"continueNode",void 0),i([b({displayName:"\u94bb\u77f3",type:cc.Node})],e.prototype,"diamond",void 0),i([z],e)}(cc.Component);a.pzaShopView=g,cc._RF.pop()},{"../Battle/Data/pzaGuideType":"pzaGuideType","../Common/pzaGameCommonPool":"pzaGameCommonPool","../Common/pzaLocalData":"pzaLocalData","../Common/pzaSpineController":"pzaSpineController","../Common/pzaUIManager":"pzaUIManager","../Load/pzaPreLoadManager":"pzaPreLoadManager","../Shop/pzaShopConfig":"pzaShopConfig","./pzaBuyConfirmView":"pzaBuyConfirmView","./pzaCommonMask":"pzaCommonMask","./pzaShopItem":"pzaShopItem"}],pzaShovelEffect:[function(t,e,a){"use strict";cc._RF.push(e,"180dahVd7hG1a5MYuVZoAx0","pzaShovelEffect");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaShovelEffect=void 0;var r=t("../../Common/pzaGameCommonPool"),p=t("../../Common/pzaGameConfig"),c=t("../pzaGameState"),l=cc._decorator,s=l.ccclass,u=l.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.shovelNode=null,e}return n(e,t),e.prototype.init=function(t,e){this.changeShovelPos(t,e),this.shovelNode.stopAllActions(),this.shovelNode.setPosition(cc.v2()),this.shovelNode.runAction(cc.repeatForever(cc.sequence(cc.moveTo(.2,cc.v2(100,100)),cc.moveTo(.3,cc.v2()))))},e.prototype.changeShovelPos=function(t,e){if(null!=t&&null!=t){var a=p.pzaGameConfig.getBlockLogicPos(c.pzaGameState.curChapter,t,e,0,0),o=p.pzaGameConfig.getXInterval(c.pzaGameState.curChapter,t),n=p.pzaGameConfig.getYInterval(c.pzaGameState.curChapter,e);a.x+=.5*o,a.y+=.5*n,this.node.setPosition(a)}else this.close()},e.prototype.close=function(){r.pzaGameCommonPool.returnInstant(this.node)},i([u({displayName:"\u94f2\u5b50\u8282\u70b9",type:cc.Node})],e.prototype,"shovelNode",void 0),i([s],e)}(cc.Component);a.pzaShovelEffect=h,cc._RF.pop()},{"../../Common/pzaGameCommonPool":"pzaGameCommonPool","../../Common/pzaGameConfig":"pzaGameConfig","../pzaGameState":"pzaGameState"}],pzaShowGrassEffect:[function(t,e,a){"use strict";cc._RF.push(e,"2b996IP4bdIDLNEomB4BUYn","pzaShowGrassEffect");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaShowGrassEffect=void 0;var r=t("../../Common/pzaBaseComponent"),p=t("../../Common/pzaSpineController"),c=t("../Data/pzaGuideType"),l=t("../pzaGameState"),s=cc._decorator,u=s.ccclass,h=s.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.grassAni=null,e.grassBlackNode=null,e}return n(e,t),e.prototype.showStaticGrass=function(t){this.grassBlackNode.active=!1,this.grassAni.playAnimation("grass"+t+"_1",!0)},e.prototype.showGrass=function(t,e){this.grassBlackNode.active=!1,this.grassAni.playAnimation("grass"+t,!1,e)},e.prototype.update=function(){window.pzaGuideManager.guideType==c.pzaGuideType.GUIDE_PLANT_1_1&&(this.grassBlackNode.active||1!=window.pzaGuideManager.guideStep&&(6!=window.pzaGuideManager.guideStep||null==l.pzaGameState.curPlant)?!this.grassBlackNode.active||1==window.pzaGuideManager.guideStep||6==window.pzaGuideManager.guideStep&&null!=l.pzaGameState.curPlant||this.hideBlankGrass():this.blankGrass())},e.prototype.pauseSelf=function(){this.grassAni.pauseAnimation(),this.grassBlackNode.active&&this.grassBlackNode.pauseAllActions()},e.prototype.resumeSelf=function(){this.grassAni.resumeAnimation(),this.grassBlackNode.active&&this.grassBlackNode.resumeAllActions()},e.prototype.blankGrass=function(){this.grassBlackNode.stopAllActions(),this.grassBlackNode.active=!0,this.grassBlackNode.opacity=0,this.grassBlackNode.runAction(cc.repeatForever(cc.sequence(cc.fadeTo(.4,177),cc.fadeOut(.4))))},e.prototype.hideBlankGrass=function(){this.grassBlackNode.active=!1},i([h({displayName:"\u8349\u5730\u52a8\u753b",type:p.pzaSpineController})],e.prototype,"grassAni",void 0),i([h({displayName:"\u8349\u5730\u9ed1\u52a8\u753b",type:cc.Node})],e.prototype,"grassBlackNode",void 0),i([u],e)}(r.pzaBaseComponent);a.pzaShowGrassEffect=f,cc._RF.pop()},{"../../Common/pzaBaseComponent":"pzaBaseComponent","../../Common/pzaSpineController":"pzaSpineController","../Data/pzaGuideType":"pzaGuideType","../pzaGameState":"pzaGameState"}],pzaSnorkelZombie:[function(t,e,a){"use strict";cc._RF.push(e,"17264xFfYRMaY/c70hgyGYu","pzaSnorkelZombie");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaSnorkelZombie=void 0;var r=t("../Data/pzaBuffData"),p=t("../pzaEffectManager"),c=t("./pzaBaseZombie"),l=t("./pzaZombieState"),s=cc._decorator,u=s.ccclass,h=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.diving=!1,e}return n(e,t),e.prototype.bindData=function(e){t.prototype.bindData.call(this,e),this.diving=!1,this.animation.node.y=20*this.zombieScale},e.prototype.updateMove=function(e){var a=this;if(!this.diving){var o=this.baseData.xIndex;if(o>=0&&!this.baseData.buffData.hasBuff(r.pzaBuffType.DIVE))return this.diving=!0,void this.animation.playAnimation("down",!1,function(){a.diving=!1,a.baseData.buffData.addBuff(new r.pzaBuffInfo(r.pzaBuffType.DIVE,-1))});t.prototype.updateMove.call(this,e);var n=this.baseData.xIndex;o<0&&n>=0?(this.baseData.buffData.addBuff(new r.pzaBuffInfo(r.pzaBuffType.DIVE,-1)),this.curShadow&&this.curShadow.hideShadow(),this.animation.playAnimation("jump",!1,function(){a.playMoveAnimation()},function(){p.pzaEffectManager.createWaterFlowerEffect(a.baseData.yIndex,a.baseData.logicPos,null)})):n<0&&o>=0&&(null!=this.mask&&(this.mask.enabled=!0),p.pzaEffectManager.createWaterFlowerEffect(this.baseData.yIndex,this.baseData.logicPos,null),this.animation.node.y=-85*this.zombieScale,this.animation.playAnimation("move",!0),this.animation.node.runAction(cc.sequence(cc.moveTo(.2,cc.v2(0,20*this.zombieScale)),cc.callFunc(function(){a.curShadow&&a.curShadow.showShadow(),null!=a.mask&&(a.mask.enabled=!1)}))))}},e.prototype.attack=function(e,a){var o=this;if(!this.diving)return this.baseData.buffData.hasBuff(r.pzaBuffType.DIVE)?(this.diving=!0,void this.animation.playAnimation("up",!1,function(){o.diving=!1,o.baseData.buffData.removeBuff(r.pzaBuffType.DIVE)})):void t.prototype.attack.call(this,e,a)},e.prototype.playMoveAnimation=function(){this.zombieState=l.pzaZombieState.MOVE,this.baseData.buffData.hasBuff(r.pzaBuffType.DIVE)?this.animation.playAnimation("move2",!0):this.animation.playAnimation("move",!0)},i([u],e)}(c.pzaBaseZombie));a.pzaSnorkelZombie=h,cc._RF.pop()},{"../Data/pzaBuffData":"pzaBuffData","../pzaEffectManager":"pzaEffectManager","./pzaBaseZombie":"pzaBaseZombie","./pzaZombieState":"pzaZombieState"}],pzaSnowPea:[function(t,e,a){"use strict";cc._RF.push(e,"d0858T0P0xCCbkWdXg2wTUe","pzaSnowPea");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaSnowPea=void 0;var r=t("../../Common/pzaGameCommonPool"),p=t("../../Common/pzaGameConfig"),c=t("../../Common/pzaNodeManager"),l=t("../../Common/pzaUtil"),s=t("../Bullet/pzaBaseBullet"),u=t("../pzaGameState"),h=t("./pzaBasePlant"),f=cc._decorator,d=f.ccclass,m=f.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.shootNode=null,e.bulletPrefab=null,e.blinkTime=3,e}return n(e,t),e.prototype.bindData=function(e){var a=this;t.prototype.bindData.call(this,e),this.blinkTime=l.pzaUtil.getRandomFloatNum(3,6);var o=function(){if(window.pzazombieManager.hasCanAttackZombie(a.baseData)){var t=l.pzaUtil.getRandomNum(1,4),e=0;a.animation.playAnimation("attack",!1,o,function(){t==++e&&a.shoot()})}else a.blinkTime>0?a.animation.playAnimation("idle1",!1,o):(a.blinkTime=l.pzaUtil.getRandomFloatNum(3,6),a.animation.playAnimation("idle2",!1,o))};this.animation.playAnimation("idle1",!1,o)},e.prototype.logicUpdate=function(t){null==this.baseData||this.baseData.isDead||null==this.baseData.plantData||(this.blinkTime-=t)},e.prototype.shoot=function(){var t=c.pzaNodeManager.getBulletNode();if(null!=t){var e=r.pzaGameCommonPool.requestInstant(this.bulletPrefab,!1);if(null!=e){e.setParent(t);var a=this.shootNode.convertToWorldSpaceAR(cc.v2()),o=t.convertToNodeSpaceAR(a);e.setPosition(o);var n=e.getComponent(s.pzaBaseBullet);if(null!=n){n.init(this.baseData.yIndex,this.baseData.atk);var i=p.pzaGameConfig.getMapSkewColumn(u.pzaGameState.curChapter);i>0&&this.baseData.xIndex<=i-2&&(n.maxPosX=this.baseData.logicPos.x+p.pzaGameConfig.getBlockWidth(u.pzaGameState.curChapter))}}}},i([m({displayName:"\u53d1\u5c04\u70b9",type:cc.Node})],e.prototype,"shootNode",void 0),i([m({displayName:"\u5b50\u5f39\u9884\u8bbe",type:cc.Prefab})],e.prototype,"bulletPrefab",void 0),i([d],e)}(h.pzaBasePlant);a.pzaSnowPea=y,cc._RF.pop()},{"../../Common/pzaGameCommonPool":"pzaGameCommonPool","../../Common/pzaGameConfig":"pzaGameConfig","../../Common/pzaNodeManager":"pzaNodeManager","../../Common/pzaUtil":"pzaUtil","../Bullet/pzaBaseBullet":"pzaBaseBullet","../pzaGameState":"pzaGameState","./pzaBasePlant":"pzaBasePlant"}],pzaSpikeweed:[function(t,e,a){"use strict";cc._RF.push(e,"4ecf2vQkM1HfaFg6WAuXHm/","pzaSpikeweed");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaSpikeweed=void 0;var r=t("../../Common/pzaUtil"),p=t("../Data/pzaBuffData"),c=t("./pzaAttackType"),l=t("./pzaBasePlant"),s=cc._decorator,u=s.ccclass,h=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.blinkTime=3,e}return n(e,t),e.prototype.bindData=function(e){t.prototype.bindData.call(this,e),this.animation.playAnimation("idle",!0),this.blinkTime=r.pzaUtil.getRandomFloatNum(3,6)},e.prototype.logicUpdate=function(t){var e=this;null==this.baseData||this.baseData.isDead||null==this.baseData.plantData||this.baseData.isDead||(this.blinkTime-=t,this.baseData.plantData.atkInterval+=t,this.baseData.plantData.atkInterval<this.atkInterval?this.blinkTime<=0&&(this.blinkTime=r.pzaUtil.getRandomFloatNum(3,6),this.animation.playAnimation("idle_eye",!1,function(){e.animation.playAnimation("idle",!0)})):null!=this.findAttackTarget()&&this.attack())},e.prototype.findAttackTarget=function(){var t=this;if(null==this.baseData)return null;var e=null;return window.pzazombieManager.zombieDatas[this.baseData.yIndex].forEach(function(a){null==e&&(null==a||a.isDead||a.buffData.hasBuff(p.pzaBuffType.FLY)||a.buffData.hasBuff(p.pzaBuffType.UNABLE_SELECT)||a.xIndex==t.baseData.xIndex&&(e=a))}),e},e.prototype.attack=function(){var t=this;this.animation.playAnimation("attack",!1,function(){t.animation.playAnimation("idle",!0)}),null==this.baseData||this.baseData.isDead||(this.baseData.plantData.atkInterval=0,window.pzazombieManager.zombieDatas[this.baseData.yIndex].forEach(function(e){if(!(null==e||e.isDead||e.buffData.hasBuff(p.pzaBuffType.FLY)||e.buffData.hasBuff(p.pzaBuffType.UNABLE_SELECT))&&e.xIndex==t.baseData.xIndex){var a=window.pzazombieManager.getZombie(e);a&&a.hurt(t.baseData.atk,t.baseData,c.pzaAttackType.SPIKE)}}))},i([u],e)}(l.pzaBasePlant));a.pzaSpikeweed=h,cc._RF.pop()},{"../../Common/pzaUtil":"pzaUtil","../Data/pzaBuffData":"pzaBuffData","./pzaAttackType":"pzaAttackType","./pzaBasePlant":"pzaBasePlant"}],pzaSpineController:[function(t,e,a){"use strict";cc._RF.push(e,"261d4+Q1HdGA5w3tjdBw83c","pzaSpineController");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaSpineController=void 0;var r=cc._decorator,p=r.ccclass,c=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spineAnimation=null,e.activeFlash=!1,e._material=null,e.flashTime=0,e.currentTimeScale=1,e}return n(e,t),e.prototype.onLoad=function(){this.activeFlash&&(this._material=this.spineAnimation.getMaterial(0))},e.prototype.onEnable=function(){this.activeFlash&&(this._material.setProperty("u_rate",1),this.flashTime=0)},e.prototype.playAnimation=function(t,e,a,o,n){void 0===o&&(o=null),void 0===n&&(n=1),null==a?this.spineAnimation.setCompleteListener(function(){}):this.spineAnimation.setCompleteListener(a),null==o?this.spineAnimation.setEventListener(function(){}):this.spineAnimation.setEventListener(o),this.spineAnimation.loop=e,this.spineAnimation.timeScale=n,this.currentTimeScale=n,this.spineAnimation.paused=!1,this.spineAnimation.animation=t},e.prototype.setAnimationSkin=function(t){null!=t&&""!=t&&this.spineAnimation.setSkin(t)},e.prototype.pauseAnimation=function(){this.spineAnimation.paused||(this.spineAnimation.paused=!0)},e.prototype.resumeAnimation=function(){this.spineAnimation.paused&&(this.spineAnimation.paused=!1)},e.prototype.changeAnimationTimeScale=function(t){this.spineAnimation.timeScale=this.currentTimeScale*t},e.prototype.setColor=function(t,e){null==t.setFromString?(e="#"==e.charAt(0)?e.substr(1):e,t.r=parseInt(e.substr(0,2),16)/255,t.g=parseInt(e.substr(2,2),16)/255,t.b=parseInt(e.substr(4,2),16)/255,t.a=(8!=e.length?255:parseInt(e.substr(6,2),16))/255):t.setFromString(e)},e.prototype.getAnimationDuration=function(t){var e=this.spineAnimation.findAnimation(t);return null==e?.5:e.duration},e.prototype.findBone=function(t){return this.spineAnimation.findBone(t)},e.prototype.flashUpdate=function(t){if(this.activeFlash&&!(this.flashTime<=0)){this.flashTime-=t;var e=(2-Math.max(this.flashTime/.1,0))/2;this._material.setProperty("u_rate",e)}},e.prototype.flash=function(){this.activeFlash&&(this.flashTime=.1)},e.prototype.closeFlash=function(){this.activeFlash&&this._material.setProperty("u_rate",1)},e.prototype.showLight=function(){this._material.setProperty("u_color",[1,252/255,87/255,1]),this._material.setProperty("u_rate",.5)},e.prototype.hideLight=function(){this._material.setProperty("u_rate",1)},i([c({displayName:"spine\u52a8\u753b\u7ec4\u4ef6",type:sp.Skeleton})],e.prototype,"spineAnimation",void 0),i([c({displayName:"\u5f00\u542f\u95ea\u767d"})],e.prototype,"activeFlash",void 0),i([p],e)}(cc.Component);a.pzaSpineController=l,cc._RF.pop()},{}],pzaSplitPea:[function(t,e,a){"use strict";cc._RF.push(e,"fe46bSZniRJ554OYK8IgKeB","pzaSplitPea");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaSplitPea=void 0;var r=t("../../Common/pzaGameCommonPool"),p=t("../../Common/pzaGameConfig"),c=t("../../Common/pzaNodeManager"),l=t("../../Common/pzaUtil"),s=t("../Bullet/pzaBaseBullet"),u=t("../pzaGameState"),h=t("./pzaBasePlant"),f=cc._decorator,d=f.ccclass,m=f.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lShootNode=null,e.rShootNode=null,e.bulletPrefab=null,e.blinkTime=3,e}return n(e,t),e.prototype.bindData=function(e){t.prototype.bindData.call(this,e),this.blinkTime=l.pzaUtil.getRandomFloatNum(3,6),this.playNormalAni()},e.prototype.logicUpdate=function(t){this.blinkTime-=t},e.prototype.playNormalAni=function(){var t=this,e=function(){var a=window.pzazombieManager.hasCanAttackZombie(t.baseData),o=window.pzazombieManager.hasCanAttackBackZombie(t.baseData);if(o&&a)t.animation.playAnimation("attack3",!1,e,function(){t.shoot(!1),t.shoot(!0)});else{if(o)t.animation.playAnimation("attack2",!1,e,function(){t.shoot(!1)});else if(a)return void t.animation.playAnimation("attack1",!1,e,function(){t.shoot(!0)});t.blinkTime>0?t.animation.playAnimation("idle1",!1,e):(t.blinkTime=l.pzaUtil.getRandomFloatNum(3,6),t.animation.playAnimation("idle2",!1,e))}};this.animation.playAnimation("idle1",!1,e)},e.prototype.shoot=function(t){var e=c.pzaNodeManager.getBulletNode();if(null!=e){var a=r.pzaGameCommonPool.requestInstant(this.bulletPrefab,!1);if(null!=a){a.setParent(e);var o=t?this.rShootNode.convertToWorldSpaceAR(cc.v2()):this.lShootNode.convertToWorldSpaceAR(cc.v2()),n=e.convertToNodeSpaceAR(o);a.setPosition(n);var i=a.getComponent(s.pzaBaseBullet);if(null!=i&&(i.init(this.baseData.yIndex,this.baseData.atk,1,null,t?cc.v2(1,0):cc.v2(-1,0)),t)){var l=p.pzaGameConfig.getMapSkewColumn(u.pzaGameState.curChapter);l>0&&this.baseData.xIndex<=l-2&&(i.maxPosX=this.baseData.logicPos.x+p.pzaGameConfig.getBlockWidth(u.pzaGameState.curChapter))}}}},i([m({displayName:"\u5de6\u53d1\u5c04\u70b9",type:cc.Node})],e.prototype,"lShootNode",void 0),i([m({displayName:"\u53f3\u53d1\u5c04\u70b9",type:cc.Node})],e.prototype,"rShootNode",void 0),i([m({displayName:"\u5b50\u5f39\u9884\u8bbe",type:cc.Prefab})],e.prototype,"bulletPrefab",void 0),i([d],e)}(h.pzaBasePlant);a.pzaSplitPea=y,cc._RF.pop()},{"../../Common/pzaGameCommonPool":"pzaGameCommonPool","../../Common/pzaGameConfig":"pzaGameConfig","../../Common/pzaNodeManager":"pzaNodeManager","../../Common/pzaUtil":"pzaUtil","../Bullet/pzaBaseBullet":"pzaBaseBullet","../pzaGameState":"pzaGameState","./pzaBasePlant":"pzaBasePlant"}],pzaSpriteFrameManager:[function(t,e,a){"use strict";cc._RF.push(e,"d13677cUm5Cm5ueL3UZ51Y4","pzaSpriteFrameManager");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaSpriteFrameManager=void 0;var r=t("../Load/pzaBundleObjectPool"),p=cc._decorator,c=p.ccclass,l=(p.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var a;return n(e,t),a=e,e.prototype.onLoad=function(){a.instance=this},e.loadZombieCard=function(t,e){t>17&&(t=1);var a="Texture/ZombieIcon/"+t;r.pzaBundleObjectPool.requestSpriteFrameByUrl(a,function(t,a){null==t?null!=e&&(e.spriteFrame=a):console.error(t)})},e.loadPlantCard=function(t,e){var a="Texture/PlantIcon/"+t;r.pzaBundleObjectPool.requestSpriteFrameByUrl(a,function(t,a){null==t?null!=e&&(e.spriteFrame=a):console.error(t)})},e.loadMap=function(t,e,a){1==t&&e<=4&&(t=0);var o="Texture/Map/background"+t;r.pzaBundleObjectPool.requestSpriteFrameByUrl(o,function(t,e){null==t?null!=a&&(a.spriteFrame=e):console.error(t)})},e.loadPreMap=function(t,e){var a="Texture/Map/pre_bg_"+t;r.pzaBundleObjectPool.requestSpriteFrameByUrl(a,function(t,a){null==t?null!=e&&(e.spriteFrame=a):console.error(t)})},e.loadInDoor=function(t,e){var a="Texture/Map/indoor_"+t;r.pzaBundleObjectPool.requestSpriteFrameByUrl(a,function(t,a){null==t?null!=e&&(e.spriteFrame=a):console.error(t)})},e.loadSelectPartBg=function(t,e){t>=2&&(t=2);var a="Texture/SelectPart/bg"+t;r.pzaBundleObjectPool.requestSpriteFrameByUrl(a,function(t,a){null==t?null!=e&&(e.spriteFrame=a):console.error(t)})},e.loadPartIcon=function(t,e){t>=2&&(t=2);var a="Texture/SelectPart/part_icon_"+t;r.pzaBundleObjectPool.requestSpriteFrameByUrl(a,function(t,a){null==t?null!=e&&(e.spriteFrame=a):console.error(t)})},e.loadShopItemIcon=function(t,e){var a="Texture/ShopItemIcon/"+t;r.pzaBundleObjectPool.requestSpriteFrameByUrl(a,function(t,a){null==t?null!=e&&(e.spriteFrame=a):console.error(t)})},e.instance=null,a=i([c],e)}(cc.Component));a.pzaSpriteFrameManager=l,cc._RF.pop()},{"../Load/pzaBundleObjectPool":"pzaBundleObjectPool"}],pzaSquash:[function(t,e,a){"use strict";cc._RF.push(e,"81fc9M/dexOrq+atyCuJ59k","pzaSquash");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaSquash=void 0;var r=t("../../Common/pzaGameConfig"),p=t("../../Common/pzaUtil"),c=t("../Data/pzaBuffData"),l=t("../pzaGameState"),s=t("./pzaAttackType"),u=t("./pzaBasePlant"),h=cc._decorator,f=h.ccclass,d=(h.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.blinkTime=3,e.jumpTarget=null,e.jumpUpTime=0,e.speedX=0,e}return n(e,t),e.prototype.bindData=function(e){var a=this;t.prototype.bindData.call(this,e),this.animation.node.stopAllActions(),this.animation.node.y=-5,this.jumpTarget=null,this.jumpUpTime=0,this.speedX=0,this.blinkTime=p.pzaUtil.getRandomFloatNum(3,6);var o=function(){var t=a.findTarget();if(null!=t)return a.jumpTarget=t,void a.animation.playAnimation(t.logicPos.x>=a.baseData.logicPos.x?"lookright":"lookleft",!1,function(){a.animation.playAnimation("jumpup1",!1,function(){a.baseData.buffData.addBuff(new c.pzaBuffInfo(c.pzaBuffType.UNABLE_SELECT,-1)),a.jumpUpTime=.25,a.node.zIndex=10,a.animation.node.runAction(cc.moveTo(.25,cc.v2(0,135)));var t=a.jumpTarget.logicPos.x-a.baseData.logicPos.x;a.speedX=t/.25})});a.blinkTime>0?a.animation.playAnimation("idle",!1,o):(a.blinkTime=p.pzaUtil.getRandomFloatNum(3,6),a.animation.playAnimation("idle_eye",!1,o))};this.animation.playAnimation("idle",!1,o)},e.prototype.logicUpdate=function(t){var e=this;if(this.blinkTime-=t,this.jumpUpTime>0&&null!=this.jumpTarget&&null!=this.jumpTarget.logicPos&&(this.jumpUpTime-=t,this.baseData.logicPos.x+=this.speedX*t,this.jumpUpTime<=0)){var a=this.animation.getAnimationDuration("jumpdown");this.animation.node.runAction(cc.sequence(cc.delayTime(.1),cc.callFunc(function(){e.animation.playAnimation("jumpdown",!1,function(){})}),cc.spawn(cc.sequence(cc.delayTime(.1),cc.callFunc(function(){e.damageTarget(e.jumpTarget.logicPos)})),cc.moveTo(a,cc.v2(0,-5))),cc.delayTime(.3),cc.callFunc(function(){window.pzaplantManager.removePlant(e.baseData),e.death()})))}},e.prototype.logicLateUpdate=function(){t.prototype.logicLateUpdate.call(this),null!=this.baseData&&null!=this.baseData.logicPos&&this.node.setPosition(this.baseData.logicPos)},e.prototype.findTarget=function(){var t=this;if(null==this.baseData||this.baseData.isDead||null==this.baseData.logicPos)return null;var e=null,a=-1,o=window.pzazombieManager.zombieDatas[this.baseData.yIndex];return null==o?null:(o.forEach(function(o){if(o&&!o.isDead&&o.logicPos){var n=Math.abs(t.baseData.logicPos.x-o.logicPos.x);-1!=a&&n>=a||o.logicPos.x<t.baseData.logicPos.x&&n>r.pzaGameConfig.getBlockWidth(l.pzaGameState.curChapter)||o.logicPos.x>t.baseData.logicPos.x&&n>1.5*r.pzaGameConfig.getBlockWidth(l.pzaGameState.curChapter)||(a=n,e=o)}}),e)},e.prototype.damageTarget=function(t){var e=this;if(null!=this.baseData&&null!=t){var a=window.pzazombieManager.zombieDatas[this.baseData.yIndex];null!=a&&a.forEach(function(a){if(a&&!a.isDead&&a.logicPos&&!(Math.abs(t.x-a.logicPos.x)>r.pzaGameConfig.getBlockWidth(l.pzaGameState.curChapter))){var o=window.pzazombieManager.getZombie(a);o&&o.hurt(e.baseData.atk,e.baseData,s.pzaAttackType.BANG)}})}},e.prototype.pauseSelf=function(){this.animation.pauseAnimation(),this.animation.node.pauseAllActions()},e.prototype.resumeSelf=function(){this.baseData&&this.baseData.isBePauseControlled()||(this.animation.resumeAnimation(),this.animation.node.resumeAllActions())},i([f],e)}(u.pzaBasePlant));a.pzaSquash=d,cc._RF.pop()},{"../../Common/pzaGameConfig":"pzaGameConfig","../../Common/pzaUtil":"pzaUtil","../Data/pzaBuffData":"pzaBuffData","../pzaGameState":"pzaGameState","./pzaAttackType":"pzaAttackType","./pzaBasePlant":"pzaBasePlant"}],pzaStarFruit:[function(t,e,a){"use strict";cc._RF.push(e,"16374wVFltJwqD9k1Th58af","pzaStarFruit");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaStarFruit=void 0;var r=t("../../Common/pzaGameCommonPool"),p=t("../../Common/pzaGameConfig"),c=t("../../Common/pzaNodeManager"),l=t("../../Common/pzaUtil"),s=t("../Bullet/pzaBaseBullet"),u=t("../Data/pzaBuffData"),h=t("../pzaEffectManager"),f=t("../pzaGameState"),d=t("./pzaBasePlant"),m=cc._decorator,y=m.ccclass,z=m.property,b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.shootNode=null,e.bulletPrefab=null,e.blinkTime=3,e}return n(e,t),e.prototype.bindData=function(e){t.prototype.bindData.call(this,e),this.blinkTime=l.pzaUtil.getRandomFloatNum(3,6),this.playNormalAni()},e.prototype.logicUpdate=function(t){this.blinkTime-=t},e.prototype.playNormalAni=function(){var t=this,e=function(){null==t.findAttackTarget()?t.blinkTime>0?t.animation.playAnimation("idle",!1,e):(t.blinkTime=l.pzaUtil.getRandomFloatNum(3,6),t.animation.playAnimation("idle_eye",!1,e)):t.animation.playAnimation("attack",!1,e,function(){t.attack()})};this.animation.playAnimation("idle",!1,e)},e.prototype.findAttackTarget=function(){var t=this,e=null;return window.pzazombieManager.zombieMap.forEach(function(a,o){if(null==e&&null!=o&&!o.buffData.hasBuff(u.pzaBuffType.FLY)&&!o.buffData.hasBuff(u.pzaBuffType.UNABLE_SELECT))if(o.yIndex==t.baseData.yIndex&&o.logicPos.x<=t.baseData.logicPos.x)e=o;else if(o.xIndex!=t.baseData.xIndex){var n=cc.v2(t.baseData.logicPos.x+t.shootNode.x,t.baseData.logicPos.y+t.shootNode.y),i=o.logicPos.sub(n);if(t.baseData.logicPos.y<o.logicPos.y){var r=l.pzaUtil.getVectorsRadion(cc.v2(Math.sqrt(3)/2,.5),i),p=Math.sin(r)*i.len();if(p>=-30&&p<=30)return void(e=o)}var c=l.pzaUtil.getVectorsRadion(cc.v2(Math.sqrt(3)/2,-.5),i),s=Math.sin(c)*i.len();s>=-40&&s<=30&&(e=o)}else e=o}),e},e.prototype.attack=function(){var t=this;[cc.v2(-1,0),cc.v2(0,1),cc.v2(Math.sqrt(3)/2,.5),cc.v2(Math.sqrt(3)/2,-.5),cc.v2(0,-1)].forEach(function(e){t.shoot(e)})},e.prototype.shoot=function(t){var e=c.pzaNodeManager.getBulletNode();if(null!=e){var a=r.pzaGameCommonPool.requestInstant(this.bulletPrefab,!1);if(null!=a){a.setParent(e);var o=this.shootNode.convertToWorldSpaceAR(cc.v2()),n=e.convertToNodeSpaceAR(o);a.setPosition(n);var i=a.getComponent(s.pzaBaseBullet);if(null!=i&&(i.init(-1,this.baseData.atk,1,null,t,function(t){if(null!=t){var e=10*-t.yIndex+5;h.pzaEffectManager.createStarHitEffect(cc.v2(t.logicPos.x,t.logicPos.y+70),e)}}),!(t.x<=0))){var l=p.pzaGameConfig.getMapSkewColumn(f.pzaGameState.curChapter);l>0&&this.baseData.xIndex<=l-2&&(i.maxPosX=this.baseData.logicPos.x+p.pzaGameConfig.getBlockWidth(f.pzaGameState.curChapter))}}}},i([z({displayName:"\u53d1\u5c04\u70b9",type:cc.Node})],e.prototype,"shootNode",void 0),i([z({displayName:"\u5b50\u5f39\u9884\u8bbe",type:cc.Prefab})],e.prototype,"bulletPrefab",void 0),i([y],e)}(d.pzaBasePlant);a.pzaStarFruit=b,cc._RF.pop()},{"../../Common/pzaGameCommonPool":"pzaGameCommonPool","../../Common/pzaGameConfig":"pzaGameConfig","../../Common/pzaNodeManager":"pzaNodeManager","../../Common/pzaUtil":"pzaUtil","../Bullet/pzaBaseBullet":"pzaBaseBullet","../Data/pzaBuffData":"pzaBuffData","../pzaEffectManager":"pzaEffectManager","../pzaGameState":"pzaGameState","./pzaBasePlant":"pzaBasePlant"}],pzaStateComponent:[function(t,e,a){"use strict";cc._RF.push(e,"9e2c0GREKJPX5OImvXLEtIa","pzaStateComponent");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=t("./pzaKDefine"),p=cc._decorator,c=p.ccclass,l=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state=r.State.idle,e.stateMap={idle:function(){}},e}return n(e,t),e.prototype.setState=function(t){cc.Tween.stopAllByTarget(this.node),this.state=t},e.prototype.regState=function(t,e){this.stateMap[t]=e},e.prototype.updateFrame=function(t){this.stateMap[this.state].call(this,t)},i([c],e)}(cc.Component));a.default=l,cc._RF.pop()},{"./pzaKDefine":"pzaKDefine"}],pzaSunFlower:[function(t,e,a){"use strict";cc._RF.push(e,"a67d7VbSSNC2qvchm9+QwqV","pzaSunFlower");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaSunFlower=void 0;var r=t("../../Common/pzaUtil"),p=t("./pzaBasePlant"),c=cc._decorator,l=c.ccclass,s=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.blinkTime=3,e}return n(e,t),e.prototype.bindData=function(e){var a=this;t.prototype.bindData.call(this,e),this.blinkTime=r.pzaUtil.getRandomFloatNum(3,6),this.atkInterval=r.pzaUtil.getRandomFloatNum(3,12.5);var o=function(){if(a.baseData.plantData.atkInterval>a.atkInterval)return a.baseData.plantData.atkInterval=0,a.atkInterval=r.pzaUtil.getRandomFloatNum(23.5,25),void a.animation.playAnimation("Sunlight",!1,o,function(){window.pzaplantManager.plantCreateSun(a.baseData.logicPos.clone(),!0)});a.blinkTime>0?a.animation.playAnimation("idle1",!1,o):(a.blinkTime=r.pzaUtil.getRandomFloatNum(3,6),a.animation.playAnimation("idle2",!1,o))};this.animation.playAnimation("idle1",!1,o)},e.prototype.logicUpdate=function(t){null==this.baseData||this.baseData.isDead||null==this.baseData.plantData||(this.blinkTime-=t,this.baseData.plantData.atkInterval+=t)},i([l],e)}(p.pzaBasePlant));a.pzaSunFlower=s,cc._RF.pop()},{"../../Common/pzaUtil":"pzaUtil","./pzaBasePlant":"pzaBasePlant"}],pzaSunLight:[function(t,e,a){"use strict";cc._RF.push(e,"42f77b1njtIFLkVhJG239kv","pzaSunLight");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaSunLight=void 0;var r=t("../Common/pzaBaseComponent"),p=t("../Common/pzaGameConfig"),c=t("../Common/pzaGameManager"),l=t("../Common/pzaGamePartConfig"),s=t("../Common/pzaUtil"),u=t("../Load/pzaPreLoadManager"),h=t("../View/Battle/pzaPlantSelectView"),f=t("./Data/pzaGuideType"),d=t("./pzaGameState"),m=cc._decorator,y=m.ccclass,z=m.property,b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spineAnimation=null,e.liveTime=0,e.disappearing=!1,e.leftDropDis=0,e.sunValue=0,e}return n(e,t),e.prototype.init=function(t,e,a,o){if(void 0===o&&(o=!1),null!=t){if(this.node.stopAllActions(),this.node.opacity=255,this.sunValue=a?p.pzaGameConfig.bigSunValue:p.pzaGameConfig.smallSunValue,this.node.scale=a?1:.5,this.liveTime=0,this.disappearing=!1,e)return this.node.setPosition(t),void(this.leftDropDis=p.pzaGameConfig.getRandomSunDis());this.leftDropDis=0;var n=a?1:.5;t.y+=50*Math.random()*n,this.node.setPosition(t);var i=o?0:s.pzaUtil.getRandomFloatNum(-50,50)*n;this.node.runAction(cc.jumpTo(.6*n,cc.v2(t.x+i,t.y),80*n,1))}else this.close()},e.prototype.logicUpdate=function(t){this.disappearing||(this.liveTime+=t,this.liveTime>=p.pzaGameConfig.sunLiveTime?this.disappear():this.drop(t))},e.prototype.drop=function(t){if(!(this.leftDropDis<=0)){var e=t*p.pzaGameConfig.autoSunSpeed;e>this.leftDropDis&&(e=this.leftDropDis),this.leftDropDis-=e,this.node.y=this.node.y-e}},e.prototype.clickSun=function(){if(!d.pzaGameState.gamePause&&!this.disappearing&&(window.pzaplantManager.AllSunLight.delete(this),this.moveToUI(),window.pzaGuideManager.guideType!=f.pzaGuideType.GUIDE_PLANT_1_1||3!=window.pzaGuideManager.guideStep&&4!=window.pzaGuideManager.guideStep||window.pzaGuideManager.guideStepNext(),d.pzaGameState.gameMode==d.pzaGameMode.KNOCK_ZOMBIE&&!d.pzaGameState.showSunUI)){window.pzaMapManager.showSunUI();var t=l.pzaGamePartConfig.getPartDefaultPlant(d.pzaGameState.curChapter,d.pzaGameState.curPart);c.pzaGameManager.showBattleUI(u.pzaResourceUrl.PLANT_SELECT_VIEW,function(e){var a=e&&e.getComponent(h.pzaPlantSelectView);a&&a.init(t,null),a&&a.initPlant()})}},e.prototype.disappear=function(){this.disappearing=!0,this.node.runAction(cc.sequence(cc.fadeOut(.2),cc.callFunc(this.close.bind(this))))},e.prototype.moveToUI=function(){var t=this;if(this.disappearing=!0,null==d.pzaGameState.sunMoveUIPos)return d.pzaGameState.sunLightCount+=this.sunValue,void this.close();this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.spawn(cc.moveTo(.5,d.pzaGameState.sunMoveUIPos).easing(cc.easeQuinticActionOut()),cc.sequence(cc.delayTime(.3),cc.fadeOut(.2))),cc.callFunc(function(){d.pzaGameState.sunLightCount+=t.sunValue,t.close()})))},e.prototype.pauseSelf=function(){this.spineAnimation.paused=!0,this.node.pauseAllActions()},e.prototype.resumeSelf=function(){this.spineAnimation.paused=!1,this.node.resumeAllActions()},i([z({displayName:"spine\u52a8\u753b\u7ec4\u4ef6",type:sp.Skeleton})],e.prototype,"spineAnimation",void 0),i([y],e)}(r.pzaBaseComponent);a.pzaSunLight=b,cc._RF.pop()},{"../Common/pzaBaseComponent":"pzaBaseComponent","../Common/pzaGameConfig":"pzaGameConfig","../Common/pzaGameManager":"pzaGameManager","../Common/pzaGamePartConfig":"pzaGamePartConfig","../Common/pzaUtil":"pzaUtil","../Load/pzaPreLoadManager":"pzaPreLoadManager","../View/Battle/pzaPlantSelectView":"pzaPlantSelectView","./Data/pzaGuideType":"pzaGuideType","./pzaGameState":"pzaGameState"}],pzaSunShroom:[function(t,e,a){"use strict";cc._RF.push(e,"24255GcIXxBbJDyg2usbMpg","pzaSunShroom");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaSunShroom=void 0;var r=t("../../Common/pzaNodeManager"),p=t("../../Common/pzaUtil"),c=t("../../Load/pzaBundleObjectPool"),l=t("../../Load/pzaPreLoadManager"),s=t("../Effect/pzaShadowEffect"),u=t("../pzaGameState"),h=t("./pzaBasePlant"),f=cc._decorator,d=f.ccclass,m=(f.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.growTime=0,e.growStep=0,e.showLightTime=0,e.blinkTime=3,e.shadow=null,e}return n(e,t),e.prototype.bindData=function(e){t.prototype.bindData.call(this,e),u.pzaGameState.gameTimeType==u.pzaGameTimeType.DAY?(this.animation.playAnimation("idle_small2",!0),e.plantData.sleeping=!0):this.animation.playAnimation("idle_small1",!1,this.playIdleAni.bind(this)),this.growTime=0,this.growStep=0,this.showLightTime=0,this.blinkTime=p.pzaUtil.getRandomFloatNum(3,6)},e.prototype.logicUpdate=function(t){null==this.baseData||this.baseData.isDead||null==this.baseData.plantData||this.baseData.plantData.sleeping||(this.showLightTime>0&&(this.showLightTime-=t,this.showLightTime<=0&&this.animation.hideLight()),this.grow(t),this.blinkTime-=t,this.baseData.plantData.atkInterval+=t,this.baseData.plantData.atkInterval<this.atkInterval||(this.baseData.plantData.atkInterval=0,window.pzaplantManager.plantCreateSun(this.baseData.logicPos.clone(),this.growStep>=1),this.animation.showLight(),this.showLightTime=.3))},e.prototype.wakeUp=function(){null!=this.baseData&&null!=this.baseData.plantData&&this.baseData.plantData.sleeping&&(this.baseData.plantData.sleeping=!1,this.blinkTime=p.pzaUtil.getRandomFloatNum(3,6),this.animation.playAnimation("small_bawoke",!1,this.playIdleAni.bind(this)))},e.prototype.grow=function(t){var e=this;if(this.growTime+=t,!(this.growStep>=1||this.growTime<=120)){this.growStep=1,this.blinkTime=p.pzaUtil.getRandomFloatNum(3,6),this.animation.playAnimation("idle_small_big",!1,function(){e.animation.playAnimation("idle_big1",!1,e.playIdleAni.bind(e))});var a=this.animation.getAnimationDuration("idle_small_big");this.shadow&&this.shadow.scaleShadow(a,1)}},e.prototype.playIdleAni=function(){var t=this;this.blinkTime>0?this.animation.playAnimation(this.growStep>=1?"idle_big1":"idle_small1",!1,this.playIdleAni.bind(this)):(this.blinkTime=p.pzaUtil.getRandomFloatNum(3,6),this.animation.playAnimation(this.growStep>=1?"idle_big1_eye":"idle_small1_eye",!1,function(){t.animation.playAnimation(t.growStep>=1?"idle_big1":"idle_small1",!1,t.playIdleAni.bind(t))}))},e.prototype.createShadow=function(){var t=this;this.needShadow?c.pzaBundleObjectPool.requestInstantByUrl(l.pzaResourceUrl.SHADOW,!1,function(e,a){if(null==e&&null!=a){var o=r.pzaNodeManager.getDownEffectNode();if(null!=o){a.setParent(o);var n=a.getComponent(s.pzaShadowEffect);n&&n.init(t.baseData,t.shadowOffset,t.shadowScale),t.shadow=n}}else console.error(e)}):this.shadow=null},i([d],e)}(h.pzaBasePlant));a.pzaSunShroom=m,cc._RF.pop()},{"../../Common/pzaNodeManager":"pzaNodeManager","../../Common/pzaUtil":"pzaUtil","../../Load/pzaBundleObjectPool":"pzaBundleObjectPool","../../Load/pzaPreLoadManager":"pzaPreLoadManager","../Effect/pzaShadowEffect":"pzaShadowEffect","../pzaGameState":"pzaGameState","./pzaBasePlant":"pzaBasePlant"}],pzaTallNut:[function(t,e,a){"use strict";cc._RF.push(e,"bf049L/anZKXoHAQ0j0pCKJ","pzaTallNut");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaTallNut=void 0;var r=t("../../Common/pzaUtil"),p=t("../pzaEffectManager"),c=t("./pzaBasePlant"),l=cc._decorator,s=l.ccclass,u=(l.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.blinkTime=8,e}return n(e,t),e.prototype.bindData=function(e){var a=this;t.prototype.bindData.call(this,e),this.blinkTime=r.pzaUtil.getRandomFloatNum(8,10);var o=function(){a.blinkTime>0?a.animation.playAnimation("idle",!1,o):(a.blinkTime=r.pzaUtil.getRandomFloatNum(8,10),a.animation.playAnimation(Math.random()>.5?"idle_eye1":"idle_eye2",!1,o))};this.animation.playAnimation("idle",!1,o)},e.prototype.logicUpdate=function(t){this.blinkTime-=t},e.prototype.plantDying=function(){t.prototype.plantDying.call(this),this.animation.setAnimationSkin("skin_3");var e=cc.v2(this.baseData.logicPos.x,this.baseData.logicPos.y+130),a=10*-this.baseData.yIndex;p.pzaEffectManager.createNutHurtEffect(e,"blow2",a)},e.prototype.plantHurt=function(){t.prototype.plantHurt.call(this),this.animation.setAnimationSkin("skin_2");var e=cc.v2(this.baseData.logicPos.x,this.baseData.logicPos.y+130),a=10*-this.baseData.yIndex;p.pzaEffectManager.createNutHurtEffect(e,"blow1",a)},e.prototype.plantIntact=function(){t.prototype.plantIntact.call(this),this.animation.setAnimationSkin("skin_1")},i([s],e)}(c.pzaBasePlant));a.pzaTallNut=u,cc._RF.pop()},{"../../Common/pzaUtil":"pzaUtil","../pzaEffectManager":"pzaEffectManager","./pzaBasePlant":"pzaBasePlant"}],pzaTangleKelpEffect:[function(t,e,a){"use strict";cc._RF.push(e,"53e72GuT55P6JIIbXGWKW40","pzaTangleKelpEffect");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaTangleKelpEffect=void 0;var r=t("../../Common/pzaBaseComponent"),p=t("../../Common/pzaSpineController"),c=cc._decorator,l=c.ccclass,s=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spine1=null,e.spine2=null,e.pullStartCall=null,e.pullEndCall=null,e}return n(e,t),e.prototype.showEffect=function(t,e){var a=this;this.pullStartCall=t,this.pullEndCall=e,this.spine1.node.stopAllActions(),this.spine1.node.y=30,this.spine1.playAnimation("attack1_1",!1,function(){a.pullDown(),a.pullStartCall&&a.pullStartCall()}),this.spine2.playAnimation("attack1_2",!1,null)},e.prototype.pullDown=function(){var t=this;this.spine1.node.runAction(cc.sequence(cc.moveTo(.4,cc.v2(-30,-70)),cc.callFunc(function(){t.close(),t.pullEndCall&&t.pullEndCall()})))},e.prototype.pauseSelf=function(){this.spine1.pauseAnimation(),this.spine2.pauseAnimation(),this.spine1.node.pauseAllActions()},e.prototype.resumeSelf=function(){this.spine1.resumeAnimation(),this.spine2.resumeAnimation(),this.spine1.node.resumeAllActions()},i([s({displayName:"\u6c34\u83491",type:p.pzaSpineController})],e.prototype,"spine1",void 0),i([s({displayName:"\u6c34\u83492",type:p.pzaSpineController})],e.prototype,"spine2",void 0),i([l],e)}(r.pzaBaseComponent);a.pzaTangleKelpEffect=u,cc._RF.pop()},{"../../Common/pzaBaseComponent":"pzaBaseComponent","../../Common/pzaSpineController":"pzaSpineController"}],pzaTangleKelp:[function(t,e,a){"use strict";cc._RF.push(e,"ce5f4Bw6xJFdLASTNSw7c7E","pzaTangleKelp");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaTangleKelp=void 0;var r=t("../../Common/pzaUtil"),p=t("../pzaEffectManager"),c=t("./pzaAttackType"),l=t("./pzaBasePlant"),s=cc._decorator,u=s.ccclass,h=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.blinkTime=3,e}return n(e,t),e.prototype.bindData=function(e){var a=this;t.prototype.bindData.call(this,e),this.node.stopAllActions(),this.node.opacity=255,this.blinkTime=r.pzaUtil.getRandomFloatNum(3,6);var o=function(){a.blinkTime>0?a.animation.playAnimation("idle1",!1,o):(a.blinkTime=r.pzaUtil.getRandomFloatNum(3,6),a.animation.playAnimation("idle1_eye",!1,o))};this.animation.playAnimation("idle1",!1,o)},e.prototype.logicUpdate=function(t){if(null!=this.baseData&&null!=this.baseData.plantData&&!this.baseData.isDead){this.blinkTime-=t;var e=this.findAttackTarget();null!=e&&this.attack(e)}},e.prototype.findAttackTarget=function(){return this.body.curTarget},e.prototype.attack=function(t){var e=this;this.baseData.isDead=!0,window.pzaplantManager.removePlant(this.baseData),p.pzaEffectManager.createWaterFlowerEffect(t.yIndex,cc.v2(t.logicPos.x+7,t.logicPos.y+3),null,.5),p.pzaEffectManager.createTangleKelpEffect(t.logicPos,function(){p.pzaEffectManager.createWaterFlowerEffect(e.baseData.yIndex,cc.v2(e.baseData.logicPos.x,e.baseData.logicPos.y-25),null);var a=window.pzazombieManager.getZombie(t);null!=a&&a.hurt(e.baseData.atk,e.baseData,c.pzaAttackType.TWINE)},function(){p.pzaEffectManager.createWaterFlowerEffect(t.yIndex,t.logicPos,null,.5),e.node.runAction(cc.sequence(cc.fadeOut(.2),cc.callFunc(function(){e.death(null)})))})},i([u],e)}(l.pzaBasePlant));a.pzaTangleKelp=h,cc._RF.pop()},{"../../Common/pzaUtil":"pzaUtil","../pzaEffectManager":"pzaEffectManager","./pzaAttackType":"pzaAttackType","./pzaBasePlant":"pzaBasePlant"}],pzaThreePeater:[function(t,e,a){"use strict";cc._RF.push(e,"9c84c/GRQpOC6M8xFkB02aA","pzaThreePeater");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaThreePeater=void 0;var r=t("../../Common/pzaGameCommonPool"),p=t("../../Common/pzaGameConfig"),c=t("../../Common/pzaNodeManager"),l=t("../../Common/pzaUtil"),s=t("../Bullet/pzaBaseBullet"),u=t("../Data/pzaBuffData"),h=t("../pzaGameState"),f=t("./pzaBasePlant"),d=cc._decorator,m=d.ccclass,y=d.property,z=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.shootNode=null,e.bulletPrefab=null,e.blinkTime=3,e}return n(e,t),e.prototype.bindData=function(e){var a=this;t.prototype.bindData.call(this,e),this.blinkTime=l.pzaUtil.getRandomFloatNum(3,6);var o=function(){if(a.canAttack()){var t=l.pzaUtil.getRandomNum(1,2),e=0;a.animation.playAnimation("attack",!1,o,function(){t==++e&&a.shoot()})}else a.blinkTime>0?a.animation.playAnimation("idle",!1,o):(a.blinkTime=l.pzaUtil.getRandomFloatNum(3,6),a.animation.playAnimation("idle_eye",!1,o))};this.animation.playAnimation("idle",!1,o)},e.prototype.logicUpdate=function(t){this.blinkTime-=t},e.prototype.shoot=function(){var t=c.pzaNodeManager.getBulletNode();if(null!=t)for(var e=2;e>=0;e--){var a=null,o=this.baseData.yIndex+e-1;if(!(o<0||o>=p.pzaGameConfig.getMapRow(h.pzaGameState.curChapter))){var n=r.pzaGameCommonPool.requestInstant(this.bulletPrefab,!1);if(null!=n){n.setParent(t);var i=this.shootNode.convertToWorldSpaceAR(cc.v2()),l=t.convertToNodeSpaceAR(i);if(n.setPosition(l),o!=this.baseData.yIndex){var u=p.pzaGameConfig.getYInterval(h.pzaGameState.curChapter,o)/3+this.shootNode.y;a=p.pzaGameConfig.getBlockLogicPos(h.pzaGameState.curChapter,this.baseData.xIndex,o,0,u).y}var f=n.getComponent(s.pzaBaseBullet);f&&f.init(o,this.baseData.atk,1,a);var d=p.pzaGameConfig.getMapSkewColumn(h.pzaGameState.curChapter);d>0&&this.baseData.xIndex<=d-2&&(f.maxPosX=this.baseData.logicPos.x+p.pzaGameConfig.getBlockWidth(h.pzaGameState.curChapter))}}}},e.prototype.canAttack=function(){var t=this;if(null==this.baseData||null==this.baseData.logicPos)return!1;for(var e=function(e){var o=a.baseData.yIndex+e-1;if(o<0||o>=p.pzaGameConfig.getMapRow(h.pzaGameState.curChapter))return"continue";var n=!1;return window.pzazombieManager.zombieDatas[o].forEach(function(e){!e||!e.logicPos||e.logicPos.x<t.baseData.logicPos.x||e.buffData.hasBuff(u.pzaBuffType.DIVE)||e.buffData.hasBuff(u.pzaBuffType.FLY)||e.buffData.hasBuff(u.pzaBuffType.UNABLE_SELECT)||(n=!0)}),n?{value:!0}:void 0},a=this,o=0;o<3;o++){var n=e(o);if("object"==typeof n)return n.value}return!1},i([y({displayName:"\u53d1\u5c04\u70b9",type:cc.Node})],e.prototype,"shootNode",void 0),i([y({displayName:"\u5b50\u5f39\u9884\u8bbe",type:cc.Prefab})],e.prototype,"bulletPrefab",void 0),i([m],e)}(f.pzaBasePlant);a.pzaThreePeater=z,cc._RF.pop()},{"../../Common/pzaGameCommonPool":"pzaGameCommonPool","../../Common/pzaGameConfig":"pzaGameConfig","../../Common/pzaNodeManager":"pzaNodeManager","../../Common/pzaUtil":"pzaUtil","../Bullet/pzaBaseBullet":"pzaBaseBullet","../Data/pzaBuffData":"pzaBuffData","../pzaGameState":"pzaGameState","./pzaBasePlant":"pzaBasePlant"}],pzaThrowBullet:[function(t,e,a){"use strict";cc._RF.push(e,"fee5cYvFCdESpVzGX06894o","pzaThrowBullet");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaThrowBullet=void 0;var r=t("../../Common/pzaBaseComponent"),p=t("../../Common/pzaGameConfig"),c=t("../../Common/pzaGroupEnum"),l=t("../Data/pzaBuffData"),s=t("../Zombie/pzaZombieBody"),u=t("../pzaGameState"),h=cc._decorator,f=h.ccclass,d=h.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.throwMaxHeight=270,e.throwTime=1.5,e.maxLifeTime=3,e.lifeTime=0,e.bulletYIndex=-1,e.atk=0,e.targetData=null,e.aSpeed=0,e.xSpeed=450,e.ySpeed=0,e.hasImmobilize=!1,e.triggerImmobilize=!1,e.hasSpatter=!1,e}return n(e,t),e.prototype.init=function(t,e,a){if(this.bulletYIndex=t,this.atk=e,this.targetData=a,this.lifeTime=0,this.hasImmobilize=!1,this.triggerImmobilize=!1,this.hasSpatter=!1,null!=a&&null!=a.logicPos){var o=a.logicPos.x-this.node.x;o=Math.max(0,o),this.xSpeed=o/this.throwTime;var n=this.throwTime/2;this.aSpeed=-2*this.throwMaxHeight/n/n,this.ySpeed=2*this.throwMaxHeight/n}},e.prototype.logicUpdate=function(t){this.triggerImmobilize?!this.targetData.isDead&&this.targetData.buffData.hasBuff(l.pzaBuffType.IMMOBILIZE)||this.close():(this.lifeTime+=t,this.lifeTime>=this.maxLifeTime?this.close():this.updateMove(t))},e.prototype.updateMove=function(t){this.node.x+=this.xSpeed*t,this.node.y+=this.ySpeed*t;var e=this.ySpeed;this.ySpeed+=this.aSpeed*t;var a=this.targetData.logicPos.x-this.node.x;if(a<=0)return this.node.x=this.targetData.logicPos.x,void(this.xSpeed=0);if(this.ySpeed*e<=0){var o=this.node.y-this.targetData.logicPos.y-100,n=Math.sqrt(2*Math.max(0,o)*Math.abs(this.aSpeed));this.xSpeed=a/n}else this.xSpeed=a/(this.throwTime-this.lifeTime),this.lifeTime>=this.throwTime&&(this.xSpeed=0)},e.prototype.onCollisionEnter=function(t,e){this.onCollision(t,e)},e.prototype.onCollisionStay=function(t,e){this.onCollision(t,e)},e.prototype.onCollision=function(t){if(null!=t&&!this.triggerImmobilize&&t.node.group==c.pzaGroupEnum.ZOMBIE){var e=t.node.getComponent(s.pzaZombieBody);this.colliderZombie(e&&e.baseData)}},e.prototype.colliderZombie=function(t){if(t&&!t.isDead&&(-1==this.bulletYIndex||this.bulletYIndex==t.yIndex)&&!(t.zombieData&&t.zombieData.hypnosis||t.buffData.hasBuff(l.pzaBuffType.FLY))){var e=window.pzazombieManager.getZombie(t);if(null!=e){if(e.hurt(this.atk),this.hasImmobilize)return this.triggerImmobilize=!0,t.buffData.addBuff(new l.pzaBuffInfo(l.pzaBuffType.IMMOBILIZE,5)),void e.bePauseControl();if(this.hasSpatter){var a=window.pzazombieManager.findFixRangeZombies(t.logicPos,.5*p.pzaGameConfig.getBlockWidth(u.pzaGameState.curChapter));a&&a.forEach(function(e){null!=e&&e.baseData!=t&&e.hurt(26)})}this.close()}}},i([d({displayName:"\u6295\u5c04\u6700\u5927\u9ad8\u5ea6"})],e.prototype,"throwMaxHeight",void 0),i([d({displayName:"\u6295\u5c04\u81f3\u843d\u70b9\u65f6\u95f4"})],e.prototype,"throwTime",void 0),i([d({displayName:"\u5b50\u5f39\u6700\u5927\u751f\u547d\u5468\u671f"})],e.prototype,"maxLifeTime",void 0),i([f],e)}(r.pzaBaseComponent);a.pzaThrowBullet=m,cc._RF.pop()},{"../../Common/pzaBaseComponent":"pzaBaseComponent","../../Common/pzaGameConfig":"pzaGameConfig","../../Common/pzaGroupEnum":"pzaGroupEnum","../Data/pzaBuffData":"pzaBuffData","../Zombie/pzaZombieBody":"pzaZombieBody","../pzaGameState":"pzaGameState"}],pzaTipManager:[function(t,e,a){"use strict";cc._RF.push(e,"39a22IkorxKOZqNP3AroKAb","pzaTipManager");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaTipManager=void 0;var r=t("../Battle/Data/pzaPlantEnum"),p=t("../Battle/pzaGameState"),c=t("./pzaGameCommonPool"),l=t("./pzaGuideTip"),s=t("./pzaMapManager"),u=t("./pzaPreviewTip"),h=cc._decorator,f=h.ccclass,d=h.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tipNode=null,e.previewTipPrefab=null,e.guideTipPrefab=null,e.curGuideTip=null,e}var a;return n(e,t),a=e,e.prototype.onLoad=function(){a.instance=this},e.showPreviewTip=function(t,e){var o=a.instance;if(null!=o&&null!=o.tipNode){var n=c.pzaGameCommonPool.requestInstant(o.previewTipPrefab);if(null!=n){n.setParent(o.tipNode);var i=n.getComponent(u.pzaPreviewTip);i&&i.showTip(t,e)}}},e.showGuideTip=function(t){var e=a.instance;if(null!=e&&null!=e.tipNode){this.hideGuideTip();var o=c.pzaGameCommonPool.requestInstant(e.guideTipPrefab);if(null!=o){o.setParent(e.tipNode);var n=o.getComponent(l.pzaGuideTip);n&&n.showGuideTip(t),e.curGuideTip=n}}},e.hideGuideTip=function(){var t=a.instance;null!=t&&null!=t.curGuideTip&&(t.curGuideTip.close(),t.curGuideTip=null)},e.showLossStarTip=function(t,e){var o=a.instance;if(null!=o&&null!=o.tipNode){this.hideGuideTip();var n=c.pzaGameCommonPool.requestInstant(o.guideTipPrefab);if(null!=n){n.setParent(o.tipNode);var i=n.getComponent(l.pzaGuideTip);i&&i.showStarLoseTip(t,e),o.curGuideTip=i}}},e.showGameTip=function(t){var e=a.instance;if(null!=e&&null!=e.tipNode){this.hideGuideTip();var o=c.pzaGameCommonPool.requestInstant(e.guideTipPrefab);if(null!=o){o.setParent(e.tipNode);var n=o.getComponent(l.pzaGuideTip);n&&n.showGameTip(t)}}},e.showEnvPlantTip=function(t){p.pzaGameState.envPlantTip.has(t)||(p.pzaGameState.envPlantTip.add(t),t!=s.pzaBlockType.POND?t!=s.pzaBlockType.ROOF?t!=s.pzaBlockType.DOOM_HOLE||this.showGameTip("\u4f60\u4e0d\u80fd\u628a\u690d\u7269\u79cd\u5728\u5f39\u5751\u4e0a"):this.showGameTip("\u4f60\u53ea\u80fd\u628a\u690d\u7269\u79cd\u5728\u82b1\u76c6\u91cc"):this.showGameTip("\u8bf7\u5148\u79cd\u83b2\u53f6"))},e.showPondPlantTip=function(t,e){p.pzaGameState.pondPlantTip.has(t)||(p.pzaGameState.pondPlantTip.add(t),this.showGameTip(e+"\u53ea\u80fd\u79cd\u5728\u6c34\u91cc"))},e.showSpecialPlantTip=function(t,e){p.pzaGameState.specialPlantTip.has(t)||(p.pzaGameState.specialPlantTip.add(t),t!=r.pzaPlantEnum.GRAVE_BUSTER?t!=r.pzaPlantEnum.POTATO_MINE?t!=r.pzaPlantEnum.SPIKEWEED||this.showGameTip(e+"\u53ea\u80fd\u79cd\u5728\u575a\u56fa\u7684\u5730\u9762"):this.showGameTip(e+"\u4e0d\u80fd\u79cd\u5728\u83b2\u53f6"):this.showGameTip(e+"\u53ea\u80fd\u79cd\u5728\u5893\u7891\u4e0a"))},e.instance=null,i([d({displayName:"\u663e\u793a\u63d0\u793a\u6846\u7684\u8282\u70b9",type:cc.Node})],e.prototype,"tipNode",void 0),i([d({displayName:"\u9884\u89c8\u63d0\u793a\u6846\u9884\u8bbe",type:cc.Prefab})],e.prototype,"previewTipPrefab",void 0),i([d({displayName:"\u5f15\u5bfc\u63d0\u793a\u6846\u9884\u8bbe",type:cc.Prefab})],e.prototype,"guideTipPrefab",void 0),a=i([f],e)}(cc.Component);a.pzaTipManager=m,cc._RF.pop()},{"../Battle/Data/pzaPlantEnum":"pzaPlantEnum","../Battle/pzaGameState":"pzaGameState","./pzaGameCommonPool":"pzaGameCommonPool","./pzaGuideTip":"pzaGuideTip","./pzaMapManager":"pzaMapManager","./pzaPreviewTip":"pzaPreviewTip"}],pzaTomb:[function(t,e,a){"use strict";cc._RF.push(e,"cbb17mM/rdJO6fjRCGZFwHz","pzaTomb");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaTomb=void 0;var r=t("../Common/pzaBaseComponent"),p=t("../Common/pzaUtil"),c=t("./pzaEffectManager"),l=cc._decorator,s=l.ccclass,u=l.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tomb=null,e.tombFrames=[],e.taft=null,e.taftFrames=[],e.xIndex=0,e.yIndex=0,e.dirtAniEnd=!1,e.tombGrowTime=0,e.growEnd=!1,e.smallTomb=!1,e.createCall=null,e}return n(e,t),e.prototype.init=function(t,e,a){var o=this;this.xIndex=t,this.yIndex=e,this.createCall=a,this.dirtAniEnd=!1,this.tombGrowTime=0,this.growEnd=!1,this.smallTomb=Math.random()>.5,this.taft.spriteFrame=this.smallTomb?this.taftFrames[0]:this.taftFrames[1],this.tomb.spriteFrame=p.pzaUtil.getRandomValueFromArray(this.tombFrames),this.tomb.node.active=!1,this.taft.node.active=!1,this.node.zIndex=10*-e,c.pzaEffectManager.createDirtEffect("idle1",cc.v2(this.node.x,this.node.y),function(){o.dirtAniEnd=!0})},e.prototype.update=function(t){if(!this.growEnd){if(this.tombGrowTime>0){this.tombGrowTime-=t;var e=this.smallTomb?26:44;return this.tomb.node.y=Math.min(.3,.3-this.tombGrowTime)/.3*(e+this.tomb.node.height/2)-this.tomb.node.height/2,void(this.tombGrowTime<=0&&(this.createCall&&this.createCall(),this.growEnd=!0))}this.dirtAniEnd&&(this.tomb.node.active=!0,this.taft.node.active=!0,this.tomb.node.y=-this.tomb.node.height/2,this.tombGrowTime=.3)}},i([u({displayName:"\u5893\u7891",type:cc.Sprite})],e.prototype,"tomb",void 0),i([u({displayName:"\u5893\u7891\u56fe",type:[cc.SpriteFrame]})],e.prototype,"tombFrames",void 0),i([u({displayName:"\u571f\u5806",type:cc.Sprite})],e.prototype,"taft",void 0),i([u({displayName:"\u571f\u5806\u56fe",type:[cc.SpriteFrame]})],e.prototype,"taftFrames",void 0),i([s],e)}(r.pzaBaseComponent);a.pzaTomb=h,cc._RF.pop()},{"../Common/pzaBaseComponent":"pzaBaseComponent","../Common/pzaUtil":"pzaUtil","./pzaEffectManager":"pzaEffectManager"}],pzaTorchwood:[function(t,e,a){"use strict";cc._RF.push(e,"ec469XJcg1Ccr6pdk9quX8Q","pzaTorchwood");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaTorchwood=void 0;var r=t("../../Common/pzaUtil"),p=t("./pzaBasePlant"),c=t("./pzaPlantBody"),l=cc._decorator,s=l.ccclass,u=l.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.torchwoodBody=null,e.blinkTime=3,e}return n(e,t),e.prototype.bindData=function(e){var a=this;t.prototype.bindData.call(this,e),this.blinkTime=r.pzaUtil.getRandomFloatNum(3,6);var o=function(){if(a.blinkTime<=0)return a.blinkTime=r.pzaUtil.getRandomFloatNum(3,6),void a.animation.playAnimation("idle_eye",!1,o);a.animation.playAnimation("idle",!1,o)};this.animation.playAnimation("idle",!1,o)},e.prototype.logicUpdate=function(t){this.blinkTime-=t},e.prototype.logicLateUpdate=function(){this.bodyBindData||null==this.body||(this.bodyBindData=!0,this.body.bindData(this.baseData),this.torchwoodBody.bindData(this.baseData)),null!=this.baseData&&0!=this.baseData.floatY&&null!=this.baseData.logicPos&&this.node.setPosition(cc.v2(this.baseData.logicPos.x,this.baseData.logicPos.y+this.baseData.floatY))},i([u({displayName:"\u706b\u70ac\u78b0\u649e\u8eab\u4f53",type:c.pzaPlantBody})],e.prototype,"torchwoodBody",void 0),i([s],e)}(p.pzaBasePlant);a.pzaTorchwood=h,cc._RF.pop()},{"../../Common/pzaUtil":"pzaUtil","./pzaBasePlant":"pzaBasePlant","./pzaPlantBody":"pzaPlantBody"}],pzaUIManager:[function(t,e,a){"use strict";cc._RF.push(e,"5fc2bwtxBVEhpbi01E3sB0R","pzaUIManager");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaUIManager=void 0;var r=t("../Load/pzaBundleObjectPool"),p=t("./pzaGameCommonPool"),c=cc._decorator,l=c.ccclass,s=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.boardNode=null,e.popNode=null,e.boardUINode=null,e.popUIMap=new Map,e}var a;return n(e,t),a=e,e.prototype.onLoad=function(){cc.game.addPersistRootNode(this.node),a.instance=this},e.baseShowBoardUI=function(t,e){var a=this.instance;if(null!=a&&null!=t){if(null!=a.boardUINode){if(a.boardUINode.url==t)return a.boardUINode.active=!0,void(e&&e(a.boardUINode));p.pzaGameCommonPool.returnInstant(a.boardUINode),a.boardUINode=null}r.pzaBundleObjectPool.requestInstantByUrl(t,!1,function(o,n){null==o&&null!=n?(n.url=t,n.setParent(a.boardNode),e&&e(n),a.boardUINode=n):console.error(o)})}},e.baseShowPopUI=function(t,e){var a=this.instance;if(null!=a&&null!=t){var o=a.popUIMap.get(t);null!=o&&o.active?e&&e(o):r.pzaBundleObjectPool.requestInstantByUrl(t,!1,function(o,n){null==o&&null!=n?(n.setParent(a.popNode),e&&e(n),a.popUIMap.set(t,n)):console.error(o)})}},e.removeBoardUI=function(){var t=this.instance;null!=t&&null!=t.boardUINode&&(p.pzaGameCommonPool.returnInstant(t.boardUINode),t.boardUINode=null)},e.instance=null,i([s({displayName:"\u9762\u677f\u8282\u70b9",type:cc.Node})],e.prototype,"boardNode",void 0),i([s({displayName:"\u5f39\u7a97\u8282\u70b9",type:cc.Node})],e.prototype,"popNode",void 0),a=i([l],e)}(cc.Component);a.pzaUIManager=u,cc._RF.pop()},{"../Load/pzaBundleObjectPool":"pzaBundleObjectPool","./pzaGameCommonPool":"pzaGameCommonPool"}],pzaUmbrellaLeaf:[function(t,e,a){"use strict";cc._RF.push(e,"029c8UfLAZMhr0KRIDyS44u","pzaUmbrellaLeaf");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaUmbrellaLeaf=void 0;var r=t("./pzaBasePlant"),p=cc._decorator,c=p.ccclass,l=(p.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.logicUpdate=function(){null!=this.baseData&&this.baseData.isDead},e.prototype.attack=function(){},i([c],e)}(r.pzaBasePlant));a.pzaUmbrellaLeaf=l,cc._RF.pop()},{"./pzaBasePlant":"pzaBasePlant"}],pzaUtil:[function(t,e,a){"use strict";cc._RF.push(e,"f1088fhgM5C05+lhr93RDcO","pzaUtil");var o=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,a=e&&t[e],o=0;if(a)return a.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaUtil=void 0;var n=function(){function t(){}return t.getRandomNum=function(t,e){if(t==e)return t;var a=t>e?e:t,o=(t>e?t+1:e+1)-a;return Math.floor(Math.random()*o)+a},t.getRandomFloatNum=function(t,e){return e<=t?t:t+(e-t)*Math.random()},t.getDistance=function(t,e){return null==t||null==e?0:Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},t.getRandomIndexByWeight=function(t){var e,a;if(null==t||t.length<=0)return 0;var n=0;try{for(var i=o(t),r=i.next();!r.done;r=i.next())n+=r.value}catch(l){e={error:l}}finally{try{r&&!r.done&&(a=i.return)&&a.call(i)}finally{if(e)throw e.error}}n*=Math.random();for(var p=0,c=t.length;p<c;p++)if((n-=t[p])<=0)return p;return t.length-1},t.getRandomValueFromArray=function(t){if(null==t||t.length<=0)return null;var e=t.length,a=Math.random();return t[Math.floor(a*e)]},t.getRandomArrayValue=function(t,e){if(null==t||t.length<=1||t.length<=e)return t||[];for(var a=t.slice(0),o=t.length,n=o-e,i=null,r=null;o-- >n;)i=a[r=Math.floor((o+1)*Math.random())],a[r]=a[o],a[o]=i;return a.slice(n)},t.switchGraySprite=function(t,e){var a=e?cc.Material.getBuiltinMaterial("2d-gray-sprite"):cc.Material.getBuiltinMaterial("2d-sprite");t&&t.setMaterial(0,a)},t.getAngle=function(t,e){return null==t||null==e?0:Math.atan2(t.y-e.y,t.x-e.x)*(180/Math.PI)},t.getVectorsRadion=function(t,e){return null==t||null==e?0:e.signAngle(t)},t}();a.pzaUtil=n,cc._RF.pop()},{}],pzaWallNut:[function(t,e,a){"use strict";cc._RF.push(e,"7f523i63cpNt5U+azxQROnr","pzaWallNut");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaWallNut=void 0;var r=t("../../Common/pzaUtil"),p=t("../pzaEffectManager"),c=t("./pzaBasePlant"),l=cc._decorator,s=l.ccclass,u=(l.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.blinkTime=8,e}return n(e,t),e.prototype.bindData=function(e){var a=this;t.prototype.bindData.call(this,e),this.blinkTime=r.pzaUtil.getRandomFloatNum(8,10);var o=function(){a.blinkTime>0?a.animation.playAnimation("idle1",!1,o):(a.blinkTime=r.pzaUtil.getRandomFloatNum(8,10),a.animation.playAnimation(Math.random()>.5?"idle2":"idle3",!1,o))};this.animation.playAnimation("idle1",!1,o)},e.prototype.logicUpdate=function(t){this.blinkTime-=t},e.prototype.plantDying=function(){t.prototype.plantDying.call(this),this.animation.setAnimationSkin("body_3");var e=cc.v2(this.baseData.logicPos.x,this.baseData.logicPos.y+80),a=10*-this.baseData.yIndex;p.pzaEffectManager.createNutHurtEffect(e,"blow2",a)},e.prototype.plantHurt=function(){t.prototype.plantHurt.call(this),this.animation.setAnimationSkin("body_2");var e=cc.v2(this.baseData.logicPos.x,this.baseData.logicPos.y+80),a=10*-this.baseData.yIndex;p.pzaEffectManager.createNutHurtEffect(e,"blow1",a)},e.prototype.plantIntact=function(){t.prototype.plantIntact.call(this),this.animation.setAnimationSkin("body_1")},i([s],e)}(c.pzaBasePlant));a.pzaWallNut=u,cc._RF.pop()},{"../../Common/pzaUtil":"pzaUtil","../pzaEffectManager":"pzaEffectManager","./pzaBasePlant":"pzaBasePlant"}],pzaWarningView:[function(t,e,a){"use strict";cc._RF.push(e,"c8b2eMkM0xK7bVO1Yn/Wwm0","pzaWarningView");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaWarningView=void 0;var r=t("../Common/pzaGameCommonPool"),p=cc._decorator,c=p.ccclass,l=p.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tip=null,e.confirmBtn=null,e.cancelBtn=null,e.confirmTxt=null,e.cancelTxt=null,e.confirmCall=null,e.cancelCall=null,e}return n(e,t),e.prototype.show=function(t,e,a,o,n){this.tip.string=t,this.confirmCall=o,this.cancelCall=n,this.confirmTxt.string=e,null!=a?(this.cancelTxt.string=a,this.cancelBtn.active=!0,this.confirmBtn.x=-121):(this.cancelBtn.active=!1,this.confirmBtn.x=0)},e.prototype.clickConfirm=function(){this.close(),this.confirmCall&&this.confirmCall()},e.prototype.clickCancel=function(){this.close(),this.cancelCall&&this.cancelCall()},e.prototype.close=function(){r.pzaGameCommonPool.returnInstant(this.node)},i([l({displayName:"\u63d0\u793a\u8bed",type:cc.Label})],e.prototype,"tip",void 0),i([l({displayName:"\u786e\u5b9a\u6309\u94ae",type:cc.Node})],e.prototype,"confirmBtn",void 0),i([l({displayName:"\u53d6\u6d88\u6309\u94ae",type:cc.Node})],e.prototype,"cancelBtn",void 0),i([l({displayName:"\u786e\u5b9a\u6309\u94ae\u6587\u6848",type:cc.Label})],e.prototype,"confirmTxt",void 0),i([l({displayName:"\u53d6\u6d88\u6309\u94ae\u6587\u6848",type:cc.Label})],e.prototype,"cancelTxt",void 0),i([c],e)}(cc.Component);a.pzaWarningView=s,cc._RF.pop()},{"../Common/pzaGameCommonPool":"pzaGameCommonPool"}],pzaWaterLightEffect:[function(t,e,a){"use strict";cc._RF.push(e,"02c0fxAip5MbqgSRlsznf+Y","pzaWaterLightEffect");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaWaterLightEffect=void 0;var r=t("../../Common/pzaGameCommonPool"),p=t("../../Common/pzaUtil"),c=t("../../Common/pzaWorldEventManager"),l=cc._decorator,s=l.ccclass,u=l.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.waterLight1=null,e.waterLight2=null,e.waterLight3=null,e.interval=0,e.freeWaterArr1=[],e.freeWaterArr2=[],e.freeWaterArr3=[],e.activeWater=new Set,e.pause=!1,e}return n(e,t),e.prototype.onLoad=function(){this.freeWaterArr1.push(this.waterLight1),this.freeWaterArr2.push(this.waterLight2),this.freeWaterArr3.push(this.waterLight3),this.waterLight1.name="1",this.waterLight2.name="2",this.waterLight3.name="3"},e.prototype.onEnable=function(){this.interval=0,this.pause=!1,this.createLight(!1),c.pzaWorldEventManager.addListener(c.pzaWorldEventType.BACK_HOME,this.close,this),c.pzaWorldEventManager.addListener(c.pzaWorldEventType.GAME_OVER,this.close,this),c.pzaWorldEventManager.addListener(c.pzaWorldEventType.GAME_PAUSE,this.pauseSelf,this),c.pzaWorldEventManager.addListener(c.pzaWorldEventType.GAME_RESUME,this.resumeSelf,this)},e.prototype.onDisable=function(){var t=this;c.pzaWorldEventManager.removeListener(c.pzaWorldEventType.BACK_HOME,this.close,this),c.pzaWorldEventManager.removeListener(c.pzaWorldEventType.GAME_OVER,this.close,this),c.pzaWorldEventManager.removeListener(c.pzaWorldEventType.GAME_PAUSE,this.pauseSelf,this),c.pzaWorldEventManager.removeListener(c.pzaWorldEventType.GAME_RESUME,this.resumeSelf,this),this.activeWater.forEach(function(e){e.stopAllActions(),"1"==e.name?t.freeWaterArr1.push(e):"2"==e.name?t.freeWaterArr2.push(e):t.freeWaterArr3.push(e)}),this.activeWater.clear()},e.prototype.update=function(t){this.pause||(this.interval+=t,this.interval>=.07&&(this.interval=0,this.createLight(!1)))},e.prototype.createLight=function(t){var e=Math.random();(t||e<=.07)&&this.createLittleLight(-365,-265),(t||e<=.14&&e>.07)&&this.createLittleLight(-265,-165),(t||e<=.21&&e>.14)&&this.createLittleLight(-165,-65),(t||e<=.28&&e>.21)&&this.createLittleLight(-65,65),(t||e<=.37&&e>.28)&&this.createMiddleLight(65,175),(t||e<=.46&&e>.37)&&this.createMiddleLight(425,570),(t||e<=.52&&e>.46)&&this.createLargeLight(175,200),(t||e<=.57&&e>.52)&&this.createLargeLight(200,225),(t||e<=.62&&e>.57)&&this.createLargeLight(225,250),(t||e<=.67&&e>.62)&&this.createLargeLight(250,275),(t||e<=.72&&e>.67)&&this.createLargeLight(275,300),(t||e<=.77&&e>.72)&&this.createLargeLight(300,325),(t||e<=.82&&e>.77)&&this.createLargeLight(325,350),(t||e<=.87&&e>.82)&&this.createLargeLight(350,375),(t||e<=.92&&e>.87)&&this.createLargeLight(375,400),(t||e>=.92)&&this.createLargeLight(400,425)},e.prototype.createLittleLight=function(t,e){for(var a=p.pzaUtil.getRandomNum(0,3),o=0;o<a;o++){var n=p.pzaUtil.getRandomNum(t,e),i=p.pzaUtil.getRandomNum(-130,40),r=this.getWaterLight();r.x=n,r.y=i,this.activeWater.add(r)}},e.prototype.createMiddleLight=function(t,e){for(var a=p.pzaUtil.getRandomNum(1,4),o=0;o<a;o++){var n=p.pzaUtil.getRandomNum(t,e),i=p.pzaUtil.getRandomNum(-130,40),r=this.getWaterLight();r.x=n,r.y=i,this.activeWater.add(r)}},e.prototype.createLargeLight=function(t,e){for(var a=p.pzaUtil.getRandomNum(2,6),o=0;o<a;o++){var n=p.pzaUtil.getRandomNum(t,e),i=p.pzaUtil.getRandomNum(-130,40),r=this.getWaterLight();r.x=n,r.y=i,this.activeWater.add(r)}},e.prototype.getWaterLight=function(){var t=this,e=Math.random();if(e<=.1){var a=this.freeWaterArr1.pop();null==a?((a=cc.instantiate(this.waterLight1)).setParent(this.node),a.name="1"):a.active=!0,a.opacity=122;var o=1*Math.random()+.4;return a.runAction(cc.sequence(cc.fadeIn(.1),cc.spawn(cc.sequence(cc.delayTime(o),cc.fadeOut(.2)),cc.moveBy(o,cc.v2(-5,0))),cc.callFunc(function(){a.active=!1,t.freeWaterArr1.push(a),t.activeWater.delete(a)}))),a}if(e<=.7){var n=this.freeWaterArr2.pop();return null==n?((n=cc.instantiate(this.waterLight2)).setParent(this.node),n.name="2"):n.active=!0,n.opacity=122,o=1*Math.random()+.4,n.runAction(cc.sequence(cc.fadeIn(.1),cc.spawn(cc.sequence(cc.delayTime(o),cc.fadeOut(.2)),cc.moveBy(o,cc.v2(-5,0))),cc.callFunc(function(){n.active=!1,t.freeWaterArr2.push(n),t.activeWater.delete(n)}))),n}var i=this.freeWaterArr3.pop();return null==i?((i=cc.instantiate(this.waterLight3)).setParent(this.node),i.name="3"):i.active=!0,i.opacity=122,o=1*Math.random()+.4,i.runAction(cc.sequence(cc.fadeIn(.1),cc.spawn(cc.sequence(cc.delayTime(o),cc.fadeOut(.2)),cc.moveBy(o,cc.v2(-5,0))),cc.callFunc(function(){i.active=!1,t.freeWaterArr3.push(i),t.activeWater.delete(i)}))),i},e.prototype.pauseSelf=function(){this.pause=!0,this.activeWater.forEach(function(t){t&&t.pauseAllActions()})},e.prototype.resumeSelf=function(){this.pause=!1,this.activeWater.forEach(function(t){t&&t.resumeAllActions()})},e.prototype.close=function(){r.pzaGameCommonPool.returnInstant(this.node)},i([u({displayName:"\u6c34\u51491",type:cc.Node})],e.prototype,"waterLight1",void 0),i([u({displayName:"\u6c34\u51492",type:cc.Node})],e.prototype,"waterLight2",void 0),i([u({displayName:"\u6c34\u51493",type:cc.Node})],e.prototype,"waterLight3",void 0),i([s],e)}(cc.Component);a.pzaWaterLightEffect=h,cc._RF.pop()},{"../../Common/pzaGameCommonPool":"pzaGameCommonPool","../../Common/pzaUtil":"pzaUtil","../../Common/pzaWorldEventManager":"pzaWorldEventManager"}],pzaWordEffect:[function(t,e,a){"use strict";cc._RF.push(e,"dfe58WKdXhPIIN3qd6gO7l7","pzaWordEffect");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaWordEffect=void 0;var r=t("../../Common/pzaBaseComponent"),p=cc._decorator,c=p.ccclass,l=p.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.wordSprite=null,e.wordFrames=[],e.endCall=null,e}return n(e,t),e.prototype.playReadyPlant=function(t){var e=this;this.endCall=t,this.node.stopAllActions(),this.node.scale=.01,this.wordSprite.spriteFrame=this.wordFrames[0],this.node.runAction(cc.sequence(cc.delayTime(.5),cc.callFunc(function(){e.node.scale=1}),cc.scaleTo(.5,1.5),cc.callFunc(function(){e.wordSprite.spriteFrame=null}),cc.delayTime(.1),cc.callFunc(function(){e.node.scale=1,e.wordSprite.spriteFrame=e.wordFrames[1]}),cc.scaleTo(.5,1.5),cc.callFunc(function(){e.wordSprite.spriteFrame=null}),cc.delayTime(.1),cc.callFunc(function(){e.wordSprite.spriteFrame=e.wordFrames[2]}),cc.delayTime(.5),cc.callFunc(function(){e.endCall&&e.endCall(),e.close()})))},e.prototype.playLargeWave=function(t){var e=this;this.node.stopAllActions(),this.node.scale=1.4,this.wordSprite.spriteFrame=this.wordFrames[3],this.node.runAction(cc.sequence(cc.scaleTo(1,.8),cc.delayTime(1),cc.callFunc(function(){t?e.playLastWave():e.close()})))},e.prototype.playLastWave=function(){var t=this;this.node.stopAllActions(),this.node.scale=3,this.wordSprite.spriteFrame=this.wordFrames[4],this.node.runAction(cc.sequence(cc.scaleTo(1,1.5),cc.delayTime(5),cc.callFunc(function(){t.close()})))},e.prototype.pauseSelf=function(){this.node.pauseAllActions()},e.prototype.resumeSelf=function(){this.node.resumeAllActions()},i([l({displayName:"\u6587\u5b57\u56fe",type:cc.Sprite})],e.prototype,"wordSprite",void 0),i([l({displayName:"\u6587\u5b57\u56fe\u7ec4",type:[cc.SpriteFrame]})],e.prototype,"wordFrames",void 0),i([c],e)}(r.pzaBaseComponent);a.pzaWordEffect=s,cc._RF.pop()},{"../../Common/pzaBaseComponent":"pzaBaseComponent"}],pzaWorldEventManager:[function(t,e,a){"use strict";cc._RF.push(e,"132dcxtIelN5q2Nk4+WL4Rp","pzaWorldEventManager");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaWorldEventManager=a.pzaWorldEventType=void 0,function(t){t.BACK_HOME="BACK_HOME",t.GAME_PAUSE="GAME_PAUSE",t.GAME_RESUME="GAME_RESUME",t.GAME_OVER="GAME_OVER",t.CLICK_SHOVEL="CLICK_SHOVEL",t.REMOVE_SHOVEL="REMOVE_SHOVEL",t.BLOW_WIND="BLOW_WIND",t.PLANT_PLANT="PLANT_PLANT",t.GROVE_SHAKE="GROVE_SHAKE"}(a.pzaWorldEventType||(a.pzaWorldEventType={}));var r=cc._decorator,p=r.ccclass,c=(r.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var a;return n(e,t),a=e,e.prototype.onLoad=function(){cc.game.addPersistRootNode(this.node),a.worldEventNode=this.node},e.addListener=function(t,e,o){null!=a.worldEventNode&&a.worldEventNode.on(t,e,o,!1)},e.removeListener=function(t,e,o){null!=a.worldEventNode&&a.worldEventNode.off(t,e,o)},e.triggerEvent=function(t,e){null!=a.worldEventNode&&a.worldEventNode.emit(t,e)},e.worldEventNode=null,a=i([p],e)}(cc.Component));a.pzaWorldEventManager=c,cc._RF.pop()},{}],pzaZombieBobsledTeam:[function(t,e,a){"use strict";cc._RF.push(e,"7a718blukBMlonF38uNGJmf","pzaZombieBobsledTeam");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaZombieBobsledTeam=void 0;var r=t("../../Common/pzaGameConfig"),p=t("../Data/pzaZombieEnum"),c=t("../Plant/pzaAttackType"),l=t("../pzaGameState"),s=t("./pzaBaseZombie"),u=t("./pzaZombieState"),h=cc._decorator,f=h.ccclass,d=h.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.zombieShadow=null,e.zombieInCar=!1,e}return n(e,t),e.prototype.onEnable=function(){t.prototype.onEnable.call(this),this.animation.node.stopAllActions(),this.animation.node.opacity=255,this.animation.node.x=80},e.prototype.preview=function(e,a,o){void 0===o&&(o=1),t.prototype.bindData.call(this,e),this.hasEquip=!0,this.hasTool=!0,this.zombieWin=!1,this.zombieShadow.active=!1,this.setZombieScale(o),this.node.scaleX=o,this.refreshFrostState(!0),this.animation.setAnimationSkin("biaoqing1_1"),this.playStayAnimation()},e.prototype.bindData=function(e){t.prototype.bindData.call(this,e),this.zombieInCar=!1,this.zombieShadow.active=!0},e.prototype.logicUpdate=function(t){null!=this.baseData&&null!=this.baseData.zombieData&&(this.baseData.isDead||(!this.hypnosisState&&this.baseData.zombieData.hypnosis&&this.beHypnosis(),this.updateRoleBuff(t),this.refreshFrostState(!1),this.animation.flashUpdate(t),this.equipAnimation&&this.equipAnimation.flashUpdate(t),this.baseData.isBeControlled()||(this.lastBePasueControled&&(this.lastBePasueControled=!1,this.resumeSelf()),this.updateMove(t))))},e.prototype.updateMove=function(e){t.prototype.updateMove.call(this,e),this.leaveIce()?this.playDieAnimation(!1):this.zombieInCar||-1!=this.baseData.xIndex&&this.baseData.xIndex<=5&&this.jumpInCar()},e.prototype.leaveIce=function(){var t=this,e=window.pzaMapManager.getIceGround(this.baseData.yIndex);if(null==e||e.length<=0)return!0;var a=!0;return e.forEach(function(e){null!=e&&e.getIceX()<t.baseData.logicPos.x&&(a=!1)}),a},e.prototype.jumpInCar=function(){var t=this;this.zombieInCar=!0,this.zombieShadow.active=!1,this.animation.playAnimation("jump",!1,function(){t.animation.playAnimation("idle2",!0)})},e.prototype.playDeathAnimation=function(t){this.zombieState=u.pzaZombieState.DEAD,this.zombieHurtState=p.pzaHurtStateEnum.DEAD,this.animation.closeFlash(),this.animation.setAnimationSkin("che3"),this.animation.playAnimation("die",!1,t)},e.prototype.zombieDying=function(){this.zombieHurtState=p.pzaHurtStateEnum.DYING,this.animation.setAnimationSkin("biaoqing1_3")},e.prototype.zombieHurt=function(){this.zombieHurtState=p.pzaHurtStateEnum.HURT,this.animation.setAnimationSkin("biaoqing1_2")},e.prototype.zombieIntact=function(){this.zombieHurtState=p.pzaHurtStateEnum.INTACT,this.animation.setAnimationSkin("biaoqing1_1")},e.prototype.pauseSelf=function(){t.prototype.pauseSelf.call(this),this.animation.node.pauseAllActions()},e.prototype.resumeSelf=function(){t.prototype.resumeSelf.call(this),this.animation.node.resumeAllActions()},e.prototype.hurt=function(t,e,a){if(null!=this.baseData&&!this.baseData.isDead){if(a==c.pzaAttackType.CLEAN_CAR)return this.baseData.zombieDie(),void this.flaserDeath();if(a==c.pzaAttackType.BANG)return this.baseData.zombieDie(),void this.death(!1);if(a==c.pzaAttackType.EAT)return this.baseData.zombieDie(),void this.death(!1);if(a!=c.pzaAttackType.TWINE){if(a==c.pzaAttackType.BOOM)return this.baseData.zombieDie(),void this.death(!1);if(a==c.pzaAttackType.NORMAL_BOOM)return this.baseData.zombieDie(),void this.death(!1);a==c.pzaAttackType.SPIKE?this.baseData.hurtZombieBody(t):this.baseData.hurtZombie(t),this.baseData.isDead||this.baseData.hp<=0?this.playDieAnimation(!0):(this.refreshHurtState(!1),this.refreshFrostState(!0),this.animation.flash())}else this.twineDeath()}},e.prototype.playDieAnimation=function(t){for(var e=this,a=0;a<4;a++){var o=cc.v2(this.baseData.logicPos.x+120+50*a,this.baseData.logicPos.y),n=r.pzaGameConfig.getMapXIndex(l.pzaGameState.curChapter,o),i=window.pzazombieManager.createFixBlockZombieData(p.pzaZombieEnum.ZOMBIE_BOBSLED,n,this.baseData.yIndex);i.logicPos=o,window.pzazombieManager.createZombie(i,!1)}this.baseData.zombieDie(),this.baseData.zombieData.hypnosis?window.pzazombieManager.hypnoZombieDeath(this.baseData):window.pzazombieManager.zombieDeath(this.baseData,t),this.animation.setAnimationSkin("biaoqing1_4"),this.animation.playAnimation("idle2",!0),this.zombieShadow.active=!1,this.animation.node.runAction(cc.sequence(cc.moveTo(1,cc.v2(-40,0)),cc.fadeOut(.2),cc.callFunc(function(){e.close()})))},i([d({displayName:"\u50f5\u5c38\u5f71\u5b50",type:cc.Node})],e.prototype,"zombieShadow",void 0),i([f],e)}(s.pzaBaseZombie);a.pzaZombieBobsledTeam=m,cc._RF.pop()},{"../../Common/pzaGameConfig":"pzaGameConfig","../Data/pzaZombieEnum":"pzaZombieEnum","../Plant/pzaAttackType":"pzaAttackType","../pzaGameState":"pzaGameState","./pzaBaseZombie":"pzaBaseZombie","./pzaZombieState":"pzaZombieState"}],pzaZombieBody:[function(t,e,a){"use strict";cc._RF.push(e,"b1abdSI13NE76lu3aJ+NI5X","pzaZombieBody");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaZombieBody=void 0;var r=t("../../Common/pzaGroupEnum"),p=t("../Data/pzaBuffData"),c=t("../Data/pzaZombieEnum"),l=t("../pzaBaseBody"),s=cc._decorator,u=s.ccclass,h=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.bindData=function(e){t.prototype.bindData.call(this,e),this.node.group=r.pzaGroupEnum.ZOMBIE},e.prototype.hypnosischangeGroup=function(){this.curTarget=null,this.node.group=r.pzaGroupEnum.PLANT},e.prototype.onCollisionEnter=function(t,e){this.onCollision(t,e)},e.prototype.onCollisionStay=function(t,e){this.onCollision(t,e)},e.prototype.onCollisionExit=function(t){if(null!=t&&null!=this.curTarget&&(null==this.curTarget.plantData||this.curTarget.isDead)){if(t.node.group==r.pzaGroupEnum.PLANT){var e=t.node.getComponent(l.pzaBaseBody);if(null!=e)return void(e.baseData==this.curTarget&&(this.curTarget=null));if(null!=(a=t.node.getComponent(l.pzaBaseBody)))return void(a.baseData==this.curTarget&&(this.curTarget=null))}var a;t.node.group==r.pzaGroupEnum.ZOMBIE&&null!=(a=t.node.getComponent(l.pzaBaseBody))&&a.baseData==this.curTarget&&(this.curTarget=null)}},e.prototype.onCollision=function(t){if(null!=t&&null==this.curTarget){if(t.node.group==r.pzaGroupEnum.PLANT){var e=t.node.getComponent(l.pzaBaseBody);if(null!=e)return void this.colliderPlant(e.baseData);if(null!=(a=t.node.getComponent(l.pzaBaseBody)))return void this.colliderZombie(a.baseData)}var a;if(t.node.group==r.pzaGroupEnum.ZOMBIE&&null!=(a=t.node.getComponent(l.pzaBaseBody)))return void this.colliderZombie(a.baseData)}},e.prototype.colliderPlant=function(t){if(null!=this.baseData&&null!=t&&!t.isDead&&!t.buffData.hasBuff(p.pzaBuffType.UNABLE_SELECT)&&this.baseData.yIndex==t.yIndex){if(this.baseData.zombieData.direction>0){if(this.baseData.logicPos.x>t.logicPos.x)return}else if(this.baseData.logicPos.x<t.logicPos.x)return;this.curTarget=t}},e.prototype.colliderZombie=function(t){if(null!=this.baseData&&null!=t&&!t.isDead&&this.baseData.zombieData.zombieType!=c.pzaZombieEnum.ZOMBONI&&this.baseData.yIndex==t.yIndex&&(this.baseData.zombieData.zombieType!=c.pzaZombieEnum.POLEVAULTING_ZOMBIE||this.baseData.zombieData.toolType==c.pzaEquipType.NO_EQUIP)){if(this.baseData.zombieData.direction>0){if(this.baseData.logicPos.x>t.logicPos.x)return}else if(this.baseData.logicPos.x<t.logicPos.x)return;this.curTarget=t}},i([u],e)}(l.pzaBaseBody));a.pzaZombieBody=h,cc._RF.pop()},{"../../Common/pzaGroupEnum":"pzaGroupEnum","../Data/pzaBuffData":"pzaBuffData","../Data/pzaZombieEnum":"pzaZombieEnum","../pzaBaseBody":"pzaBaseBody"}],pzaZombieEnum:[function(t,e,a){"use strict";cc._RF.push(e,"b5ab5QGCLlGqZm0T4j6hFMJ","pzaZombieEnum"),Object.defineProperty(a,"__esModule",{value:!0}),a.pzaEquipType=a.pzaHurtStateEnum=a.pzaZombieEnum=void 0,function(t){t[t.ZOMBIE=1]="ZOMBIE",t[t.FLAG_ZOMBIE=2]="FLAG_ZOMBIE",t[t.CONE_HEAD_ZOMBIE=3]="CONE_HEAD_ZOMBIE",t[t.POLEVAULTING_ZOMBIE=4]="POLEVAULTING_ZOMBIE",t[t.BUCKET_HEAD_ZOMBIE=5]="BUCKET_HEAD_ZOMBIE",t[t.NEWSPAPER_ZOMBIE=6]="NEWSPAPER_ZOMBIE",t[t.SCREEN_DOOR_ZOMBIE=7]="SCREEN_DOOR_ZOMBIE",t[t.FOOTBALL_ZOMBIE=8]="FOOTBALL_ZOMBIE",t[t.DANCING_ZOMBIE=9]="DANCING_ZOMBIE",t[t.BACKUP_DANCER=10]="BACKUP_DANCER",t[t.DUCKY_TUBE_ZOMBIE=11]="DUCKY_TUBE_ZOMBIE",t[t.DUCKY_TUBE_CONE_ZOMBIE=12]="DUCKY_TUBE_CONE_ZOMBIE",t[t.DUCKY_TUBE_BUCKET_ZOMBIE=13]="DUCKY_TUBE_BUCKET_ZOMBIE",t[t.SNORKEL_ZOMBIE=14]="SNORKEL_ZOMBIE",t[t.ZOMBONI=15]="ZOMBONI",t[t.ZOMBIE_BOBSLED_TEAM=16]="ZOMBIE_BOBSLED_TEAM",t[t.DOLPHIN_RIDER_ZOMBIE=17]="DOLPHIN_RIDER_ZOMBIE",t[t.JACK_ZOMBIE=18]="JACK_ZOMBIE",t[t.BALLOON_ZOMBIE=19]="BALLOON_ZOMBIE",t[t.DIGGER_ZOMBIE=20]="DIGGER_ZOMBIE",t[t.POGO_ZOMBIE=21]="POGO_ZOMBIE",t[t.YETI_ZOMBIE=22]="YETI_ZOMBIE",t[t.BUNGEE_ZOMBIE=23]="BUNGEE_ZOMBIE",t[t.LADDER_ZOMBIE=24]="LADDER_ZOMBIE",t[t.CATAPULT_ZOMBIE=25]="CATAPULT_ZOMBIE",t[t.GARGANTUAR=26]="GARGANTUAR",t[t.IMP=28]="IMP",t[t.DR_ZOMBOSS=29]="DR_ZOMBOSS",t[t.ZOMBIE_BOBSLED=30]="ZOMBIE_BOBSLED"}(a.pzaZombieEnum||(a.pzaZombieEnum={})),function(t){t[t.INTACT=0]="INTACT",t[t.HURT=1]="HURT",t[t.DYING=2]="DYING",t[t.DEAD=3]="DEAD"}(a.pzaHurtStateEnum||(a.pzaHurtStateEnum={})),function(t){t[t.NO_EQUIP=0]="NO_EQUIP",t[t.NORMAL_EQUIP=1]="NORMAL_EQUIP",t[t.IRON_EQUIP=2]="IRON_EQUIP"}(a.pzaEquipType||(a.pzaEquipType={})),cc._RF.pop()},{}],pzaZombieHandbookView:[function(t,e,a){"use strict";cc._RF.push(e,"52c7fSRVGhMCbajYpKgtYzJ","pzaZombieHandbookView");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaZombieHandbookView=void 0;var r=t("../Battle/Data/pzaZombieEnum"),p=t("../Common/pzaGameCommonPool"),c=t("../Common/pzaGameConfig"),l=t("./pzaZombiebookCard"),s=cc._decorator,u=s.ccclass,h=s.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cardPrefab=null,e.cardContent=null,e.zombieName=null,e.zombieDesc=null,e.zombieProp=null,e.special=null,e.bg=null,e.txtScroll=null,e.curZombie=null,e.zombieCardList=null,e.closeCall=null,e}return n(e,t),e.prototype.onEnable=function(){this.zombieCardList=[];for(var t=r.pzaZombieEnum.ZOMBIE;t<=r.pzaZombieEnum.DR_ZOMBOSS;t++)if(t!=r.pzaZombieEnum.DUCKY_TUBE_CONE_ZOMBIE&&t!=r.pzaZombieEnum.DUCKY_TUBE_BUCKET_ZOMBIE){var e=p.pzaGameCommonPool.requestInstant(this.cardPrefab);e.setParent(this.cardContent);var a=e.getComponent(l.pzaZombiebookCard);null!=a&&(a.bindData(t,this.showZombie.bind(this)),this.zombieCardList.push(a))}this.showZombie(r.pzaZombieEnum.ZOMBIE)},e.prototype.onDisable=function(){null!=this.zombieCardList&&this.zombieCardList.forEach(function(t){t&&t.close()}),this.zombieCardList=null},e.prototype.bindCloseCall=function(t){this.closeCall=t},e.prototype.showZombie=function(t){if(this.curZombie!=t){this.curZombie=t;var e=c.pzaGameConfig.getZombieConfig(t),a=c.pzaGameConfig.ZombieBookMap.get(t);null!=e&&null!=a&&(this.zombieName.string=e.name,this.zombieDesc.node.active=null!=a.desc,null!=a.desc&&(this.zombieDesc.string=a.desc),this.zombieProp.node.active=null!=a.prop,null!=a.prop&&(this.zombieProp.string=a.prop),this.special.active=a.special,this.bg.node.active=null!=a.bg,null!=a.bg&&(this.bg.string=a.bg),this.txtScroll.scrollToTop())}},e.prototype.clickBack=function(){this.close()},e.prototype.clickClose=function(){this.close(),this.closeCall&&this.closeCall()},e.prototype.close=function(){p.pzaGameCommonPool.returnInstant(this.node)},i([h({displayName:"\u5361\u7247\u9884\u8bbe",type:cc.Prefab})],e.prototype,"cardPrefab",void 0),i([h({displayName:"\u5361\u7247\u5bb9\u5668",type:cc.Node})],e.prototype,"cardContent",void 0),i([h({displayName:"\u50f5\u5c38\u540d\u79f0",type:cc.Label})],e.prototype,"zombieName",void 0),i([h({displayName:"\u50f5\u5c38\u4ecb\u7ecd",type:cc.Label})],e.prototype,"zombieDesc",void 0),i([h({displayName:"\u50f5\u5c38\u5c5e\u6027",type:cc.RichText})],e.prototype,"zombieProp",void 0),i([h({displayName:"\u7279\u6b8a",type:cc.Node})],e.prototype,"special",void 0),i([h({displayName:"\u80cc\u666f\u63cf\u8ff0",type:cc.Label})],e.prototype,"bg",void 0),i([h({displayName:"\u6587\u672cScroll",type:cc.ScrollView})],e.prototype,"txtScroll",void 0),i([u],e)}(cc.Component);a.pzaZombieHandbookView=f,cc._RF.pop()},{"../Battle/Data/pzaZombieEnum":"pzaZombieEnum","../Common/pzaGameCommonPool":"pzaGameCommonPool","../Common/pzaGameConfig":"pzaGameConfig","./pzaZombiebookCard":"pzaZombiebookCard"}],pzaZombieManager:[function(t,e,a){"use strict";cc._RF.push(e,"3114bnqbzFBEqjH2YiD/Eos","pzaZombieManager");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaZombieManager=void 0;var r=t("../Common/pzaGameConfig"),p=t("../Common/pzaGameManager"),c=t("../Common/pzaGamePartConfig"),l=t("../Common/pzaLocalData"),s=t("../Common/pzaNodeManager"),u=t("../Common/pzaUtil"),h=t("../Common/pzaWorldEventManager"),f=t("../Load/pzaBundleObjectPool"),d=t("../Load/pzaPreLoadManager"),m=t("./Data/pzaBaseData"),y=t("./Data/pzaBuffData"),z=t("./Data/pzaDropType"),b=t("./Data/pzaGuideType"),g=t("./Data/pzaZombieEnum"),v=t("./Zombie/pzaBaseZombie"),_=t("./pzaEffectManager"),P=t("./pzaGameState"),E=cc._decorator,C=E.ccclass,D=(E.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.zombieDatas=[new Set,new Set,new Set,new Set,new Set,new Set],e.zombieMap=new Map,e.hypnoZombieMap=new Map,e.wave=0,e.lastWave=!1,e.nextWaveTime=c.pzaWaveConfig.firstWaveTime,e.curWaveTime=0,e.preRefreshHp=0,e.curWaveTotalHp=0,e.curWaveLeftHp=0,e.hasShowRedTip=!1,e}return n(e,t),e.prototype.onLoad=function(){window.pzazombieManager=this},e.prototype.init=function(){this.zombieDatas.forEach(function(t){t&&t.clear()}),this.zombieMap.clear(),this.hypnoZombieMap.clear(),this.wave=0,this.nextWaveTime=c.pzaWaveConfig.firstWaveTime,this.curWaveTime=0,this.preRefreshHp=0,this.curWaveTotalHp=0,this.curWaveLeftHp=0,this.hasShowRedTip=!1,this.lastWave=!1},e.prototype.logicUpdate=function(t){P.pzaGameState.guideZombiePause||this.refreshWaveZombie(t)},e.prototype.refreshWaveZombie=function(t){if(this.curWaveTime+=t,this.nextWaveTime-=t,!this.lastWave)if(P.pzaGameState.gameMode!=P.pzaGameMode.KNOCK_ZOMBIE){var e=!1;if(1==P.pzaGameState.curChapter&&(1==P.pzaGameState.curPart||2==P.pzaGameState.curPart)){var a=c.pzaGamePartConfig.getPartConfig(P.pzaGameState.curChapter,P.pzaGameState.curPart);null!=a&&a.maxWave==this.wave+1&&(e=!0)}if(9==this.wave||19==this.wave||e){if(!this.hasShowRedTip)return void((this.zombieMap.size<=0||this.curWaveTime>=c.pzaWaveConfig.activeRedTipTime)&&this.showRedTip())}else if(this.nextWaveTime>c.pzaWaveConfig.preRefreshTime&&this.curWaveTotalHp>0&&this.curWaveLeftHp/this.curWaveTotalHp<=this.preRefreshHp)return void(this.nextWaveTime=c.pzaWaveConfig.preRefreshTime);this.curWaveTime<c.pzaWaveConfig.minRefreshTime||this.nextWaveTime>0||this.createWaveZombie()}else{if(this.nextWaveTime>0)return;this.createKnockWaveZombie()}},e.prototype.createWaveZombie=function(){var t=this;this.wave++,this.curWaveTime=0,this.nextWaveTime=c.pzaWaveConfig.getWaveRandomTime(),P.pzaGameState.gameMode==P.pzaGameMode.SMALL_ZOMBIE&&(this.nextWaveTime=r.pzaGameConfig.miniZombieWaveInterval),this.preRefreshHp=c.pzaWaveConfig.getPreRefreshHp(),this.hasShowRedTip=!1;var e=c.pzaGamePartConfig.getPartConfig(P.pzaGameState.curChapter,P.pzaGameState.curPart);if(!(null==e||e.maxWave<this.wave)){e.maxWave==this.wave&&(this.lastWave=!0);var a=e.getRandomWaveZombie(this.wave);if(null!=a){var o=r.pzaGameConfig.getMapRow(P.pzaGameState.curChapter);this.curWaveTotalHp=this.curWaveLeftHp;var n=!0,i=[],p=[];if(1==P.pzaGameState.curChapter&&1==P.pzaGameState.curPart)p=[2];else if(1!=P.pzaGameState.curChapter||2!=P.pzaGameState.curPart&&3!=P.pzaGameState.curPart){for(var l=0;l<o;l++)p.push(l);p.sort(function(){return Math.random()-.5})}else(p=[1,2,3]).sort(function(){return Math.random()-.5});var s=0;if(a.forEach(function(e){var a=window.pzaMapManager.getRandomWayIndex(s,e,p);if(s++,e==g.pzaZombieEnum.BUNGEE_ZOMBIE){var o=window.pzaplantManager.getRandomBlock(!0,i);if(null==o)return;var c=o.split("-"),l=t.createFixBlockZombieData(e,parseInt(c[0]),parseInt(c[1]));return t.createZombie(l),void(t.curWaveTotalHp+=l.hp)}var h=t.createZombieData(e,a);!n&&h.logicPos&&(h.logicPos.x+=u.pzaUtil.getRandomFloatNum(.2,1)*r.pzaGameConfig.getBlockWidth(P.pzaGameState.curChapter)),t.createZombie(h),t.curWaveTotalHp+=h.hp,n=!1}),this.lastWave&&(window.pzaMapManager.TombMap.forEach(function(a){if(null!=a&&null!=a.xIndex&&null!=a.yIndex){var o=e.getRandomTombZombie(),n=t.createFixBlockZombieData(o,a.xIndex,a.yIndex);t.createZombie(n,!1,!0),t.curWaveTotalHp+=n.hp}}),e.lastWaterWaveZombie>0)){for(var h=[],f=e.lastWaterWaveMinColumn-1;f<9;f++)h.push([f,2]),h.push([f,3]);for(h.sort(function(){return Math.random()-.5}),l=0;l<e.lastWaterWaveZombie;l++){var d=h[l];if(null!=d){var m=e.getRandomDiveZombie(),y=this.createFixBlockZombieData(m,d[0],d[1]);this.createZombie(y,!1,!1,!0),this.curWaveTotalHp+=y.hp}}}this.curWaveLeftHp=this.curWaveTotalHp}}},e.prototype.createKnockWaveZombie=function(){var t=this;this.wave++,this.curWaveTime=0,this.preRefreshHp=0,this.hasShowRedTip=!1;var e=c.pzaGamePartConfig.getPartConfig(P.pzaGameState.curChapter,P.pzaGameState.curPart);if(!(null==e||e.maxWave<this.wave)){e.maxWave==this.wave&&(this.lastWave=!0);var a=window.pzaMapManager.TombSet.size;if(0==e.getWaveZombieDensity()[this.wave]){this.nextWaveTime=2;var o=1;return a<5&&(o=5-a),void window.pzaMapManager.randomCreateTomb(o)}if(this.nextWaveTime=1.4,0==a)return this.wave--,void window.pzaMapManager.randomCreateTomb(5);var n=e.getRandomWaveZombie(this.wave,!1);if(null!=n){this.curWaveTotalHp=this.curWaveLeftHp;var i=Math.min(.4,.05*this.wave);if(this.lastWave){if(window.pzaMapManager.TombMap.forEach(function(a){if(null!=a&&null!=a.xIndex&&null!=a.yIndex){var o=e.getRandomTombZombie(),n=t.createFixBlockZombieData(o,a.xIndex,a.yIndex);Math.random()<=i&&n.buffData.addBuff(new y.pzaBuffInfo(y.pzaBuffType.SPEED_UP,-1,3)),t.createZombie(n,!1,!0),t.curWaveTotalHp+=n.hp}}),e.lastWaterWaveZombie>0){for(var r=[],p=e.lastWaterWaveMinColumn-1;p<9;p++)r.push([p,2]),r.push([p,3]);r.sort(function(){return Math.random()-.5});for(var l=0;l<e.lastWaterWaveZombie;l++){var s=r[l];if(null!=s){var h=e.getRandomDiveZombie(),f=this.createFixBlockZombieData(h,s[0],s[1]);this.createZombie(f,!1,!1,!0),this.curWaveTotalHp+=f.hp}}}}else{var d=[];window.pzaMapManager.TombMap.forEach(function(t){null!=t&&null!=t.xIndex&&null!=t.yIndex&&d.push(t)});var m=u.pzaUtil.getRandomArrayValue(d,n.length);for(l=0;l<n.length;l++){var z=m[l];null!=z&&null!=z.xIndex&&null!=z.yIndex&&(f=this.createFixBlockZombieData(n[l],z.xIndex,z.yIndex),Math.random()<=i&&f.buffData.addBuff(new y.pzaBuffInfo(y.pzaBuffType.SPEED_UP,-1,3)),this.createZombie(f,!1,!0),this.curWaveTotalHp+=f.hp)}}this.curWaveLeftHp=this.curWaveTotalHp}}},e.prototype.createZombie=function(t,e,a,o,n){var i=this;if(void 0===e&&(e=!0),void 0===a&&(a=!1),void 0===o&&(o=!1),void 0===n&&(n=null),null!=t&&null!=t.zombieData){var p=s.pzaNodeManager.getPlantZombieNode();if(null!=p){var c=t.zombieData.zombieType,l=d.pzaPreLoadManager.getZombieUrl(c);f.pzaBundleObjectPool.requestInstantByUrl(l,!1,function(e,c){if(null==e&&null!=c){c.setParent(p),c.setPosition(t.logicPos);var l=c.getComponent(v.pzaBaseZombie);null!=l&&(P.pzaGameState.gameMode==P.pzaGameMode.SMALL_ZOMBIE&&l.setZombieScale(r.pzaGameConfig.miniZombieScale),l.bindData(t),a&&l.breakDirt(n),o&&l.breakWater(n),i.zombieMap.set(t,l))}else console.error(e)}),e&&h.pzaWorldEventManager.triggerEvent(h.pzaWorldEventType.GROVE_SHAKE,t.yIndex),a&&_.pzaEffectManager.createDirtEffect("idle3",t.logicPos,null),o&&_.pzaEffectManager.createWaterFlowerEffect(t.yIndex,t.logicPos,null)}}},e.prototype.hasCanAttackZombie=function(t,e){if(null==t||null==t.logicPos)return!1;var a=!1;return this.zombieDatas[t.yIndex].forEach(function(o){!o||!o.logicPos||o.logicPos.x<t.logicPos.x||o.buffData.hasBuff(y.pzaBuffType.DIVE)||o.buffData.hasBuff(y.pzaBuffType.FLY)||o.buffData.hasBuff(y.pzaBuffType.UNABLE_SELECT)||e&&(o.xIndex<=-1||t.xIndex+e<o.xIndex)||(a=!0)}),a},e.prototype.hasCanAttackBackZombie=function(t,e){if(null==t||null==t.logicPos)return!1;var a=!1;return this.zombieDatas[t.yIndex].forEach(function(o){!o||!o.logicPos||o.logicPos.x>t.logicPos.x||o.buffData.hasBuff(y.pzaBuffType.DIVE)||o.buffData.hasBuff(y.pzaBuffType.FLY)||o.buffData.hasBuff(y.pzaBuffType.UNABLE_SELECT)||e&&(o.xIndex<=-1||t.xIndex+e>o.xIndex)||(a=!0)}),a},e.prototype.getCanAttackZombies=function(t,e){if(null==t||null==t.logicPos)return null;var a=[];return this.zombieDatas[t.yIndex].forEach(function(o){!o||!o.logicPos||o.logicPos.x<t.logicPos.x||o.buffData.hasBuff(y.pzaBuffType.DIVE)||o.buffData.hasBuff(y.pzaBuffType.FLY)||o.buffData.hasBuff(y.pzaBuffType.UNABLE_SELECT)||e&&(o.xIndex<=-1||t.xIndex+e<o.xIndex)||a.push(o)}),a},e.prototype.getZombie=function(t){return this.zombieMap.get(t)},e.prototype.getHypnoZombie=function(t){return this.hypnoZombieMap.get(t)},e.prototype.findFixRangeZombies=function(t,e){if(null==t)return null;var a=[];return this.zombieMap.forEach(function(o,n){null==o||null==n||n.isDead||null==n.logicPos||u.pzaUtil.getDistance(t,n.logicPos)<=e&&a.push(o)}),a},e.prototype.findFixNearestZombie=function(t,e,a){if(null==e)return null;var o=null,n=-1;return this.zombieDatas[t].forEach(function(t){if(t&&t.logicPos&&!(t.logicPos.x<e.x)&&!t.buffData.hasBuff(y.pzaBuffType.FLY)&&!t.buffData.hasBuff(y.pzaBuffType.UNABLE_SELECT)){var i=u.pzaUtil.getDistance(t.logicPos,e);if(!(i>a))return-1==n?(o=t,void(n=i)):void(n<=i||(o=t,n=i))}}),o},e.prototype.findFixNearestHypnoZombie=function(t,e,a){if(null==e)return null;var o=null,n=-1;return this.hypnoZombieMap.forEach(function(i,r){if(r&&r.logicPos&&r.yIndex==t&&!(r.logicPos.x>e.x)){var p=u.pzaUtil.getDistance(r.logicPos,e);if(!(p>a))return-1==n?(o=r,void(n=p)):void(n<=p||(o=r,n=p))}}),o},e.prototype.findAllZombies=function(){var t=[];return this.zombieMap.forEach(function(e,a){null==e||null==a||a.isDead||t.push(e)}),t},e.prototype.showRedTip=function(){this.hasShowRedTip=!0,this.nextWaveTime=c.pzaWaveConfig.redTipNextWaveTime;var t=!1,e=c.pzaGamePartConfig.getPartConfig(P.pzaGameState.curChapter,P.pzaGameState.curPart);null!=e&&e.maxWave==this.wave+1&&(t=!0);var a=1==P.pzaGameState.curChapter&&1==P.pzaGameState.curPart||2==P.pzaGameState.curChapter&&5==P.pzaGameState.curPart;_.pzaEffectManager.createLargeWord(t,a)},e.prototype.zombieDeath=function(t,e){if(void 0===e&&(e=!0),null!=t){if(P.pzaGameState.gameMode==P.pzaGameMode.KNOCK_ZOMBIE&&Math.random()<=.1)for(var a=0;a<3;a++)window.pzaplantManager.plantCreateSun(cc.v2(t.logicPos.x+30*(a-1),t.logicPos.y),!0,!0);if(e&&P.pzaGameState.curChapter>=2&&!t.zombieData.hypnosis){var o=Math.random();o<=r.pzaGameConfig.DIAMOND_CHANCE?_.pzaEffectManager.createDropCoin(z.pzaDropType.DIAMOND,t.logicPos):o<=r.pzaGameConfig.DIAMOND_CHANCE+r.pzaGameConfig.GOLD_CHANCE?_.pzaEffectManager.createDropCoin(z.pzaDropType.GOLD_COIN,t.logicPos):o<=r.pzaGameConfig.DIAMOND_CHANCE+r.pzaGameConfig.GOLD_CHANCE+r.pzaGameConfig.SILVER_CHANCE&&_.pzaEffectManager.createDropCoin(z.pzaDropType.SILVER_COIN,t.logicPos)}this.zombieMap.delete(t);var n=this.zombieDatas[t.yIndex];null!=n&&n.delete(t);var i=0;if(this.zombieDatas.forEach(function(t){i+=t.size}),!(i>0)){var s=c.pzaGamePartConfig.getPartConfig(P.pzaGameState.curChapter,P.pzaGameState.curPart);if(null!=s&&this.wave==s.maxWave){if(!l.pzaLocalData.passPart(P.pzaGameState.curChapter,P.pzaGameState.curPart,P.pzaGameState.partStar))return void p.pzaGameManager.gameWin();var u=r.pzaGameConfig.getPartDrop(P.pzaGameState.curChapter,P.pzaGameState.curPart);if(null==u)return;switch(3==P.pzaGameState.curChapter&&4==P.pzaGameState.curPart?(l.pzaLocalData.data.curGuideType=b.pzaGuideType.GUIDE_SHOP_3_4,l.pzaLocalData.addDirty("curGuideType")):4==P.pzaGameState.curChapter&&4==P.pzaGameState.curPart?(l.pzaLocalData.data.curGuideType=b.pzaGuideType.GUIDE_SHOP_4_4,l.pzaLocalData.addDirty("curGuideType")):5==P.pzaGameState.curChapter&&1==P.pzaGameState.curPart&&(l.pzaLocalData.data.curGuideType=b.pzaGuideType.GUIDE_SHOP_5_1,l.pzaLocalData.addDirty("curGuideType")),u){case z.pzaDropType.PLANT_CARD:var h=P.pzaGameState.curChapter+"-"+P.pzaGameState.curPart,f=r.pzaGameConfig.newPlantDropMap.get(h);l.pzaLocalData.data.ownPlants.push(f),l.pzaLocalData.addDirty("ownPlants"),_.pzaEffectManager.createDropCard(z.pzaDropType.PLANT_CARD,f,t.logicPos);break;case z.pzaDropType.SHOVEL:case z.pzaDropType.CG_PAPER:case z.pzaDropType.HAND_BOOK:case z.pzaDropType.BACONIC:case z.pzaDropType.TACO:case z.pzaDropType.SPRINKLER:_.pzaEffectManager.createDropCard(u,null,t.logicPos);break;default:p.pzaGameManager.gameWin()}}}}},e.prototype.hypnoZombieDeath=function(t){this.hypnoZombieMap.delete(t)},e.prototype.zombieHypnosis=function(t){if(null!=t&&null!=t.zombieData){t.zombieData.direction=1,t.zombieData.hypnosis=!0,this.reduceZombieLeftHp(t.hp);var e=this.zombieMap.get(t);null!=e&&this.hypnoZombieMap.set(t,e),this.zombieDeath(t)}},e.prototype.reduceZombieLeftHp=function(t){this.curWaveLeftHp-=t},e.prototype.createZombieData=function(t,e){var a=r.pzaGameConfig.getZombieConfig(t),o=new m.pzaBaseData(null,t);o.hp=o.maxHp=a.hp,o.atk=a.atk,o.zombieData.equipHp=o.zombieData.maxEquipHp=a.equipHp,o.zombieData.direction=-1,o.zombieData.initMSpd=o.zombieData.moveSpd=r.pzaGameConfig.getBlockWidth(P.pzaGameState.curChapter)/a.speed,o.zombieData.equipType=a.equipType,o.zombieData.toolType=a.toolType,P.pzaGameState.gameMode==P.pzaGameMode.SMALL_ZOMBIE&&(o.hp=o.maxHp=a.hp*r.pzaGameConfig.miniZombieHp,o.zombieData.equipHp=o.zombieData.maxEquipHp=a.equipHp),o.yIndex=e;var n=r.pzaGameConfig.getMapColumn(),i=.1*r.pzaGameConfig.getYInterval(P.pzaGameState.curChapter,e),p=r.pzaGameConfig.getBlockLogicPos(P.pzaGameState.curChapter,n-1,e,0,i);return p.x=670,o.logicPos=p,this.zombieDatas[o.yIndex].add(o),o},e.prototype.createFixBlockZombieData=function(t,e,a){var o=r.pzaGameConfig.getZombieConfig(t),n=new m.pzaBaseData(null,t);n.hp=n.maxHp=o.hp,n.atk=o.atk,n.zombieData.equipHp=n.zombieData.maxEquipHp=o.equipHp,n.zombieData.direction=-1,n.zombieData.initMSpd=n.zombieData.moveSpd=r.pzaGameConfig.getBlockWidth(P.pzaGameState.curChapter)/o.speed,n.zombieData.equipType=o.equipType,n.zombieData.toolType=o.toolType,P.pzaGameState.gameMode==P.pzaGameMode.SMALL_ZOMBIE&&(n.hp=n.maxHp=o.hp*r.pzaGameConfig.miniZombieHp,n.zombieData.equipHp=n.zombieData.maxEquipHp=o.equipHp),n.xIndex=e,n.yIndex=a;var i=r.pzaGameConfig.getXInterval(P.pzaGameState.curChapter,e)/2,p=.1*r.pzaGameConfig.getYInterval(P.pzaGameState.curChapter,a),c=r.pzaGameConfig.getBlockLogicPos(P.pzaGameState.curChapter,e,a,i,p);return n.logicPos=c,this.zombieDatas[n.yIndex].add(n),n},i([C],e)}(cc.Component));a.pzaZombieManager=D,cc._RF.pop()},{"../Common/pzaGameConfig":"pzaGameConfig","../Common/pzaGameManager":"pzaGameManager","../Common/pzaGamePartConfig":"pzaGamePartConfig","../Common/pzaLocalData":"pzaLocalData","../Common/pzaNodeManager":"pzaNodeManager","../Common/pzaUtil":"pzaUtil","../Common/pzaWorldEventManager":"pzaWorldEventManager","../Load/pzaBundleObjectPool":"pzaBundleObjectPool","../Load/pzaPreLoadManager":"pzaPreLoadManager","./Data/pzaBaseData":"pzaBaseData","./Data/pzaBuffData":"pzaBuffData","./Data/pzaDropType":"pzaDropType","./Data/pzaGuideType":"pzaGuideType","./Data/pzaZombieEnum":"pzaZombieEnum","./Zombie/pzaBaseZombie":"pzaBaseZombie","./pzaEffectManager":"pzaEffectManager","./pzaGameState":"pzaGameState"}],pzaZombieState:[function(t,e,a){"use strict";cc._RF.push(e,"1254fuzgXhNfbmLza1fO2Do","pzaZombieState"),Object.defineProperty(a,"__esModule",{value:!0}),a.pzaZombieState=void 0,function(t){t[t.STAY=1]="STAY",t[t.MOVE=2]="MOVE",t[t.EAT_ATK=3]="EAT_ATK",t[t.DEAD=4]="DEAD",t[t.SPECIAL=5]="SPECIAL"}(a.pzaZombieState||(a.pzaZombieState={})),cc._RF.pop()},{}],pzaZombiebookCard:[function(t,e,a){"use strict";cc._RF.push(e,"9484177j0tLUo9Ri0pFBdw8","pzaZombiebookCard");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaZombiebookCard=void 0;var r=t("../Battle/Data/pzaZombieEnum"),p=t("../Common/pzaGameCommonPool"),c=t("../Common/pzaSpriteFrameManager"),l=cc._decorator,s=l.ccclass,u=l.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cardIcon=null,e.zombieType=null,e.clickCall=null,e}return n(e,t),e.prototype.bindData=function(t,e){this.zombieType=t,this.clickCall=e,c.pzaSpriteFrameManager.loadZombieCard(t,this.cardIcon),t==r.pzaZombieEnum.POLEVAULTING_ZOMBIE||t==r.pzaZombieEnum.ZOMBONI?this.cardIcon.node.x=-38:this.cardIcon.node.x=16},e.prototype.clickCard=function(){this.clickCall&&this.clickCall(this.zombieType)},e.prototype.close=function(){p.pzaGameCommonPool.returnInstant(this.node)},i([u({displayName:"\u5361\u7247\u56fe",type:cc.Sprite})],e.prototype,"cardIcon",void 0),i([s],e)}(cc.Component);a.pzaZombiebookCard=h,cc._RF.pop()},{"../Battle/Data/pzaZombieEnum":"pzaZombieEnum","../Common/pzaGameCommonPool":"pzaGameCommonPool","../Common/pzaSpriteFrameManager":"pzaSpriteFrameManager"}],pzaZomboni:[function(t,e,a){"use strict";cc._RF.push(e,"48dea0mPk5KtqXNcJhrI6kz","pzaZomboni");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),i=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.pzaZomboni=void 0;var r=t("../Data/pzaBuffData"),p=t("../Data/pzaZombieEnum"),c=t("../Plant/pzaAttackType"),l=t("../pzaEffectManager"),s=t("./pzaBaseZombie"),u=t("./pzaZombieState"),h=cc._decorator,f=h.ccclass,d=h.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.iceMakeNode=null,e}return n(e,t),e.prototype.bindData=function(e){if(t.prototype.bindData.call(this,e),null!=e.logicPos){var a=e.logicPos.x+this.iceMakeNode.x,o=e.logicPos.y+this.iceMakeNode.y;l.pzaEffectManager.createIceGround(e,a,o),e.buffData.addBuff(new r.pzaBuffInfo(r.pzaBuffType.IMM_ICE,-1)),e.buffData.addBuff(new r.pzaBuffInfo(r.pzaBuffType.IMM_SPATTER,-1))}},e.prototype.logicUpdate=function(t){null!=this.baseData&&null!=this.baseData.zombieData&&(this.baseData.isDead||(!this.hypnosisState&&this.baseData.zombieData.hypnosis&&this.beHypnosis(),this.updateRoleBuff(t),this.refreshFrostState(!1),this.animation.flashUpdate(t),this.equipAnimation&&this.equipAnimation.flashUpdate(t),this.baseData.isBeControlled()||(this.lastBePasueControled&&(this.lastBePasueControled=!1,this.resumeSelf()),-1!=this.baseData.xIndex&&this.baseData.xIndex<8&&(this.baseData.zombieData.moveSpd-=this.baseData.zombieData.initMSpd/100,this.baseData.zombieData.moveSpd=Math.max(this.baseData.zombieData.moveSpd,3*this.baseData.zombieData.initMSpd/8)),this.updateMove(t),this.rollingPlant())))},e.prototype.rollingPlant=function(){if(null!=this.baseData&&!this.baseData.isDead&&null!=this.baseData.logicPos){var t=this.findTarget();if(null!=t){var e=window.pzaplantManager.getPlantByData(t);e&&e.hurt(this.baseData.atk,this.baseData,c.pzaAttackType.ROLLING)}}},e.prototype.hurt=function(e,a,o){var n=this;if(void 0===o&&(o=c.pzaAttackType.FLOOR_ATK),null!=this.baseData&&!this.baseData.isDead)if(o!=c.pzaAttackType.SPIKE)t.prototype.hurt.call(this,e,a,o);else if(this.baseData.zombieDie(),this.animation.playAnimation("jump",!1,function(){n.death(!0)}),null!=a){var i=window.pzaplantManager.getPlantByData(a);window.pzaplantManager.removePlant(a),i&&i.close()}},e.prototype.death=function(t){var e=this;this.baseData.zombieData.hypnosis?window.pzazombieManager.hypnoZombieDeath(this.baseData):window.pzazombieManager.zombieDeath(this.baseData),t?this.playDeathAnimation(function(){e.close()}):this.close()},e.prototype.playDeathAnimation=function(t){this.zombieState=u.pzaZombieState.DEAD,this.zombieHurtState=p.pzaHurtStateEnum.DEAD,this.animation.closeFlash(),this.animation.setAnimationSkin("che3"),this.animation.playAnimation("die",!1,t)},e.prototype.zombieDying=function(){this.zombieHurtState=p.pzaHurtStateEnum.DYING,this.animation.setAnimationSkin("che3")},e.prototype.zombieHurt=function(){this.zombieHurtState=p.pzaHurtStateEnum.HURT,this.animation.setAnimationSkin("che2")},e.prototype.zombieIntact=function(){this.zombieHurtState=p.pzaHurtStateEnum.INTACT,this.animation.setAnimationSkin("che1")},i([d({displayName:"\u5236\u51b0\u8282\u70b9",type:cc.Node})],e.prototype,"iceMakeNode",void 0),i([f],e)}(s.pzaBaseZombie);a.pzaZomboni=m,cc._RF.pop()},{"../Data/pzaBuffData":"pzaBuffData","../Data/pzaZombieEnum":"pzaZombieEnum","../Plant/pzaAttackType":"pzaAttackType","../pzaEffectManager":"pzaEffectManager","./pzaBaseZombie":"pzaBaseZombie","./pzaZombieState":"pzaZombieState"}],pzakc:[function(t,e,a){"use strict";cc._RF.push(e,"5665dxzSypCQ67E4BI2w4Lq","pzakc");var o=this&&this.__decorate||function(t,e,a,o){var n,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r},n=this&&this.__read||function(t,e){var a="function"==typeof Symbol&&t[Symbol.iterator];if(!a)return t;var o,n,i=a.call(t),r=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)r.push(o.value)}catch(p){n={error:p}}finally{try{o&&!o.done&&(a=i.return)&&a.call(i)}finally{if(n)throw n.error}}return r},i=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(n(arguments[e]));return t};Object.defineProperty(a,"__esModule",{value:!0});var r=t("./pzaChannel"),p=cc._decorator,c=p.ccclass,l=(p.property,function(){function t(){}var e;return e=t,t.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];t.unshift("====>"),console.log.apply(window,t)},t.err=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];t.unshift("====>"),console.error.apply(window,t)},t.objToMap=function(t){var a=new Map;return e.forMap(t,function(e){a.set(e,Number(t[e]))}),a},t.mapToObj=function(t){var e={};return t.forEach(function(t,a){e[a]=t}),e},t.str=function(t){return null==t?"":t.trim()},t.num=function(t){return t?Number(t):0},t.strArr=function(t){return t?(t=t.replace(/\s/g,"").replace(/\uff0c/g,",")).split(","):null},t.strNumArr=function(t){if(!t)return null;for(var e=[],a=(t=t.replace(/\s/g,"").replace(/\uff0c/g,",")).split(","),o=0;o<a.length;o++)e.push(Number(a[o]||0));return e},t.strSet=function(t){if(!t)return null;for(var a=e.strArr(t),o=new Set,n=0;n<a.length;n++)o.add(a[n]);return o},t.strMap=function(t){if(!t)return null;for(var a=e.strArr(t),o=new Map,n=0;n<a.length;n++){var i=a[n].split(":");if(2!==i.length)throw new Error("\u89e3\u6790\u9519\u8bef!"+t);i[1].replace(/%/g,"");var r=parseInt(i[1]);if(isNaN(r))throw new Error("\u89e3\u6790\u9519\u8bef!"+i+","+t);o.set(i[0],r)}return o},t.toast=function(t,a){if(e.toastNode){if(e.toastNode.active)return}else e.toastNode=cc.instantiate(pzaResMgr.instance().getPrefab("toast"));e.toastNode.getComponent(pzaToast).setTxt(a),e.toastNode.parent=t,e.toastNode.active=!0,e.toastNode.opacity=255,e.toastNode.setPosition(0,-50),cc.tween(e.toastNode).to(.4,{y:50}).to(.5,{y:50}).call(function(){e.toastNode.active=!1}).start()},t.forMap=function(t,e){for(var a=Object.keys(t),o=0,n=a.length;o<n;o++){var i=e(a[o],o);if(void 0!==i)return i}return null},t.loadSubGame=function(t,e,a,o,n){cc.assetManager.loadAny({url:t},{version:a,ext:"bundle",preset:"bundle",__isNative__:!0},function(){},function(a,i){if(a)n(a);else{var r=new cc.AssetManager.Bundle;i.base=i.base||t+"/",r.init(i),r.load("pkg/"+e,cc.Prefab,o,function(t,e){t?n(t):n(null,e,r)})}})},t.init=function(){var t=cc.view.getVisibleSize();e.view_x=t.width/2,e.view_y=t.height/2,e.view_mag=cc.v2(e.view_x,e.view_y).mag(),e.log("\u53ef\u89c6\u533a\u57df",e.view_x,e.view_y),cc.view.setResizeCallback(e.init),e.loadData(null)},t.leftPad=function(t,e,a){void 0===a&&(a="0");var o=e-t.length;if(o<=0)return t;for(var n=0;n<o;n++)t=a+t;return t},t.showPassTime=function(t){var e=""+t%60,a=""+Math.floor(t/60);return this.leftPad(a,2)+":"+this.leftPad(e,2)},t.showPercent=function(t){return 100*t+"%"},t.bezier=function(t,e,a,o,n){var i=1-n;return i*(i*(t+(3*e-t)*n)+3*a*n*n)+o*n*n*n},t.bezierTo=function(t,a,o,n,i,r){return r||(r=Object.create(null)),r.progress=function(a,i,r,p){var c=e.bezier(a.x,o.x,n.x,i.x,p),l=e.bezier(a.y,o.y,n.y,i.y,p);return t.angle=e.posToAngle(r.x,r.y,c,l),r.x=c,r.y=l,r},cc.tween(t).to(a,{position:i},r)},t.posToAngle=function(t,e,a,o){return 180*Math.atan2(o-e,a-t)/Math.PI},t.posToRadian=function(t,e,a,o){return Math.atan2(o-e,a-t)},t.clone=function(t){if(Array.isArray(t)){for(var a=[],o=0,n=t.length;o<n;o++)a.push(e.clone(t[o]));return a}if("[object Object]"===Object.prototype.toString.call(t)){var i={};return e.forMap(t,function(a){i[a]=e.clone(t[a])}),i}return t},t.uiLayout=function(t,a,o,n,i,r){if(void 0===r&&(r=!1),a&&n&&n.length===a.length)for(var p=t.layout,c=function(t){return"function"==typeof t?t():cc.instantiate(pzaResMgr.instance().getPrefab(t))},l=function(t){var l=p[t],s=n[t],u=a[t],h=s.length;if("gird"===l.type){for(var f=l.colCount||h,d=h>(l.minItems||0)?h:l.minItems||0,m=Math.ceil(d/f)||1,y=r?u.children.length:0,z=c(l.itemPrefab),b=l.itemPadding||[0,0],g=l.padding||[0,0,0,0],v=z.width/2+b[0],_=z.height/2+b[1],P=0-f+1,E=0-m+1,C=0,D=0,S=function(t){var a;C>=f&&(C=0,D++),a=r&&t<y?u.children[t]:c(l.itemPrefab);var n=t<h?s[t]:null;if(o.call(i,a,t,n,l,r))return C++,"continue";a.parent=u,a.x=(P+2*C)*v-g[1]+g[3],a.y=(E+2*D)*_*-1-g[0]+g[2],l.itemProps&&e.forMap(l.itemProps,function(t){a[t]=l.itemProps[t]}),C++},O=0;O<d;O++)S(O);if(r&&y>d)for(var M=d;M<y;M++)u.removeChild(u.children[d])}else if("gird1"===l.type){m=l.rowCount||h,d=h>(l.minItems||0)?h:l.minItems||0,f=Math.ceil(d/m)||1,y=r?u.children.length:0,z=c(l.itemPrefab),b=l.itemPadding||[0,0],g=l.padding||[0,0,0,0],v=z.width/2+b[0],_=z.height/2+b[1],P=0-f+1,E=0,D=0,C=0;var T=function(t){var a;D>=m&&(D=0,C++),a=r&&t<y?u.children[t]:c(l.itemPrefab);var n=t<h?s[t]:null;o.call(i,a,t,n,l,r),a.parent=u,a.x=(P+2*C)*v-g[1]+g[3],a.y=(E+2*D)*_*-1-g[0]+g[2],l.itemProps&&e.forMap(l.itemProps,function(t){a[t]=l.itemProps[t]}),D++};for(O=0;O<d;O++)T(O);if(r&&y>d)for(M=d;M<y;M++)u.removeChild(u.children[d])}else if("rect"===l.type){if(!l.rowCount||!l.colCount||l.rowCount<2||l.colCount<2)return e.err("uiLayout rect\u914d\u7f6e\u9519\u8bef, colCount or rowCount"),{value:void 0};z=c(l.itemPrefab),b=l.itemPadding||[0,0],g=l.padding||[0,0,0,0],v=z.width/2+b[0],_=z.height/2+b[1],P=0-l.colCount+1,E=0-l.rowCount+1,C=0,D=0;for(var w=0,A=l.colCount,B=0,I=0;I<A;I++){var N=s[B],R=c(l.itemPrefab);r&&(R=u.children[B]),o.call(i,R,B,N,l,r),R.parent=u;var G=0;if(0===w?(C=I,D=0,G=l.rowCount):1===w?(C=l.colCount-1,D=I,G=l.colCount):2===w?(C=l.colCount-I-1,D=l.rowCount-1,G=l.rowCount-1):3===w&&(C=0,D=l.rowCount-1-I,G=-1),R.x=(P+2*C)*v-g[1]+g[3],R.y=(E+2*D)*_*-1-g[0]+g[2],I+1===A){if(G<0)break;w++,I=0,A=G}B++}}else if("posArr"===l.type){if(!l.posArr)return e.err("uiLayout posArr\u914d\u7f6e\u9519\u8bef, posArr"),{value:void 0};for(var L=0;L<h;L++)N=s[L],R=c(l.itemPrefab),r&&(R=u.children[L]),o.call(i,R,L,N,l,r),R.parent=u,R.setPosition(l.posArr[L])}else if("circle"===l.type){if(!l.radius)return e.err("uiLayout circle\u914d\u7f6e\u9519\u8bef, radius"),{value:void 0};for(var k=cc.v2(l.radius,0),U=2*Math.PI/h,Z=0;Z<h;Z++)k.rotateSelf(Z*U),N=s[Z],R=c(l.itemPrefab),r&&(R=u.children[Z]),o.call(i,R,Z,N,l,r),R.parent=u,R.setPosition(k)}},s=0;s<p.length;s++){var u=l(s);if("object"==typeof u)return u.value}else e.err("[ERR]uiLayout\u7684fatherNodeArr\u6216itemDataArr\u914d\u7f6e\u9519\u8bef")},t.randomInt=function(t,e){return Math.floor(Math.random()*(e-t+1)+t)},t.randomBool=function(t){return void 0===t&&(t=.5),Math.random()<t},t.randomPosNeg1=function(){return Math.random()>.5?1:-1},t.randomStr=function(t,a){for(var o=a||"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",n="",i=0;i<t;i++)n+=o[e.randomInt(0,t-1)];return n},t.distinctArr=function(t,e){return void 0===e&&(e=[]),Array.from(new Set(i(t,e)))},t.arrSub=function(t,e){for(var a=new Set(e),o=[],n=0,i=t.length;n<i;n++){var r=t[n];a.has(r)||o.push(r)}return o},t.randomChooseIndex=function(t,a){for(var o=new Array,n=new Array,i=t.length,r=0;r<i;r++)n[r]=r;for(var p=0;p<a;p++){var c=e.randomInt(0,n.length-1);o.push(n.splice(c,1)[0])}return o},t.randomChoose=function(t,e){if(!e||1===e)return[t[Math.floor(Math.random()*t.length)]];var a=t.slice(0);if(e>t.length)return a;for(var o=0,n=0,i=t.length,r=i-e;i-- >r;)o=a[n=Math.floor((i+1)*Math.random())],a[n]=a[i],a[i]=o;return a.slice(r)},t.randomDraw=function(t){var a=Math.random(),o=0;return e.forMap(t,function(e){if(a>o&&a<o+t[e])return e;o+=t[e]})},t.randomPick=function(t,e){if(!e||1===e)return t.splice(Math.floor(Math.random()*t.length),1);if(e>t.length)return t;for(var a=[],o=0;o<e;o++){var n=Math.floor(Math.random()*t.length);a.push(t.splice(n,1)[0])}return a},t.resetTexRect=function(t){if(t.spriteFrame){var a=t.spriteFrame.getRect(),o=t.spriteFrame.getTexture(),n=a.x/o.width,i=a.y/o.height,r=(a.x+a.width)/o.width,p=(a.y+a.height)/o.height,c=new cc.Vec4(n,i,r-n,p-i);t.getMaterial(0).setProperty("_TexRect",c)}else e.err("[ERR]resetTexRect",t)},t.shake=function(t,e,a,o){void 0===e&&(e=3),void 0===a&&(a=0),void 0===o&&(o=10);var n={shakeCount:e,node:t,orgX:t.x,orgY:t.y,isDone:!1,doneFn:function(){},done:null,tw:null};return n.done=function(t,e){return t&&(n.doneFn=function(){t.call(e||n.node)}),n},n.tw=cc.tween(n.node).repeat(n.shakeCount,cc.tween().to(.05,{x:n.orgX+o,y:n.orgY+a}).to(.05,{x:n.orgX-o,y:n.orgY-a})).call(function(){n.doneFn()}),n.tw.start(),n},t.resetMsgReciever=function(t,a){e.msgMap[t]=a},t.delMsgReciever=function(t){delete e.msgMap[t]},t.regMsgReciever=function(t,a){var o=e.msgMap[t];o?e.msgMap[t]=function(t){return!!o(t)&&a(t)}:e.resetMsgReciever(t,a)},t.sendMsg=function(t,a){var o=e.msgMap[t];o&&o(a)},t.moveTo=function(t,e,a,o,n){void 0===o&&(o=.5),void 0===n&&(n=function(){});var i=e.sub(cc.v2(t.position)),r=i.mag();if(0!==r){var p=i.x/r*a,c=i.y/r*a;cc.tween(t).to(o,{x:t.x+p,y:t.y+c}).call(n).start()}else n()},t.updateMove=function(t,e,a,o,n,i){if(void 0===o&&(o=10),void 0===n&&(n=0),t&&0!==o){var r=e.sub(a),p=r.mag();if(!(p<10)){0!==n&&(r.x<0&&t.scaleX>0||r.x>0&&t.scaleX<0)&&(t.scaleX=-t.scaleX);var c=r.x/p,l=r.y/p;i&&!i(r,p,c,l)||(t.x+=c*o,t.y+=l*o)}}},t.twoInt=function(t){return t<10?"0"+t:t},t.todayStr=function(){var t=new Date;return""+t.getFullYear()+e.twoInt(t.getMonth()+1)+e.twoInt(t.getDate())},t.saveData=function(t,a){var o=window.localStorage;o&&(e.saveObj[t]=a,o.setItem(e.gameName,JSON.stringify(e.saveObj)))},t.getData=function(t,a){var o=e.saveObj[t];return null==o?a:o},t.loadData=function(t){var a=window.localStorage;if(a){var o=a.getItem(e.gameName);if(o){if(e.saveObj=JSON.parse(o),!e.saveObj.userId){var n=""+e.randomInt(1e8,999999999);this.saveData("userId",n)}return e.saveObj[t]}n=""+e.randomInt(1e8,999999999),this.saveData("userId",n)}return null},t.clearData=function(){var t=window.localStorage;t&&t.removeItem(e.gameName)},t.jget=function(t,a){a||(a=function(t){if(t)return e.err(t)});var o=new XMLHttpRequest;o.responseType="arraybuffer",o.open("GET",t,!0),o.onload=function(){return 200==o.status?a(null,o.response):a("[ERR-jget]:"+o.status)},o.send()},t.jpost=function(t,a,o){o||(o=function(t){if(t)return e.err(t)});var n=new XMLHttpRequest;(new Date).getTime(),n.open("POST",t,!0),n.setRequestHeader("Content-Type","application/json; charset=utf-8");var i=JSON.stringify(a);n.send(i),n.onload=function(){if(200==n.status){var t={postERR:""+n.responseText};try{t=JSON.parse(n.responseText)}catch(a){return e.err(a),o(null,{code:"1111",err:"jsonErr:"+n.responseText})}return o(null,t)}return o(null,{code:""+n.status})}},t.createPicNode=function(t){var a=pzaResMgr.instance().getPic(t);if(a){var o=new cc.Node;return o.addComponent(cc.Sprite).spriteFrame=a,o}e.err("\u521b\u5efapicNode\u5931\u8d25:"+t)},t.encodeUTF8=function(t){var e,a,o,n=[];for(e=0;e<t.length;e++)(a=t.charCodeAt(e))<128?n.push(a):a<2048?n.push(192+(a>>6&31),128+(63&a)):((o=55296^a)>>10==0?(a=(o<<10)+(56320^t.charCodeAt(++e))+65536,n.push(240+(a>>18&7),128+(a>>12&63))):n.push(224+(a>>12&15)),n.push(128+(a>>6&63),128+(63&a)));return n},t.s=function(t){var a,o,n,i=new Uint8Array(e.encodeUTF8(t)),r=16+(i.length+8>>>6<<4);for((t=new Uint8Array(r<<2)).set(new Uint8Array(i.buffer)),t=new Uint32Array(t.buffer),n=new DataView(t.buffer),a=0;a<r;a++)t[a]=n.getUint32(a<<2);t[i.length>>2]|=128<<24-8*(3&i.length),t[r-1]=i.length<<3;var p=[],c=[function(){return u[1]&u[2]|~u[1]&u[3]},function(){return u[1]^u[2]^u[3]},function(){return u[1]&u[2]|u[1]&u[3]|u[2]&u[3]},function(){return u[1]^u[2]^u[3]}],l=function(t,e){return t<<e|t>>>32-e},s=[1518500249,1859775393,-1894007588,-899497514],u=[1732584193,-271733879,null,null,-1009589776];for(u[2]=~u[0],u[3]=~u[1],a=0;a<t.length;a+=16){var h=u.slice(0);for(o=0;o<80;o++)p[o]=o<16?t[a+o]:l(p[o-3]^p[o-8]^p[o-14]^p[o-16],1),n=l(u[0],5)+c[o/20|0]()+u[4]+p[o]+s[o/20|0]|0,u[1]=l(u[1],30),u.pop(),u.unshift(n);for(o=0;o<5;o++)u[o]=u[o]+h[o]|0}for(n=new DataView(new Uint32Array(u).buffer),a=0;a<5;a++)u[a]=n.getUint32(a<<2);return Array.prototype.map.call(new Uint8Array(new Uint32Array(u).buffer),function(t){return(t<16?"0":"")+t.toString(16)}).join("")},t.b=function(t){var e=[];for(var a in t)e.push(a);e=e.sort();for(var o="",n=0;n<e.length;n++){var i=t[e[n]];"object"==typeof i&&(i=this.b(i)),o+=e[n]+i}return o},t.a=function(t,a,o){var n=[];for(var i in t)null!==t[i]&&void 0!==t[i]?n.push(i):delete t[i];n=n.sort();var r=e.b(t);return a&&(r+=a),r+=o||"pH0Xhyenu2e1zdUg",e.s(r)},t.jax=function(t,a,o){o||(o=function(t){if(t)return e.err(t)});var n=new XMLHttpRequest,i=Date.now();a.s=e.a(a,i),n.open("POST",t,!0),n.setRequestHeader("Content-Type","application/json; charset=utf-8"),n.setRequestHeader("ts",""+i);var r=JSON.stringify(a);n.send(r),n.onload=function(){if(200==n.status){var t={jaxERR:""+n.responseText};try{t=JSON.parse(n.responseText)}catch(a){return e.err(a),o(null,{re:"1111",err:"jsonErr:"+n.responseText})}return o(null,t)}return o(null,{re:"9"+n.status})}},t.eventReport=function(t,a,o){"web"!==r.pzaChannel.instance().channel&&r.pzaChannel.instance().getPara("gid")&&this.jpost("https://dk.gametdd.com/htApi/ht_api/eventReport",{eventName:t,eventProp:a,gid:r.pzaChannel.instance().getPara("gid"),uid:this.getData("user",{}).id,userProps:o},function(t){t&&e.err(t)})},t.htInit=function(t,a){if(void 0===a&&(a=function(){}),t){var o={gid:t,uid:e.getData("user",{}).id||"u"+Date.now(),v:e.htVer};e.jax(e.htHost+"init2",o,function(t,o){if(t||!o)return e.err("jhtERR",t),a(t||new Error("no re"));if(0!==o.re)return e.err("jht FAILED!"+JSON.stringify(o)),a(new Error("err:"+o.re));if(e.log("HT init OK:"+e.htVer),o.uid){var n=e.getData("user",{});n.id=o.uid,e.saveData("user",n)}o.picType&&(e.picType=o.picType),e.iconPre=o.iconPre,a(null,o)})}},t.htGetBox=function(t,a){if(void 0===a&&(a=function(){}),t){var o={bid:t};e.jax(e.htHost+"getBox",o,function(o,n){if(o)return a(o);if(0!==n.re||!n.arr)return a(new Error("\u670d\u52a1\u914d\u7f6e\u6709\u8befbid:"+t+",re:"+n.re));for(var i=[],r={},p=0;p<n.arr.length;p++)for(var c=n.arr[p],l=0;l<c.length;l++){var s=c[l].split("@"),u="",h="";s.length>=4&&"0"!==s[3]&&(u="_"+s[3]),s.length>=5&&(h=s[4]),r[s[0]]||(i.push({jumpKey:s[1],mid:s[0],iconUrl:e.iconPre+s[0]+u+"."+e.picType,txt:s[2],mark:h}),r[s[0]]=s[0])}a(null,i)})}else e.err("htGetBox bid\u4e3a\u7a7a!!")},t.gameName="td_hwcsmlq",t.toastNode=null,t.callbackArr=function(t,e,a,o){void 0===o&&(o=!1);for(var n=[],i=t.length,r=function(t,e){return t?a(t,n):(void 0===e&&(e=null),n.push(e),o||n.length===i?a(null,n):void 0)},p=0;p<i;p++)e(t[p],r)},t.view_x=0,t.view_y=0,t.view_mag=0,t.shuffle=function(t){for(var e,a=t.length,o=0;a;)o=Math.random()*a-->>>0,e=n([t[o],t[a]],2),t[a]=e[0],t[o]=e[1];return t},t.msgMap={},t.saveObj={},t.htVer="203",t.picType="",t.iconPre="",t.htHost="https://dk.gametdd.com/htApi/ht_api/",e=o([c],t)}());a.default=l,cc._RF.pop()},{"./pzaChannel":"pzaChannel"}]},{},["pzaBaseBullet","pzaPeaBullet","pzaThrowBullet","pzaBaseData","pzaBuffData","pzaDropType","pzaGuideType","pzaPlantEnum","pzaZombieEnum","pzaAbsorbIronEquip","pzaBackPumpkin","pzaBaseEffect","pzaBattleFrameAnim","pzaBoomFireEffect","pzaBungeeTarget","pzaDoomHoleEffect","pzaDropCard","pzaDropCoin","pzaFogEffect","pzaFrozenEffect","pzaGroveEffect","pzaHammerEffect","pzaIceGroundEffect","pzaShadowEffect","pzaShovelEffect","pzaShowGrassEffect","pzaTangleKelpEffect","pzaWaterLightEffect","pzaWordEffect","pzaAttackType","pzaBasePlant","pzaBlover","pzaBowlingBody","pzaBowlingNut","pzaCabbagePult","pzaCactus","pzaCherryBomb","pzaChomper","pzaCoffeeBean","pzaDoomShroom","pzaFlowerPot","pzaFumeShroom","pzaGarlic","pzaGraveBuster","pzaHypnoShroom","pzaIceShroom","pzaJalapeno","pzaKernelPult","pzaLilyPad","pzaMagnetShroom","pzaMarigold","pzaMelonPult","pzaPeashooter","pzaPlantBody","pzaPlantern","pzaPotatoMine","pzaPuffShroom","pzaPumpkin","pzaRepeater","pzaScaredyShroom","pzaSeaShroom","pzaSnowPea","pzaSpikeweed","pzaSplitPea","pzaSquash","pzaStarFruit","pzaSunFlower","pzaSunShroom","pzaTallNut","pzaTangleKelp","pzaThreePeater","pzaTorchwood","pzaUmbrellaLeaf","pzaWallNut","pzaBackupDancerZombie","pzaBalloonZombie","pzaBaseZombie","pzaBucketHeadZombie","pzaBungeeZombie","pzaCatapultZombie","pzaConeHeadZombie","pzaDancingZombie","pzaDiggerZombie","pzaDolphinRiderZombie","pzaDuckyTubeBucketZombie","pzaDuckyTubeConeZombie","pzaDuckyTubeZombie","pzaFlagZombie","pzaFootballZombie","pzaGargantuar","pzaImp","pzaJackZombie","pzaLadderZombie","pzaNewspaperZombie","pzaNormalZombie","pzaPogoZombie","pzaPolevaultingZombie","pzaScreenDoorZombie","pzaSnorkelZombie","pzaZombieBobsledTeam","pzaZombieBody","pzaZombieState","pzaZomboni","pzaBaseBody","pzaCleanCar","pzaEffectManager","pzaGameState","pzaGameTouch","pzaPlantManager","pzaPlantTouch","pzaSunLight","pzaTomb","pzaZombieManager","pzaBaseComponent","pzaBaseComponentManager","pzaChapterConfig","pzaCollisionManager","pzaGameCommonPool","pzaGameConfig","pzaGameManager","pzaGamePartConfig","pzaGameTime","pzaGroupEnum","pzaGuideManager","pzaGuideTip","pzaLocalData","pzaMapManager","pzaNodeManager","pzaPreviewTip","pzaSpineController","pzaSpriteFrameManager","pzaTipManager","pzaUIManager","pzaUtil","pzaWorldEventManager","pzaBundleObjectPool","pzaPreLoadManager","pzaShopConfig","pzaAssessView","pzaBagPlantCard","pzaBattleDownView","pzaBattleUpView","pzaBeltCard","pzaCGPaperView","pzaGameFailView","pzaGameWinView","pzaMenuView","pzaNewPlantView","pzaNewZombieView","pzaOptionView","pzaPlantBeltView","pzaPlantCard","pzaPlantSelectCardList","pzaPlantSelectView","pzaChapterItem","pzaChapterSelectView","pzaPartItem","pzaPartSelectView","pzaBuyConfirmView","pzaCommonMask","pzaGuideDialogView","pzaHandbookCard","pzaHandbookView","pzaMainView","pzaPlantHandbookView","pzaShopItem","pzaShopView","pzaWarningView","pzaZombieHandbookView","pzaZombiebookCard","ShufenManager","pzaAES","pzaAdNative","pzaBulletPool","pzaChannel","pzaChannelIOS","pzaChannelOppo","pzaChannelTT","pzaChannelTap","pzaChannelVivo","pzaChannelWeb","pzaChannelWx","pzaChannelWx1","pzaFrameAnim","pzaFrameAnimComponent","pzaGdyxIcon","pzaGdyxItem","pzaHtBox","pzaKDefine","pzaParseCond","pzaPrivacyWin","pzaResMgr","pzaStateComponent","pzakc","pzaLoading"]);