<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Berry PvZ's PvZ Mini-program Archival Page!</title>

<style>
/* Global */
body {
    font-family: Arial, sans-serif;
    text-align: center;
    background: linear-gradient(to bottom, #0073e6, #004080);
    color: white;
    margin: 0;
    padding: 0;
}

/* Header */
header {
    display: flex;
    justify-content: center;
    align-items: center;
    background: linear-gradient(to right, #004080, #001f40);
    padding: 15px 0;
    box-shadow: 0 4px 8px rgba(0,0,0,0.3);
}
header h1 {
    font-size: 2.5em;
    color: #ffcc00;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
    margin: 0;
}

/* Contributors Button */
.contributors-btn {
    margin-top: 10px;
    background: linear-gradient(to bottom, #ffc400, #c69a00);
    border: none;
    padding: 10px 22px;
    border-radius: 6px;
    color: #1a1a1a;
    font-weight: bold;
    cursor: pointer;
}
.contributors-btn:hover {
    background: linear-gradient(to bottom, #ffdb4d, #d4aa00);
}

/* Cards */
.container {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    margin: 30px auto;
    max-width: 1200px;
}
.card {
    background: linear-gradient(to bottom, #00284d, #001730);
    border-radius: 10px;
    margin: 15px;
    padding: 20px;
    width: 250px;
    box-shadow: 0 8px 16px rgba(0,0,0,0.3);
}
.card h3 {
    color: #ffcc00;
}
.card p {
    color: #ccc;
}
.card button {
    background: linear-gradient(to bottom, #28a745, #19692c);
    border: none;
    padding: 10px 20px;
    border-radius: 5px;
    color: white;
    cursor: pointer;
    box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    transition: all .3s ease;
}
.card button:hover {
    background: linear-gradient(to bottom, #34d058, #22863a);
    box-shadow: 0 6px 12px rgba(0,0,0,0.4);
}

/* Fullscreen overlay */
#fullscreen {
    display: none;
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.85);
    z-index: 9999;
}

/* Now playing */
#now-playing-bar {
    position: absolute;
    top: 10px;
    left: 50%;
    transform: translateX(-50%);
    background: linear-gradient(to bottom, #d7e6ff, #a8c4f0);
    border: 2px solid #4a70c0;
    border-radius: 6px;
    padding: 6px 12px;
    color: #00245c;
    font-weight: bold;
    z-index: 10001;
}

/* Buttons */
.fullscreen-left-btn {
    position: absolute;
    left: 20px;
    top: 20px;
    background: linear-gradient(to bottom, #4da3ff, #005cd1);
    border: none;
    padding: 10px 14px;
    border-radius: 6px;
    color: white;
    font-size: 1.3em;
    cursor: pointer;
}
.fullscreen-left-btn:hover {
    background: linear-gradient(to bottom, #73b8ff, #0068ee);
}

.download-btn {
    position: absolute;
    left: 75px;
    top: 20px;
    width: 42px;
    height: 42px;
    border-radius: 50%;
    background: linear-gradient(to bottom, #34d058, #1e7f3b);
    border: none;
    color: white;
    font-size: 1.4em;
    cursor: pointer;
}
.download-btn:hover {
    background: linear-gradient(to bottom, #4ae168, #24914a);
}

.close-btn {
    position: absolute;
    right: 20px;
    top: 20px;
    width: 40px;
    height: 40px;
    background: red;
    border-radius: 50%;
    border: none;
    color: white;
    font-size: 1.5em;
    cursor: pointer;
}
.close-btn:hover {
    background: darkred;
}

/* Game iframe */
#game-frame {
    position: absolute;
    top: 50%;
    left: 50%;
    width: 80%;
    height: 80%;
    transform: translate(-50%, -50%);
    border: none;
}

/* Contributors panel */
#contributorsPanel {
    position: fixed;
    top: 0;
    right: -400px;
    width: 350px;
    height: 100vh;
    background: linear-gradient(to bottom, #00284d, #001730);
    border-left: 2px solid #ffcc00;
    transition: right .4s ease;
    z-index: 99999;
    display: flex;
    flex-direction: column;
}
#contributorsPanel.active {
    right: 0;
}
#contributorsPanel h2 {
    color: #ffcc00;
    padding: 20px;
    margin: 0;
    border-bottom: 1px solid rgba(255,204,0,.3);
}

.contributors-iframe {
    flex: 1;
    width: 100%;
    height: 100%;
    border: none;
    background: #001730;
    color: white;
    font-family: Consolas, monospace;
    font-size: 0.95em;
}

/* Overlay */
.overlay {
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,.55);
    display: none;
    z-index: 9000;
}
.overlay.active {
    display: block;
}

/* Footer */
.footer-links {
    margin-top: 40px;
}
.footer-link {
    display: inline-block;
    margin: 10px 20px;
    padding: 10px 18px;
    background: rgba(0,0,0,.25);
    border-radius: 6px;
    color: #ffcc00;
    font-weight: bold;
    text-decoration: none;
}
.footer-link:hover {
    background: rgba(0,0,0,.4);
}
</style>
</head>

<body>

<header>
    <h1>Berry PVZ's PvZ Mini-program Archival Page!</h1>
</header>

<button class="contributors-btn" id="contributorsBtn">View Contributors</button>

<div class="container">
    <div class="card"><h3>Tower of Overwatch</h3><p>Kinda a rebrand.</p><button onclick="openGame('too','./too/index.html')">Play</button></div>
    <div class="card"><h3>Plant Eliminate Zombie</h3><p>PvZ OE rebrand 1.</p><button onclick="openGame('pez','./pez/index.html')">Play</button></div>
    <div class="card"><h3>Plant Hybrid</h3><p>Hybrid Edition content.</p><button onclick="openGame('ph','./ph/index.html')">Play</button></div>
    <div class="card"><h3>PvZOE</h3><p>The original OE.</p><button onclick="openGame('oe','./oe/index.html')">Play</button></div>
    <div class="card"><h3>WEIRD amalgated OE</h3><p>Weirdest OE variation.</p><button onclick="openGame('weirdoe','./weirdoe/index.html')">Play</button></div>
    <div class="card"><h3>BETA OE</h3><p>Beta version of OE.</p><button onclick="openGame('betaoe','./betaoe/index.html')">Play</button></div>
    <div class="card"><h3>ALPHA OE</h3><p>Alpha version of OE.</p><button onclick="openGame('alphaoe','./alphaoe/index.html')">Play</button></div>
    <div class="card"><h3>EARLY OE</h3><p>first version of OE.</p><button onclick="openGame('earlyoe','./earlyoe/index.html')">Play</button></div>
</div>

<div id="fullscreen">
    <div id="now-playing-bar">Now Playing: Nothing</div>
    <button class="fullscreen-left-btn" onclick="toggleFullscreen()">⛶</button>
    <button class="download-btn" onclick="downloadCurrent()">⬇</button>
    <button class="close-btn" onclick="closeGame()">X</button>
    <iframe id="game-frame"></iframe>
</div>

<div id="contributorsPanel">
    <h2>Contributors</h2>
    <iframe class="contributors-iframe" src="./credits/index.html"></iframe>
</div>

<div class="overlay" id="overlay"></div>

<footer>
<div class="footer-links">
    <a class="footer-link" target="_blank" href="https://docs.google.com/document/d/1CASrfSApstFxOTG5DsNK49VwQjpr5XYBAuFrdROgaMk/edit">HOW TO VIEW OE ANIMS DOC</a>
    <a class="footer-link" target="_blank" href="https://docs.google.com/spreadsheets/d/1HrB92k520Ht0BGi6Nw98-734iOe0EY9aj1XPS8kdiUg/edit">OE ARCHIVAL DOC</a>
</div>
</footer>

<script>
const fullscreenEl = document.getElementById("fullscreen");
const gameFrame = document.getElementById("game-frame");
const nowPlayingBar = document.getElementById("now-playing-bar");
const contributorsBtn = document.getElementById("contributorsBtn");
const contributorsPanel = document.getElementById("contributorsPanel");
const overlay = document.getElementById("overlay");

let currentGameKey = null;

const GAME_ZIPS = {
    too: "./too.zip",
    pez: "./pez.zip",
    ph: "./ph.zip",
    oe: "./oe.zip",
    weirdoe: "./weirdoe.zip",
    betaoe: "./betaoe.zip",
    alphaoe: "./alphaoe.zip",
    earlyoe: "./earlyoe.zip"
};

function openGame(key, url) {
    currentGameKey = key;
    gameFrame.src = url;
    nowPlayingBar.textContent = "Now Playing: " + key.toUpperCase();
    fullscreenEl.style.display = "block";
}

function toggleFullscreen() {
    if (!document.fullscreenElement) {
        gameFrame.requestFullscreen().catch(() => {});
    } else {
        document.exitFullscreen();
    }
}

function closeGame() {
    gameFrame.src = "";
    fullscreenEl.style.display = "none";
    currentGameKey = null;
}

function downloadCurrent() {
    if (currentGameKey && GAME_ZIPS[currentGameKey]) {
        window.open(GAME_ZIPS[currentGameKey], "_blank");
    }
}

contributorsBtn.onclick = () => {
    contributorsPanel.classList.add("active");
    overlay.classList.add("active");
};
overlay.onclick = () => {
    contributorsPanel.classList.remove("active");
    overlay.classList.remove("active");
};
</script>

</body>
</html>
