window.__require=function e(t,n,o){function i(r,s){if(!n[r]){if(!t[r]){var c=r.split("/");if(c=c[c.length-1],!t[c]){var l="function"==typeof __require&&__require;if(!s&&l)return l(c,!0);if(a)return a(c,!0);throw new Error("Cannot find module '"+r+"'")}r=c}var d=n[r]={exports:{}};t[r][0].call(d.exports,function(e){return i(t[r][1][e]||e)},d,d.exports,e,t,n,o)}return n[r].exports}for(var a="function"==typeof __require&&__require,r=0;r<o.length;r++)i(o[r]);return i}({Baidu:[function(e,t,n){"use strict";cc._RF.push(t,"eb558swXUBHULQ5zNQSyrPI","Baidu");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.Baidu=void 0;var a=e("./ChannelSDK"),r=e("./HttpsTools"),s=e("./SoundManager"),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.login=function(e){window.swan.login({success:function(t){console.log("res:",t.code),t.code?r.HttpsTools.login("baiduLogin",function(t,n){e(n.baiduData.openid,"baidu"),console.log("======:,\u767e\u5ea6")},{baiduCode:t.code}):console.log("\u767b\u5f55\u5931\u8d25\uff01"+t.errMsg)}})},t.prototype.initSDK=function(t){e.prototype.initSDK.call(this,t),window.swan.showShareMenu({withShareTicket:!0}),e.prototype.onShow.call(this),this._initbaiduAds(),window.swan.onShareAppMessage({title:"@\u4f60\uff0c\u4e0d\u6765\u4e00\u5c40\u5207\u6c34\u679c\u5417\uff1f",imageUrlId:"kZl55wjNSd600Rmao4sTqw",shareTicket:t+"&&"+(new Date).getTime(),imageUrl:"https://mmocgame.qpic.cn/wechatgame/xQIymonI7UCvXTE9chZO0hh0LxPg3kdSSOicfvuibicuibgKibe9zblywFRr6zeWutUL4/0",query:"key1="+t+"&key2="+(new Date).getTime(),success:function(){},fail:function(){}});var n=window.swan.getUpdateManager();n.onUpdateReady(function(){window.swan.showModal({title:"\u66f4\u65b0\u63d0\u793a",content:"\u65b0\u7248\u672c\u5df2\u7ecf\u51c6\u5907\u597d\uff0c\u662f\u5426\u91cd\u542f\u5e94\u7528\uff1f",success:function(e){e.confirm&&n.applyUpdate()}})}),console.log("===\u521d\u59cb\u5316\u767e\u5ea6\u7ed3\u675f")},t.prototype._initbaiduAds=function(){var e=this;console.log("\u521d\u59cb\u5316\u767e\u5ea6\u5e7f\u544aSDK"),this._rewardedVideoAd=window.swan.createRewardedVideoAd({adUnitId:"6618379",appSid:"ffb038bc"}),console.log("\u521d\u59cb\u5316\u767e\u5ea6\u5e7f\u544a111SDK"),this._rewardedVideoAd.onError(function(e){console.log("errr:",e)}),this._rewardedVideoAd.onLoad(function(){console.log("====\u89c6\u9891\u8fd8\u6709\u7684"),e._isCreateVidioAdSuccess=!0}),this._rewardedVideoAd.onClose(function(t){t&&t.isEnded||void 0===t?e._seeVideoSuccessCallBack&&(e._seeVideoSuccessCallBack(),e._seeVideoSuccessCallBack=void 0):e._seeVideoFailCallBack&&(e._seeVideoFailCallBack(),e._seeVideoFailCallBack=void 0),s.SoundManager.playMusic()}),console.log("\u521d\u59cb\u5316\u767e\u5ea6\u5e7f\u544a\u5b8c\u6210")},t.prototype.share=function(e){this.shareAt=(new Date).getTime(),window.swan.shareAppMessage({title:"@\u4f60\uff0c\u4e0d\u6765\u4e00\u5c40\u5207\u6c34\u679c\u5417\uff1f",imageUrl:"https://ga.kbb805.com/fruit/shareImg.jpg",success:function(t){e(),console.log("openShare success",t)},fail:function(e){console.log("openShare fail",e)}})},t.prototype.onShow=function(){},t.prototype.showAds=function(e,t,n){if(n){if(this._baiduAdTimesLimit[n]<0)return;this._baiduAdTimesLimit[n]--}this.showbadiduAds(e,t)},t.prototype.showBanner=function(){var e=this;if(0!=window.black){this._bannerAd&&(this._bannerAd.hide(),this._bannerAd.destroy());var t=window.swan.getSystemInfoSync().screenHeight,n=window.swan.getSystemInfoSync().screenWidth;this._bannerAd=window.swan.createBannerAd({adUnitId:"6618376",appSid:"ffb038bc",style:{left:45,top:t-10,width:n}}),this._bannerAd.onError(function(e){console.log("bnnaerj\u5939\u6742error\uff1a",e)}),this._bannerAd.onLoad(function(){e._isCreateBannerAdSuccess=!0,console.log("====bnaner\u8fd8\u6709\u7684"),e._bannerAd.show()}),this._bannerAd.onResize(function(n){console.log("banner onResize",n),e._bannerAd.style.top=t-10,e._bannerAd.style.left=0})}},t.prototype.showbadiduAds=function(e,t){var n=this;this._rewardedVideoAd&&this._isCreateVidioAdSuccess?(s.SoundManager.stopMusic(),this._rewardedVideoAd.show().then(function(){n._seeVideoSuccessCallBack=e,n._seeVideoFailCallBack=function(){t("\u5e7f\u544a\u6ca1\u770b\u5b8c\u54e6\uff0c\u4e0d\u53d1\u4f60\u5956\u52b1\uff01")}}).catch(function(){t("\u62c9\u53d6\u5e7f\u544a\u5931\u8d25\uff01"),s.SoundManager.playMusic()})):t("\u6ca1\u6709\u5e7f\u544a\u4fe1\u606f\u5462")},t}(a.ChannelSDK);n.Baidu=c,cc._RF.pop()},{"./ChannelSDK":"ChannelSDK","./HttpsTools":"HttpsTools","./SoundManager":"SoundManager"}],BaseScene:[function(e,t,n){"use strict";cc._RF.push(t,"19fd2qguPBMeIxzFqKLuoby","BaseScene");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.BaseScene=void 0;var r=e("../Utils/SoundManager"),s=cc._decorator,c=s.ccclass,l=(s.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.loadPackage=function(e,t,n,o){var i=this;fgui.UIPackage.loadPackage("fgui/"+e,function(o){if(console.log("\u52a0\u8f7d\u573a\u666f",e),o)return t(),void console.error("\u52a0\u8f7d\u573a\u666f",e);i.onUILoaded(e,n),t()}),o||fgui.GRoot.create()},t.prototype.onUILoaded=function(e,t){console.log("pgkName=%s  comName=%s",e,t),this.mainUI=fgui.UIPackage.createObject(e,t||"mainUI").asCom,fgui.GRoot.inst.addChild(this.mainUI).asCom,this.mainUI.setSize(fgui.GRoot.inst.width,fgui.GRoot.inst.height),this.mainUI.addRelation(fgui.GRoot.inst,fgui.RelationType.Size)},t.prototype.generalBtnClick=function(e,t){console.log("====\u70b9\u51fb\uff1a",e.name);var n=e.node,o=n.scaleX;n.anchorX=.5,n.anchorY=.5,n.off(cc.Node.EventType.TOUCH_START),n.off(cc.Node.EventType.TOUCH_END),n.off(cc.Node.EventType.TOUCH_CANCEL),n.on(cc.Node.EventType.TOUCH_START,function(){n.setScale(o+.1,o+.1),r.SoundManager.playAudio("anniu")}),n.on(cc.Node.EventType.TOUCH_END,function(e){n.setScale(o,o),t({event:e})}),n.on(cc.Node.EventType.TOUCH_CANCEL,function(){n.setScale(o,o)})},a([c],t)}(cc.Component));n.BaseScene=l,cc._RF.pop()},{"../Utils/SoundManager":"SoundManager"}],Bastion:[function(e,t,n){"use strict";cc._RF.push(t,"f1903F9oBVLJZ7I6d3YLTfi","Bastion");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.Bastion=void 0;var r=cc._decorator,s=r.ccclass,c=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.text="hello",t}return i(t,e),t.prototype.start=function(){var e=this;this.scheduleOnce(function(){e.node.destroy()},3)},a([c(cc.Label)],t.prototype,"label",void 0),a([c],t.prototype,"text",void 0),a([s],t)}(cc.Component);n.Bastion=l,cc._RF.pop()},{}],BullectCreateManger:[function(e,t,n){"use strict";cc._RF.push(t,"1359eyBsdNNIoeG2CeVEr26","BullectCreateManger"),Object.defineProperty(n,"__esModule",{value:!0}),n.BullectCreateManger=void 0;var o=function(){function e(){}return e.prototype.init=function(e){this._gameControl=e,this._poolManager=cc.find("Canvas").getComponent("PoolMananger")},e.prototype.createBullet=function(e){var t=cc.instantiate(this._poolManager.getPrefebs("bullet")),n=t.getComponent("Bullet");t.active=!0,t.setPosition(e.startPos),n.init(this._gameControl,e),this._gameControl.bulletGroup.addChild(t)},e.prototype.createLightShinyEffect=function(e,t){var n=cc.instantiate(cc.find("Canvas/light"));if(n.active=!0,cc.isValid(n)){n.getComponent("LightingFight").init(),cc.find("Canvas/bulletgroup").addChild(n);var o=t.sub(e);n.setPosition(e);var i=o.mag();n.setScale(i/250,1),console.log("====abc=:",i),console.log("====scale=:",i/250),console.log("====agnle=:",180*Math.atan2(o.y,o.x)/Math.PI),n.angle=180*Math.atan2(o.y,o.x)/Math.PI}},e.prototype.createBurstBullet=function(e){var t=cc.instantiate(this._poolManager.getPrefebs("burst")),n=t.getComponent("Burst");t.active=!0,t.setPosition(e.startPos),n.init(this._gameControl,e),this._gameControl.bulletGroup.addChild(t)},e.prototype.recircleBullet=function(e){this._poolManager.recircleNode("bullet",e.node)},e.prototype.recircleBurstBullet=function(e){this._poolManager.recircleNode("burst",e.node)},e.prototype.createLaserBullet=function(e){var t=cc.instantiate(this._poolManager.getPrefebs("laserbullet")),n=t.getComponent("LaserBullet");t.active=!0,t.setPosition(e.startPos),n.init(this._gameControl,e),this._gameControl.bulletGroup.addChild(t)},e.prototype.recircleLaserBullet=function(e){this._poolManager.recircleNode("laserbullet",e.node)},e}();n.BullectCreateManger=o,cc._RF.pop()},{}],Bullet:[function(e,t,n){"use strict";cc._RF.push(t,"84fefMOmP1MSZmHbZ6vOaBI","Bullet");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.Bullet=void 0;var r=e("../Utils/Const"),s=cc._decorator,c=s.ccclass,l=s.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.imgFrame=[],t.ani=null,t}return i(t,e),t.prototype.init=function(e,t){var n=this;if(this._canHitted=!0,this.node.active=!0,this._canHittedSelf=!1,this._gameControl=e,cc.Tween.stopAllByTarget(this.node),this.scheduleOnce(function(){n._canHittedSelf=!0},.005),this.ani.armatureName=t.bulletName,this._sprite=this.node.getComponent(cc.Sprite),this._isDead=!1,this._bulletInfo=t,this._bulletInfo.aimPos){var o=this._bulletInfo.aimPos.sub(t.startPos);this._offset=o}else cc.isValid(t.aimNode)&&(o=t.aimNode.getPosition().sub(t.startPos),this._offset=o);if(this.schedule(function(){if(cc.isValid(t.aimNode)){var e=t.aimNode.position.sub(n.node.position);n._offset=e}},.2),this._bulletInfo.path==r.PathType.track){var i=this._bulletInfo.startPos,a=this._bulletInfo.aimNode.getPosition().sub(i),s=180*Math.atan2(a.y,a.x)/Math.PI,c=a.mag();cc.tween(this.node).bezierTo(c/this._bulletInfo.speed,this._bulletInfo.startPos,cc.v2((i.x+this._bulletInfo.aimNode.x)/2,this.node.y+300*Math.sin(s)),this._bulletInfo.aimNode.getPosition()).call(function(){console.log("\u8d70\u5230\u6ca1"),n._bulletInfo.aimNode.getComponent("Enemy").beHitted(n._bulletInfo.attackInfo,n._bulletInfo.bulletName),n._dead()}).start()}if(this._bulletInfo.path==r.PathType.parabola&&(i=this._bulletInfo.startPos,a=this._bulletInfo.aimNode.getPosition().sub(i),s=180*Math.atan2(a.y,a.x)/Math.PI,c=a.mag(),cc.tween(this.node).bezierTo(c/this._bulletInfo.speed,this._bulletInfo.startPos,cc.v2(i.x+(a.x>0?100:-100),this.node.y+300),this._bulletInfo.aimNode.getPosition()).call(function(){var e=n._bulletInfo.aimNode.getComponent("Enemy");n._dead(),e.beHitted(n._bulletInfo.attackInfo,n._bulletInfo.bulletName)}).start()),this._bulletInfo.path==r.PathType.boomerang){console.log("\u56de\u65cb\u9556\u5f00\u59cb"),i=this._bulletInfo.startPos,a=this._bulletInfo.aimNode.getPosition().sub(i),s=180*Math.atan2(a.y,a.x)/Math.PI,c=a.mag();var l=cc.tween().to(c/this._bulletInfo.speed,{position:this._bulletInfo.aimNode.getPosition()}),d=cc.tween().to(c/this._bulletInfo.speed,{position:i}),u=cc.tween().call(function(){n._dead()});cc.tween(this.node).sequence(l,d,u).start()}this._isDead=!1},t.prototype.update=function(e){if(!this._isDead&&!this.isPause){if(this._bulletInfo.aimPos)return this._bulletInfo.aimPos.sub(this.node.getPosition()).mag()<50&&this._dead(),void this._runNormal(e,!0);if(cc.isValid(this._bulletInfo.aimNode)&&this._bulletInfo.aimNode.active)switch(this._bulletInfo.path){case r.PathType.normal:this._runNormal(e);break;case r.PathType.parabola:break;case r.PathType.track:if(this._lastPos){var t=this.node.getPosition().sub(this._lastPos);this.node.angle=180*Math.atan2(t.y,t.x)/Math.PI}this._lastPos=this.node.getPosition();break;case r.PathType.boomerang:case r.PathType.laser:break;default:this._runNormal(e)}else if(this._bulletInfo.type==r.BaseBulletType.traking){var n=this._gameControl.findAimEnemy(r.FindAimType.first,this._bulletInfo.isUp);n?this._bulletInfo.aimNode=n.node:(this.node.angle+=5*e,console.log("====:",this.node.angle),this.node.x+=2*Math.cos(this.node.angle),this.node.y+=2*Math.sin(this.node.angle))}else this._dead()}},t.prototype._runTrack=function(){},t.prototype._runNormal=function(e){if(this._offset){var t=this._offset.normalize();this.node.setPosition(this.node.position.add(new cc.Vec3(t.x*this._bulletInfo.speed*e,t.y*this._bulletInfo.speed*e))),this.node.angle=180*Math.atan2(t.y,t.x)/Math.PI}},t.prototype._dead=function(){this.node.active=!1,this._gameControl.getBulletManager().recircleBullet(this),this._bulletInfo.type==r.BaseBulletType.fireAoe&&this._gameControl.getBulletManager().createBurstBullet({startPos:this._bulletInfo.aimPos,attackInfo:this._bulletInfo.attackInfo})},t.prototype.onCollisionEnter=function(e){this._bulletInfo.path!=r.PathType.parabola&&this._bulletInfo.path!=r.PathType.track&&"enemy"==e.node.group&&(e.node.getComponent("Enemy"),cc.isValid(e.node)&&e.node.uuid==this._bulletInfo.aimNode.uuid&&(e.node.getComponent("Enemy").beHitted(this._bulletInfo.attackInfo,this._bulletInfo.bulletName),this._bulletInfo.type==r.BaseBulletType.boomAoe&&this._gameControl.hitHurtEnemy(this._bulletInfo.attackInfo,100),this._bulletInfo.type==r.BaseBulletType.fireAoe&&this._gameControl.hitHurtEnemy(this._bulletInfo.attackInfo,100),this._bulletInfo.path!=r.PathType.boomerang&&this._dead()))},t.prototype.setCircleEnable=function(){this.node.getComponentsInChildren(cc.PhysicsCircleCollider).forEach(function(e){e.enabled=!0})},a([l([cc.SpriteFrame])],t.prototype,"imgFrame",void 0),a([l(dragonBones.ArmatureDisplay)],t.prototype,"ani",void 0),a([c],t)}(cc.Component);n.Bullet=d,cc._RF.pop()},{"../Utils/Const":"Const"}],Burst:[function(e,t,n){"use strict";cc._RF.push(t,"c20faFUk59CDrFPZkw2pMqu","Burst");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.Burst=void 0;var r=cc._decorator,s=r.ccclass,c=(r.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._duration=0,t}return i(t,e),t.prototype.init=function(e,t){var n=this;this._duration=0,this.schedule(function(){e.checkEnemyBeHit(n.node,t.attackInfo),n._duration+=.2,n._duration>=2&&(n.unscheduleAllCallbacks(),e.getBulletManager().recircleBurstBullet(n))},.2)},a([s],t)}(cc.Component));n.Burst=c,cc._RF.pop()},{}],Calc:[function(e,t,n){"use strict";cc._RF.push(t,"0807b7fm71LbpdVr5oe2WEQ","Calc"),Object.defineProperty(n,"__esModule",{value:!0}),n.Calc=n.DataName=void 0;var o,i=e("./RankData11");(function(e){e.attributeData="attributeData",e.campData="campData",e.plantData="plantData"})(o=n.DataName||(n.DataName={}));var a=function(){function e(){}return e.getCampData=function(t){var n=e.jsonData[o.campData][t];return console.log("colore:====;"),{id:t,bgColor:e.changeStringToColor(n.bgColor),edgeColor:e.changeStringToColor(n.edgeColor),bgIconName:n.bgIconName}},e.getPlantInfo=function(t){var n=e.jsonData[o.plantData][t];return console.log("====temp:",n.iconName),{plantId:t,bulletType:n.bulletType,profession:n.profession,rareType:n.rareType,bulletPath:n.bulletPath,name:n.name,camp:n.camp,bulletImageName:n.bulletImageName,shooterPos:e.changeStringToVec(n.shooterPos),aniName:n.aniName,attackSpeed:n.attackSpeed,bulletSpeed:n.bulletSpeed,iconName:n.iconName}},e.changeStringToVec=function(e,t){var n=e.split(t||",");return!n&&n.length<=1?(console.warn("\u8f6c\u6362\u5b57\u7b26\u4e32\u51fa\u9519",e),cc.v2()):cc.v2(Number(n[0]),Number(n[1]))},e.changeStringToColor=function(e,t){console.log("temps:",e);var n=e.split(t||",");return!n&&n.length<2?(console.warn("\u8f6c\u6362\u5b57\u7b26\u4e32\u51fa\u9519",e),cc.Color.WHITE):new cc.Color(Number(n[0]),Number(n[1]),Number(n[2]))},e.getNextUnlockRankInfo=function(e){for(var t=0;t<i.RankData11.length;t++)if(e<=i.RankData11[t].rankId&&100==i.RankData11[t].progress)return i.RankData11[t];return i.RankData11[49]},e.getRankData=function(e){return i.RankData11[e-1]},e.getRankNeedTime=function(){return[15,30,45,60]},e.getSignRewards=function(){},e.getTeachInfo=function(t){return e.TeachInfo[t]},e.MAX_LEVEL=i.RankData11.length,e.jsonData={},e.TeachInfo=[{},{teachId:1,isStory:1,needRank:0,description:"\u70b9\u51fb\u62bd\u9488",needpassedRank:0,btnName:"",sceneName:"StartScene",nextId:-1,1:"1"},{teachId:2,isStory:1,needRank:0,description:"",needpassedRank:0,btnName:"",sceneName:"StartScene",nextId:-1,1:"1"}],e}();n.Calc=a,cc._RF.pop()},{"./RankData11":"RankData11"}],CardPrfebs:[function(e,t,n){"use strict";cc._RF.push(t,"2e24bdQs+NAur15SutmBkWD","CardPrfebs"),Object.defineProperty(n,"__esModule",{value:!0}),n.CardPrfebs=void 0;var o=e("../../model/GameData"),i=e("../../Utils/EventsManager"),a=e("../../calc/Calc"),r=function(){function e(e,t){var n=this;this._colors=[cc.Color.WHITE,new cc.Color(81,224,174),new cc.Color(31,252,255),new cc.Color(105,43,240),new cc.Color(105,43,240)],this._level=1;var r=a.Calc.getPlantInfo(t);console.log("===plantInfo:",r);var s=a.Calc.getCampData(r.camp),c=e.getChild("cardMask").asCom;this._lvLb=e.getChild("levelLb").asLabel,this._costLb=e.getChild("costLb").asLabel,this._rareImg=e.getChild("n13").asLoader,this._level=1,this._rareImg.url="ui://Common/rarekuang"+r.rareType,this._minY=this._rareImg.y,console.log("====:","ui://Common/rarekuang"+r.rareType),this.setLvLb(this._level),c.getChild("n1").asLoader.url="ui://Common/"+r.iconName,c.getChild("bgLoader").asLoader.url="ui://Common/"+s.bgIconName,c.getChild("n14").asCom.node.color=s.edgeColor,e.onClick(function(){o.GameData.sunShinyNum<100*n._level||(o.GameData.addSunShineNum(100*-n._level),i.EventsManager.emit(i.EventsManager.UIUPDATE),o.GameData.levelupPlant(t),n._level++,n.setLvLb(n._level))}),this.setBgRare(t+1)}return e.prototype.setBgRare=function(){},e.prototype.setLvLb=function(e){this._lvLb.text="lv:"+e,this._costLb.text=""+100*e},e}();n.CardPrfebs=r,cc._RF.pop()},{"../../Utils/EventsManager":"EventsManager","../../calc/Calc":"Calc","../../model/GameData":"GameData"}],ChannelHelper:[function(e,t,n){"use strict";cc._RF.push(t,"185dfZmrEJPPJqQJHQm9l8C","ChannelHelper"),Object.defineProperty(n,"__esModule",{value:!0}),n.ChannelHelper=n.AdsPosi=void 0;var o=e("../GameConfig"),i=e("./Const"),a=e("../libs/Kds"),r=e("./SoundManager"),s=e("../libs/Hts"),c=e("../Data/UserData"),l=e("./EventsManager"),d=e("./Toutiao"),u=e("./ShopTips"),h=e("../UI/NativePrebs"),p=e("../UI/NativeAdReward");(function(e){e[e.shop=1]="shop",e[e.refeshshop=2]="refeshshop",e[e.bugei=3]="bugei",e[e.tryuse=4]="tryuse",e[e.offline=5]="offline",e[e.viphead=6]="viphead",e[e.offer=7]="offer",e[e.treasure=8]="treasure",e[e.gun=9]="gun",e[e.inter=10]="inter",e[e.yuansheng=11]="yuansheng",e[e.banner=12]="banner",e[e.reborn=13]="reborn",e[e.sign=14]="sign",e[e.commonDouble=15]="commonDouble",e[e.draw=16]="draw",e[e.jump=17]="jump",e[e.diamondGet=18]="diamondGet",e[e.limit=19]="limit",e[e.kunan=20]="kunan",e[e.yaqian=21]="yaqian"})(n.AdsPosi||(n.AdsPosi={}));var f=function(){function e(){}return e._setBannerStyle=function(){return this.bannerInfo},e.exitGame=function(){e.isOV()&&window.qg.exitApplication({success:function(){}})},e._ucBanner=function(){var e=window.uc.getSystemInfoSync();if("string"==typeof e)try{e=JSON.parse(e)}catch(n){}var t=(e.screenWidth>e.screenHeight?e.screenHeight:e.screenWidth)/2.2;return{width:t,height:194*t/345,top:e.screenHeight-200,left:e.screenWidth/2-t,gravity:7}},e.setBannerPos=function(e){this.posVec.x=e.x,this.posVec.y=e.y},e.isShowRankList=function(){return!0},e.isOV=function(){return i.ChannelType.oppo==o.GameConfig.channel||i.ChannelType.vivo==o.GameConfig.channel},e.initChannel=function(t,n){this._channelName=t,console.log("channelName:",t);var o=this.channelConf[t];o?(console.log("\u521d\u59cb\u5316:",t),a.kdCtrl.init(o,function(){n&&n()}),e.initTGA()):console.log("\u65e0\u6b64channelName")},e.isShowAdpreb=function(){return(o.GameConfig.channel==i.ChannelType.oppo||o.GameConfig.channel==i.ChannelType.vivo)&&(this.nagitiveInfo||this.nagitiveInfo1)},e.isShowGuanzhu=function(){return!(o.GameConfig.channel!=i.ChannelType.toutiao||!window.tt||"DOUYIN"!=window.tt.getSystemInfoSync().appName.toUpperCase())},e.jumpToDouyin=function(){window.tt&&window.tt.openAwemeUserProfile()},e.isShowMoreGame=function(){return o.GameConfig.channel==i.ChannelType.Wechat},e.isShowHighRewardsPct=function(){return o.GameConfig.channel==i.ChannelType.oppo?Math.random()<this.getOppoDelayShow(5):Math.random()>.5},e.init=function(t){var n=this;if(o.GameConfig.channel!=i.ChannelType.liantong){if(window.mz)o.GameConfig.channel=i.ChannelType.meizu,this.initChannel("meizu");else if(window.qg)this.initChannel("vivo",function(){}),a.kdCtrl.getConf("6160f14663c5312f52ba53ed",function(t){console.log("vivo conf",t),e.policyInfo=t}),o.GameConfig.channel=i.ChannelType.vivo,window.qg&&(window.qg.onShow(function(){console.log("onShow"),(new Date).getTime(),n._hideAt}),window.qg.onHide(function(){n._hideAt=(new Date).getTime()}));else if(window.qq)o.GameConfig.channel=i.ChannelType.qq,this.initChannel("qq"),a.kdCtrl.login(),s.hts.init("5fb642426a1af73d2caad0de",void 0,function(){console.log("\u521d\u59cb\u5316\u4e92\u63a8SDK\u6210\u529f")});else if(window.swan){o.GameConfig.channel=i.ChannelType.baidu,this.initChannel("baidu"),a.kdCtrl.getConf("6172797ac1083f22c77cf868",function(t){e.policyInfo=t});var r=window.swan.getSystemInfoSync();if(r&&(console.log("========:"),-1!=r.system.indexOf("Android")&&-1==r.model.indexOf("Iphone")&&window.swan.getAntiAddiction)){var c=window.swan.getAntiAddiction();console.log("====:\u9632\u6c89\u8ff7"),c&&c.onAntiAddiction(function(e,t){console.log("state: ",e),console.log("msg: ",t)})}}else if(window.tt)o.GameConfig.channel=i.ChannelType.toutiao,this.initChannel("toutiao"),this.channelSDK=new d.Toutiao,this.channelSDK.initSDK("");else if(window.wx){var u;o.GameConfig.channel=i.ChannelType.Wechat,cc.sys.localStorage.getItem("wxSid")?u=cc.sys.localStorage.getItem("wxSid"):(u=String(window.wx.getLaunchOptionsSync().scene),cc.sys.localStorage.setItem("wxSid",u)),console.log("====sid\uff1a",u),this.initChannel("wx",function(){a.kdCtrl.getConf("614da6950dcde2343afbe934",function(t){console.log("\u83b7\u53d6\u5fae\u4fe1conf",t),e.policyInfo=t},u),t&&t()}),window.wx&&(window.wx.onShow(function(t){console.log("res:",t),(new Date).getTime(),n._hideAt,e.showSpecialBanner&&(e.hideBanner(),e.showSpecialBanner=!1),l.EventsManager.emit(l.EventsManager.ONSHOW),t.query.twtraceid&&(e.isWxBuy=!0,console.log("\u8bbe\u7f6e\u4e3atrue"))}),window.wx.onHide(function(){n._hideAt=(new Date).getTime()})),window.wx.createCustomAd}else window.uc?(o.GameConfig.channel=i.ChannelType.uc,window.uc.requestScreenOrientation({orientaiton:1,success:function(e){console.log(e)},fail:function(e){console.error(e)}}),console.log("Uc\u521d\u59cb\u5316"),this.initChannel("uc",function(){}),a.kdCtrl.getConf("616cd450c1083f22c77ce180",function(t){console.log("\u83b7\u53d6uc conf",t),e.policyInfo=t})):window.hbs?(o.GameConfig.channel=i.ChannelType.huawei,window.hbs.getSystemInfo({success:function(e){window.hbsInfo=e},fail:function(){},complete:function(){}})):(o.GameConfig.channel=i.ChannelType.oppo,t&&t());o.GameConfig.channel!=i.ChannelType.qq&&o.GameConfig.channel!=i.ChannelType.oppo&&o.GameConfig.channel!=i.ChannelType.vivo||cc.sys.isBrowser}else this.channelSDK.login(function(){n.channelSDK.initSDK("")},function(){})},e.getAdNativeShowDelay=function(){return o.GameConfig.channel==i.ChannelType.oppo?1==this.getAdBlack()?.3:2==this.getAdBlack()?.5:3==this.getAdBlack()?.8:4==this.getAdBlack()?1:0:.01},e.checkIsUpdate=function(){if(console.log("========:"),o.GameConfig.channel==i.ChannelType.Wechat){if(!window.wx)return;var e=window.wx.getUpdateManager();e.onCheckForUpdate(function(t){t.hasUpdate&&(e.onUpdateReady(function(){window.wx.showModal({title:"\u66f4\u65b0\u63d0\u793a",content:"\u65b0\u7248\u672c\u5df2\u7ecf\u51c6\u5907\u597d\uff0c\u662f\u5426\u91cd\u542f\u5e94\u7528\uff1f",success:function(t){t.confirm&&e.applyUpdate()}})}),e.onUpdateFailed(function(){window.wx.showModal({title:"\u5df2\u7ecf\u6709\u65b0\u7248\u672c\u4e86\u54df~",content:"\u65b0\u7248\u672c\u5df2\u7ecf\u4e0a\u7ebf\u5566~\uff0c\u8bf7\u60a8\u5220\u9664\u5f53\u524d\u5c0f\u7a0b\u5e8f\uff0c\u91cd\u65b0\u641c\u7d22\u6253\u5f00\u54df~"})}))})}},e.httpGet=function(e,t){e="http://minigame-cdn.hrgame.com.cn/pro/AngryBird/wx/1.0.9/cpa.json?"+(new Date).getTime(),cc.log(e);var n=cc.loader.getXMLHttpRequest();n.onreadystatechange=function(){if(cc.log("status=",n.status),4===n.readyState&&n.status>=200&&n.status<300){var e=n.responseText;t(JSON.parse(e))}else n.status>=400&&t(-2)},n.open("GET",e,!0),n.timeout=1e4,n.onerror=function(){console.log(e," geterror ",n.statusText),console.log(e," geterror2 ",n.responseText),console.log(e," geterror3 ",n.status),t(-1)},n.send()},e.getLauchFromQueryOppo=function(){var e=null,t=window.qg;if(!t||!t.getLaunchOptionsSync)return console.log("\u975eoppo\u6216\u65e0getLaunchOptionsSync"),null;var n=t.getLaunchOptionsSync();return n&&n.query&&("object"==typeof n.query?e=this.joinQuery(e):"string"==typeof n.query&&(e="?"+n.query)),e},e.joinQuery=function(e){var t="";for(var n in e)t+="&"+n+"="+e[n];return t?"?"+t.substring(1):t},e.isNewAdPoicy=function(){return o.GameConfig.channel==i.ChannelType.Wechat&&(1==this.getAdBlack()||2==this.getAdBlack())},e.getIsWxBuy=function(){return e.isWxBuy},e._loadHutuiImg=function(t,n){for(var o=this,i=[],a=0;a<t.length;a++){var r=t[a];this.midMap[r.mid]||(e.midMap[r.mid]={iconUrl:r.iconUrl},e.iconUrlmap[r.iconUrl]=r.mid,i.push(r.iconUrl))}if(0!==i.length){var s=i.concat([]);console.log(e.iconUrlmap),console.log("==picss=",i),console.log("\u5f00\u59cb\u4e0b\u8f7d\u56fe\u7247\uff01"),cc.loader.load(i,function(e,t){if(console.log("===========~~~~~~~~~~~~~?:err",e),e){for(var a=0;a<e.length;a++)console.log("Error url ["+e[a]+"]: "+t.getError(e[a]));n(new Error("\u4e0b\u8f7dicon\u5931\u8d25!"))}else{for(var r=0;r<i.length;r++){var c=s[r],l=t._map[c],d=new cc.SpriteFrame(l,new cc.Rect(0,0,l.width,l.height));o.midMap[o.iconUrlmap[c]].frame=d}n(null,i.length)}})}else n(null,0)},e.createanyArr=function(e,t,n){for(var o=[],i=0;i<e.length;i++){for(var a=e[i],r=[],s=0;s<a.length;s++){var c=a[s],l={icon:null,jumpKey:c.jumpKey,po:i,query:c.query,txt:c.txt,bid:n,mid:c.mid};this.midMap[c.mid]?l.icon=this.midMap[c.mid].frame:t.push({iconUrl:c.iconUrl,mid:c.mid}),r.push(l)}o.push(r)}return o},e.createanyArrByLenth=function(e,t,n,o){for(var i=[],a=0;a<o;a++){for(var r=e[a],s=[],c=0;c<r.length;c++){var l=r[c],d={icon:null,jumpKey:l.jumpKey,po:a,query:l.query,txt:l.txt,bid:n,mid:l.mid};this.midMap[l.mid]?d.icon=this.midMap[l.mid].frame:t.push({iconUrl:l.iconUrl,mid:l.mid}),s.push(d)}i.push(s)}return i},e.showAdBox=function(){var t=this;if(o.GameConfig.channel==i.ChannelType.oppo)return e.hideBanner(),void(this.oppoBoxAd&&this.oppoBoxAd.load().then(function(){t.oppoBoxAd.show().then(function(){}).catch(function(e){console.log("e:",e),u.ShopTips.show("\u6682\u65e0\u5e7f\u544a")})}).catch(function(e){u.ShopTips.show("\u6682\u65e0\u5e7f\u544a"),console.log("load fail with:"+e.errCode+","+e.errMsg)}))},e.showHuTuiSortUI=function(e,t){var n=this;o.GameConfig.channel==i.ChannelType.vivo&&cc.loader.loadRes("Prefebs/SortHutuiParent",cc.Prefab,function(o,i){if(i){var a="5e3fef77afe6ef439a87a99b",r=cc.instantiate(i),c=r.getComponent("HuTuiSortUI");s.hts.getBox(a,function(o,i){if(!o){var s=[],l=n.createanyArr(i,s,a);s.length<=0?c.huiTUIInit(l,!!t):n._loadHutuiImg(s,function(e,t){console.log("\u5b8c\u6210\u56fe\u7247\u7f13\u5b58\u6570:"+t),c.huiTUIInit(n.createanyArr(i,[],a))}),r.setPosition(e),t?t.addChild(r):cc.find("Canvas").addChild(r)}})}})},e.initIcon=function(t,n,o,i,a,r,s,c,l,d,u,h){var p=this;e.getJumpListInfo(function(e){for(var h=[],f=0;f<e.length;f++)for(var g=0;g<e[f].length;g++)h.push(e[f][g]);u||(n=h.length,console.log("===TE,P:",h.length),o=Math.ceil(n/2),p.boxLenth=n,c=new cc.Vec2(-o/2*220,135)),cc.loader.loadRes("Prefebs/huituiIcon",cc.Prefab,function(h,p){for(var f=0;f<n;f++){var g=cc.instantiate(p),y=g.getComponent("HuTuiIcon");y.initData(l,s,!!u,d,!0),g.setScale(i,i),y.changeIconImg(e[f%e.length][0]),g.setPosition(Math.floor(f%o)*a+c.x,c.y-Math.floor(f/o)*r),t.addChild(g)}})},h)},e.showHuTuiList=function(e,t,n,o,i,a){var r=this;t&&t.getChildByName("hutuiList"+n)?t.getChildByName("hutuiList"+n).active=!0:cc.loader.loadRes("Prefebs/huTuiList",cc.Prefab,function(c,l){if(l){var d="5e44d729d6f8a564660604aa",u=cc.instantiate(l);u.name="hutuiList"+n,a&&u.setScale(a,a);var h=u.getComponent("HuTuiList");console.log("===============  init  hutui list"),s.hts.getBox(d,function(a,s){if(!a){var c=[],l=r.createanyArr(s,c,d);c.length<=0?h.huiTUIInit(l,n,!1,o,i):r._loadHutuiImg(c,function(e,t){console.log("\u5b8c\u6210\u56fe\u7247\u7f13\u5b58\u6570:"+t),h.huiTUIInit(r.createanyArr(s,[],d),n,!1,o,i)}),u.setPosition(e),t?t.addChild(u):cc.find("Canvas").addChild(u)}})}})},e.getJumpListInfo=function(e,t){var n=this,o=t||"60b4c575499ff743960c76b6";s.hts.getBox(o,function(t,i){if(!t){var a=[],r=n.createanyArr(i,a,o);a.length<=0?e(r):n._loadHutuiImg(a,function(t,a){console.log("\u5b8c\u6210\u56fe\u7247\u7f13\u5b58\u6570:"+a),e(n.createanyArr(i,[],o))})}})},e.showMoreGameBtn=function(){},e._showNative=function(){a.kdCtrl.loadNative()},e.getNagtiveAdInfo=function(){return this.nagitiveInfo},e.getNagtiveAd1Info=function(){return this.nagitiveInfo1},e.getNagtiveAd2Info=function(){return this.nagitiveInfo2},e.getNagtiveAdInfos=function(e){return 1==e?this.nagitiveInfo1:2==e?this.nagitiveInfo2:this.getNagtiveAdInfo()},e.reportAdShow=function(e){return o.GameConfig.channel==i.ChannelType.oppo?(e=e||0,void a.kdCtrl.reportNativeShow(this.oppoNativeIds[e])):o.GameConfig.channel==i.ChannelType.vivo?(e=e||0,console.log("----show\uff1a",e),void a.kdCtrl.reportNativeShow(this.vivoNativeIds[e])):void a.kdCtrl.reportNativeShow()},e.clickNagitiveAd=function(t){return o.GameConfig.channel==i.ChannelType.oppo?(t=t||0,a.kdCtrl.reportNativeClick(this.oppoNativeIds[t]),console.log("====:",t),void e.hideBanner()):o.GameConfig.channel==i.ChannelType.vivo?(t=t||0,a.kdCtrl.reportNativeClick(this.vivoNativeIds[t]),void console.log("====:",t)):void a.kdCtrl.reportNativeClick()},e.prototype.showBox=function(){o.GameConfig.channel,i.ChannelType.oppo},e.loginTA=function(){},e.getHutuiBox=function(){},e.emitAnalizeData=function(t,n){e.ta&&(e.ta.setSuperProperties({channel:o.GameConfig.channel,level:c.UserData.getInstance().userInfo.passedRank,coins:c.UserData.getInstance().userInfo.coinNum,gameversion:o.GameConfig.version,openId:c.UserData.getInstance().userInfo.userId,gameId:5040,is_new:c.UserData.isNew()}),e.ta.track(t,n))},e.emitAnalizeWx=function(e,t){window.wx&&o.GameConfig.channel==i.ChannelType.Wechat&&(1==e&&window.wx.reportUserBehaviorBranchAnalytics({branchId:2==t?"BCBgAAoXHx5d0JtKUxTQUi":"BCBgAAoXHx5d0JtKUxTQUn",eventType:1}),2==e&&window.wx.reportUserBehaviorBranchAnalytics({branchId:2==t?"BCBgAAoXHx5d0JtKUxTQUi":"BCBgAAoXHx5d0JtKUxTQUn",eventType:2}),4==e&&window.wx.reportUserBehaviorBranchAnalytics({branchId:"BCBgAAoXHx5d0JtKUxTQUg",eventType:1}),5==e&&window.wx.reportUserBehaviorBranchAnalytics({branchId:"BCBgAAoXHx5d0JtKUxTQUg",eventType:2}),6!=e&&7!=e||window.wx.reportUserBehaviorBranchAnalytics({branchId:2==t?"BCBgAAoXHx5d0JtKUxTQUl":"BCBgAAoXHx5d0JtKUxTQUh",eventType:e-5}),8!=e&&9!=e||window.wx.reportUserBehaviorBranchAnalytics({branchId:"BCBgAAoXHx5d0JtKUxTQUu",eventType:e-7}),8!=e&&9!=e||window.wx.reportUserBehaviorBranchAnalytics({branchId:"BCBgAAoXHx5d0JtKUxTQUu",eventType:e-7}),10!=e&&11!=e||window.wx.reportUserBehaviorBranchAnalytics({branchId:"BCBgAAoXHx5d0JtKUxTQUv",eventType:e-9}))},e.startRank=function(){},e.runningRank=function(){},e.emitUpdateUserInfo=function(){},e.onEnd=function(){},e.initTGA=function(){e.ta=new ThinkingAnalyticsAPI({appId:"aa59e60bdd334a1a9ac24f71150fed95",serverUrl:"https://tga-data-upload.hrgame.com.cn",autoTrack:{appShow:!0,appHide:!0}}),e.ta.init()},e.emitWxData=function(e,t){i.ChannelType.Wechat==o.GameConfig.channel&&window.wx&&(console.log("\u8c03\u7528\u53d1\u9001\u6570\u636e\u5b8c\u6210",e),window.wx.aldSendEvent(e,t))},e.emitUserData=function(){e.ta&&e.ta.userSet({twtraceid:e.twttraceid,sence:e.scene,tracetime:(new Date).getTime(),gameid:5040,openId:c.UserData.getInstance().userInfo.userId,gameversion:o.GameConfig.version,channel:o.GameConfig.channel})},e.initChannelSDK=function(){},e.share=function(e,t,n){this.shareAt=(new Date).getTime(),this._onShareSuccess=e,this._onShareFail=t,window.wx&&window.wx.shareAppMessage({title:n||"\u4f20\u5947\u7684\u9003\u8131\u7248\u690d\u7269\u5927\u6218\u50f5\u5c38\u6765\u4e86\uff01",imageUrl:"https://gacdn.gamejym.com/static/fruit/shareImg/zwdzjsshareimg.jpg",success:function(){},fail:function(){}})},e.getNewPolicyBannerDelay=function(){return o.GameConfig.channel==i.ChannelType.Wechat&&this.getAdBlack(),0},e.getNewPolicyButtonMoveDelay=function(){return 1==this.getAdBlack()?1:2==this.getAdBlack()?.8:0},e.showBanner=function(t){var n=this;if(console.log("\u5c55\u793aBAnner"),this.getOppoPolicyInfo(23)||!((new Date).getTime()-c.UserData.getInstance().userInfo.loginAt<6e4))if(e.isOV())h.NativePrebs.showNative({pos:new cc.Vec2(o.GameConfig.gameWith/2,o.GameConfig.gameRealHeight>o.GameConfig.gameHeight?-60:90),downBtnName:"\u8bbf\u95ee\u5e7f\u544a",isShowClose:!0,isShowBg:!0,size:new cc.Size(750,180),imageSize:new cc.Size(100,100),isShowdownBtn:!0,isShowAdFlag:!0},2);else{if(o.GameConfig.channel==i.ChannelType.Wechat){if(!window.wx)return;if(e.posVec.y=0,this.wxBanner){if(!((new Date).getTime()-e.wxBannerShowTime>12e4))return this.wxBanner.style.width=300,console.log("======\u5c55\u793aBanner=="),e.isBannerShow||(t?this.wxBanner.show({branchId:2==t?"BCBgAAoXHx5d0JtKUxTQU":"BCBgAAoXHx5d0JtKUxTQUj"}):this.wxBanner.show()),void(e.isBannerShow=1);this.wxBanner.destroy(),this.wxBanner=void 0,e.isBannerShow=0,console.log("======\u9500\u6bc1\u91cd\u65b0\u62c9\u53d6==")}return e.wxBannerShowTime=(new Date).getTime(),this.wxBanner=window.wx.createBannerAd({adUnitId:"adunit-ec4018281fa9b901",style:this.bannerInfo,adIntervals:60}),this.wxBanner.onError(function(e){console.log(e)}),console.log("------===:",e.posVec.y),this.wxBanner.style.width=301,this.wxBanner.onResize(function(t){console.log(" wx wBanner onResize:"),n.wxBanner.style.top=window.wx.getSystemInfoSync().screenHeight-t.height+.1+e.posVec.y,n.wxBanner.style.left=(window.wx.getSystemInfoSync().screenWidth-t.width)/2+.1+e.posVec.x}),void this.wxBanner.onLoad(function(){t?n.wxBanner.show({branchId:2==t?"BCBgAAoXHx5d0JtKUxTQUK":"BCBgAAoXHx5d0JtKUxTQUj"}):n.wxBanner.show(),e.isBannerShow=1})}a.kdCtrl.showBanner()}},e.showNativeInterReward=function(t){!this.getOppoPolicyInfo(23)&&(new Date).getTime()-c.UserData.getInstance().userInfo.loginAt<6e4||(o.GameConfig.channel!=i.ChannelType.vivo?(console.log("\u6709\u6ca1\u6709\u8d70\u5230"),e.isOV()&&(e.hideBanner(),p.NativeAdReward.addNativeReward({id:0,pos:new cc.Vec2(o.GameConfig.gameWith/2,o.GameConfig.gameRealHeight/2),downBtnName:"\u8bbf\u95ee\u5e7f\u544a",isShowClose:!0,isShowBg:!0,size:new cc.Size(750,180),imageSize:new cc.Size(100,100),isShowdownBtn:!0,isShowAdFlag:!0}))):h.NativePrebs.showNativeInter({pos:new cc.Vec2(o.GameConfig.gameWith/2,o.GameConfig.gameRealHeight/2-200+(t||0)),downBtnName:"\u8bbf\u95ee\u5e7f\u544a",isShowClose:!0,isShowBg:!1,size:new cc.Size(700,700),imageSize:new cc.Size(700,700),isShowdownBtn:!1,isShowAdFlag:!0,isBgTouched:!0,type:2},1))},e.getBannerHight=function(){return o.GameConfig.channel==i.ChannelType.Wechat||o.GameConfig.channel==i.ChannelType.qq?230:o.GameConfig.channel==i.ChannelType.toutiao?260:o.GameConfig.channel==i.ChannelType.baidu?260:o.GameConfig.channel==i.ChannelType.uc?230:o.GameConfig.channel==i.ChannelType.meizu?210:150},e.isShowingNative=function(){return h.NativePrebs.NativeNode&&cc.isValid(h.NativePrebs.NativeNode)&&h.NativePrebs.NativeNode.active},e.hideBanner=function(){if(console.log("\u9690\u85cfBAnner"),e.isOV()&&e.isShowingNative())return h.NativePrebs.NativeNode.destroy(),void(h.NativePrebs.NativeNode=void 0);a.kdCtrl.closeBanner(),this.cpaBanner&&this.cpaBanner.hide(),o.GameConfig.channel==i.ChannelType.xiaomi&&this.channelSDK?this.channelSDK.hideBanner():o.GameConfig.channel==i.ChannelType.Wechat&&(e.posVec.y=-6e3,this.wxBanner&&(this.wxBanner.style.width=302))},e.showInterstitialAd=function(){!this.getOppoPolicyInfo(23)&&(new Date).getTime()-c.UserData.getInstance().userInfo.loginAt<6e4||e.isOV()||Math.random()<e.getWxPolicyInfo(7)&&(console.log("====111"),a.kdCtrl.showInter())},e.getNativeId=function(t){return t=t||0,o.GameConfig.channel==i.ChannelType.oppo?e.oppoNativeIds[t]:e.vivoNativeIds[t]},e.hideinterstitialAd=function(){},e.getOppoDelayShow=function(e){return o.GameConfig.channel!=i.ChannelType.oppo&&o.GameConfig.channel!=i.ChannelType.vivo?0:this.policyInfo&&this.policyInfo["p"+e]?Number(this.policyInfo["p"+e]):0},e.getComomonRewardDelayShow=function(){return this.policyInfo?e.isOV()?e.getWxPolicyInfo(6):o.GameConfig.channel==i.ChannelType.Wechat?e.getWxPolicyInfo(6):0:0},e.getComomonRewardShowPct=function(){return this.policyInfo?e.isOV()?e.getWxPolicyInfo(8):o.GameConfig.channel==i.ChannelType.Wechat?e.getWxPolicyInfo(8):0:0},e.changeWxIdToOther=function(e,t){return 3==t?1:4==t?2:8==t?3:9==t?4:10==t?5:13==t?6:12==t?7:14==t?8:16==t?9:17==t?10:18==t?11:0},e.getOppoPolicyInfo=function(e){return this.isOV()?this.policyInfo?this.policyInfo["p"+e]?Number(this.policyInfo["p"+e]):0:4==e?1:0:23==e?1:0},e.getWxPolicyInfo=function(t){return e.isOV()&&t>20?this.getOppoPolicyInfo(t):20==t&&o.GameConfig.channel==i.ChannelType.Wechat?0:this.policyInfo&&this.policyInfo["p"+t]?Number(this.policyInfo["p"+t]):4==t?1:0},e.isWUdian=function(){if(o.GameConfig.channel==i.ChannelType.vivo){if(this.wudianTimes2<15)return;this.getAdBlack()}},e._initWxCustomAd=function(){this.wxnagitve1=window.wx.createCustomAd({adUnitId:"adunit-4b5fc8ae334182c6",adIntervals:240,style:{left:50,top:40,fixed:1}}),this.wxnagitve1.onLoad(function(){console.log("\u52a0\u8f7d\u683c\u5b50\u5e7f\u544a1")}),this.wxnagitve1.onError(function(){}),this.wxnagitve2=window.wx.createCustomAd({adUnitId:"adunit-0e4fdcad9a558765",adIntervals:240,style:{left:15,top:180,fixed:1}}),this.wxnagitve2.onLoad(function(){console.log("\u52a0\u8f7d\u683c\u5b50\u5e7f\u544a2")}),this.wxnagitve2.onError(function(){}),this.wxnagitve3=window.wx.createCustomAd({adUnitId:"adunit-0e4fdcad9a558765",adIntervals:240,style:{left:310,top:180,fixed:1}}),this.wxnagitve3.onLoad(function(){console.log("\u52a0\u8f7d\u683c\u5b50\u5e7f\u544a3")}),this.wxnagitve3.onError(function(){})},e._loadIconNative=function(){var e=this;a.kdCtrl.loadNative(function(t){e.oppoNative=t,console.log("\u52a0\u8f7d\u7b2c\u4e00\u4e2a\u539f\u751f\u5e7f\u544a")},this.oppoNativeIds[1])},e.showNativeAds=function(t,n){var o=this;if(e.hideNagtiveAds(),window.wx&&window.wx.createCustomAd&&(console.log("\u5c55\u73b0\u5fae\u4fe1\u539f\u751f",e.getWxPolicyInfo(8)),e.getWxPolicyInfo(8)))if(console.log("\u5c55\u73b0\u5fae\u4fe1\u539f\u751f"),t)if(2==t)this.wxnagitve4?this.wxnagitve4.isShow()||(n?this.wxnagitve4.show({branchId:"BCBgAAoXHx5d0JtKUxTQUs"}):this.wxnagitve4.show()):(this.wxnagitve4=window.wx.createCustomAd({adUnitId:"adunit-f52d3a894b7dcfb4",adIntervals:240,style:{left:20,top:280,fixed:1}}),this.wxnagitve4.onLoad(function(){n?o.wxnagitve4.show({branchId:"BCBgAAoXHx5d0JtKUxTQUs"}):o.wxnagitve4.show()}),this.wxnagitve4.onError(function(){}));else{if(!this.wxnagitve2)return this.wxnagitve2=window.wx.createCustomAd({adUnitId:"adunit-f52d3a894b7dcfb4",adIntervals:240,style:{left:20,top:280,fixed:1}}),this.wxnagitve2.onLoad(function(){console.log("\u52a0\u8f7d\u683c\u5b50\u5e7f\u544a2"),n?o.wxnagitve2.show({branchId:"BCBgAAoXHx5d0JtKUxTQUs"}):o.wxnagitve2.show()}),this.wxnagitve2.onError(function(){}),this.wxnagitve3=window.wx.createCustomAd({adUnitId:"adunit-f52d3a894b7dcfb4",adIntervals:240,style:{left:305,top:180,fixed:1}}),this.wxnagitve3.onLoad(function(){console.log("\u52a0\u8f7d\u683c\u5b50\u5e7f\u544a3"),n?o.wxnagitve3.show({branchId:"BCBgAAoXHx5d0JtKUxTQUs"}):o.wxnagitve3.show()}),void this.wxnagitve3.onError(function(){});n?this.wxnagitve2.show({branchId:"BCBgAAoXHx5d0JtKUxTQUs"}):this.wxnagitve2.show(),this.wxnagitve3&&(n?this.wxnagitve3.show({branchId:"BCBgAAoXHx5d0JtKUxTQUs"}):this.wxnagitve3.show())}else this.wxnagitve1?n?this.wxnagitve1.show({branchId:"BCBgAAoXHx5d0JtKUxTQUs"}):this.wxnagitve1.show():(this.wxnagitve1=window.wx.createCustomAd({adUnitId:"adunit-f52d3a894b7dcfb4",adIntervals:240,style:{left:300,top:250,fixed:1}}),this.wxnagitve1.onLoad(function(){n?o.wxnagitve1.show({branchId:"BCBgAAoXHx5d0JtKUxTQUs"}):o.wxnagitve1.show()}),this.wxnagitve1.onError(function(){}))},e.hideNagtiveAds=function(){this.wxnagitve1&&this.wxnagitve1.hide(),this.wxnagitve2&&this.wxnagitve2.hide(),this.wxnagitve3&&this.wxnagitve3.hide(),this.wxnagitve4&&this.wxnagitve4.hide(),h.NativePrebs.iconNativeNode&&(h.NativePrebs.iconNativeNode.destroy(),h.NativePrebs.iconNativeNode=void 0)},e.hideVideoFlag=function(){return o.GameConfig.channel==i.ChannelType.huawei},e.showAds=function(t,n,s,l){var d=this;if(!this._isShowAds){if(this._isShowAds=!0,cc.sys.isBrowser&&!window.uc)return this._isShowAds=!1,void t();if(!this.getOppoPolicyInfo(23)&&(new Date).getTime()-c.UserData.getInstance().userInfo.loginAt<6e4)return n("\u6682\u65e0\u5e7f\u544a"),void(this._isShowAds=!1);l&&e.emitAnalizeWx(2),this.emitAnalizeData("AdsButtonClick",{adsid:s}),o.GameConfig.channel!=i.ChannelType.liantong?o.GameConfig.channel!=i.ChannelType.default?(e.terminalId&&(clearTimeout(e.terminalId),e.terminalId=void 0),e.terminalId=setTimeout(function(){d._isShowAds=!1,e.terminalId=void 0},500),l?a.kdCtrl.setShowAdProp("video",{branchId:l}):a.kdCtrl.setShowAdProp("video",void 0),a.kdCtrl.showVideo(function(e){if(e)return d._isShowAds=!1,void("noAd"===e?(r.SoundManager.playMusic(),d.emitAnalizeData("AdsPlayRet",{adsid:s,playret:-1}),n("\u6682\u65f6\u6ca1\u6709\u5e7f\u544a\u7ed9\u4f60\u770b\u54e6")):(d.emitAnalizeData("AdsPlayRet",{adsid:s,playret:1}),n("\u5e7f\u544a\u672a\u770b\u5b8c\uff0c\u5956\u52b1\u4e0d\u80fd\u9886\u53d6\u54e6~"),r.SoundManager.playMusic()));d._isShowAds=!1,r.SoundManager.playMusic(),d.emitAnalizeData("AdsPlayRet",{adsid:s,playret:0}),t()},void 0)):t():this.channelSDK.showAds(t,n,s)}},e.virbite=function(e){o.GameConfig.isVirbite&&window.wx&&window.wx.vibrateShort({type:e})},e.getAdBlack=function(){return 0},e.showNativeIcon=function(e){h.NativePrebs.showNativeIcon({pos:new cc.Vec2(o.GameConfig.gameWith-60,o.GameConfig.gameRealHeight/2+(e||0)),downBtnName:"\u8bbf\u95ee\u5e7f\u544a",isShowClose:!1,isShowBg:!1,size:new cc.Size(100,100),imageSize:new cc.Size(100,100),isShowdownBtn:!0,isShowAdFlag:!0},2)},e.addToDeskCutShort=function(){o.GameConfig.channel==i.ChannelType.oppo&&a.kdCtrl.installShortcut()},e.checkIsMoveButton=function(){return o.GameConfig.channel!=i.ChannelType.qq&&o.GameConfig.channel!=i.ChannelType.vivo&&o.GameConfig.channel!=i.ChannelType.oppo&&!!(this.getAdBlack()||o.GameConfig.channel!=i.ChannelType.Wechat&&o.GameConfig.channel!=i.ChannelType.baidu&&o.GameConfig.channel!=i.ChannelType.toutiao&&o.GameConfig.channel!=i.ChannelType.qq)},e.record=function(e){o.GameConfig.channel==i.ChannelType.toutiao&&this.channelSDK&&this.channelSDK.beginRecord(e)},e.endRecord=function(){o.GameConfig.channel==i.ChannelType.toutiao&&this.channelSDK&&this.channelSDK.endRecording(!1)},e.shareVideo=function(e){o.GameConfig.channel==i.ChannelType.toutiao&&this.channelSDK.shareVideo(e)},e.jumpToNextGame=function(e,t,n){if(o.GameConfig.channel==i.ChannelType.qq&&this.showAdBox(),o.GameConfig.channel==i.ChannelType.baidu&&window.swan.navigateToMiniProgram({appKey:e.jumpKey,path:"/path/page/0",extraData:{},success:function(t){console.log("navigateToMiniProgram success",t),s.hts.navigateToMiniProgram(e,"5e0596f8bcc29513307839c9")},fail:function(e){console.log("navigateToMiniProgram fail",e)}}),o.GameConfig.channel==i.ChannelType.Wechat){if(!window.wx)return void(n&&cc.loader.loadRes("Prefebs/hutuiPage",cc.Prefab,function(e,t){var n=cc.instantiate(t);n.active=!0,n.getComponent("HutuiPage").init(),n.setPosition(o.GameConfig.gameWith/2,o.GameConfig.gameHeight/2),n.zIndex=i.Layer.dialog,cc.director.getScene().addChild(n)}));window.wx.navigateToMiniProgram({appId:e.jumpKey,path:e.query,extraData:{},success:function(){console.log("navigateToMiniProgram success",t),s.hts.jumpTo(e.bid,e.mid)},fail:function(){console.log("navigateToMiniProgram fail",t),s.hts.jumpFail(e.bid,e.mid),n&&cc.loader.loadRes("Prefebs/hutuiPage",cc.Prefab,function(e,t){var n=cc.instantiate(t);n.active=!0,n.getComponent("HutuiPage").init(),n.setPosition(o.GameConfig.gameWith/2,o.GameConfig.gameHeight/2),n.zIndex=i.Layer.dialog,cc.director.getScene().addChild(n)})}})}if(o.GameConfig.channel==i.ChannelType.toutiao&&window.tt.showMoreGamesModal({appLaunchOptions:[{appId:"tt41c83775dee27ab4",query:"foo=bar&baz=qux",extraData:{}},{appId:"tt546022ddcb4a659c",query:"foo=bar&baz=qux",extraData:{}},{appId:"tta469d2d43b439590",query:"foo=bar&baz=qux",extraData:{}},{appId:"ttdecca87141e6e439",query:"foo=bar&baz=qux",extraData:{}}],success:function(){s.hts.navigateToMiniProgram(e,"5e17f3a0f2454e4f90ff2b07")},fail:function(e){console.log("fail",e.errMsg)}}),o.GameConfig.channel==i.ChannelType.oppo){var a=window.qg;a&&(console.log("===any:",e),a.navigateToMiniGame({pkgName:e.jumpKey,path:"?"+e.query,success:function(){s.hts.jumpTo(e.bid,e.mid,!1)},fail:function(t){console.log(JSON.stringify(t)),s.hts.jumpTo(e.bid,e.mid,!0)}}))}},e.getIsWXIOSPlatForm=function(){return i.ChannelType.Wechat==o.GameConfig.channel&&window.wx?"ios"==window.wx.getSystemInfoSync().platform:!(i.ChannelType.toutiao!=o.GameConfig.channel||!window.tt)&&"ios"==window.tt.getSystemInfoSync().platform},e.getIsChangping=function(){if(o.GameConfig.channel==i.ChannelType.Wechat&&window.wx)return(e=window.wx.getSystemInfoSync().screenWidth)/(t=window.wx.getSystemInfoSync().screenHeight)>1.9;if(o.GameConfig.channel==i.ChannelType.huawei&&window.hbs&&window.hbsInfo)return(e=window.hbsInfo.screenWidth)/(t=window.hbsInfo.screenHeight)>1.9;if(o.GameConfig.channel==i.ChannelType.qq&&window.qq)return(e=window.qq.getSystemInfoSync().screenWidth)/(t=window.qq.getSystemInfoSync().screenHeight)>1.9;if(window.qg)return(e=window.qg.getSystemInfoSync().screenWidth)/(t=window.qg.getSystemInfoSync().screenHeight)>1.9;if(i.ChannelType.baidu==o.GameConfig.channel)return(e=window.swan.getSystemInfoSync().screenWidth)/(t=window.swan.getSystemInfoSync().screenHeight)>1.88;if(i.ChannelType.uc==o.GameConfig.channel){var e,t,n=window.uc.getSystemInfoSync();if("string"==typeof n)try{n=JSON.parse(n)}catch(a){}return(e=n.screenWidth)/(t=n.screenHeight)>1.9||t/e>1.9}return i.ChannelType.toutiao==o.GameConfig.channel&&window.tt?(e=window.tt.getSystemInfoSync().screenWidth)/(t=window.tt.getSystemInfoSync().screenHeight)>1.9:!!cc.sys.isBrowser&&cc.view.getVisibleSize().width/cc.view.getVisibleSize().height>1.9},e.showCPABanner=function(t,n,o){o=o||0,t.getChildByName("hutuiList"+n+"1")&&(t.getChildByName("hutuiList"+n+"1").active=!0),t.getChildByName("hutuiList"+n+"2")?t.getChildByName("hutuiList"+n+"2").active=!0:(e.showHuTuiList(new cc.Vec2(0,-600+o),t,n+"1",!0,!0,.8),e.showHuTuiList(new cc.Vec2(0,-720+o),t,n+"2",!1,!0,.8))},e.hideCPABanner=function(e,t){e.getChildByName("hutuiList"+t+"1")&&(e.getChildByName("hutuiList"+t+"1").active=!1),e.getChildByName("hutuiList"+t+"2")&&(e.getChildByName("hutuiList"+t+"2").active=!1)},e.checkIsShowAdBtn=function(){return!0},e.isSharedGetReward=function(){return o.GameConfig.channel,i.ChannelType.qq,!1},e.shareAt=0,e._loginAt=0,e._channelName="oppo",e._showOppoTimes=0,e._showOppoAt=0,e.deviceId="",e.midMap={},e.iconUrlmap={},e.wudianTimes=0,e.wudianTimes2=0,e.isLoadedHutuiTupian=!1,e.channelConf={meizu:{gameId:"zwdzjszj",channelName:"meizu",videoId:"9uiLTmlS",bannerId:"64dwrmid",interId:"ZTJFKG2O",audioCtrl:{play:function(){r.SoundManager.playMusic()},stop:function(){r.SoundManager.stopMusic()}},bannerStyle:function(){return{top:window.qg.getSystemInfoSync().screenHeight-250+.1,width:window.qg.getSystemInfoSync().screenWidth}},kdStrategy:[[[100,1],[100,1],[100,1]],[[100,1],[100,1],[100,1]],[[100,1],[100,1],[100,1]],[[100,1],[100,1],[100,1]],[[100,1],[100,1],[100,1]]]},oppo:{gameId:"zwdzjszj",channelName:"oppo",appId:"30652995",videoId:"397117",bannerId:"397112",nativeId:"397116",kdStrategy:[[[100,1]],[[100,1]],[[100,1]],[[100,1]],[[100,1]]],loginObj:{success:function(e){e.code?console.log("\u767b\u5f55\u5931\u8d25\uff01",e):(console.log("\u6210\u529f",e.token),s.hts.codeForOpenId(e.token,function(e,t){console.log("\u7ed1\u5b9aoppen+++++++++++++,",JSON.stringify(t))}))},fail:function(e){console.log("login failed!",e)}},nativeOnLoad:function(t){e.nagitiveInfo=t,e.isLoadNagitiveFailded=!1},nativeOnError:function(t){e.nagitiveInfo=void 0,e.isLoadNagitiveFailded=!0,console.log("nativeOnError",t)},shortCutObj:{success:function(e){!0===e&&console.log("\u56fe\u6807\u5df2\u7ecf\u5b58\u5728!",e)},fail:function(e){console.log("add shortCut fail!",e)}},videoAutoLoad:!1,nativeAutoLoad:!1,videoLoad:!0},uc:{gameId:"zwdzjssc",channelName:"uc",videoId:"video",bannerId:"banner",audioCtrl:{play:function(){console.log("playAudio")},stop:function(){console.log("stopAudio")}},bannerStyle:{width:350,gravity:7},kdStrategy:[[[100,1],[100,1],[100,1],[100,1],[100,1]],[[100,1],[100,1],[100,1]],[[100,1],[100,1],[100,1]],[[100,1],[100,1],[100,1]],[[100,1],[100,1],[100,1]],[[100,1],[100,1],[100,1]]],nativeOnLoad:function(t){e.nagitiveInfo=t,e.isLoadNagitiveFailded=!1,console.log("\u52a0\u8f7d\u539f\u751f\u5e7f\u544a\u6210\u529f~\uff1a",e.nagitiveInfo)},nativeOnError:function(t){e.nagitiveInfo=void 0,e.isLoadNagitiveFailded=!0,console.log("nativeOnError",t)},shortCutObj:{success:function(e){!0===e?console.log("\u56fe\u6807\u5df2\u7ecf\u5b58\u5728!",e):console.log("add shortCut success!",e)},fail:function(e){console.log("add shortCut fail!",e)}},videoAutoLoad:!0,videoLoad:!0},vivo:{gameId:"zwdzjszj",channelName:"vivo",videoId:"837c3515994041918a398398f9581188",bannerId:"0405a1be26e24b279c9f794590abcdfe",interId:"e5a058e4c09a4e56a44f4c7a193c1320",nativeId:"46d798a69eee4e17a290b6399d23ad40",audioCtrl:{play:function(){r.SoundManager.playMusic()},stop:function(){r.SoundManager.stopMusic()}},kdStrategy:[[[100,1],[100,1],[100,1]],[[100,1],[100,1],[100,1]],[[100,1],[100,1],[100,1]],[[100,1],[100,1],[100,1]],[[100,1],[100,1],[100,1]]],nativeOnLoad:function(t){e.nagitiveInfo=t},nativeOnError:function(t){e.nagitiveInfo=void 0,console.log("nativeOnError",t)},shortCutObj:{message:"\u5206\u4eab\u7ed9\u670b\u53cb\u5427!",success:function(){console.log("add shortCut success!")},fail:function(e){console.log("add shortCut fail!",e)}},videoAutoLoad:!1,loginObj:{success:function(e){e.code?console.log("\u767b\u5f55\u5931\u8d25\uff01",e):console.log("\u6210\u529f",e.data.token)},fail:function(e){console.log("login failed!",e)}}},wx:{gameId:"zwdzjszj",channelName:"wx",videoId:"adunit-8c7082da773ee4c7",bannerId:"adunit-ec4018281fa9b901",interId:"adunit-b7751f1244269d50",nativeId:"adunit-f52d3a894b7dcfb4",bannerStyle:function(){return e.bannerInfo},videoAutoLoad:!0,bannerIntervals:30,bannerOnResize:function(t,n,o){n.style.top=o.getSystemInfoSync().screenHeight-t.height+.1+e.posVec.y,n.style.left=(o.getSystemInfoSync().screenWidth-t.width)/2+.1+e.posVec.x},kdStrategy:[[[100,1]],[[100,1]],[[100,1]],[[100,1]],[[100,1]]],showShareMenuObj:{withShareTicket:!0},loginObj:{success:function(t){t.code?(console.log("\u5fae\u4fe1\u767b\u5f55\u6210\u529f\uff01code:"+t.code),e.openId=t.code):console.log("\u767b\u5f55\u5931\u8d25\uff01"+t)},fail:function(e){console.log("login failed!",e)}},shareAppMessageObj:{title:"\u4f20\u5947\u7684\u9003\u8131\u7248\u690d\u7269\u5927\u6218\u50f5\u5c38\u6765\u4e86\uff01\uff1f",imageUrl:"https://gacdn.gamejym.com/static/fruit/shareImg/zwdzjsshareimg.jpg",query:"key1=k1&key2="+(new Date).getTime()},onShowFn:function(e){console.log("onShow, res:",e)},getLaunchOptionsSyncFn:function(t){console.log("getLaunchOptionsSyncFn, res:",t),t.query.twtraceid&&(e.twttraceid=t.query.twtraceid),e.scene=t.scene}},qq:{gameId:"zwdzjszj",channelName:"qq",videoId:"03916d7dc3cbe71ba7ffd573df5acb95",bannerId:"760283ac13b28d30c1f544d597cfe35f",interId:"34a4ba93d1d94720d8275b1130832115",bannerStyle:function(){return{left:20,top:window.qq.getSystemInfoSync().screenHeight-91+.1,width:350}},kdStrategy:[[[100,1]],[[100,1]],[[100,1]],[[100,1]],[[100,1]]],showShareMenuObj:{withShareTicket:!0},loginObj:{success:function(e){e.code?(console.log("\u767b\u5f55\u6210\u529f\uff01code:"+e.code),s.hts.codeForOpenId(e.code,function(e){console.log("\u7ed1\u5b9aQQopenID:",JSON.stringify(e))})):console.log("\u767b\u5f55\u5931\u8d25\uff01"+e)},fail:function(e){console.log("login failed!",e)},timeout:30},shareAppMessageObj:{title:"\u5168\u65b0\u732a\u9e1f\u5927\u6218\uff0c\u4e00\u98de\u51b2\u5929",imageUrl:"https://gacdn.kbb805.com/static/fruit/shareImg/angershare.jpg",query:"key1=k1&key2="+(new Date).getTime(),shareAppType:"qq"},onShowFn:function(e){console.log("onShow, res:",e)},getLaunchOptionsSyncFn:function(e){console.log("getLaunchOptionsSyncFn, res:",e)}},baidu:{gameId:"zwdzjszj",appId:"c056d373",channelName:"baidu",videoId:"7742080",bannerId:"7742078",bannerStyle:{left:20,top:400,width:300},audioCtrl:{play:function(){r.SoundManager.playMusic()},stop:function(){r.SoundManager.stopMusic()}},kdStrategy:[[[100,1]],[[100,1]],[[100,1]],[[100,1]],[[100,1]]],showShareMenuObj:{withShareTicket:!0},videoAutoLoad:!0,loginObj:{success:function(e){e.code?console.log("\u767b\u5f55\u6210\u529f\uff01code:"+e.code):console.log("\u767b\u5f55\u5931\u8d25\uff01",e)},fail:function(e){console.log("login failed!",e)},timeout:30},shareAppMessageObj:{title:"@\u4f60\uff0c\u4e0d\u6765\u4e00\u5c40\u5207\u6c34\u679c\u5417\uff1f",content:"\u5207\u6c34\u679c\u65e0\u654c\u65e0\u654c!!",imageUrl:"https://mmocgame.qpic.cn/wechatgame/xQIymonI7UCvXTE9chZO0hh0LxPg3kdSSOicfvuibicuibgKibe9zblywFRr6zeWutUL4/0",query:"key1=k1&key2="+(new Date).getTime()},onShowFn:function(e){console.log("onShow, res:",e)},getLaunchOptionsSyncFn:function(e){console.log("getLaunchOptionsSyncFn, res:",e)}},toutiao:{gameId:"zwdzjszj",channelName:"toutiao",videoId:"4d3nf1a1cn9b7bk56e",bannerId:"36rrcdqdl6h1c1oj66",interId:"ed242s0nddf1f8hobq",bannerStyle:{left:20,top:400,width:160},kdStrategy:[[[100,1]],[[100,1]],[[100,1]],[[100,1]],[[100,1]]],showShareMenuObj:{withShareTicket:!0},loginObj:{success:function(e){e.code||console.log("\u767b\u5f55\u5931\u8d25\uff01"+e)},fail:function(e){console.log("login failed!",e)},timeout:30},shareAppMessageObj:{title:"\u50cf\u6211\u8fd9\u4e48\u5e05\u7684\u8fd8\u67097\u4e2a",imageUrl:"https://mmocgame.qpic.cn/wechatgame/xQIymonI7UCvXTE9chZO0hh0LxPg3kdSSOicfvuibicuibgKibe9zblywFRr6zeWutUL4/0",query:"key1=k1&key2="+(new Date).getTime(),shareAppType:"qq"},onShowFn:function(e){console.log("onShow, res:",e)},getLaunchOptionsSyncFn:function(t){t.query.twtraceid&&(e.isWxBuy=!0,console.log("====12321"))}}},e.bannerInfo={left:20,top:400,width:100},e.posVec=new cc.Vec2(0,0),e._hideAt=0,e.oppoNativeIds=["397116","397116","397114"],e.vivoNativeIds=["46d798a69eee4e17a290b6399d23ad40","46d798a69eee4e17a290b6399d23ad40","68d2c63a0717491db7e676013d106544","46d798a69eee4e17a290b6399d23ad40"],e.twttraceid="",e.scene="",e.wxBannerShowTime=0,e.isBannerShow=0,e._showInterAt=(new Date).getTime(),e.keys=["BCBgAAoXHx5d0JtKUxTQUn","BCBgAAoXHx5d0JtKUxTQUi"],e}();n.ChannelHelper=f,cc._RF.pop()},{"../Data/UserData":"UserData","../GameConfig":"GameConfig","../UI/NativeAdReward":"NativeAdReward","../UI/NativePrebs":"NativePrebs","../libs/Hts":"Hts","../libs/Kds":"Kds","./Const":"Const","./EventsManager":"EventsManager","./ShopTips":"ShopTips","./SoundManager":"SoundManager","./Toutiao":"Toutiao"}],ChannelSDK:[function(e,t,n){"use strict";cc._RF.push(t,"d1381EgfsBNw5hQUcdvco87","ChannelSDK"),Object.defineProperty(n,"__esModule",{value:!0}),n.ChannelSDK=void 0;var o=e("../GameConfig"),i=e("./Const"),a=function(){function e(){this.shareAt=0,this._baiduAdTimesLimit=[0,3,3,3]}return e.prototype.initSDK=function(){},e.prototype.login=function(e){var t=cc.sys.localStorage.getItem("userId");t||(t=(new Date).getTime()+"_h5",cc.sys.localStorage.setItem("userId",t)),e(t,"h5")},e.prototype.onShow=function(){},e.prototype._onShareFail=function(){},e.prototype.share=function(e){e()},e.prototype.showBanner=function(){this._bannerAd&&this._isCreateBannerAdSuccess&&this._bannerAd.show()},e.prototype.hideBanner=function(){this._bannerAd&&this._bannerAd.hide()},e.prototype.showInterstitialAd=function(){this._interstitialAd&&this._isCreateInteAdSuccess&&this._interstitialAd.show()},e.prototype.hideinterstitialAd=function(){this._interstitialAd&&this._isCreateInteAdSuccess&&this._interstitialAd.hide()},e.prototype.showAds=function(e){e()},e.prototype.checkIsShowAdBtn=function(e){return this._baiduAdTimesLimit[e]>0||o.GameConfig.channel!=i.ChannelType.baidu},e}();n.ChannelSDK=a,cc._RF.pop()},{"../GameConfig":"GameConfig","./Const":"Const"}],Const:[function(e,t,n){"use strict";cc._RF.push(t,"fbaa34Mh4pJpIpO1AI+1MDe","Const"),Object.defineProperty(n,"__esModule",{value:!0}),n.SoundName=n.GameMode=n.AssetsType=n.SkinEffeectType=n.DialogPopType=n.MoveType=n.TeachPoint=n.EnemyType=n.CDlgFBtnType=n.AchievementType=n.RewardType=n.SurpriseId=n.ChannelType=n.LevelUpType=n.EnemeyState=n.Dir=n.RankType=n.GunType=n.propertyType=n.FindAimType=n.AttackType=n.DeBuffType=n.RareType=n.RuneType=n.SkinSkillType=n.PathType=n.PathPosi=n.PlantType=n.BaseBulletType=n.TaskType=n.ProfessionType=n.UserGoodsType=n.OtherIntroType=n.timeFomationType=n.TaskRoleType=n.GoodsType=n.Layer=n.BigSkillType=n.SceneName=n.PetType=n.RoleType=n.AIType=n.AdPos=n.BarrierType=n.RoleState=void 0,function(e){e[e.idle=0]="idle",e[e.move=1]="move",e[e.attack1=2]="attack1",e[e.attack2=3]="attack2",e[e.dead=4]="dead",e[e.jump=5]="jump",e[e.reloading=6]="reloading",e[e.sit=7]="sit",e[e.beat=8]="beat"}(n.RoleState||(n.RoleState={})),function(e){e[e.stone=1]="stone",e[e.frozen=2]="frozen",e[e.bomb=3]="bomb",e[e.groundPrick=4]="groundPrick",e[e.onOff=5]="onOff",e[e.chilun=6]="chilun",e[e.bow=7]="bow",e[e.bomb2=8]="bomb2",e[e.weapon=9]="weapon",e[e.translateDoor=10]="translateDoor",e[e.treasure=11]="treasure"}(n.BarrierType||(n.BarrierType={})),function(e){e[e.drawKey=1]="drawKey",e[e.rankJump=2]="rankJump",e[e.failjump=3]="failjump",e[e.signDouble=4]="signDouble",e[e.tryUseUserSkin=5]="tryUseUserSkin",e[e.endDouble=6]="endDouble",e[e.powerAdd=7]="powerAdd",e[e.coinAdd=8]="coinAdd",e[e.freePlant=9]="freePlant",e[e.hangDouble=10]="hangDouble",e[e.drawPanel=11]="drawPanel",e[e.gardenPos=12]="gardenPos"}(n.AdPos||(n.AdPos={})),function(e){e[e.normal=0]="normal",e[e.killSelf=1]="killSelf",e[e.boss1=2]="boss1",e[e.boss2=3]="boss2"}(n.AIType||(n.AIType={})),function(e){e[e.zeta=1]="zeta",e[e.sailuo=2]="sailuo",e[e.beiliya=3]="beiliya",e[e.dijia=4]="dijia",e[e.jiede=5]="jiede",e[e.taijia=6]="taijia",e[e.oubu=7]="oubu"}(n.RoleType||(n.RoleType={})),function(e){e[e.attack=1]="attack",e[e.shield=2]="shield",e[e.hp=3]="hp"}(n.PetType||(n.PetType={})),function(e){e.mainScene="MainScene",e.menuScene="MenuScene",e.gardenScene="GardenScene"}(n.SceneName||(n.SceneName={})),function(e){e[e.bastion=1]="bastion",e[e.bomb=2]="bomb",e[e.ice=3]="ice",e[e.swords=4]="swords"}(n.BigSkillType||(n.BigSkillType={})),function(e){e[e.bottom=-100]="bottom",e[e.fairyGUI=200]="fairyGUI",e[e.dialog=300]="dialog",e[e.teach=400]="teach",e[e.Tip=400]="Tip",e[e.Top=500]="Top"}(n.Layer||(n.Layer={})),function(e){e[e.addHp=1]="addHp",e[e.addAttack=2]="addAttack",e[e.addDefense=3]="addDefense",e[e.addTotal=4]="addTotal",e[e.pet1=5]="pet1",e[e.pet2=6]="pet2",e[e.addLight=7]="addLight",e[e.addDark=8]="addDark",e[e.coin=9]="coin"}(n.GoodsType||(n.GoodsType={})),function(e){e[e.gainCoin=1]="gainCoin",e[e.teamTask=2]="teamTask"}(n.TaskRoleType||(n.TaskRoleType={})),function(e){e.minSe="mm:ss",e.hourMinSe="hh:mm:ss",e.hourMin="hh:mm"}(n.timeFomationType||(n.timeFomationType={})),function(e){e[e.zdl=1]="zdl",e[e.hp=2]="hp",e[e.attack=3]="attack",e[e.crit=4]="crit",e[e.cd=5]="cd",e[e.formationTime=6]="formationTime",e[e.heroRare=7]="heroRare",e[e.heroStar=8]="heroStar",e[e.jjc=9]="jjc",e[e.gunRare=10]="gunRare",e[e.petRare=11]="petRare",e[e.gunStar=12]="gunStar",e[e.petStar=13]="petStar",e[e.gunReload=14]="gunReload"}(n.OtherIntroType||(n.OtherIntroType={})),function(e){e[e.consume=1]="consume",e[e.gun=2]="gun",e[e.guuFragment=3]="guuFragment",e[e.skin=4]="skin",e[e.skinFragment=5]="skinFragment",e[e.wing=6]="wing",e[e.wingFragment=7]="wingFragment",e[e.treasure=8]="treasure",e[e.rune=9]="rune",e[e.runeFragment=10]="runeFragment",e[e.role=11]="role",e[e.roleFragment=12]="roleFragment",e[e.other=13]="other",e[e.skill=14]="skill",e[e.robot=15]="robot"}(n.UserGoodsType||(n.UserGoodsType={})),function(e){e[e.raider=0]="raider",e[e.sniper=1]="sniper",e[e.assasin=2]="assasin"}(n.ProfessionType||(n.ProfessionType={})),function(e){e[e.task=1]="task",e[e.login=2]="login",e[e.ads=3]="ads",e[e.levelup=3]="levelup",e[e.passrank=5]="passrank",e[e.killenemy=6]="killenemy",e[e.passrank1=7]="passrank1",e[e.drawcard=8]="drawcard",e[e.pvp=9]="pvp",e[e.boss=10]="boss",e[e.hardRank=11]="hardRank",e[e.normalrank=12]="normalrank"}(n.TaskType||(n.TaskType={})),function(e){e[e.none=0]="none",e[e.normal=1]="normal",e[e.besier=2]="besier",e[e.superposition=3]="superposition",e[e.poison=4]="poison",e[e.dizz=5]="dizz",e[e.dizzAoe=6]="dizzAoe",e[e.slow=7]="slow",e[e.boomerang=8]="boomerang",e[e.boomAoe=9]="boomAoe",e[e.fireAoe=10]="fireAoe",e[e.traking=11]="traking",e[e.fission=12]="fission",e[e.fire=13]="fire",e[e.laser=14]="laser",e[e.lightning=15]="lightning",e[e.special=-1]="special"}(n.BaseBulletType||(n.BaseBulletType={})),function(e){e[e.wandousheshou=1]="wandousheshou",e[e.caiwen=2]="caiwen",e[e.hanbingsheshou=3]="hanbingsheshou",e[e.juanxincaitoushou=4]="juanxincaitoushou",e[e.huixuanbiaosheshou=5]="huixuanbiaosheshou",e[e.shandianluwei=6]="shandianluwei",e[e.dapengu=7]="dapengu",e[e.ludenglong=8]="ludenglong",e[e.xiangrikui=9]="xiangrikui",e[e.maoweicao=10]="maoweicao",e[e.yangguanggu=11]="yangguanggu",e[e.xigua=12]="xigua"}(n.PlantType||(n.PlantType={})),function(e){e[e.left=-280]="left",e[e.right=310]="right",e[e.uptop=510]="uptop",e[e.updown=170]="updown",e[e.downdown=-330]="downdown",e[e.downup=0]="downup",e[e.teamDown=1]="teamDown"}(n.PathPosi||(n.PathPosi={})),function(e){e[e.normal=0]="normal",e[e.parabola=1]="parabola",e[e.track=2]="track",e[e.boomerang=3]="boomerang",e[e.laser=4]="laser"}(n.PathType||(n.PathType={})),function(e){e[e.none=0]="none",e[e.addHpPct=1]="addHpPct",e[e.gunHurtInc=2]="gunHurtInc",e[e.skillHurtInc=3]="skillHurtInc",e[e.recoverHp=4]="recoverHp"}(n.SkinSkillType||(n.SkinSkillType={})),function(e){e[e.attack=0]="attack",e[e.hp=1]="hp",e[e.critPct=2]="critPct",e[e.critValue=3]="critValue",e[e.suckHp=4]="suckHp"}(n.RuneType||(n.RuneType={})),function(e){e[e.white=1]="white",e[e.green=2]="green",e[e.blue=3]="blue",e[e.purple=4]="purple",e[e.gold=5]="gold"}(n.RareType||(n.RareType={})),function(e){e[e.fire=0]="fire",e[e.slowDown=1]="slowDown"}(n.DeBuffType||(n.DeBuffType={})),function(e){e[e.knife=0]="knife",e[e.skill=1]="skill",e[e.bullet=2]="bullet"}(n.AttackType||(n.AttackType={})),function(e){e[e.random=0]="random",e[e.first=1]="first",e[e.last=2]="last"}(n.FindAimType||(n.FindAimType={})),function(e){e[e.light=0]="light",e[e.dark=1]="dark"}(n.propertyType||(n.propertyType={})),function(e){e[e.gun=10001]="gun",e[e.juji3=10002]="juji3",e[e.fire=10003]="fire",e[e.laser=10004]="laser",e[e.liangpai=10005]="liangpai",e[e.kuanghuo=10006]="kuanghuo",e[e.juji=10007]="juji",e[e.gunShot=10008]="gunShot",e[e.jiatelin=10009]="jiatelin",e[e.lightning=10010]="lightning"}(n.GunType||(n.GunType={})),function(e){e[e.normal=1]="normal",e[e.countDown=2]="countDown",e[e.boss=3]="boss",e[e.wanted=4]="wanted",e[e.treasure=5]="treasure"}(n.RankType||(n.RankType={})),function(e){e[e.left=-1]="left",e[e.right=1]="right",e[e.down=2]="down",e[e.up=3]="up"}(n.Dir||(n.Dir={})),function(e){e[e.wait=-1]="wait",e[e.idle=0]="idle",e[e.move=1]="move",e[e.attack1=2]="attack1",e[e.attack2=3]="attack2",e[e.dead=4]="dead",e[e.jump=5]="jump",e[e.beat=6]="beat",e[e.findedAim=7]="findedAim"}(n.EnemeyState||(n.EnemeyState={})),function(e){e.role="0",e.gun="qiang",e.knife="dao",e.wings="chongwu",e.rune="rune"}(n.LevelUpType||(n.LevelUpType={})),function(e){e[e.default=0]="default",e[e.Wechat=1]="Wechat",e[e.baidu=2]="baidu",e[e.meizu=3]="meizu",e[e.qq=4]="qq",e[e.toutiao=5]="toutiao",e[e.oppo=6]="oppo",e[e.vivo=7]="vivo",e[e.uc=8]="uc",e[e.xiaomi=9]="xiaomi",e[e.liantong=10]="liantong",e[e.huawei=11]="huawei"}(n.ChannelType||(n.ChannelType={})),n.SurpriseId||(n.SurpriseId={}),function(e){e[e.normal=0]="normal"}(n.PetType||(n.PetType={})),function(e){e[e.coin=0]="coin",e[e.star=1]="star",e[e.knife=2]="knife"}(n.RewardType||(n.RewardType={})),function(e){e[e.showVideos=0]="showVideos",e[e.knifeKill=1]="knifeKill",e[e.passedRank=2]="passedRank",e[e.RecoverGoods=3]="RecoverGoods",e[e.rankPassed=4]="rankPassed"}(n.AchievementType||(n.AchievementType={})),function(e){e[e.none=0]="none",e[e.double=1]="double",e[e.forever=2]="forever",e[e.equip=3]="equip"}(n.CDlgFBtnType||(n.CDlgFBtnType={})),function(e){e[e.zhadan=-2]="zhadan",e[e.genzongzidan=-5]="genzongzidan",e[e.hama1=1]="hama1",e[e.mifeng=2]="mifeng",e[e.hama2=3]="hama2",e[e.wugong=4]="wugong",e[e.bianfu=5]="bianfu",e[e.paotai=6]="paotai",e[e.tiaolei=7]="tiaolei",e[e.jujishou=8]="jujishou",e[e.cike=9]="cike",e[e.baoxiangguai=10]="baoxiangguai",e[e.xiaoboss1=11]="xiaoboss1",e[e.cidaobos=12]="cidaobos",e[e.jinshejing=13]="jinshejing",e[e.badun=14]="badun",e[e.qingshe=15]="qingshe",e[e.zhizhu=16]="zhizhu",e[e.boss1=100]="boss1"}(n.EnemyType||(n.EnemyType={})),function(e){e[e.yindaoguan=1]="yindaoguan",e[e.garden1=2]="garden1",e[e.garden2=3]="garden2",e[e.garden3=4]="garden3"}(n.TeachPoint||(n.TeachPoint={})),function(e){e[e.normalCicle=1]="normalCicle",e[e.reserveCircle=2]="reserveCircle",e[e.scaleCircle=3]="scaleCircle"}(n.MoveType||(n.MoveType={})),function(e){e[e.left=1]="left",e[e.right=2]="right",e[e.up=3]="up",e[e.down=4]="down"}(n.DialogPopType||(n.DialogPopType={})),function(e){e[e.thinerBirdPct=1]="thinerBirdPct",e[e.fastBirdSpeedPct=2]="fastBirdSpeedPct",e[e.slowPigSpeedPct=3]="slowPigSpeedPct",e[e.addShieldNum=4]="addShieldNum",e[e.puchaseGoodsOff=5]="puchaseGoodsOff",e[e.addFreshGoodsPct=5]="addFreshGoodsPct",e[e.jumpGoodsPctShow=8]="jumpGoodsPctShow"}(n.SkinEffeectType||(n.SkinEffeectType={})),function(e){e[e.normal=0]="normal",e[e.coin=1]="coin",e[e.diamond=2]="diamond",e[e.power=3]="power",e[e.bossChanllegeChance=4]="bossChanllegeChance",e[e.pvpChanllegeChance=5]="pvpChanllegeChance",e[e.pvpScore=6]="pvpScore",e[e.runeScore=7]="runeScore"}(n.AssetsType||(n.AssetsType={})),function(e){e[e.rank=0]="rank",e[e.boss=1]="boss",e[e.endless=2]="endless",e[e.pata=3]="pata",e[e.special=4]="special"}(n.GameMode||(n.GameMode={}));n.SoundName=function(){},cc._RF.pop()},{}],Enemy:[function(e,t,n){"use strict";cc._RF.push(t,"13203NKMlNPGZGYuOhzN0+e","Enemy");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.Enemy=void 0;var r=e("../Utils/Const"),s=e("../model/GameData"),c=e("../Utils/Utils"),l=cc._decorator,d=l.ccclass,u=l.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.speed=100,t.dir=1,t.type=0,t.poisonEffect=null,t.dizzEffect=null,t.hpLabel=null,t.slowEffect=null,t.huribleEffect=null,t.frozenEffect=null,t.secEffect=null,t.ani=null,t.deadAni=null,t._lastDir=0,t._enemyData={speed:100,hp:100,type:1},t.amtureName=["","TaiYangShenJiangShi","LuZhangJiangShi","MuNaiYiJiangShi","MuNaiYiLuZhangJiangShi","MuNaiYiQiZiJiangShi","MuNaiYiTieTongJiangShi","PuTongJiangShi","QiZiJiangShi","TieTongJiangShi","XiaoGuiJiangShi"],t._poisonNum=0,t}return i(t,e),t.prototype.start=function(){},t.prototype.puaseMove=function(){this._lastDir=this.dir,this.dir=-1},t.prototype.resumeMove=function(){-1==this.dir&&(this.dir=this._lastDir)},t.prototype.isUp=function(){return this._isUp},t.prototype.checkCanBeHit=function(){return this.state==r.RoleState.dead},t.prototype._resetEffect=function(){this.dizzEffect.active=!1,this.slowEffect.active=!1,this.frozenEffect.active=!1,this.poisonEffect.node.active=!1,this.huribleEffect.active=!1},t.prototype.init=function(e,t,n){this.state=r.RoleState.reloading,this._isUp=n,this.type=t,this._poisonNum=0,this._offsetY=0,this._slowPct=0,this._lastDir=this.dir,this._moveDistance=0,this.deadAni.node.active=!1,this._resetEffect();var o="dragon/enemy/enemy"+this.type;c.Utils.loadDragon(this.ani,o,"JiangShi","move"),this._isUp?(this.dir=1,this.node.setPosition(-330,r.PathPosi.uptop)):(this.dir=0,this.node.setPosition(-330,r.PathPosi.downdown)),this._gameControl=e,this._curHp=10*Math.floor(60*Math.random())+100,this.state=r.RoleState.move,this.hpLabel.string=c.Utils.getReadableStrForBigNum(this._curHp)},t.prototype.getMoveDistance=function(){return this._moveDistance},t.prototype._reborn=function(){this.node.setScale(0,0),this.node.runAction(cc.scaleTo(.2,1,1))},t.prototype.update=function(e){this.state!=r.RoleState.dead&&(this._move(e),this._runDebuff(e),this._checkChangeDir())},t.prototype._passed=function(){this.state=r.RoleState.dead,this.ani.dragonAtlasAsset=void 0,this.ani.dragonAsset=void 0,this.ani.armatureName=void 0,this.ani.removeEventListener(dragonBones.EventObject.COMPLETE),this._gameControl.recircleEnemy(this)},t.prototype.beHitted=function(e,t){var n,o=Math.random()<e.critcalPct/100;n=o?2*e.hurt:e.hurt,this._curHp-=n,t&&this._gameControl.playHittedEffect(cc.v2(),t,this.node),this._curHp<=0&&(this._curHp=0,this._dead(),this.isUp()||s.GameData.addSunShineNum(30)),this._gameControl.playHittedEffectLb(n,this.node.getPosition().add(cc.v2(10,50)),!1,o),100*Math.random()<e.secondPct&&this._dead(),e.poision&&(this._poisonNum+=Math.floor(e.poision/.2),this.poisonEffect.node.active=!0,this.schedule(this._poisonHurt.bind(this,e.hurt),.2,Math.floor(e.poision/.2),.01)),e.dizz&&(this._dizzTime=e.dizz,this.dizzEffect.active=!0,console.log("\u7729\u6655\u4e2d")),e.vulnerable&&(this.huribleEffect.active=!0,console.log("\u6613\u4f24\u4e2d")),e.slowDown&&(this._slowPct=e.slowDown,this.slowEffect.active=!0,console.log("\u51cf\u901f\u4e2d")),e.lightning&&(this.lightningNearEnemy(200,e.hurt),this.setLight()),this.hpLabel.string=c.Utils.getReadableStrForBigNum(this._curHp)},t.prototype._poisonHurt=function(e){console.log("\u4e2d\u6bd2\u4e2d-----------:",e),this._curHp-=e,this._curHp<=0&&(this._curHp=0,this._dead()),this._poisonNum--,this._poisonNum<=0&&(this.poisonEffect.node.active=!1),this.hpLabel.string=c.Utils.getReadableStrForBigNum(this._curHp)},t.prototype._dead=function(){var e=this;this.state!=r.RoleState.dead&&(console.log("\u6b7b\u4ea1"),this.state=r.RoleState.dead,this.ani.armatureName=void 0,this.ani.dragonAtlasAsset=void 0,this.ani.dragonAsset=void 0,this.hpLabel.string="",this.ani.enabled=!1,this.ani.removeEventListener(dragonBones.EventObject.COMPLETE),this.deadAni.node.active=!0,this.deadAni.playAnimation("newAnimation",1),this.deadAni.once(dragonBones.EventObject.COMPLETE,function(){e.ani.enabled=!0,e._gameControl.recircleEnemy(e),console.log("\u6b7b\u4ea1\u52a8\u753b\u7ed3\u675f")}),this.scheduleOnce(function(){},.5))},t.prototype.canBefound=function(){return this.state!=r.RoleState.dead&&this.state!=r.RoleState.reloading},t.prototype._checkChangeDir=function(){this._isUp?(this.node.y<=r.PathPosi.updown+this._offsetY&&1==this.dir&&(this.dir=3),this.node.x>=r.PathPosi.right&&3==this.dir&&(this.dir=0),this.node.y>=r.PathPosi.uptop&&0==this.dir&&this._passed()):(this.node.y>=r.PathPosi.downup+this._offsetY&&0==this.dir&&(this.dir=3),this.node.x>=r.PathPosi.right&&3==this.dir&&(this.dir=1),this.node.y<=r.PathPosi.downdown&&1==this.dir&&this._passed())},t.prototype.setLight=function(){var e=this;this._isLighted=!0,this.scheduleOnce(function(){e._isLighted=!1},.3)},t.prototype._runDebuff=function(e){this._dizzTime>0&&(this._dizzTime-=e,this._dizzTime<=0&&(this._dizzTime=0,this.dizzEffect.active=!1))},t.prototype.lightningNearEnemy=function(e,t){var n=this;this._gameControl.enemyGroup.children.forEach(function(o){if(cc.isValid(o)&&o.uuid!=n.node.uuid&&n.node.position.sub(o.position).mag()<e){var i=o.getComponent("Enemy");i&&!i._isLighted&&(i.setLight(),i.beHitted({hurt:t,lightning:1}),n._gameControl.getBulletManager().createLightShinyEffect(n.node.getPosition(),o.getPosition()))}})},t.prototype._move=function(e){var t=Math.max(0,this._slowPct);if(!(this._frozenTime>0||this._dizzTime>0)){var n=this.speed*e*(1-t);switch(this.dir){case 0:this.node.y+=n;break;case 1:this.node.y-=n;break;case 2:this.node.x-=n;break;case 3:this.node.x+=n}this._moveDistance+=n}},t.prototype.onCollisionEnter=function(e){"barrier"==e.node.group&&this.puaseMove()},t.prototype.onCollisionExit=function(e){"barrier"==e.node.group&&this.resumeMove()},a([u],t.prototype,"speed",void 0),a([u],t.prototype,"dir",void 0),a([u],t.prototype,"type",void 0),a([u(cc.Label)],t.prototype,"poisonEffect",void 0),a([u(cc.Node)],t.prototype,"dizzEffect",void 0),a([u(cc.Label)],t.prototype,"hpLabel",void 0),a([u(cc.Node)],t.prototype,"slowEffect",void 0),a([u(cc.Node)],t.prototype,"huribleEffect",void 0),a([u(cc.Node)],t.prototype,"frozenEffect",void 0),a([u(cc.Node)],t.prototype,"secEffect",void 0),a([u(dragonBones.ArmatureDisplay)],t.prototype,"ani",void 0),a([u(dragonBones.ArmatureDisplay)],t.prototype,"deadAni",void 0),a([d],t)}(cc.Component);n.Enemy=h,cc._RF.pop()},{"../Utils/Const":"Const","../Utils/Utils":"Utils","../model/GameData":"GameData"}],EventsManager:[function(e,t,n){"use strict";cc._RF.push(t,"1bf47iRr09J7Lj9UK0lbE7k","EventsManager"),Object.defineProperty(n,"__esModule",{value:!0}),n.EventsManager=void 0;var o=function(){function e(){}return e.on=function(t,n){e._eventsMap[t]?e._eventsMap[t].push(n):e._eventsMap[t]=[n]},e.off=function(t,n){if(e._eventsMap[t]){var o=e._eventsMap[t],i=0;for(console.log("\u5173\u95ed\u65f6\u95f4");i<o.length;)e._eventsMap[t][i]===n?(e._eventsMap[t].splice(i,1),console.log("\u5173\u95ed\u4e8b\u4ef6\u6210\u529f")):i++}},e.offAll=function(t){e._eventsMap[t]&&delete e._eventsMap[t]},e.emit=function(t,n){e._eventsMap[t]&&e._eventsMap[t].forEach(function(e){e(n)})},e.UIUPDATE="uiupdate",e.GAMEOVER="gameover",e.SHOWNATIVE="nativeAdShow",e.RESTART="restart",e.CHANGEASSETSNUM="changeAssetsNum",e.REDPOITNTSIGN="signRedPoint",e.PURCHASEGOODS="puchaseGoods",e.CHANGESKIN="changeSKIN",e.USEGOODS="useGoods",e.ACHIEVEMENTARRIVED="chengjiudacheng",e.KILLENEMY="killEnemy",e.ZDL="changezhandouli",e.MOVEROLE="moveRole",e.TEACH="teach",e.TEACHHIDE="teachhide",e.PAUSE="pause",e.RELEASESKILL="relaseskill",e.JUMPTEACH="jumpteach",e.LIGHTHURT="jiguang",e.ONOFF="onoff",e.DOWNYANJIANG="DOWNYANJIANG",e.CLOSEALLDLG="CLOSEDLG",e.ONSHOW="onshow",e.TRANSLATE="translate",e._eventsMap={},e}();n.EventsManager=o,cc._RF.pop()},{}],GameConfig:[function(e,t,n){"use strict";cc._RF.push(t,"96b52LB9D9OcpNLiBCz/18l","GameConfig"),Object.defineProperty(n,"__esModule",{value:!0}),n.GameConfig=void 0;var o=function(){function e(){}return e.gameWith=750,e.gameHeight=1334,e.gameRealWidth=1334,e.gameRealHeight=1334,e.channel=6,e.startTime=0,e.version=100,e.isVirbite=0,e.RESURL="https://gacdn.gamejym.com/static/fruit/biezhen/",e}();n.GameConfig=o,cc._RF.pop()},{}],GameControl:[function(e,t,n){"use strict";cc._RF.push(t,"623adl7O6lJEp/qc+FWuy24","GameControl");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.GameControl=void 0;var r=e("../Utils/Const"),s=e("./BullectCreateManger"),c=e("../GameConfig"),l=cc._decorator,d=l.ccclass,u=l.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.enemyGroup=null,t.downParentNode=null,t.upParentNode=null,t.bulletGroup=null,t.bastionPrefeb=null,t.effectNode=null,t._upPlantGroupPos=cc.v2(-205,265),t._downPlantGroupPos=cc.v2(-205,-300),t._upPosArray=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t._downPosArray=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t._refreshTime=0,t._refreshTotalTime=1,t._enemyType=[2,7,8,9,10],t._plantArray=[2,3,5,7,11],t._plantArray1=[1,4,10,13,15],t._plantIndex=1,t._enemyIndex=1,t}return i(t,e),t.prototype.onLoad=function(){cc.director.getCollisionManager().enabled=!0},t.prototype.start=function(){var e=this;this._poolManager=this.node.getComponent("PoolMananger"),this._bulletManger=new s.BullectCreateManger,this._bulletManger.init(this),this.schedule(function(){if(e._refreshTime++,e._refreshTime>=e._refreshTotalTime){for(var t=0;t<2;t++)e.generateEnemy(e._enemyType[e._enemyIndex],t%2==0);e._enemyIndex++,e._enemyIndex=e._enemyIndex%5,e._refreshTime=0,e._refreshTotalTime=Math.round(3*Math.random())+1}},1),this.schedule(function(){e.generatePlant(!0,e._plantArray1[e._plantIndex%5]),e._plantIndex++},1.5)},t.prototype.checkEnemyBeHit=function(e,t){console.log("\u67e5\u770b\u4e1c\u897f");for(var n=0;n<this.enemyGroup.childrenCount;n++){var o=this.enemyGroup.children[n];if(cc.isValid(o)&&cc.Intersection.circleCircle({position:e.getPosition(),radius:50},{position:o.getPosition(),radius:o.width/2})){var i=o.getComponent("Enemy");i&&i.beHitted(t)}}},t.prototype.getBulletManager=function(){return this._bulletManger},t.prototype.generateEnemy=function(e,t){var n=this._poolManager.getPrefebs("enemy");n.getComponent("Enemy").init(this,e,t),n.active=!0,this.enemyGroup.addChild(n)},t.prototype.playHittedEffectLb=function(e,t,n,o){var i=this._poolManager.getPrefebs("hitNumEffect");i.active=!0,i.zIndex=r.Layer.Tip,i.getComponent("PlayHitNumEffect").init(this,e,1,o,n),i.setPosition(t),this.effectNode.addChild(i)},t.prototype.playHittedEffect=function(e,t,n){var o=this._poolManager.getPrefebs("hitEffect");(n||this.effectNode).addChild(o),o.getComponent("HitEffect").init(this,t),o.setPosition(e)},t.prototype.recirleEffect=function(e){this._poolManager.recircleNode("hitEffect",e)},t.prototype.releaseBigSkill=function(e,t){var n=this;switch(e){case r.BigSkillType.bastion:var o=cc.instantiate(this.bastionPrefeb);cc.find("Canvas/effect").addChild(o);var i=this.findAimEnemy(r.FindAimType.first,!0);o.setPosition(i.node.getPosition().add(cc.v2(0,30)));break;case r.BigSkillType.bomb:this.hurtAllEnemy({hurt:1e3});break;case r.BigSkillType.ice:this.hurtAllEnemy({hurt:1e3,frozen:Math.random()<.2?0:2,slowDown:2});break;case r.BigSkillType.swords:for(var a=0;a<10;a++)this.scheduleOnce(function(){var e=n.findAimEnemy(r.FindAimType.first,!1);if(e){var o=e.node;n._bulletManger.createBullet({attackInfo:{hurt:600},type:r.BaseBulletType.traking,startPos:cc.v2(c.GameConfig.gameWith/2-100,-c.GameConfig.gameRealHeight/2+200),aimNode:o,speed:1500,isUp:t})}},.1+.2*a)}},t.prototype.recircleEnemy=function(e){e.node.active=!1,this._poolManager.recircleNode("enemy",e.node)},t.prototype.recircleEffect=function(e){e.active=!1,this._poolManager.recircleNode("hitNumEffect",e)},t.prototype.generatePlant=function(e,t){var n=this._getRandomPos(e);if(n<0)console.log("\u4f4d\u7f6e\u5df2\u6ee1");else{console.log("====posId:",n);var o=cc.instantiate(this._poolManager.getPrefebs("plant")),i=o.getComponent("Plant"),a=new cc.Vec2(110*Math.floor(n%5)-10,100*Math.floor(n/5));o.setPosition((e?this._upPlantGroupPos:this._downPlantGroupPos).add(a)),i.init(this,t,e,n),o.zIndex=100-Math.floor(n/5),(e?this.upParentNode:this.downParentNode).addChild(o),(e?this._upPosArray:this._downPosArray)[n]=1,console.log("====:",this._downPosArray)}},t.prototype.recirclePlant=function(e){this._poolManager.recircleNode("plant",e)},t.prototype.getNearPlant=function(e){var t=this,n=[];return e.isUp&&this.upParentNode.children.forEach(function(o){var i=o.getComponent("Plant");t._checkIsPos(i.posId,e.posId)&&n.push(i)}),n},t.prototype._checkIsPos=function(e,t){return e==t-1||e==t+1||e==t+5||e==t-5},t.prototype.setPos=function(e,t,n){(t?this._upPosArray:this._downPosArray)[e]=n},t.prototype.getCollsionWithOther=function(e){for(var t=e.isUp?this.upParentNode:this.downParentNode,n=0;n<t.childrenCount;n++){var o=t.children[n];if(o){var i=o.getComponent("Plant");if(i.posId!=e.posId&&cc.Intersection.circleCircle({radius:45,position:o.getPosition()},{radius:45,position:e.node.getPosition()}))return i}}},t.prototype.hitHurtEnemy=function(e,t){var n=this;this.enemyGroup.children.forEach(function(o){if(cc.isValid(o)&&o.uuid!=n.node.uuid&&n.node.position.sub(o.position).mag()<t){var i=o.getComponent("Enemy");i&&i.beHitted(e)}})},t.prototype.hurtAllEnemy=function(e){var t=this;this.enemyGroup.children.forEach(function(n){if(cc.isValid(n)&&n.uuid!=t.node.uuid){var o=n.getComponent("Enemy");o&&o.beHitted(e)}})},t.prototype._getRandomPos=function(e){for(var t=[],n=0;n<(e?this._upPosArray:this._downPosArray).length;n++)(e?this._upPosArray:this._downPosArray)[n]>0||t.push(n);return t.length>0?t[Math.floor(Math.random()*t.length)]:-1},t.prototype.reduceHp=function(){},t.prototype.findAimEnemy=function(e,t){for(var n=0,o=void 0,i=0;i<this.enemyGroup.childrenCount;i++){var a=this.enemyGroup.children[i];if(cc.isValid(a)&&a.active){var r=a.getComponent("Enemy");r.isUp()==t&&r.getMoveDistance()>n&&r.canBefound()&&(o=r,n=r.getMoveDistance())}}return o},a([u(cc.Node)],t.prototype,"enemyGroup",void 0),a([u(cc.Node)],t.prototype,"downParentNode",void 0),a([u(cc.Node)],t.prototype,"upParentNode",void 0),a([u(cc.Node)],t.prototype,"bulletGroup",void 0),a([u(cc.Prefab)],t.prototype,"bastionPrefeb",void 0),a([u(cc.Node)],t.prototype,"effectNode",void 0),a([d],t)}(cc.Component);n.GameControl=h,cc._RF.pop()},{"../GameConfig":"GameConfig","../Utils/Const":"Const","./BullectCreateManger":"BullectCreateManger"}],GameData:[function(e,t,n){"use strict";cc._RF.push(t,"512c9/gy/NK5IO0up75de40","GameData");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.GameData=void 0;var i=e("../Utils/EventsManager"),a=cc._decorator,r=a.ccclass,s=(a.property,function(){function e(){}return e.initData=function(){this._sunShineNum=1e4,this._plantBuyTimes=0,this._bossRefreshTime=100,this.plantsLevel=[1,1,1,1,1],this.enemyLevel=[1,1,1,1,1]},e.resetData=function(){},e.addSunShineNum=function(e){this._sunShineNum+=e,i.EventsManager.emit(i.EventsManager.UIUPDATE)},Object.defineProperty(e,"sunShinyNum",{get:function(){return this._sunShineNum},enumerable:!1,configurable:!0}),e.buyPlant=function(){this._plantBuyTimes++},Object.defineProperty(e,"plantBuyTimes",{get:function(){return this._plantBuyTimes},enumerable:!1,configurable:!0}),e.levelupPlant=function(e){this.plantsLevel[e]++},e._sunShineNum=0,e._plantBuyTimes=0,e._bossRefreshTime=0,e.plantsLevel=[],e.enemyLevel=[],o([r],e)}());n.GameData=s,cc._RF.pop()},{"../Utils/EventsManager":"EventsManager"}],GameUI:[function(e,t,n){"use strict";cc._RF.push(t,"a8ac7HVAKVOw4FHoul+2znp","GameUI");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.GameUI=void 0;var r=e("./BaseScene"),s=e("../Utils/Const"),c=e("../model/GameData"),l=e("../Utils/ShopTips"),d=e("../Utils/EventsManager"),u=e("../Utils/Utils"),h=e("./Prefebs/CardPrfebs"),p=cc._decorator,f=p.ccclass,g=(p.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._createIndex=1,t._remainTime=300,t}return i(t,e),t.prototype.onLoad=function(){var e=this;this._gameControl=this.node.getComponent("GameControl"),c.GameData.initData(),this.loadPackage("MainUI",function(){e._init()},"mainUI")},t.prototype._init=function(){var e=this,t=this.mainUI.getChild("detailPanel").asCom;t.getChild("n10").asCom,this._totalSunShineNumLb=t.getChild("scoreNumLb").asLabel,this._costNumLb=t.getChild("costLb").asLabel,this._updateUI(),this.generalBtnClick(t.getChild("n11").asCom,function(){c.GameData.sunShinyNum<10*(c.GameData.plantBuyTimes+1)?l.ShopTips.show("\u9633\u5149\u4e0d\u8db3\uff01"):(c.GameData.addSunShineNum(-10*(c.GameData.plantBuyTimes+1)),c.GameData.buyPlant(),e._gameControl.generatePlant(!1,e._gameControl._plantArray[e._createIndex]),e._createIndex++,e._createIndex=e._createIndex%5,e._updateUI())}),d.EventsManager.on(d.EventsManager.UIUPDATE,function(){e._updateUI()}),this.generalBtnClick(t.getChild("n13").asCom,function(){console.log("\u70b9\u51fb\u91ca\u653e\u6280\u80fd"),e._gameControl.releaseBigSkill(s.BigSkillType.swords),e._updateUI()});var n=this.mainUI.getChild("n3").asLabel;this.schedule(function(){e._remainTime-=1,n.text="BOSS\u5012\u8ba1\u65f6\uff1a"+u.Utils.normalFomateTime(1e3*e._remainTime,s.timeFomationType.minSe)},1);var o=t.getChild("pannelList").asList;o.numItems=5;for(var i=0;i<o.numItems;i++){console.log(o.getChildAt(i).asCom.getChild("n19"));var a=o.getChildAt(i).asCom.getChild("n20").asCom;new h.CardPrfebs(a,this._gameControl._plantArray[i])}},t.prototype._updateUI=function(){this._totalSunShineNumLb.text=String(c.GameData.sunShinyNum),this._costNumLb.text=String(10*(c.GameData.plantBuyTimes+1))},a([f],t)}(r.BaseScene));n.GameUI=g,cc._RF.pop()},{"../Utils/Const":"Const","../Utils/EventsManager":"EventsManager","../Utils/ShopTips":"ShopTips","../Utils/Utils":"Utils","../model/GameData":"GameData","./BaseScene":"BaseScene","./Prefebs/CardPrfebs":"CardPrfebs"}],HitEffect:[function(e,t,n){"use strict";cc._RF.push(t,"6b718hjrBpBn5H3PsREye24","HitEffect");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.HitEffect=void 0;var r=cc._decorator,s=r.ccclass,c=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ani=null,t.pa=null,t}return i(t,e),t.prototype.init=function(e,t){var n=this;if(this.pa.active=!1,this.pa.getComponent(cc.ParticleSystem).resetSystem(),"01_wandousheshou"==t)return this.pa.active=!0,this.ani.enabled=!1,void this.scheduleOnce(function(){e.recirleEffect(n.node)},.2);this.ani.enabled=!0,-1!=this.ani.getArmatureNames().indexOf(t)?(this.ani.armatureName=t,this.ani.playAnimation("newAnimation",1),this.ani.addEventListener(dragonBones.EventObject.COMPLETE,function(){e.recirleEffect(n.node)})):e.recirleEffect(this.node)},a([c(dragonBones.ArmatureDisplay)],t.prototype,"ani",void 0),a([c(cc.Node)],t.prototype,"pa",void 0),a([s],t)}(cc.Component);n.HitEffect=l,cc._RF.pop()},{}],Hts:[function(e,t,n){"use strict";cc._RF.push(t,"0f4bc3kp/1B/KEa74ZF0aCK","Hts"),Object.defineProperty(n,"__esModule",{value:!0}),n.hts=void 0;var o=e("./htSdk"),i=function(){function e(){this.htSdk=o.default}return e.instance=function(){return e.me?e.me:(e.me=new e,e.me)},e.prototype.getUid=function(){return this.htSdk.getUid()},e.prototype.init=function(e,t,n){this.htSdk.init(e,t,n)},e.prototype.getBox=function(e,t){this.htSdk.getBox(e,t)},e.prototype.jumpFrom=function(e){this.htSdk.jumpFrom(e)},e.prototype.jumpTo=function(e,t,n){this.htSdk.jumpTo(e,t,n)},e.prototype.jumpFail=function(e,t){this.htSdk.jumpFail(e,t)},e.prototype.navigateToMiniProgram=function(e,t){this.htSdk.navigateToMiniProgram(e,t)},e.prototype.bindOpenId=function(e,t){this.htSdk.bindOpenId(e,t)},e.prototype.codeForOpenId=function(e,t){this.htSdk.codeForOpenId(e,t)},e.prototype.stageStart=function(e,t){this.htSdk.stageStart(e,t)},e.prototype.stageFail=function(e,t){this.htSdk.stageFail(e,t)},e.prototype.stageComplet=function(e,t){this.htSdk.stageComplet(e,t)},e.prototype.stageLog=function(e,t,n){this.htSdk.stageLog(e,t,n)},e.prototype.userUpdate=function(e){this.htSdk.userUpdate(e)},e.prototype.eventReport=function(e,t,n){this.htSdk.eventReport(e,t,n)},e.prototype.getSharePic=function(e,t){this.htSdk.getSharePic(e,t)},e.prototype.shareTo=function(e){this.htSdk.shareTo(e)},e.prototype.shareFrom=function(e){this.htSdk.shareFrom(e)},e.prototype.jreq=function(e,t,n){this.htSdk.jreq(e,t,n)},e}();n.hts=i.instance(),cc._RF.pop()},{"./htSdk":"htSdk"}],HttpsTools:[function(e,t,n){"use strict";cc._RF.push(t,"fd7b74HFLZHt7q6K574q62O","HttpsTools"),Object.defineProperty(n,"__esModule",{value:!0}),n.HttpsTools=void 0;var o=e("../libs/Hts"),i=function(){function e(){}return e.request=function(e,t,n){n||(n={}),window.j(e,n,t)},e.loginLiantong=function(e,t,n,i){o.hts.jreq("https://ga.gametdd.com/cutFruit/hulu_top/lianTongLogin",{time:t,u_token:e},function(e,t){if(0!=t)return i(),void console.log("errr",JSON.stringify(t));console.log("errr:",JSON.stringify(t)),n(t)})},e.getAdsInfo=function(){window.jurl("https://dk.kbb805.com/adCtrl/adc/getBlack",{gameId:"fldxl_vivo"},function(e,t){if(e)return console.log("====> getBlack error!"),console.error(e);console.log(t),t.re<0||(console.log("===============re:",t),window.black=t.black,console.log("====> get black OK:"+window.black))})},e.requestwithoutUserInfo=function(e,t,n){n||(n={}),window.j(e,n,t)},e.login=function(e,t,n){window.j(e,n,t)},e.reportPVPResult=function(e,t,n){o.hts.jreq("https://ga.gametdd.com/cutFruit/hulu_top/arenaFightDone",{uid:o.hts.getUid(),opUid:n,isWin:1},function(n,o){n&&(t(),console.log("errr")),console.log("errr:",o),e(o)})},e}();n.HttpsTools=i,cc._RF.pop()},{"../libs/Hts":"Hts"}],Huawei:[function(e,t,n){"use strict";cc._RF.push(t,"66c81G3RJNFwoIqJpFjKtRR","Huawei");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.Huawei=void 0;var a=e("./ChannelSDK"),r=e("./SoundManager"),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.login=function(){},t.prototype.initSDK=function(t){e.prototype.initSDK.call(this,t);var n=window.swan.getUpdateManager();n.onUpdateReady(function(){window.swan.showModal({title:"\u66f4\u65b0\u63d0\u793a",content:"\u65b0\u7248\u672c\u5df2\u7ecf\u51c6\u5907\u597d\uff0c\u662f\u5426\u91cd\u542f\u5e94\u7528\uff1f",success:function(e){e.confirm&&n.applyUpdate()}})}),console.log("===\u521d\u59cb\u5316\u767e\u5ea6\u7ed3\u675f")},t.prototype.share=function(){},t.prototype.onShow=function(){},t.prototype.showAds=function(e,t,n){if(n){if(this._baiduAdTimesLimit[n]<0)return;this._baiduAdTimesLimit[n]--}this.showbadiduAds(e,t)},t.prototype.showBanner=function(){var e=this;if(0!=window.black){this._bannerAd&&(this._bannerAd.hide(),this._bannerAd.destroy());var t=window.swan.getSystemInfoSync().screenHeight,n=window.swan.getSystemInfoSync().screenWidth;this._bannerAd=window.swan.createBannerAd({adUnitId:"6618376",appSid:"ffb038bc",style:{left:45,top:t-10,width:n}}),this._bannerAd.onError(function(e){console.log("bnnaerj\u5939\u6742error\uff1a",e)}),this._bannerAd.onLoad(function(){e._isCreateBannerAdSuccess=!0,console.log("====bnaner\u8fd8\u6709\u7684"),e._bannerAd.show()}),this._bannerAd.onResize(function(n){console.log("banner onResize",n),e._bannerAd.style.top=t-10,e._bannerAd.style.left=0})}},t.prototype.showbadiduAds=function(e,t){var n=this;this._rewardedVideoAd&&this._isCreateVidioAdSuccess?(r.SoundManager.stopMusic(),this._rewardedVideoAd.show().then(function(){n._seeVideoSuccessCallBack=e,n._seeVideoFailCallBack=function(){t("\u5e7f\u544a\u6ca1\u770b\u5b8c\u54e6\uff0c\u4e0d\u53d1\u4f60\u5956\u52b1\uff01")}}).catch(function(){t("\u62c9\u53d6\u5e7f\u544a\u5931\u8d25\uff01"),r.SoundManager.playMusic()})):t("\u6ca1\u6709\u5e7f\u544a\u4fe1\u606f\u5462")},t}(a.ChannelSDK);n.Huawei=s,cc._RF.pop()},{"./ChannelSDK":"ChannelSDK","./SoundManager":"SoundManager"}],KdSdk:[function(e,t,n){"use strict";cc._RF.push(t,"5f194vGeYBNyow5o6RoLph+","KdSdk"),function(e,t){for(var n in t)e[n]=t[n]}(n,function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=11)}([function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.lerr=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];e.unshift("====>"),console.error.apply(window,e)},e.llog=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];e.unshift("====>"),console.log.apply(window,e)},e.twoInt=function(e){return e<10?"0"+e:e},e.todayStr=function(){var t=new Date;return""+t.getFullYear()+e.twoInt(t.getMonth()+1)+e.twoInt(t.getDate())},e.randomInt=function(e,t){return Math.floor(Math.random()*(t-e+1)+e)},e.saveData=function(e,t){var n=window.localStorage;n&&n.setItem("kcSdk_"+e,t)},e.loadData=function(e){var t=window.localStorage;if(t){var n=t.getItem("kcSdk_"+e);if(n)return n}return null},e.encodeUTF8=function(e){var t,n,o,i=[];for(t=0;t<e.length;t++)(n=e.charCodeAt(t))<128?i.push(n):n<2048?i.push(192+(n>>6&31),128+(63&n)):((o=55296^n)>>10==0?(n=(o<<10)+(56320^e.charCodeAt(++t))+65536,i.push(240+(n>>18&7),128+(n>>12&63))):i.push(224+(n>>12&15)),i.push(128+(n>>6&63),128+(63&n)));return i},e.s=function(t){var n,o,i,a=new Uint8Array(e.encodeUTF8(t)),r=16+(a.length+8>>>6<<4);for((t=new Uint8Array(r<<2)).set(new Uint8Array(a.buffer)),t=new Uint32Array(t.buffer),i=new DataView(t.buffer),n=0;n<r;n++)t[n]=i.getUint32(n<<2);t[a.length>>2]|=128<<24-8*(3&a.length),t[r-1]=a.length<<3;var s=[],c=[function(){return u[1]&u[2]|~u[1]&u[3]},function(){return u[1]^u[2]^u[3]},function(){return u[1]&u[2]|u[1]&u[3]|u[2]&u[3]},function(){return u[1]^u[2]^u[3]}],l=function(e,t){return e<<t|e>>>32-t},d=[1518500249,1859775393,-1894007588,-899497514],u=[1732584193,-271733879,null,null,-1009589776];for(u[2]=~u[0],u[3]=~u[1],n=0;n<t.length;n+=16){var h=u.slice(0);for(o=0;o<80;o++)s[o]=o<16?t[n+o]:l(s[o-3]^s[o-8]^s[o-14]^s[o-16],1),i=l(u[0],5)+c[o/20|0]()+u[4]+s[o]+d[o/20|0]|0,u[1]=l(u[1],30),u.pop(),u.unshift(i);for(o=0;o<5;o++)u[o]=u[o]+h[o]|0}for(i=new DataView(new Uint32Array(u).buffer),n=0;n<5;n++)u[n]=i.getUint32(n<<2);return Array.prototype.map.call(new Uint8Array(new Uint32Array(u).buffer),function(e){return(e<16?"0":"")+e.toString(16)}).join("")},e.b=function(e){var t=[];for(var n in e)t.push(n);t=t.sort();for(var o="",i=0;i<t.length;i++){var a=e[t[i]];"object"==typeof a&&(a=this.b(a)),o+=t[i]+a}return o},e.a=function(t,n,o){var i=[];for(var a in t)null!==t[a]&&void 0!==t[a]?i.push(a):delete t[a];i=i.sort();var r=e.b(t);return n&&(r+=n),r+=o||"pH0Xhyenu2e1zdUg",e.s(r)},e.jget=function(t,n){n||(n=function(t){if(t)return e.lerr(t)});var o=new XMLHttpRequest;o.open("GET",t,!0),o.onload=function(){return 200==o.status?n(null,o.responseText):n("[ERR-jget]:"+o.status)},o.send()},e.jax=function(t,n,o){o||(o=function(t){if(t)return e.lerr(t)});var i=new XMLHttpRequest,a=(new Date).getTime();n.s=e.a(n,a),i.open("POST",t,!0),i.setRequestHeader("Content-Type","application/json; charset=utf-8"),i.setRequestHeader("ts",""+a);var r=JSON.stringify(n);i.send(r),i.onload=function(){if(200==i.status){var t={jaxERR:""+i.responseText};try{t=JSON.parse(i.responseText)}catch(t){return e.lerr(t),o(null,{re:"1111",err:"jsonErr:"+i.responseText})}return o(null,t)}return o(null,{re:"9"+i.status})}},e}();t.jax=n.jax,t.jget=n.jget,t.llog=n.llog,t.lerr=n.lerr,t.saveData=n.saveData,t.loadData=n.loadData,t.randomInt=n.randomInt,t.todayStr=n.todayStr},function(e,t,n){var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),r=n(0),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.adPosIdKey="adUnitId",t.wxBannerShowTimes=0,t.bannerDestroyed=!1,t}return i(t,e),t.prototype.getChannelT=function(e){var t=window.wx;return t?e&&!t[e]?(r.llog("channelT(wx)."+e+" \u4e0d\u5b58\u5728!!"),null):t:(r.llog("channelT(wx) \u4e0d\u5b58\u5728!!"),null)},t.prototype.initChannel=function(){this.videoSleepTime=5e3;var e=this;e.isInitOK=!0,setTimeout(function(){e.loadBanner()},this.bannerLoadDelay),setTimeout(function(){e.interAutoLoad&&e.loadInter()},1e3),e.videoAutoLoad&&e.loadVideo(),e.onShow(),e.showShareMenu(),e.getLaunchOptionsSync(),r.llog("init complete!"+this.channelName),e.isInitOK=!0},t.prototype.showShareMenu=function(){var e=this.getChannelT();e&&e.showShareMenu&&this.showShareMenuObj&&(e.showShareMenu(this.showShareMenuObj),r.llog("showShareMenu"))},t.prototype.shareAppMessage=function(){var e=this.getChannelT();e&&e.shareAppMessage&&this.shareAppMessageObj&&e.shareAppMessage(this.shareAppMessageObj)},t.prototype.onShow=function(){var e=this.getChannelT();e&&e.onShow&&this.onShowFn&&e.onShow(this.onShowFn)},t.prototype.getLaunchOptionsSync=function(){var e=this.getChannelT();e&&e.getLaunchOptionsSync&&this.getLaunchOptionsSyncFn&&this.getLaunchOptionsSyncFn(e.getLaunchOptionsSync())},t.prototype.installShortcut=function(){},t.prototype.destroyBanner=function(){this.bannerAdObj&&this.bannerAdObj.destroy&&(this.bannerAdObj.destroy(),this.bannerDestroyed=!0,this.triggerEvent("banner","destroy"))},t.prototype.loadBanner=function(e){var t=this;if(e||!(this.checkPrepare("banner","createBannerAd",!0)<=0)){r.llog("loadBanner now");var n=this.getChannelT(),o={style:{left:20,top:400,width:350}};if(o[this.adPosIdKey]=this.bannerId,this.bannerIntervals&&(o.adIntervals=this.bannerIntervals),this.bannerStyle){var i=this.bannerStyle;"function"==typeof this.bannerStyle&&(i=this.bannerStyle()),o.style=i}t.bannerAdObj&&t.bannerAdObj.destroy&&(t.bannerAdObj.destroy(),r.llog("banner destroy and reCreate"));var a=t.addCreateAdConfProp(o),s=n.createBannerAd(a);this.bannerDestroyed=!1,t.bannerAdObj=s,s.onLoad(function(){r.llog("banner onLoad"),t.triggerEvent("banner","load")}),s.onError(function(e){r.llog("banner onError:",e),r.llog("bannerConfig:",a),t.loadDelay("banner",3e3,function(){t.loadBanner(!1)}),t.triggerEvent("banner","error")}),s.onResize(function(e){r.llog("banner onResize",e),t.bannerOnResize?t.bannerOnResize(e,s,n):(s.style.top=n.getSystemInfoSync().screenHeight-e.height+.1,s.style.left=(n.getSystemInfoSync().screenWidth-e.width)/2+.1)}),e&&this.doShowBanner()}},t.prototype.doShowBanner=function(){this.wxBannerShowTimes++;var e=this.getShowAdProp("banner");if(r.llog("show banner now! - ",this.wxBannerShowTimes,"/",this.wxBannerMaxShowTimes,e),e)return this.bannerAdObj.show(e);this.bannerAdObj.show()},t.prototype.showBanner=function(){this.checkPrepare("banner",null,!0)<=0||(!this.bannerDestroyed&&this.bannerAdObj&&this.wxBannerShowTimes<=this.wxBannerMaxShowTimes?this.doShowBanner():(this.wxBannerShowTimes=0,this.loadBanner(!0)))},t.prototype.loadInter=function(e,t){if(t||!(this.checkPrepare("inter","createInterstitialAd",!0)<=0)){r.llog("load inter start,"+e+","+t),this.interAdObj&&(this.interAdObj.offLoad(this.interAdObj.onLoadDoFn),this.interAdObj.offError(this.interAdObj.onErrorDoFn),this.interAdObj.offClose(this.interAdObj.onCloseDoFn),this.interAdObj.alreadyShow=!1),this.interLoaded=!1;var n=this.getChannelT(),o=this,i={};i[this.adPosIdKey]=e||this.interId,this.interAdObj=n.createInterstitialAd(this.addCreateAdConfProp(i)),this.interAdObj.onLoadDoFn=function(){if(r.llog("inter onLoad"),o.interLoaded=!0,t&&!o.interAdObj.alreadyShow){o.interAdObj.alreadyShow=!0;var e=o.interAdObj.show();e&&e.catch&&e.catch(function(e){r.lerr(e)})}o.triggerEvent("inter","load")},this.interAdObj.onLoad(this.interAdObj.onLoadDoFn),this.interAdObj.onCloseDoFn=function(){r.llog("inter onClose"),o.interLoaded=!1,o.triggerEvent("inter","close")},this.interAdObj.onClose(this.interAdObj.onCloseDoFn),this.interAdObj.onErrorDoFn=function(e){r.llog("inter onError:",e),o.interLoaded=!1,o.triggerEvent("inter","error")},this.interAdObj.onError(this.interAdObj.onErrorDoFn),r.llog("load inter now"),this.interAdObj.load()}},t.prototype.showInter=function(e){if(e)this.loadInter(e,!0);else{var t=this.checkPrepare("inter");if(-1!==t){if(!(t<=0)){var n=this.getShowAdProp("inter");r.llog("inter show now",n);var o=n?this.interAdObj.show(n):this.interAdObj.show();o&&o.catch&&o.catch(function(e){r.lerr(e)})}}else this.loadInter(this.interId,!0)}},t.prototype.callVideoLoad=function(t){var n=this,o=e.prototype.callVideoLoad.call(this,t);return o&&o.catch&&o.catch(function(e){r.llog("video load Error:"),n.videoLoaded=!1,n.isVideoLoading=!1,r.lerr(e)}),o},t.prototype.callVideoShow=function(){var t=this,n=e.prototype.callVideoShow.call(this);return n&&n.catch&&n.catch(function(e){r.llog("video show Error:"),t.videoLoaded=!1,t.isVideoLoading=!1,r.lerr(e)}),n},t.prototype.callVideoOnCLose=function(e){var t=this;this.videoAdObj.onCloseDoFn=function(n){r.llog("video onClose"),t.videoLoaded=!1,t.isVideoLoading=!1,e&&!t.videoAutoLoad&&t.videoAdObj.onLoadDoFn&&t.videoAdObj.offLoad(t.videoAdObj.onLoadDoFn);var o="notEnd";n&&n.isEnded&&(o=null),t.callVideoCallback(o),t.videoAutoLoad&&t.loadDelay("video",100),t.triggerEvent("video","close")},this.videoAdObj.onClose(this.videoAdObj.onCloseDoFn)},t.prototype.loadVideo=function(e,t){if(this.videoErrCalled=!1,this.videoLoaded)r.llog("video is already loaded");else if(this.isVideoLoading)r.llog("video is loading...");else if(t||!(this.checkPrepare("video","createRewardedVideoAd",!0)<=0)){r.llog("video load start, isAutoShow:"+t+" newPosId:"+e+" channel:"+this.channelName+" videoLoaded:"+this.videoLoaded),this.videoAdObj&&(this.videoAdObj.offLoad(this.videoAdObj.onLoadDoFn),this.videoAdObj.offError(this.videoAdObj.onErrorDoFn),this.videoAdObj.offClose(this.videoAdObj.onCloseDoFn)),r.llog("go new videoAdObj");var n=this.getChannelT(),o={};o[this.adPosIdKey]=e||this.videoId;var i=this.addCreateAdConfProp(o);e&&"wx"===this.channelName&&(i.multiton=!0),this.videoAdObj=n.createRewardedVideoAd(i),this.callVideoOnLoad(t),this.callVideoOnCLose(e),this.callVideoOnStart(),this.callVideoOnError(e),this.callVideoLoad(t)}},t.prototype.loadNative=function(){},t}(a.KdBase);t.default=s},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=function(){function e(){this.version="1.6.4",this.channelName="oppo",this.bannerLoadDelay=10,this.bannerMaxShowPerDay=200,this.bannerCreateTime=0,this.bannerSleepTime=3e4,this.adPosIdKey="posId",this.showCountMap={banner:0,inter:0,video:0,native:0},this.showMaxMap={banner:0,inter:0,video:0,native:0},this.interCreateTime=0,this.interSleepTime=5e3,this.interShowCount=0,this.interLoaded=!1,this.interAutoLoad=!0,this.videoCreateTime=0,this.videoSleepTime=5e3,this.videoLoaded=!1,this.videoAutoLoad=!0,this.wxBannerMaxShowTimes=3,this.nativeCreateTime=0,this.nativeSleepTime=5e3,this.nativeLoaded=!1,this.black=0,this.isInitOK=!1,this.timeOutIdMap={},this.posIdMap={banner:[],inter:[],video:[],native:[]},this.kUrl="https://ga.gametdd.com/adCtrl/adc/getBlack",this.kdStrategy=[[[100,1,2]]],this.audioCtrl={play:function(){},stop:function(){}},this.eventMap={},this.videoErrCalled=!1,this.isAudioStoped=!1,this.isVideoLoading=!1,this.adPropMap={},this.isOnLoadCalling=!1,this.nativeAdIdMap={}}return e.prototype.getChannelName=function(){return this.channelName},e.prototype.login=function(e){var t=this.getChannelT();t&&t.login&&this.loginObj&&t.login(e||this.loginObj)},e.prototype.showShareMenu=function(){},e.prototype.shareAppMessage=function(){},e.prototype.onEvent=function(e,t,n,o){this.eventMap[e+"_"+t+"_"+n]=o},e.prototype.triggerEvent=function(e,t){var n=this.eventMap[this.channelName+"_"+e+"_"+t];n&&n()},e.prototype.onShow=function(){var e=this.getChannelT();e&&e.onShow&&this.onShowFn&&e.onShow(this.onShowFn)},e.prototype.getLaunchOptionsSync=function(){var e=this.getChannelT();e&&e.getLaunchOptionsSync&&this.getLaunchOptionsSyncFn&&this.getLaunchOptionsSyncFn(e.getLaunchOptionsSync())},e.prototype.installShortcut=function(){var e=this.getChannelT();if(e&&e.hasShortcutInstalled&&e.installShortcut){var t=this;e.hasShortcutInstalled({success:function(n){n?t.shortCutObj.success(n):e.installShortcut(t.shortCutObj)},fail:function(e){t.shortCutObj.fail&&t.shortCutObj.fail(e)},complete:function(){}})}},e.prototype.getChannelT=function(e){var t=window.qg;return t?e&&!t[e]?(o.llog("channelT(qg)."+e+" \u4e0d\u5b58\u5728!!"),null):t:(o.llog("channelT(qg) \u4e0d\u5b58\u5728!!"),null)},e.prototype.initChannel=function(e,t){o.llog("init Channnel:"+t.channelName),this.isInitOK=!0},e.prototype.getBlack=function(){return this.black},e.prototype.loadDelay=function(e,t,n){o.llog("loadDelay:"+e+","+t);var i=this,a=i.timeOutIdMap[e];a&&clearTimeout(a);var r=e.charAt(0).toUpperCase()+e.substring(1),s=n||function(){i["load"+r]?(i["load"+r](),o.llog("\u540e\u53f0load,\u5173\u95ed\u9519\u8bef\u56de\u8c03"),i.videoErrCalled=!0):o.lerr("err adType:"+r+","+i.channelName)};s?i.timeOutIdMap[e]=setTimeout(s,t||100):o.llog("\u65e0loadFn:load"+r)},e.prototype.showCountAdd=function(e){o.llog("showCountAdd:"+e+"|"+this.showCountMap[e]),this.showCountMap[e]++,this.showMaxMap[e]&&o.saveData("show_count_"+e+"_"+o.todayStr(),""+this.showCountMap[e])},e.prototype.loadAllShowCount=function(){for(var e in this.showCountMap){var t=o.loadData("show_count_"+e+"_"+o.todayStr());t&&(this.showCountMap[e]=parseInt(t))}},e.prototype.checkPrepare=function(e,t,n){if(!this.getChannelT(t))return 0;if(this.showMaxMap[e]&&this.showCountMap[e]>=this.showMaxMap[e])return o.llog("\u5f53\u65e5\u5c55\u793a\u6b21\u6570\u5df2\u8fbe\u4e0a\u9650:"+e+","+this.showCountMap[e]+"/"+this.showMaxMap[e]),this.triggerEvent(e,"limit"),0;if(!this.isInitOK)return o.llog(e+" SDK\u672a\u5b8c\u6210init"),this.triggerEvent(e,"noInit"),0;if(!this[e+"Id"])return o.llog(e+" \u65e0Id,\u8bf7\u68c0\u67e5init\u53c2\u6570"),0;if(!n){if(!this[e+"AdObj"])return o.llog(e+"AdObj \u4e3a\u7a7a!"),-1;if(!this[e+"Loaded"])return o.llog(e+" \u672a\u5b8c\u6210load!"),-1}return 1},e.prototype.setConf=function(e){e?(void 0!==e.gameId&&(this.gameId=e.gameId),void 0!==e.appId&&(this.appId=e.appId),void 0!==e.bannerOnResize&&(this.bannerOnResize=e.bannerOnResize),void 0!==e.channelName&&(this.channelName=e.channelName),void 0!==e.bannerId&&(this.bannerId=e.bannerId),void 0!==e.interId&&(this.interId=e.interId),void 0!==e.videoId&&(this.videoId=e.videoId),void 0!==e.nativeId&&(this.nativeId=e.nativeId),void 0!==e.audioCtrl&&(this.audioCtrl=e.audioCtrl),void 0!==e.kUrl&&(this.kUrl=e.kUrl),void 0!==e.nativeOnLoad&&(this.nativeOnLoad=e.nativeOnLoad),void 0!==e.nativeOnError&&(this.nativeOnError=e.nativeOnError),void 0!==e.bannerIntervals&&(this.bannerIntervals=e.bannerIntervals),void 0!==e.bannerLoadDelay&&(this.bannerLoadDelay=e.bannerLoadDelay),void 0!==e.bannerStyle&&(this.bannerStyle=e.bannerStyle),void 0!==e.showShareMenuObj&&(this.showShareMenuObj=e.showShareMenuObj),void 0!==e.shareAppMessageObj&&(this.shareAppMessageObj=e.shareAppMessageObj),void 0!==e.loginObj&&(this.loginObj=e.loginObj),void 0!==e.shortCutObj&&(this.shortCutObj=e.shortCutObj),void 0!==e.onShowFn&&(this.onShowFn=e.onShowFn),void 0!==e.getLaunchOptionsSyncFn&&(this.getLaunchOptionsSyncFn=e.getLaunchOptionsSyncFn),void 0!==e.videoAutoLoad&&(this.videoAutoLoad=e.videoAutoLoad),void 0!==e.interAutoLoad&&(this.interAutoLoad=e.interAutoLoad),void 0!==e.wxBannerMaxShowTimes&&(this.wxBannerMaxShowTimes=e.wxBannerMaxShowTimes)):o.llog(" Kd init no conf!!!")},e.prototype.updatePosId=function(e,t){if(t&&!(t.length<3)){o.llog("updatePosId",e,t);var n=t.split(",");this[e+"Id"]=n[0],this.posIdMap[e]=[];for(var i=0;i<n.length;i++){var a=n[i].trim();a.length>2&&this.posIdMap[e].push(a)}}},e.prototype.getPosId=function(e,t){if(!this.isInitOK)return o.llog("getPosId\u672a\u521d\u59cb\u5b8c\u6210,adType:"+e+" num:"+t),"";if(!t)return this[e+"Id"];var n=this.posIdMap[e];return n?t>=n.length?(o.llog("getPosId-"+e+"\u957f\u5ea6\u4e0d\u8db3 num:"+t+" len:"+n.length),""):n[t]:(o.llog("getPosId\u65e0\u6b64adType:"+e+" num:"+t),"")},e.prototype.init=function(e,t){this.setConf(e),o.llog("KD init v:"+this.version+","+this.channelName+","+this.gameId),t||(t=function(){});var n=this.getChannelT(null);if(n){var i=this;o.jax(this.kUrl,{gameId:this.gameId+"_"+this.channelName},function(e,n){return e?(o.lerr(e),o.llog(" getBlack error!"),void t("getBlack error")):n.re<0?(o.lerr("getBlack.re err:"+n.re),void t("getBlack.re err:"+n.re)):(i.black=n.black,o.llog("KD inited OK. black:"+i.black),i.updatePosId("banner",n.banner),i.updatePosId("inter",n.inter),i.updatePosId("video",n.video),i.updatePosId("native",n.native),void t(null))}),this.initChannel(n,e),this.loadAllShowCount()}else t("channelT error")},e.prototype.addCreateAdConfProp=function(e){return e},e.prototype.showBanner=function(){var e=this;if(!(this.checkPrepare("banner","createBannerAd",!0)<=0)){o.llog("showBanner start",this.channelName);var t=this.getChannelT();if(t.createBannerAd){var n={};n[this.adPosIdKey]=this.bannerId,this.bannerIntervals&&(n.adIntervals=this.bannerIntervals),e.bannerAdObj=t.createBannerAd(n),e.bannerAdObj.offShow&&(e.bannerAdObj.offShow(),e.bannerAdObj.onShow(function(){o.llog("banner onShow"),e.triggerEvent("banner","show")})),e.bannerAdObj.offHide&&(e.bannerAdObj.offHide(),e.bannerAdObj.onHide(function(){o.llog("banner onHide"),e.showCountAdd("banner"),e.triggerEvent("banner","close")})),e.bannerAdObj.offError(),e.bannerAdObj.onError(function(t){o.llog("banner onError:",t),e.triggerEvent("banner","error")}),o.llog("banner show now"),e.bannerAdObj.show()}else o.llog("no createBannerAd!")}},e.prototype.closeBanner=function(){this.bannerAdObj&&(o.llog("banner hide now"),this.bannerAdObj.hide())},e.prototype.destroyBanner=function(){this.bannerAdObj&&this.bannerAdObj.destroy&&(this.bannerAdObj.destroy(),this.triggerEvent("banner","destroy"))},e.prototype.destroyVideo=function(){this.videoAdObj&&this.videoAdObj.destroy&&(this.videoAdObj.destroy(),this.triggerEvent("video","destroy"))},e.prototype.destroyInter=function(){this.interAdObj&&this.interAdObj.destroy&&(this.interAdObj.destroy(),this.triggerEvent("inter","destroy"))},e.prototype.loadInter=function(e,t){if(this.interLoaded=!1,t||!(this.checkPrepare("inter","createInsertAd",!0)<=0)){o.llog("load inter start:"+e+","+t);var n=this.getChannelT(),i=n.createInsertAd||n.createInterstitialAd;if(i){var a=this,r={};r[this.adPosIdKey]=e||this.interId,this.interAdObj=i(r),this.interAdObj.offLoad(),this.interAdObj.onLoad(function(){o.llog("inter onLoad,autoShow:"+t),a.interLoaded=!0,t&&(o.llog("show inter now"),a.interAdObj.show()),a.triggerEvent("inter","load")}),this.interAdObj.offClose?(this.interAdObj.offClose(),this.interAdObj.onClose&&this.interAdObj.onClose(function(){o.llog("inter onClose,autoLoad:"+a.interAutoLoad),a.interLoaded=!1,a.showCountAdd("inter"),a.interAutoLoad&&a.loadDelay("inter",1e3),a.triggerEvent("inter","close")})):this.interAdObj.offShow&&(this.interAdObj.offShow(),this.interAdObj.onShow&&this.interAdObj.onShow(function(){o.llog("inter onShow,autoLoad:"+a.interAutoLoad),a.interLoaded=!1,a.showCountAdd("inter"),a.interAutoLoad&&a.loadDelay("inter",1e3),a.triggerEvent("inter","show")})),this.interAdObj.offError(),this.interAdObj.onError(function(e){for(var t in e)o.llog("interErr:["+t+"]:"+e[t]);a.interLoaded=!1,a.triggerEvent("inter","error")}),o.llog("load inter now"),this.interAdObj.load()}else o.llog("no inter createFn!")}},e.prototype.showInter=function(e){if(e)this.loadInter(e,!0);else{var t=this.checkPrepare("inter");-1!==t?t<=0||(o.llog("show inter now"),this.interAdObj.show()):this.loadInter(this.interId,!0)}},e.prototype.setShowAdProp=function(e,t){t&&(this.adPropMap[e]=t)},e.prototype.getShowAdProp=function(e){return this.adPropMap[e]},e.prototype.callVideoLoad=function(){return this.isVideoLoading?(o.llog("video is loading,cancel load"),null):(this.isVideoLoading=!0,o.llog("video load now"),this.videoAdObj.load())},e.prototype.callVideoShow=function(){if(o.llog("callVideoShow now"),!this.isAudioStoped)try{this.isAudioStoped=!0,this.audioCtrl.stop()}catch(e){o.llog(e)}var e=this.getShowAdProp("video");return o.llog("video show now",e),e?this.videoAdObj.show(e):this.videoAdObj.show()},e.prototype.setVideoCallback=function(e){var t=this;this.videoErrCalled=!1,t.videoCallback=function(n){if(t.isAudioStoped)try{t.isAudioStoped=!1,t.audioCtrl.play()}catch(e){o.llog(e)}o.llog(" videoCallback:"+n),e(n)}},e.prototype.callVideoCallback=function(e){this.videoCallback&&(this.videoErrCalled?o.llog("videoCallback already called"):(this.videoErrCalled=!0,o.llog(" callVideoCallback:"+e),this.videoCallback(e)))},e.prototype.callVideoOnLoad=function(e){var t=this;o.llog("callVideoOnLoad isOnLoadCalling:",this.isOnLoadCalling),this.isOnLoadCalling=!1;var n=this;this.videoAdObj.onLoadDoFn=function(){o.llog("onLoadDoFn called:",t.isOnLoadCalling),t.isOnLoadCalling||(t.isOnLoadCalling=!0,n.videoLoaded=!0,n.isVideoLoading=!1,o.llog("video onLoad, isAutoShow:"+e+" videoLoaded:"+n.videoLoaded),e&&n.callVideoShow(),n.triggerEvent("video","load"))},n.videoAdObj.onLoad(n.videoAdObj.onLoadDoFn)},e.prototype.callVideoOnCLose=function(){var e=this;this.videoAdObj.onCloseDoFn=function(t){o.llog("video onClose"),e.videoLoaded=!1,e.isVideoLoading=!1;var n="notEnd";t&&t.isEnded&&(n=null),e.callVideoCallback(n),e.videoAutoLoad&&e.loadDelay("video",100),e.triggerEvent("video","close")},e.videoAdObj.onClose(e.videoAdObj.onCloseDoFn)},e.prototype.callVideoOnStart=function(){},e.prototype.callVideoOnError=function(){var e=this;this.videoAdObj.onErrorDoFn=function(t){o.llog("video onError:",JSON.stringify(t)),e.videoLoaded=!1,e.isVideoLoading=!1,e.callVideoCallback("noAd"),e.triggerEvent("video","error")},e.videoAdObj.onError(e.videoAdObj.onErrorDoFn)},e.prototype.loadVideo=function(e,t){if(this.videoLoaded)o.llog("video is already loaded");else if(t||!(this.checkPrepare("video","createRewardedVideoAd",!0)<=0)){o.llog("video load start",this.videoId);var n=this.getChannelT(),i={};i[this.adPosIdKey]=e||this.videoId,this.videoAdObj=n.createRewardedVideoAd(i),this.callVideoOnLoad(t),this.callVideoOnCLose(e),this.callVideoOnStart(),this.callVideoOnError(e),this.callVideoLoad(t)}},e.prototype.showVideo=function(e,t,n){if(this.videoErrCalled=!1,this.setVideoCallback(e),t)return o.llog("video load and show start, newPosId:"+t),void this.loadVideo(t,!0);var i=this.checkPrepare("video");-1!==i||this.isVideoLoading||n?i<=0?this.callVideoCallback("noAd"):(o.llog("video show start,videoLoaded:"+this.videoLoaded),this.callVideoShow()):this.loadVideo(this.videoId,!0)},e.prototype.getNativeAdId=function(e){if(!this.nativeData)return o.llog("getNativeAdId \u672a\u5b8c\u6210load"),0;var t=this.nativeData.adId,n=e||this.nativeId;return n&&this.nativeAdIdMap[n]&&(t=this.nativeAdIdMap[n]),t},e.prototype.loadNative=function(e,t){if(!(this.checkPrepare("native","createNativeAd",!0)<=0)){o.llog("loadNative start",this.channelName);var n=this.getChannelT(),i=this;i.nativeLoaded=!1;var a=t||this.nativeId,r={};r[this.adPosIdKey]=a,this.nativeAdObj=n.createNativeAd(r),this.nativeAdObj.offLoad(),this.nativeAdObj.onLoad(function(t){i.nativeLoaded=!0,i.nativeOnLoad||e?((void 0===t.code||0===t.code)&&t.adList.length>0?(i.nativeData=t.adList[0],i.nativeAdIdMap[a]=i.nativeData.adId):(i.nativeData=null,o.llog("nativeAd load data error:",JSON.stringify(t))),e?e(t):i.nativeOnLoad(t)):o.llog("no nativeOnLoad")}),this.nativeAdObj.offError(),this.nativeAdObj.onError(function(e){o.llog("native onError:",JSON.stringify(e)),i.nativeLoaded=!1,i.nativeOnError?i.nativeOnError(e):o.llog("no nativeOnError!")}),o.llog("loadNative now"),this.nativeAdObj.load()}},e.prototype.reportNativeShow=function(e){if(this.nativeAdObj){this.showCountAdd("native");var t=this.getNativeAdId(e);this.nativeAdObj.reportAdShow({adId:t}),o.llog("reportNativeShow:"+t+",newPosId:"+e)}else o.llog("\u65e0nativeAdObj")},e.prototype.reportNativeClick=function(e){if(this.nativeAdObj){var t=this.getNativeAdId(e);this.nativeAdObj.reportAdClick({adId:t}),o.llog("reportNativeClick:"+t+",newPosId:"+e)}else o.llog("\u65e0nativeAdObj")},e}();t.KdBase=i},function(e,t,n){var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),r=n(0),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.initChannel=function(e,t){r.llog("init Channnel:"+t.channelName),this.showMaxMap.banner=5,this.showMaxMap.inter=8;var n=this;e.initAdService({appId:t.appId,isDebug:!1,success:function(){r.llog("init success")},fail:function(e){r.llog("init fail:"+e.code+e.msg)},complete:function(){r.llog("init complete!"+this.channelName),n.isInitOK=!0,n.interAutoLoad&&setTimeout(function(){n.loadInter()},2e3),n.videoAutoLoad&&n.loadVideo()}}),n.getLaunchOptionsSync()},t.prototype.setConf=function(t){e.prototype.setConf.call(this,t),t.interMaxPerDay&&(this.showMaxMap.inter=t.interMaxPerDay,r.llog("interMaxPerDay set to:"+this.showMaxMap.inter))},t.prototype.callVideoOnLoad=function(t){this.videoAdObj.offLoad(),e.prototype.callVideoOnLoad.call(this,t)},t.prototype.callVideoOnCLose=function(t){this.videoAdObj.offClose(),e.prototype.callVideoOnCLose.call(this,t)},t.prototype.callVideoOnStart=function(){this.videoAdObj.offVideoStart();var e=this;this.videoAdObj.onVideoStart(function(){r.llog("video onVideoStart"),e.showCountAdd("video")})},t.prototype.callVideoOnError=function(t){this.videoAdObj.offError(),e.prototype.callVideoOnError.call(this,t)},t}(a.KdBase);t.default=s},function(e,t,n){var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),r=n(0),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.adPosIdKey="adUnitId",t}return i(t,e),t.prototype.getChannelT=function(e){var t=window.hbs;return t?e&&!t[e]?(r.llog("channelT(hbs)."+e+" \u4e0d\u5b58\u5728!!"),null):t:(r.llog("channelT(hbs) \u4e0d\u5b58\u5728!!"),null)},t.prototype.initChannel=function(e,t){r.llog("init Channnel:"+t.channelName);var n=this;this.bannerIntervals=60,n.videoAutoLoad&&setTimeout(function(){n.loadVideo()},2e3),r.llog("init complete!"+this.channelName),this.isInitOK=!0},t.prototype.shareAppMessage=function(){},t.prototype.installShortcut=function(){},t.prototype.showBanner=function(){var e=this;if(!(this.checkPrepare("banner","createBannerAd",!0)<=0)){var t=this.getChannelT();if(t.createBannerAd){var n={style:{left:0,top:0,width:360,height:57}};if(n[this.adPosIdKey]=this.bannerId,this.bannerIntervals&&(n.adIntervals=this.bannerIntervals),this.bannerStyle){var o=this.bannerStyle;"function"==typeof this.bannerStyle&&(o=this.bannerStyle()),n.style=o}e.bannerAdObj=t.createBannerAd(n),e.bannerAdObj.offLoad&&(e.bannerAdObj.offLoad(),e.bannerAdObj.onLoad(function(){r.llog("banner onLoad"),e.triggerEvent("banner","load")})),e.bannerAdObj.offClose&&(e.bannerAdObj.offClose(),e.bannerAdObj.onClose(function(){r.llog("banner onClose"),e.showCountAdd("banner"),e.triggerEvent("banner","close")})),e.bannerAdObj.offError(),e.bannerAdObj.onError(function(t){for(var n in t)r.llog("bannerErr:["+n+"]:"+t[n]);e.triggerEvent("banner","error")}),r.llog("banner show now"),e.bannerAdObj.show()}else r.llog("no createBannerAd!")}},t.prototype.loadVideo=function(e,t){if(t||!(this.checkPrepare("video","createRewardedVideoAd",!0)<=0)){r.llog("video load start",this.videoId);var n=this.getChannelT(),o={};o[this.adPosIdKey]=e||this.videoId,o.success=function(){r.llog("huawei video success")},o.fail=function(e,t){r.llog("huawei video create error:",e,t)},o.complete=function(){r.llog("huawei video complete")},this.videoAdObj=n.createRewardedVideoAd(o),this.callVideoOnLoad(t),this.callVideoOnCLose(e),this.callVideoOnError(e),this.callVideoLoad(t)}},t}(a.KdBase);t.default=s},function(e,t,n){var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.getChannelT=function(e){var t=window.uc;return t?e&&!t[e]?(a.llog("channelT(uc)."+e+" \u4e0d\u5b58\u5728!!"),null):t:(a.llog("channelT(uc) \u4e0d\u5b58\u5728!!"),null)},t.prototype.loadBanner=function(e){var t=this,n=this;if(e||!(this.checkPrepare("banner","createBannerAd",!0)<=0)){a.llog("loadBanner now");var o=this.getChannelT(),i={style:{left:20,top:400,width:350}};if(i[this.adPosIdKey]=this.bannerId,this.bannerStyle){var r=this.bannerStyle;"function"==typeof this.bannerStyle&&(r=this.bannerStyle()),i.style=r}n.bannerAdObj&&n.bannerAdObj.destroy&&(n.bannerAdObj.destroy(),a.llog("banner destroy and reCreate"));var s=n.addCreateAdConfProp(i),c=o.createBannerAd(s);this.bannerDestroyed=!1,n.bannerAdObj=c,c.onLoad(function(){a.llog("banner onLoad"),n.triggerEvent("banner","load"),e&&t.doShowBanner()}),c.onError(function(e){a.llog("banner onError:",e),a.llog("bannerConfig:",s),n.loadDelay("banner",3e3,function(){n.loadBanner(!1)}),n.triggerEvent("banner","error")})}},t.prototype.callVideoLoad=function(){return null},t.prototype.callVideoShow=function(){var t=this,n=e.prototype.callVideoShow.call(this);return n&&n.catch&&n.catch(function(e){a.llog("video show Error:"),t.videoLoaded=!1,t.isVideoLoading=!1,a.lerr(e)}),n},t.prototype.loadVideo=function(e,t){if(this.videoErrCalled=!1,this.videoLoaded)a.llog("video is already loaded");else if(t||!(this.checkPrepare("video","createRewardVideoAd",!0)<=0)){a.llog("video load start",this.videoId);var n=this.getChannelT();return this.videoAdObj=n.createRewardVideoAd(),this.callVideoOnCLose(e),this.callVideoOnError(e),this.callVideoOnLoad(!1),t&&e===this.videoId?(t=!1,void this.callVideoShow()):void 0}},t}(n(1).default);t.default=r},function(e,t,n){var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),r=n(0),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.adPosIdKey="adUnitId",t.isBannerOnLoadSet=!1,t}return i(t,e),t.prototype.initChannel=function(){this.bannerSleepTime=1e3,this.interSleepTime=1e3,this.videoSleepTime=5e3,this.nativeSleepTime=1,this.isInitOK=!0,r.llog("init complete! "+this.channelName)},t.prototype.onShow=function(){},t.prototype.getLaunchOptionsSync=function(){},t.prototype.installShortcut=function(){},t.prototype.showBanner=function(){var e=this;if(!(this.checkPrepare("banner","createBannerAd",!0)<=0)){if(r.llog("showBanner start",this.channelName),e.bannerAdObj)return e.bannerAdObj.show(),void e.triggerEvent("banner","show");var t=this.getChannelT(),n={adUnitId:this.bannerId};if(this.bannerStyle){var o=this.bannerStyle;"function"==typeof this.bannerStyle&&(o=this.bannerStyle()),n.style={},o.left&&(n.style.left=o.left),o.top&&(n.style.top=o.top),o.width&&(n.style.width=o.width),o.height&&(n.style.height=o.height)}r.llog("meizu bannerConf:",n),e.bannerAdObj=t.createBannerAd(n),this.isBannerOnLoadSet||(this.isBannerOnLoadSet=!0,e.bannerAdObj.onLoad(function(){r.llog("banner onload and show now"),e.bannerAdObj.show(),e.triggerEvent("banner","show")})),e.bannerAdObj.offClose(),e.bannerAdObj.onClose(function(t){r.llog("banner onClose:",t),e.showCountAdd("banner"),e.triggerEvent("banner","close")}),e.bannerAdObj.offError(),e.bannerAdObj.onError(function(t){r.llog("banner onError:",t),e.triggerEvent("banner","error")})}},t.prototype.callVideoOnCLose=function(){var e=this;this.videoAdObj.onCloseDoFn=function(){r.llog("video onClose"),e.videoLoaded=!1,e.isVideoLoading=!1,e.callVideoCallback("notEnd"),e.videoAutoLoad&&e.loadDelay("video",100),e.triggerEvent("video","close")},e.videoAdObj.onClose(e.videoAdObj.onCloseDoFn)},t.prototype.callVideoOnStart=function(){var e=this;this.videoAdObj.offRewarded(),this.videoAdObj.onRewarded(function(){r.llog("video onRewarded"),e.videoLoaded=!1,e.callVideoCallback(null),e.triggerEvent("video","reward")})},t}(a.KdBase);t.default=s},function(e,t,n){var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.getChannelT=function(e){var t=window.tt;return t?e&&!t[e]?(a.llog("channelT(tt)."+e+" \u4e0d\u5b58\u5728!!"),null):t:(a.llog("channelT(tt) \u4e0d\u5b58\u5728!!"),null)},t.prototype.initChannel=function(){this.isInitOK=!0,this.onShow(),this.showShareMenu(),this.getLaunchOptionsSync(),a.llog("init complete!"+this.channelName),this.isInitOK=!0},t.prototype.loadBanner=function(){},t.prototype.showBanner=function(){var e=this,t=this.getChannelT(),n={style:{left:20,top:400,width:350}};if(n[e.adPosIdKey]=e.bannerId,e.bannerIntervals&&(n.adIntervals=e.bannerIntervals),e.bannerStyle){var o=e.bannerStyle;"function"==typeof e.bannerStyle&&(o=e.bannerStyle()),n.style.left=o.left||20,n.style.top=o.top||400,n.style.width=o.width||350}e.bannerAdObj&&e.bannerAdObj.destroy&&e.bannerAdObj.destroy();var i=e.addCreateAdConfProp(n),r=t.createBannerAd(i);e.bannerAdObj=r,r.onLoad(function(){a.llog("banner onLoad"),e.triggerEvent("banner","load"),r.show().then(function(){a.llog("banner\u663e\u793a\u6210\u529f")}).catch(function(e){a.llog("banner\u5e7f\u544a\u7ec4\u4ef6\u51fa\u73b0\u95ee\u9898",e)})}),r.onError(function(t){a.llog("banner onError:",t),a.llog("bannerConfig:",i),e.triggerEvent("banner","error")}),r.onResize(function(n){a.llog("banner onResize",n),e.bannerOnResize?e.bannerOnResize(n,r,t):(r.style.top=t.getSystemInfoSync().screenHeight-n.height+.1,r.style.left=(t.getSystemInfoSync().screenWidth-n.width)/2+.1)})},t.prototype.loadInter=function(){},t.prototype.showInter=function(e){a.llog("showInter start",this.channelName,"interId",this.interId);var t=this,n=this.getChannelT(),o={};o[this.adPosIdKey]=e||this.interId,t.interAdObj=n.createInterstitialAd(this.addCreateAdConfProp(o)),t.interAdObj.onLoad(function(){a.llog("inter onLoad, will show now",t.channelName),t.triggerEvent("inter","load")}),t.interAdObj.onClose(function(){a.llog("inter onClose"),t.triggerEvent("inter","close")}),t.interAdObj.onError(function(e){a.llog("inter onError:",e),t.triggerEvent("inter","error")}),t.interAdObj.load().then(function(){t.interAdObj.show()}).catch(function(e){a.llog("inter Error:",e),t.triggerEvent("inter","error")})},t.prototype.addCreateAdConfProp=function(e){return this.interAdObj&&(a.llog("destroy inter"),this.interAdObj.destroy(),this.interAdObj=null),e},t.prototype.showVideo=function(e,t){this.videoErrCalled=!1,this.setVideoCallback(e),t||(t=this.videoId);var n=this;this.videoAutoLoad=!1,a.llog("video show start with no load");var o={};o[this.adPosIdKey]=t||this.videoId;var i=this.getChannelT();this.videoAdObj=i.createRewardedVideoAd(o),this.callVideoOnCLose(t),this.callVideoOnError(t),this.videoAdObj.show().then(function(){a.llog("video\u5e7f\u544a\u663e\u793a\u6210\u529f")}).catch(function(e){a.llog("video\u5e7f\u544a\u7ec4\u4ef6\u51fa\u73b0\u95ee\u9898",e),n.videoAdObj.load().then(function(){return a.llog("video\u624b\u52a8\u52a0\u8f7d\u6210\u529f"),n.videoAdObj.show()})})},t}(n(1).default);t.default=r},function(e,t,n){var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.getChannelT=function(e){var t=window.swan;return t?e&&!t[e]?(a.llog("channelT(swan)."+e+" \u4e0d\u5b58\u5728!!"),null):t:(a.llog("channelT(swan) \u4e0d\u5b58\u5728!!"),null)},t.prototype.addCreateAdConfProp=function(e){return e.appSid=this.appId,e},t.prototype.loadBanner=function(t){e.prototype.loadBanner.call(this,t);var n=this;setTimeout(function(){a.llog("banner width change"),n.bannerAdObj.style.width++},100)},t.prototype.loadInter=function(){},t.prototype.showInter=function(){},t}(n(1).default);t.default=r},function(e,t,n){var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.getChannelT=function(e){var t=window.qq;return t?e&&!t[e]?(a.llog("channelT(qq)."+e+" \u4e0d\u5b58\u5728!!"),null):t:(a.llog("channelT(qq) \u4e0d\u5b58\u5728!!"),null)},t.prototype.callVideoOnLoad=function(e){var t=this;this.videoAdObj.onLoadDoFn=function(){t.videoLoaded=!0,a.llog("video onLoad, isAutoShow:"+e+" videoLoaded:"+t.videoLoaded),t.triggerEvent("video","load")},t.videoAdObj.onLoad(t.videoAdObj.onLoadDoFn)},t.prototype.callVideoLoad=function(e){var t=this;if(!this.isVideoLoading){var n=this.videoAdObj.load();return n.then(function(){a.llog("video load then, isAutoShow:"+e),e&&t.videoAdObj.show()}).catch(function(e){a.llog("video load Error:"),t.videoLoaded=!1,t.isVideoLoading=!1,a.lerr(e)}),n}a.llog("video is loading,cancel load")},t}(n(1).default);t.default=r},function(e,t,n){var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.vivoVideoFirstErr=!1,t}return i(t,e),t.prototype.initChannel=function(){this.bannerSleepTime=11e3,this.interSleepTime=11e3,this.videoSleepTime=6e4,this.nativeSleepTime=1,this.isInitOK=!0,a.llog("init complete! vivo, videoAutoLoad:"+this.videoAutoLoad),this.videoAutoLoad=!1},t.prototype.onShow=function(){},t.prototype.getLaunchOptionsSync=function(){},t.prototype.checkPrepare=function(t,n,o,i,r){if(o){var s=this[t+"CreateTime"],c=this[t+"SleepTime"];if(0!==s&&(new Date).getTime()-s<=c)return a.llog(t+"\u95f4\u9694\u65f6\u95f4\u672a\u5230"),this.triggerEvent(t,"limit"),0}return e.prototype.checkPrepare.call(this,t,n,o,i,r)},t.prototype.showBanner=function(){var e=this;if(!(this.checkPrepare("banner","createBannerAd",!0)<=0)){a.llog("showBanner start",this.channelName,"bannerId",e.bannerId),e.bannerCreateTime=(new Date).getTime();var t=this.getChannelT();e.bannerAdObj=t.createBannerAd({posId:e.bannerId,style:{}}),e.bannerAdObj.offLoad(),e.bannerAdObj.onLoad(function(){a.llog("banner onLoad,showBanner now",e.channelName),e.triggerEvent("banner","load")}),e.bannerAdObj.offClose(),e.bannerAdObj.onClose(function(){a.llog("banner onClose"),e.triggerEvent("banner","close")}),e.bannerAdObj.offError(),e.bannerAdObj.onError(function(t){a.llog("banner onError:",t),e.triggerEvent("banner","error")});var n=e.bannerAdObj.show();n&&n.then(function(){a.llog("banner\u5e7f\u544a\u5c55\u793a\u6210\u529f")}).catch(function(e){a.llog("banner\u5e7f\u544a\u5c55\u793a\u5931\u8d25",e)})}},t.prototype.loadInter=function(){},t.prototype.showInter=function(e){if(!(this.checkPrepare("inter","createInterstitialAd",!0)<=0)){a.llog("showInter start",this.channelName,"interId",this.interId);var t=this,n=this.getChannelT();t.interAdObj=n.createInterstitialAd({posId:e||this.interId}),t.interAdObj.offLoad(),t.interAdObj.onLoad(function(){a.llog("inter onLoad, will show now",t.channelName),t.triggerEvent("inter","load")}),t.interAdObj.offClose(),t.interAdObj.onClose(function(){a.llog("inter onClose"),t.triggerEvent("inter","close")}),t.interAdObj.offError(),t.interAdObj.onError(function(e){a.llog("inter onError:",e),t.triggerEvent("inter","error")});var o=t.interAdObj.show();o&&o.then(function(){a.llog("inter\u5e7f\u544a\u5c55\u793a\u6210\u529f")}).catch(function(e){a.llog("inter\u5e7f\u544a\u5c55\u793a\u5931\u8d25",e)})}},t.prototype.callVideoOnStart=function(){},t.prototype.callVideoOnError=function(){var e=this;this.videoAdObj.onError(function(t){if(a.llog("video onError:",t),e.videoLoaded=!1,e.isVideoLoading=!1,!e.vivoVideoFirstErr)return a.llog("vivoVideoFirstErr"),void(e.vivoVideoFirstErr=!0);e.callVideoCallback("noAd"),e.triggerEvent("video","error")})},t.prototype.callVideoLoad=function(t){var n=this;a.llog("callVideoLoad vivo");var o=e.prototype.callVideoLoad.call(this,t);return o&&o.catch&&o.catch(function(e){a.llog("vivo video load Error:",e),n.videoLoaded=!1,n.isVideoLoading=!1,n.callVideoCallback("noAd")}),o},t.prototype.callVideoShow=function(){var t=this;a.llog("callVideoShow vivo");var n=e.prototype.callVideoShow.call(this);return n&&n.catch&&n.then(function(){}).catch(function(e){a.llog("vivo video\u5e7f\u544a\u5c55\u793a\u5931\u8d25",e),t.videoLoaded=!1,t.isVideoLoading=!1,t.callVideoCallback("noAd")}),n},t.prototype.showVideo=function(e,t){this.videoErrCalled=!1,this.videoAutoLoad=!1,this.setVideoCallback(e),t||(t=this.videoId),a.llog("video load and show start"),this.loadVideo(t,!0)},t.prototype.loadNative=function(e,t){if(!(this.checkPrepare("native","createNativeAd",!0)<=0)){a.llog("loadNative start",this.channelName);var n=this.getChannelT(),o=this;o.nativeErr=!1,o.nativeLoaded=!1;var i=t||this.nativeId;this.nativeAdObj=n.createNativeAd({posId:i}),this.nativeAdObj.onLoad(function(t){o.nativeLoaded=!0,o.nativeOnLoad||e?(t&&t.adList.length>0?(o.nativeData=t.adList[0],o.nativeAdIdMap[i]=o.nativeData.adId):(o.nativeData=null,a.llog("nativeAd load data error:",t)),o.nativeErr||(e?e(t):o.nativeOnLoad(t))):a.llog("no nativeOnLoad")});var r=this.nativeAdObj.load();r&&r.then(function(){a.llog("native \u52a0\u8f7d\u6210\u529f")}).catch(function(e){o.nativeErr=!0,a.llog("native \u52a0\u8f7d\u5931\u8d25",JSON.stringify(e)),o.nativeOnError?o.nativeOnError(e):a.llog("no nativeOnError!")})}},t}(n(3).default);t.default=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),i=n(10),a=n(1),r=n(9),s=n(8),c=n(7),l=n(6),d=n(0),u=n(5),h=n(4),p=function(){function e(){this.channelMap={oppo:new o.default,vivo:new i.default,wx:new a.default,qq:new r.default,toutiao:new c.default,baidu:new s.default,meizu:new l.default,uc:new u.default,huawei:new h.default}}return e.instance=function(){return e.me?e.me:(e.me=new e,e.me)},e.prototype.init=function(e,t){this.kdChannel=this.channelMap[e.channelName],this.kdChannel?this.kdChannel.init(e,t):d.llog("ERR channelName!!init",e)},e.prototype.setConf=function(e){this.kdChannel=this.channelMap[e.channelName],this.kdChannel?this.kdChannel.setConf(e):d.llog("ERR channelName!!setConf",e)},e.prototype.onEvent=function(e,t,n,o){this.kdChannel?this.kdChannel.onEvent(e,t,n,o):d.llog("ERR kdChannel!!onEvent")},e.prototype.getPosId=function(e,t){return this.kdChannel?this.kdChannel.getPosId(e,t):(d.llog("no kdChannel!!getPosId"),"")},e.prototype.login=function(e){this.kdChannel?this.kdChannel.login(e):d.llog("no kdChannel!!login")},e.prototype.shareAppMessage=function(){this.kdChannel?this.kdChannel.shareAppMessage():d.llog("no kdChannel!!shareAppMessage")},e.prototype.installShortcut=function(){this.kdChannel?this.kdChannel.installShortcut():d.llog("no kdChannel!!installShortcut")},e.prototype.showBanner=function(){this.kdChannel?this.kdChannel.showBanner():d.llog("no kdChannel!!showBanner")},e.prototype.closeBanner=function(){this.kdChannel?this.kdChannel.closeBanner():d.llog("no kdChannel!!closeBanner")},e.prototype.destroyBanner=function(){this.kdChannel?this.kdChannel.destroyBanner():d.llog("no kdChannel!!destroyBanner")},e.prototype.destroyVideo=function(){this.kdChannel?this.kdChannel.destroyVideo():d.llog("no kdChannel!!destroyVideo")},e.prototype.destroyInter=function(){this.kdChannel?this.kdChannel.destroyInter():d.llog("no kdChannel!!destroyInter")},e.prototype.showInter=function(e){this.kdChannel?this.kdChannel.showInter(e):d.llog("no kdChannel!!showInter")},e.prototype.showVideo=function(e,t,n){this.kdChannel?this.kdChannel.showVideo(e,t,n):d.llog("no kdChannel!!showVideo")},e.prototype.getBlack=function(){return this.kdChannel?this.kdChannel.getBlack():(d.llog("no kdChannel!!getBlack"),0)},e.prototype.loadNative=function(e,t){this.kdChannel?this.kdChannel.loadNative(e,t):d.llog("no kdChannel!!loadNative")},e.prototype.reportNativeShow=function(e){this.kdChannel?this.kdChannel.reportNativeShow(e):d.llog("no kdChannel!!reportNativeShow")},e.prototype.reportNativeClick=function(e){this.kdChannel?this.kdChannel.reportNativeClick(e):d.llog("no kdChannel!!reportNativeClick")},e.prototype.getChannel=function(){return this.kdChannel},e.prototype.getConf=function(e,t,n){if(!e)return d.llog("getConf no id!"),t();var o={id:e};n&&(o.sid=n.trim()),d.jax("https://ga.gametdd.com/adCtrl/agd/conf",o,function(e,n){if(e)return d.llog("getConf error!"),d.llog(e),t();0!==n.code?(d.llog("getConf ERR:"+JSON.stringify(n)),t()):t(n.data)})},e.prototype.setShowAdProp=function(e,t){this.kdChannel?this.kdChannel.setShowAdProp(e,t):d.llog("no kdChannel!!setShowAdProp")},e}();t.default=p.instance()}])),cc._RF.pop()},{}],Kds:[function(e,t,n){"use strict";cc._RF.push(t,"dd33bvN/n5BUJd6zSuk/SiC","Kds"),Object.defineProperty(n,"__esModule",{value:!0}),n.kdCtrl=void 0;var o=e("./KdSdk"),i=function(){function e(){this.kdSdk=o.default}return e.instance=function(){return e.me?e.me:(e.me=new e,e.me)},e.prototype.getPosId=function(e,t){return this.kdSdk.getPosId(e,t)},e.prototype.init=function(e,t){this.kdSdk.init(e,t)},e.prototype.setConf=function(e){this.kdSdk.setConf(e)},e.prototype.onEvent=function(e,t,n,o){this.kdSdk.onEvent(e,t,n,o)},e.prototype.login=function(e){this.kdSdk.login(e)},e.prototype.shareAppMessage=function(){this.kdSdk.shareAppMessage()},e.prototype.installShortcut=function(){this.kdSdk.installShortcut()},e.prototype.showBanner=function(){this.kdSdk.showBanner()},e.prototype.closeBanner=function(){this.kdSdk.closeBanner()},e.prototype.destroyBanner=function(){this.kdSdk.destroyBanner()},e.prototype.destroyVideo=function(){this.kdSdk.destroyVideo()},e.prototype.destroyInter=function(){this.kdSdk.destroyInter()},e.prototype.showInter=function(e){this.kdSdk.showInter(e)},e.prototype.showVideo=function(e,t,n){this.kdSdk.showVideo(e,t,n)},e.prototype.loadNative=function(e,t){this.kdSdk.loadNative(e,t)},e.prototype.reportNativeShow=function(e){this.kdSdk.reportNativeShow(e)},e.prototype.reportNativeClick=function(e){this.kdSdk.reportNativeClick(e)},e.prototype.getBlack=function(){return this.kdSdk.getBlack()},e.prototype.getChannel=function(){return this.kdSdk.getChannel()},e.prototype.setShowAdProp=function(e,t){return this.kdSdk.setShowAdProp(e,t)},e.prototype.getConf=function(e,t,n){return this.kdSdk.getConf(e,t,n)},e}();n.kdCtrl=i.instance(),cc._RF.pop()},{"./KdSdk":"KdSdk"}],LaserBullet:[function(e,t,n){"use strict";cc._RF.push(t,"b5994nmbvxAHIl2EAXIHEV/","LaserBullet");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.LaserBullet=void 0;var r=cc._decorator,s=r.ccclass,c=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.init=function(e,t){var n=this;this._props=t,this.scheduleOnce(function(){e.getBulletManager().recircleLaserBullet(n),n._props.aimNode.getComponent("Enemy").beHitted(n._props.attackInfo)},.2)},t.prototype.update=function(){var e=this._props.aimNode.getPosition().sub(this._props.startPos),t=e.mag();this.node.width=t,e.normalize(),this.node.angle=180*Math.atan2(e.y,e.x)/Math.PI},a([s],t)}(cc.Component));n.LaserBullet=c,cc._RF.pop()},{}],Liantong:[function(e,t,n){"use strict";cc._RF.push(t,"b8231H+FGxOUrMulDKqrj25","Liantong");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.Liantong=void 0;var a=e("./ChannelSDK"),r=e("./HttpsTools"),s=window.XWAD,c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.login=function(){var e=this;console.log("====\u767b\u5f55\u8054\u901a"),console.log("====",window.location.href),window.location.href;var t=this.queryByKey("u_token"),n=Number(this.queryByKey("time"));console.log("=-===uToken:",t),console.log("=-===time:",n),r.HttpsTools.loginLiantong(t,n,function(){},function(){}),s&&s.awardWrapListen(function(t){console.log("\u76d1\u542c\u6e38\u620f\u4e8b\u4ef6"),t&&"award_adv"==t.type?(e._seeVideoSuccessCallBack&&(e._seeVideoSuccessCallBack(),e._seeVideoSuccessCallBack=void 0),console.log("=-=====",JSON.stringify(t))):t&&"award_banner"==t.type&&console.log("\u64ad\u653eBanner")})},t.prototype.queryByKey=function(e){var t=location.search.match(new RegExp(e+"=[^?&]+","g"));return t?t[0].split("=")[1]:""},t.prototype.initSDK=function(t){e.prototype.initSDK.call(this,t)},t.prototype.share=function(e){this.shareAt=(new Date).getTime(),window.swan.shareAppMessage({title:"@\u4f60\uff0c\u4e0d\u6765\u4e00\u5c40\u5207\u6c34\u679c\u5417\uff1f",imageUrl:"https://ga.kbb805.com/fruit/shareImg.jpg",success:function(t){e(),console.log("openShare success",t)},fail:function(e){console.log("openShare fail",e)}})},t.prototype.onShow=function(){},t.prototype.showAds=function(e,t){var n={xwaction:"award_adv",androidCodeId:"945666041",iosCodeId:"945666051",remark:"\u624b\u5385\u5934\u6761\u5e7f\u544a\u6d3b\u52a8",channel:"GGPD",channelName:"\u846b\u82a6\u5a03\u67aa\u6218\u7cbe\u82f1-\u6fc0\u52b1\u5e7f\u544a",accountChannel:"517050707",accountUserName:"517050707",accountPassword:"123456",direction:1,accountToken:"4640b530b3f7481bb5821c6871854ce5",unWantedToast:!1,unWantedToast2:!1,onComplete:function(e){console.log(JSON.stringify(e))},onError:function(e){console.log("msg:",JSON.stringify(e)),t(JSON.stringify(e))}};this._seeVideoSuccessCallBack=e,console.log("===\uff1a\u5f00\u59cb\u64ad\u653e\u8054\u901a\u5e7f\u544a"),s.showToutiaoVideoAd(n)},t.prototype.showBanner=function(){},t.prototype.hideBanner=function(){s.hideBannerAd({xwaction:"banner_hide"})},t}(a.ChannelSDK);n.Liantong=c,cc._RF.pop()},{"./ChannelSDK":"ChannelSDK","./HttpsTools":"HttpsTools"}],LightingFight:[function(e,t,n){"use strict";cc._RF.push(t,"67834I8CGRObqVjZ6wRlNdZ","LightingFight");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.LightingFight=void 0;var r=cc._decorator,s=r.ccclass,c=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.text="hello",t}return i(t,e),t.prototype.init=function(){var e=this;this.scheduleOnce(function(){e.node.destroy()},.5)},a([c(cc.Label)],t.prototype,"label",void 0),a([c],t.prototype,"text",void 0),a([s],t)}(cc.Component);n.LightingFight=l,cc._RF.pop()},{}],LoadingUtils:[function(e,t,n){"use strict";cc._RF.push(t,"d6be2lwuBxKJJ7MhV/VhgmJ","LoadingUtils"),Object.defineProperty(n,"__esModule",{value:!0}),n.LoadingUtils=void 0;var o=e("./ResConst"),i=function(){function e(){}return e.skipToScene=function(e){if(this._lastScene&&this._lastScene==e)return this._curScene=this._lastScene,void cc.director.loadScene(e);cc.director.loadScene("LoadingScene");for(var t=0;t<this.getLoadingRes(this._lastScene).length;t++)cc.loader.releaseRes(this.getLoadingRes(this._lastScene)[t],cc.SpriteAtlas),delete this._loadedRes[this.getLoadingRes(this._lastScene)[t]];this._lastScene=this._curScene,this._curScene=e},Object.defineProperty(e,"curScene",{get:function(){return this._curScene},enumerable:!1,configurable:!0}),e.addAtlasRes=function(e,t){this._loadedRes[e]=t},e.getAtlasRes=function(e){return this._loadedRes[e]},e.getLoadingRes=function(e){var t=[];switch(e=e||this.curScene){case o.ResConst.scene.mainMenuScene:t.push(o.ResConst.altas.mainMenu);break;case o.ResConst.scene.fruitMainScene:t.push(o.ResConst.altas.main),t.push(o.ResConst.altas.levelup);break;case o.ResConst.scene.KnifeScene:break;case o.ResConst.scene.mapScene:t.push(o.ResConst.altas.map)}return t},e._curScene="",e._lastScene="",e._loadedRes={},e}();n.LoadingUtils=i,cc._RF.pop()},{"./ResConst":"ResConst"}],Log:[function(e,t,n){"use strict";cc._RF.push(t,"40766LA7UFNKYRewRE/64x1","Log"),Object.defineProperty(n,"__esModule",{value:!0}),n.Log=void 0;var o=function(){function e(){}return e.log=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];console.log(e,t)},e.err=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];console.error(e,t)},e.debug=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];console.debug(e,t)},e}();n.Log=o,cc._RF.pop()},{}],Meizu:[function(e,t,n){"use strict";cc._RF.push(t,"9fabfmVHb1AZaOpNAwfSa6b","Meizu");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.Meizu=void 0;var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.login=function(e){var t=cc.sys.localStorage.getItem("userId");t||(t=(new Date).getTime()+"_mz",cc.sys.localStorage.setItem("userId",t)),e(t,"mz")},t.prototype.onShow=function(){},t}(e("./ChannelSDK").ChannelSDK);n.Meizu=a,cc._RF.pop()},{"./ChannelSDK":"ChannelSDK"}],NativeAdReward:[function(e,t,n){"use strict";cc._RF.push(t,"e8f8dNSjNRNu5CfkWPWcyk7","NativeAdReward");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.NativeAdReward=void 0;var r=e("../Utils/ResourceManager"),s=e("../Utils/Const"),c=e("../libs/Kds"),l=e("../Utils/ChannelHelper"),d=e("../Data/UserData"),u=cc._decorator,h=u.ccclass,p=u.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getBtn=null,t.closeBtn=null,t.rewardSp=null,t._rewardInfo={type:1,id:1,value:100},t}return i(t,e),t.prototype.init=function(e){var t=this;this.closeBtn.active=!0,cc.assetManager.loadRemote(e.url,function(e,n){t.rewardSp.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(n)}),this.closeBtn.on(cc.Node.EventType.TOUCH_END,function(){e.closeCallBack&&e.closeCallBack(),t.node.destroy()}),this.getBtn.on(cc.Node.EventType.TOUCH_END,function(){e.closeCallBack&&e.closeCallBack(),t.node.destroy(),d.UserData.getInstance().addCoinNum(100)}),l.ChannelHelper.reportAdShow(e.id),this.rewardSp.on(cc.Node.EventType.TOUCH_END,function(){e.closeCallBack&&e.closeCallBack(),t.rewardSp.active=!1,l.ChannelHelper.clickNagitiveAd(e.id)})},t.addNativeReward=function(e){l.ChannelHelper.hideVideoFlag()?e.closeCallBack&&e.closeCallBack():c.kdCtrl.loadNative(function(t){if(!t.adList||t.adList.length<=0)e.closeCallBack&&e.closeCallBack();else if(console.log("====res:",t),t){var n,o=t;l.ChannelHelper.hideBanner(),n=o.adList[0].icon?o.adList[0].icon:o.adList[0].imgUrlList[0],e.url=n,r.ResourceManager.loadingRes("Prefebs/NativeRewardPrefebs",cc.Prefab,function(t,n){if(t)console.log(t);else{var o=cc.instantiate(n);o.name="native",o.zIndex=s.Layer.dialog,e.pos&&o.setPosition(e.pos),cc.director.getScene().addChild(o),o.getComponent("NativeAdReward").init(e)}})}},l.ChannelHelper.getNativeId(e.id))},a([p(cc.Node)],t.prototype,"getBtn",void 0),a([p(cc.Node)],t.prototype,"closeBtn",void 0),a([p(cc.Node)],t.prototype,"rewardSp",void 0),a([h],t)}(cc.Component);n.NativeAdReward=f,cc._RF.pop()},{"../Data/UserData":"UserData","../Utils/ChannelHelper":"ChannelHelper","../Utils/Const":"Const","../Utils/ResourceManager":"ResourceManager","../libs/Kds":"Kds"}],NativePrebs:[function(e,t,n){"use strict";cc._RF.push(t,"e1725yNLtNNTr5Zf7rqGpxu","NativePrebs");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.NativePrebs=void 0;var r=e("../Utils/ChannelHelper"),s=e("../Utils/ResourceManager"),c=e("../GameConfig"),l=e("../Utils/Const"),d=e("../libs/Kds"),u=e("../Utils/EventsManager"),h=cc._decorator,p=h.ccclass,f=h.property,g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.closeBtn=null,t.adFlag=null,t.img=null,t.bg=null,t.nameLb=null,t.iconLb=null,t.downBtn=null,t}var n;return i(t,e),n=t,t.prototype.init=function(e,t){var o=this;if(cc.isValid(this.node)){this.node.zIndex=l.Layer.Top;var i=e.id;console.log("====id:",i),r.ChannelHelper.reportAdShow(i),this.closeBtn.on(cc.Node.EventType.TOUCH_END,function(){r.ChannelHelper.wxBannerShowTime=(new Date).getTime(),e.closeCallBack&&e.closeCallBack(),console.log("\u70b9\u51fb\u5173\u95ed\u6309\u94ae"),1==e.type?n.iconNativeNode=void 0:2==e.type?(n.interNativeNode=void 0,r.ChannelHelper.showBanner()):n.NativeNode=void 0,u.EventsManager.emit(u.EventsManager.SHOWNATIVE),o.node.destroy()}),this.img.node.on(cc.Node.EventType.TOUCH_END,function(){r.ChannelHelper.clickNagitiveAd(i),e.click&&e.click(),u.EventsManager.emit(u.EventsManager.SHOWNATIVE),1==e.type?n.iconNativeNode=void 0:2==e.type?n.interNativeNode=void 0:n.NativeNode=void 0,u.EventsManager.emit(u.EventsManager.SHOWNATIVE),o.node.destroy(),console.log("\u70b9\u51fb\u5e7f\u544a")}),e.isShowBg,e.isBgTouched&&(this.node.getChildByName("zhedang").active=!0),r.ChannelHelper.getOppoPolicyInfo(25)>0?this.closeBtn.setScale(r.ChannelHelper.getOppoPolicyInfo(25),r.ChannelHelper.getOppoPolicyInfo(25)):this.closeBtn.setScale(.8,.8),this.bg.on(cc.Node.EventType.TOUCH_END,function(){r.ChannelHelper.clickNagitiveAd(i),e.click&&e.click(),1==e.type?n.iconNativeNode=void 0:2==e.type?(n.interNativeNode=void 0,r.ChannelHelper.showBanner()):n.NativeNode=void 0,u.EventsManager.emit(u.EventsManager.SHOWNATIVE),o.node.destroy(),console.log("\u70b9\u51fb\u5e7f\u544a")}),this.adFlag.active=e.isShowAdFlag,this.adFlag.setPosition(-e.size.width/2+this.adFlag.width/2,e.size.height/2-20),this.closeBtn.setPosition(e.size.width/2-20,e.size.height/2-20),this.downBtn.setPosition(0,-e.size.height/2+10),this.nameLb.string="",this.iconLb.string="",e.imageSize||(e.imageSize=e.size),this.downBtn.active=e.isShowdownBtn,e.isShowBg?(this.bg.active=!0,this.node.setContentSize(e.size),this.bg.setPosition(0,0),this.bg.setContentSize(e.size.width,e.size.height),this.img.node.setContentSize(e.imageSize),this.img.node.setPosition(-e.size.width/2+e.size.height/2,0),e.tiltle?(this.nameLb.string=e.tiltle,this.nameLb.node.width=e.size.width-20,this.nameLb.node.setPosition(-e.size.width/2+2*e.imageSize.width,30)):this.nameLb.string="",e.desc?(this.iconLb.string=e.desc,this.iconLb.node.width=e.size.width-20,this.iconLb.node.setPosition(-e.size.width/2+2*e.imageSize.width,-30)):this.iconLb.string=""):(this.bg.active=!1,c.GameConfig.channel==l.ChannelType.huawei&&e.tiltle?(this.nameLb.string=e.tiltle,this.nameLb.node.setPosition(e.size.width/2-e.imageSize.width/2,e.imageSize.height/2),this.nameLb.node.addComponent(cc.LabelOutline).color=cc.Color.BLACK):this.nameLb.string="",this.img.node.setContentSize(e.size.width,e.size.height),this.iconLb.string="",this.img.node.setPosition(0,0)),this.closeBtn.active=!0,e.url&&cc.assetManager.loadRemote(e.url,function(n,i){if(n)console.error("\u52a0\u8f7d\u539f\u751f\u5e7f\u544a\u5931\u8d25",n);else{var a=new cc.SpriteFrame(i);o.img.spriteFrame=a,t&&t(),e.isShowBg?o.img.node.setContentSize(e.size.height-20,e.size.height-20):o.img.node.setContentSize(e.imageSize)}}),u.EventsManager.emit(u.EventsManager.SHOWNATIVE)}},t.showNativeIcon=function(e,t){if(!r.ChannelHelper.hideVideoFlag()&&r.ChannelHelper.isOV())if(t=t||0,e.id=t,e.type,r.ChannelHelper.oppoNative){var o=r.ChannelHelper.oppoNative;if(!o.adList||o.adList.length<=0)return;if(console.log("====res:",o),o){var i,a=o;i=a.adList[0].icon?a.adList[0].icon:a.adList[0].imgUrlList[0],t&&(e.id=t),e.url=i,console.log("====:",i),e.tiltle=a.adList[0].title,e.desc=a.adList[0].desc,s.ResourceManager.loadingRes("Prefebs/NativePrefebs",cc.Prefab,function(t,o){if(t)console.error("err:",t);else{console.log("======;",r.ChannelHelper.isShowingNative());var i=cc.instantiate(o);console.log("\u521d\u59cb\u5316\u5f00\u59cb~~"),i.setPosition(e.pos.x,e.pos.y),i.name="nagtive";var a=i.getComponent("NativePrebs");n.iconNativeNode=i,a.init(e),e.parent?e.parent.addChild(i):cc.director.getScene().addChild(i)}})}}else d.kdCtrl.loadNative(function(o){if(o.adList&&!(o.adList.length<=0)&&(console.log("====res:",o),o)){var i,a=o;i=a.adList[0].icon?a.adList[0].icon:a.adList[0].imgUrlList[0],t&&(e.id=t),e.url=i,console.log("====:",i),e.tiltle=a.adList[0].title,e.desc=a.adList[0].desc,s.ResourceManager.loadingRes("Prefebs/NativePrefebs",cc.Prefab,function(t,o){if(t)console.error("err:",t);else{console.log("======;",r.ChannelHelper.isShowingNative());var i=cc.instantiate(o);console.log("\u521d\u59cb\u5316\u5f00\u59cb~~"),i.setPosition(e.pos.x,e.pos.y),i.name="nagtive";var a=i.getComponent("NativePrebs");n.iconNativeNode=i,a.init(e),e.parent?e.parent.addChild(i):cc.director.getScene().addChild(i)}})}},r.ChannelHelper.getNativeId(1))},t.showNativeInter=function(e,t,o){if(!r.ChannelHelper.hideVideoFlag())if(r.ChannelHelper.isOV())if(t=t||0,e.id=1,r.ChannelHelper.oppoNative){if(!(c=r.ChannelHelper.oppoNative).adList||c.adList.length<=0)return void(o&&o());if(console.log("====res:",c),c){var i=void 0;i=(a=c).adList[0].icon?a.adList[0].icon:a.adList[0].imgUrlList[0],t&&(e.id=t),e.url=i,console.log("====:",i),e.tiltle=a.adList[0].title,e.desc=a.adList[0].desc,s.ResourceManager.loadingRes("Prefebs/NativePrefebs",cc.Prefab,function(t,o){if(t)console.error("err:",t);else{console.log("======;",r.ChannelHelper.isShowingNative());var i=cc.instantiate(o);console.log("\u521d\u59cb\u5316\u5f00\u59cb~~"),i.setPosition(e.pos.x,e.pos.y),i.name="nagtive";var a=i.getComponent("NativePrebs");n.interNativeNode=i,a.init(e),e.parent?e.parent.addChild(i):cc.director.getScene().addChild(i)}})}}else d.kdCtrl.loadNative(function(i){if(!i.adList||i.adList.length<=0)o&&o();else if(console.log("====res:",i),i){var a,c=i;a=c.adList[0].icon?c.adList[0].icon:c.adList[0].imgUrlList[0],t&&(e.id=t),e.url=a,console.log("====:",a),e.tiltle=c.adList[0].title,e.desc=c.adList[0].desc,s.ResourceManager.loadingRes("Prefebs/NativePrefebs",cc.Prefab,function(t,o){if(t)console.error("err:",t);else{console.log("======;",r.ChannelHelper.isShowingNative());var i=cc.instantiate(o);console.log("\u521d\u59cb\u5316\u5f00\u59cb~~"),i.setPosition(e.pos.x,e.pos.y),i.name="nagtive";var a=i.getComponent("NativePrebs");n.interNativeNode=i,a.init(e),e.parent?e.parent.addChild(i):cc.director.getScene().addChild(i)}})}},r.ChannelHelper.getNativeId(1));else{var a,c=r.ChannelHelper.getNagtiveAdInfo();if(console.log("===\u5f00\u59cb\u5c55\u793a\u539f\u751f\uff1a",c),!c)return;if(!c.adList||c.adList.length<=0)return void(o&&o());if(console.log("====res:",c),c)i=void 0,i=(a=c).adList[0].icon?a.adList[0].icon:a.adList[0].imgUrlList[0],t&&(e.id=t),e.url=i,console.log("====:",i),e.tiltle=a.adList[0].title,e.desc=a.adList[0].desc,s.ResourceManager.loadingRes("Prefebs/NativePrefebs",cc.Prefab,function(t,o){if(t)console.error("err:",t);else{console.log("======;",r.ChannelHelper.isShowingNative());var i=cc.instantiate(o);console.log("\u521d\u59cb\u5316\u5f00\u59cb~~"),i.setPosition(e.pos.x,e.pos.y),i.name="nagtive";var a=i.getComponent("NativePrebs");n.interNativeNode=i,a.init(e),e.parent?e.parent.addChild(i):cc.director.getScene().addChild(i)}})}},t.showNative=function(e,t,o){if(!r.ChannelHelper.hideVideoFlag()&&r.ChannelHelper.isOV()){if(r.ChannelHelper.isShowingNative())return;t=t||0,e.id=t,d.kdCtrl.loadNative(function(i){if(!i.adList||i.adList.length<=0)return o&&o(),void console.log("\u52a0\u8f7d\u5931\u8d25");if(console.log("====res:",i),i){var a,c=i;a=c.adList[0].icon?c.adList[0].icon:c.adList[0].imgUrlList[0],t&&(e.id=t),e.url=a,console.log("====:",a),e.tiltle=c.adList[0].title,e.desc=c.adList[0].desc,s.ResourceManager.loadingRes("Prefebs/NativePrefebs",cc.Prefab,function(t,o){if(t)console.error("err:",t);else{console.log("======;",r.ChannelHelper.isShowingNative()),r.ChannelHelper.isShowingNative()&&(n.NativeNode.active=!1,n.NativeNode.destroy(),n.NativeNode=void 0);var i=cc.instantiate(o);console.log("\u521d\u59cb\u5316\u5f00\u59cb~~"),i.setPosition(e.pos.x,e.pos.y),i.name="nagtive",n.NativeNode=i;var a=i.getComponent("NativePrebs");e.parent?e.parent.addChild(i):cc.director.getScene().addChild(i),a.init(e)}})}},r.ChannelHelper.getNativeId(t))}},a([f(cc.Node)],t.prototype,"closeBtn",void 0),a([f(cc.Node)],t.prototype,"adFlag",void 0),a([f(cc.Sprite)],t.prototype,"img",void 0),a([f(cc.Node)],t.prototype,"bg",void 0),a([f(cc.Label)],t.prototype,"nameLb",void 0),a([f(cc.Label)],t.prototype,"iconLb",void 0),a([f(cc.Node)],t.prototype,"downBtn",void 0),n=a([p],t)}(cc.Component);n.NativePrebs=g,cc._RF.pop()},{"../GameConfig":"GameConfig","../Utils/ChannelHelper":"ChannelHelper","../Utils/Const":"Const","../Utils/EventsManager":"EventsManager","../Utils/ResourceManager":"ResourceManager","../libs/Kds":"Kds"}],PlantInfoData:[function(e,t,n){"use strict";cc._RF.push(t,"91ae6Jj/WBN74Nm8YlHGCpM","PlantInfoData"),Object.defineProperty(n,"__esModule",{value:!0}),n.PlantInfoData=void 0,n.PlantInfoData=[{plantId:1,name:"\u5411\u65e5\u8475",animationName:"xiangrikui",skinAniNames:",mojing,yanjing,mofamao,falao,milaoshu",skinUnlockPrice:"0,2000,3000,5000,0,0",profit:"10,9,8,7,6,5",price:0,bulletName:"z01",trail:"248,214,59",range:500},{plantId:2,name:"\u8c4c\u8c46\u5c04\u624b",animationName:"wandou",skinAniNames:",erji,WG,gangkui,gangkui1,moshumao",skinUnlockPrice:"0,2000,3000,5000,8000,9999",profit:"10,9,8,7,6,5",price:0,bulletName:"z02",trail:"52,196,23",range:500},{plantId:10,name:"\u7a9d\u74dc",animationName:"wogua",skinAniNames:",toudai,yaodai,yandai,WG,shengdanmao",skinUnlockPrice:"0,2000,3000,5000,8000,9999",profit:"10,9,8,7,6,5",price:0,bulletName:"z10",trail:"185,209,37",range:500},{plantId:4,name:"\u4e09\u53f6\u8349",animationName:"fengshan",skinAniNames:",3Dyanjing,WG,toudai,yanjing,guanghuan",skinUnlockPrice:"0,2000,3000,5000,8000,9999",profit:"10,9,8,7,6,5",price:0,bulletName:"z04",trail:"61,129,16",range:500},{plantId:5,name:"\u5c0f\u8611\u83c7",animationName:"xiaomogu",skinAniNames:",WG,huzi,toudai,yanjing,tsh",skinUnlockPrice:"0,2000,3000,5000,8000,9999",profit:"10,9,8,7,6,5",price:0,bulletName:"z05",trail:"248,236,172",range:500},{plantId:6,name:"\u7389\u7c73",animationName:"yumi",skinAniNames:",3Dyanjing,yaodai,toudai,WG,shengdanmao",skinUnlockPrice:"0,2000,3000,5000,8000,9999",profit:"10,9,8,7,6,5",price:0,bulletName:"z06",trail:"247,197,41",range:500},{plantId:7,name:"\u767d\u83dc",animationName:"baicai",skinAniNames:",huzi,yaodai,toudai,tianshihuan,taiyangjing",skinUnlockPrice:"0,2000,3000,5000,8000,9999",profit:"10,9,8,7,6,5",price:0,bulletName:"z07",trail:"52,196,23",range:500},{plantId:8,name:"\u4ed9\u4eba\u638c",animationName:"xianrenzhang",skinAniNames:",yanjing,toudai,yaodai,WG,sdm",skinUnlockPrice:"0,2000,3000,5000,8000,9999",profit:"10,9,8,7,6,5",price:0,bulletName:"z08",trail:"200,61,38",range:500},{plantId:9,name:"\u897f\u74dc",animationName:"xigua",skinAniNames:",yanjing,yuanmao,erji,yuanhuan,WG",skinUnlockPrice:"0,2000,3000,5000,8000,9999",profit:"10,9,8,7,6,5",price:0,bulletName:"z09",trail:"75,236,255",range:500},{plantId:3,name:"\u575a\u679c",animationName:"jianguo",skinAniNames:",lingjie,erji,maozi,yanjing,zhuqingting",skinUnlockPrice:"0,2000,3000,5000,8000,9999",profit:"10,9,8,7,6,5",price:0,bulletName:"z03",trail:"180,96,12",range:500}],cc._RF.pop()},{}],PlantSpecialControl:[function(e,t,n){"use strict";cc._RF.push(t,"a04fc/kpGxOOp5IbMndnnnr","PlantSpecialControl"),Object.defineProperty(n,"__esModule",{value:!0}),n.PlantSpecialControl=void 0;var o=function(){function e(e){this._type=e}return e.prototype.addSunShine=function(){},e}();n.PlantSpecialControl=o,cc._RF.pop()},{}],Plant:[function(e,t,n){"use strict";cc._RF.push(t,"bb74dfASS1JJ7eIiwqFw2Ym","Plant");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.Plant=void 0;var r=e("../Utils/Const"),s=e("../Utils/Utils"),c=e("../model/GameData"),l=e("../calc/Calc"),d=cc._decorator,u=d.ccclass,h=d.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ani=null,t.type=1,t.startParent=null,t.star=null,t.shooter=null,t.bg=null,t.bg1=null,t._damageAddTimes=0,t._zIndex=0,t}return i(t,e),t.prototype.init=function(e,t,n,o){var i=this;this._gameControl=e,this._posId=o,this._isUp=n,this._level=1,this._zIndex=this.node.zIndex,this.reborn(),this._plantInfo=l.Calc.getPlantInfo(t),this._campInfo=l.Calc.getCampData(this._plantInfo.camp),this.bg.color=this._campInfo.bgColor,this.bg1.color=this._campInfo.edgeColor,console.log("===:",this._plantInfo.aniName),this.shooter.setPosition(this._plantInfo.shooterPos),this.enhanceInfo={attackAdd:0,addCritical:0,attackSpeedAdd:0},this._id=t,this.setBgByLevel(),s.Utils.loadDragon(this.ani,"dragon/plant/"+this._plantInfo.aniName,void 0,"daiji",1),this.ani.addEventListener(dragonBones.EventObject.LOOP_COMPLETE,function(){i.changeToAttack();for(var e=0;e<i._gameControl.getNearPlant(i).length;e++){var t=0;i._gameControl.getNearPlant(i)[e].type==r.PlantType.ludenglong&&(t+=1),i.ani.timeScale=1+t+i.enhanceInfo.attackSpeedAdd}}),this.ani.addEventListener(dragonBones.EventObject.FRAME_EVENT,function(e){"gongji"==e.name&&i.createBullet(),"shengchan"==e.name&&(i._gameControl.playHittedEffectLb(20,i.node.getPosition().add(cc.v2(30,0)),!0),c.GameData.addSunShineNum(20))}),this.node.off(cc.Node.EventType.TOUCH_START),this.node.off(cc.Node.EventType.TOUCH_MOVE),this.node.on(cc.Node.EventType.TOUCH_START,function(){i._startPos=i.node.getPosition(),i.node.zIndex=100}),this.schedule(function(){i._plantInfo.plantId==r.PlantType.xiangrikui&&i.ani.playAnimation("shengchan",1)},3),this._updateStar(),this.type=this._plantInfo.plantId,this.node.on(cc.Node.EventType.TOUCH_MOVE,function(e){var t=i.node.parent.convertToNodeSpaceAR(e.getLocation());i.node.x=t.x,i.node.y=t.y}),this.node.off(cc.Node.EventType.TOUCH_END),this.node.on(cc.Node.EventType.TOUCH_END,function(){var t=i._gameControl.getCollsionWithOther(i);t&&t.type==i.type&&i._level==t.level&&(console.log("\u5408\u6210\u4e86"),i._dead(),e.setPos(i.posId,i.isUp,0),t.addLevel()),i.node.zIndex=i._zIndex,i.node.setPosition(i._startPos)}),this.node.off(cc.Node.EventType.TOUCH_CANCEL),this.node.on(cc.Node.EventType.TOUCH_CANCEL,function(){i.node.setPosition(i._startPos)})},t.prototype.setBgByLevel=function(){s.Utils.loadImage(this.bg,"img/game/lvkuang3"+this._level),s.Utils.loadImage(this.bg1,"img/game/lvkuang2"+this._level)},t.prototype._dead=function(){this._gameControl.recirclePlant(this.node)},t.prototype.addEnhanceEffect=function(e){e.attackAdd&&(this.enhanceInfo.attackAdd+=e.attackAdd),e.addCritical&&(this.enhanceInfo.addCritical+=e.addCritical),e.attackSpeedAdd&&(this.enhanceInfo.attackSpeedAdd+=e.attackSpeedAdd,this.ani.timeScale=1+this.enhanceInfo.attackSpeedAdd)},t.prototype._findEnemy=function(){},t.prototype._updateStar=function(){this.startParent.destroyAllChildren();for(var e=0;e<this.level;e++){var t=cc.instantiate(this.star);t.active=!0,t.setPosition(0,1),this.startParent.addChild(t),this.startParent.getComponent(cc.Layout).updateLayout()}},t.prototype.getPathRandomPos=function(e){var t=Math.random(),n=0,o=0;return t<.33?(n=r.PathPosi.left,o=Math.random()):t<.66?(n=r.PathPosi.right,o=e?r.PathPosi.updown+(r.PathPosi.uptop-r.PathPosi.updown)*Math.random():r.PathPosi.downdown+(r.PathPosi.downup-r.PathPosi.downdown)*Math.random()):(o=e?r.PathPosi.updown:r.PathPosi.downup,n=r.PathPosi.left+(r.PathPosi.right-r.PathPosi.left)*Math.random()),cc.v2(n,o)},t.prototype.changeToAttack=function(){return this._enemy=this._gameControl.findAimEnemy(this.getFindAimType(),this.isUp),this._enemy?this._plantInfo.bulletType==r.BaseBulletType.none?(this.ani.armature().animation.fadeIn("daiji",.1,1),void(this.ani.timeScale=1)):(this._enemy.node.x>this.node.x?this.node.scaleX=1:this.node.scaleX=-1,this.ani.timeScale=this._plantInfo.attackSpeed,void this.ani.armature().animation.fadeIn(this.type==r.PlantType.xiangrikui?"shengchan":"gongji",.1,1)):(this.ani.timeScale=1,void this.ani.armature().animation.fadeIn("daiji",.1,1))},t.prototype._getShooterPos=function(){var e=this.node.convertToWorldSpaceAR(this.shooter.getPosition());return this._gameControl.node.convertToNodeSpaceAR(e)},t.prototype.createBullet=function(){switch(this._plantInfo.bulletType){case r.BaseBulletType.normal:case r.BaseBulletType.dizz:console.log("=-====:",this.type),this._gameControl.getBulletManager().createBullet({type:1,attackInfo:{hurt:10,critcalPct:10,slowDown:3==this.type?.2:0,dizz:15==this.type?2:0,vulnerable:11==this.type?1:0},startPos:this._getShooterPos(),speed:this._plantInfo.bulletSpeed,bulletName:this._plantInfo.bulletImageName,aimNode:this._enemy.node,path:this._plantInfo.bulletPath});break;case r.BaseBulletType.fireAoe:this._gameControl.getBulletManager().createBullet({type:r.BaseBulletType.fireAoe,attackInfo:{hurt:10,critcalPct:10},startPos:this._getShooterPos(),speed:this._plantInfo.bulletSpeed,bulletName:this._plantInfo.bulletImageName,aimPos:this.getPathRandomPos(this.isUp)});break;case r.BaseBulletType.superposition:if(!this._enemy)return void(this._damageAddTimes=0);this._lastEnemy!=this._enemy&&(this._damageAddTimes=0,console.log("\u8f6c\u6362\u654c\u4eba")),this._gameControl.getBulletManager().createBullet({type:r.BaseBulletType.superposition,attackInfo:{hurt:Math.floor(10*(100+this._damageAddTimes)/100),critcalPct:10},bulletName:this._plantInfo.bulletImageName,startPos:this._getShooterPos(),speed:this._plantInfo.bulletSpeed,aimNode:this._enemy.node}),this._damageAddTimes++,this._damageAddTimes=Math.min(5,this._damageAddTimes),this._lastEnemy=this._enemy;break;case r.BaseBulletType.laser:this._enemy=this._gameControl.findAimEnemy(this.getFindAimType(),this.isUp),console.log("\u5f00\u59cb\u653b\u51fb"),this._gameControl.getBulletManager().createLaserBullet({type:1,attackInfo:{hurt:10,critcalPct:10},startPos:this._getShooterPos(),speed:this._plantInfo.bulletSpeed,bulletName:this._plantInfo.bulletImageName,aimNode:this._enemy.node});break;case r.BaseBulletType.poison:this._gameControl.getBulletManager().createBullet({type:r.BaseBulletType.poison,attackInfo:{hurt:1,poision:3},startPos:this._getShooterPos(),speed:this._plantInfo.bulletSpeed,aimNode:this._enemy.node,bulletName:this._plantInfo.bulletImageName})}},Object.defineProperty(t.prototype,"isUp",{get:function(){return this._isUp},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"level",{get:function(){return this._level},enumerable:!1,configurable:!0}),t.prototype.addLevel=function(){this._level++,this.type==r.PlantType.yangguanggu&&(c.GameData.addSunShineNum(20),this._gameControl.playHittedEffectLb(20,this.node.getPosition().add(cc.v2(50,0)),!0),console.log("\u589e\u52a0\u80fd\u91cf")),this.reborn(!0),this._updateStar(),this.setBgByLevel()},Object.defineProperty(t.prototype,"posId",{get:function(){return this._posId},enumerable:!1,configurable:!0}),t.prototype.getFindAimType=function(){return r.FindAimType.first},t.prototype.reborn=function(e){if(e)return this.node.setScale(0,0),void cc.tween(this.node).to(.2,{scale:1},{easing:"bounceOut"}).start();this.node.setScale(.8,.8);var t=this.node.y;this.node.y=this.node.y+200;var n=cc.tween().to(.1,{y:t}),o=cc.tween().to(.1,{scale:1},{easing:"bounceOut"});cc.tween(this.node).then(n).then(o).start()},a([h(dragonBones.ArmatureDisplay)],t.prototype,"ani",void 0),a([h],t.prototype,"type",void 0),a([h(cc.Node)],t.prototype,"startParent",void 0),a([h(cc.Node)],t.prototype,"star",void 0),a([h(cc.Node)],t.prototype,"shooter",void 0),a([h(cc.Node)],t.prototype,"bg",void 0),a([h(cc.Node)],t.prototype,"bg1",void 0),a([u],t)}(cc.Component);n.Plant=p,cc._RF.pop()},{"../Utils/Const":"Const","../Utils/Utils":"Utils","../calc/Calc":"Calc","../model/GameData":"GameData"}],PlayHitNumEffect:[function(e,t,n){"use strict";cc._RF.push(t,"6f8caN8RXRLiK/8DMHWkIQa","PlayHitNumEffect");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.PlayHitNumEffect=void 0;var r=cc._decorator,s=r.ccclass,c=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.shine=null,t}return i(t,e),t.prototype.init=function(e,t,n,o,i){var a,r,s=this;this.shine.active=!1,this.label.string=(i?"+":"")+t,i&&(this.shine.active=!0,this.shine.x=-this.label.string.length/2*20-10),this.node.opacity=255,this.node.setScale(.5,.5),o?(this.label.node.color=new cc.Color(255,232,77),a=3,r=1.5,this.node.zIndex=2e3,this.label.enableBold=!0):(this.label.node.color=new cc.Color(255,255,255),a=1.5,r=1,this.label.enableBold=!1),this.node.active=!0,this.node.x=this.node.x+20-40*Math.random(),this.node.y=this.node.y+10-50*Math.random();var c=cc.moveBy(1,0,100);this.node.runAction(cc.sequence(cc.scaleTo(.1,a,a),cc.callFunc(function(){}),cc.scaleTo(.1,r,r),cc.callFunc(function(){}),cc.delayTime(.8),cc.scaleTo(.3,r,r),cc.callFunc(function(){e.recircleEffect(s.node)}))),this.node.runAction(c),this.node.runAction(cc.sequence(cc.delayTime(.5),cc.fadeOut(.7)))},a([c(cc.Label)],t.prototype,"label",void 0),a([c(cc.Node)],t.prototype,"shine",void 0),a([s],t)}(cc.Component);n.PlayHitNumEffect=l,cc._RF.pop()},{}],PoolMananger:[function(e,t,n){"use strict";cc._RF.push(t,"e8f00LuAHpE3JSI8b3CDFXZ","PoolMananger");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.PoolMananger=void 0;var r=cc.Class({name:"nodePoolClass",properties:{prefeb:cc.Prefab,size:0,name:cc.String}}),s=cc._decorator,c=s.ccclass,l=s.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.poolArray=[],t._nodePool={},t}return i(t,e),t.prototype.start=function(){this.initPool()},t.prototype.initPool=function(){for(var e=0;e<this.poolArray.length;e++){for(var t=this.poolArray[e],n=new cc.NodePool,o=0;o<t.size;o++){var i=cc.instantiate(t.prefeb);n.put(i)}this._nodePool[t.name]=n}},t.prototype.getPrefebs=function(e){return this._nodePool[e].get()||(console.error("\u6c60\u5b50"+e+"\u6570\u91cf"+this._nodePool[e].size()+"\u4e0d\u591f\u5566"),new cc.Node)},t.prototype.recircleNode=function(e,t){t?(t.removeFromParent(),this._nodePool[e].put(t)):console.error("\u56de\u6536\u6c60\u5b50"+e+" \u9519\u8bef")},t.prototype.clearPools=function(){var e=this;Object.keys(this._nodePool).forEach(function(t){e._nodePool[t].clear(),delete e._nodePool[t]})},a([l([r])],t.prototype,"poolArray",void 0),a([c],t)}(cc.Component);n.PoolMananger=d,cc._RF.pop()},{}],RankData11:[function(e,t,n){"use strict";cc._RF.push(t,"36817z2g3ZBjLOMtQs9PmBe","RankData11"),Object.defineProperty(n,"__esModule",{value:!0}),n.RankData11=void 0,n.RankData11=[{rankId:1,rankType:1,rankTime:60,rankReward:100,plantID:"1,0",plantID2:"1,0",progress:33},{rankId:2,rankType:1,rankTime:60,rankReward:100,plantID:"1,0",plantID2:"1,0",progress:66},{rankId:3,rankType:2,rankTime:60,rankReward:100,plantID:"1,0",plantID2:"1,0",progress:100},{rankId:4,rankType:1,rankTime:60,rankReward:100,plantID:"1,1",plantID2:"2,0",progress:14},{rankId:5,rankType:2,rankTime:60,rankReward:100,plantID:"1,1",plantID2:"2,0",progress:28},{rankId:6,rankType:1,rankTime:60,rankReward:100,plantID:"1,2",plantID2:"2,0",progress:43},{rankId:7,rankType:1,rankTime:60,rankReward:100,plantID:"1,2",plantID2:"2,0",progress:57},{rankId:8,rankType:2,rankTime:60,rankReward:100,plantID:"1,2",plantID2:"2,0",progress:71},{rankId:9,rankType:1,rankTime:60,rankReward:100,plantID:"2,0",plantID2:"2,0",progress:85},{rankId:10,rankType:2,rankTime:60,rankReward:100,plantID:"2,0",plantID2:"2,0",progress:100},{rankId:11,rankType:4,rankTime:60,rankReward:100,plantID:"2,1",plantID2:"3,0",progress:10},{rankId:12,rankType:4,rankTime:60,rankReward:100,plantID:"2,1",plantID2:"3,0",progress:20},{rankId:13,rankType:3,rankTime:60,rankReward:100,plantID:"2,1",plantID2:"3,0",progress:30},{rankId:14,rankType:2,rankTime:60,rankReward:100,plantID:"2,1",plantID2:"3,0",progress:40},{rankId:15,rankType:4,rankTime:60,rankReward:100,plantID:"2,2",plantID2:"3,0",progress:50},{rankId:16,rankType:1,rankTime:60,rankReward:100,plantID:"2,2",plantID2:"3,0",progress:60},{rankId:17,rankType:2,rankTime:60,rankReward:100,plantID:"2,2",plantID2:"3,0",progress:70},{rankId:18,rankType:2,rankTime:60,rankReward:100,plantID:"2,3",plantID2:"3,0",progress:80},{rankId:19,rankType:1,rankTime:60,rankReward:100,plantID:"3,0",plantID2:"3,0",progress:90},{rankId:20,rankType:2,rankTime:60,rankReward:100,plantID:"3,0",plantID2:"3,0",progress:100},{rankId:21,rankType:1,rankTime:60,rankReward:100,plantID:"3,1",plantID2:"4,0",progress:10},{rankId:22,rankType:1,rankTime:60,rankReward:100,plantID:"3,1",plantID2:"4,0",progress:20},{rankId:23,rankType:2,rankTime:60,rankReward:100,plantID:"3,1",plantID2:"4,0",progress:30},{rankId:24,rankType:1,rankTime:60,rankReward:100,plantID:"3,2",plantID2:"4,0",progress:40},{rankId:25,rankType:2,rankTime:60,rankReward:100,plantID:"3,2",plantID2:"4,0",progress:50},{rankId:26,rankType:3,rankTime:60,rankReward:100,plantID:"3,3",plantID2:"4,0",progress:60},{rankId:27,rankType:2,rankTime:60,rankReward:100,plantID:"3,3",plantID2:"4,0",progress:70},{rankId:28,rankType:3,rankTime:60,rankReward:100,plantID:"4,0",plantID2:"4,0",progress:80},{rankId:29,rankType:1,rankTime:60,rankReward:100,plantID:"4,0",plantID2:"4,0",progress:90},{rankId:30,rankType:2,rankTime:60,rankReward:100,plantID:"4,0",plantID2:"4,0",progress:100},{rankId:31,rankType:1,rankTime:60,rankReward:100,plantID:"4,1",plantID2:"5,0",progress:10},{rankId:32,rankType:3,rankTime:60,rankReward:100,plantID:"4,1",plantID2:"5,0",progress:20},{rankId:33,rankType:4,rankTime:60,rankReward:100,plantID:"4,1",plantID2:"5,0",progress:30},{rankId:34,rankType:4,rankTime:60,rankReward:100,plantID:"4,1",plantID2:"5,0",progress:40},{rankId:35,rankType:2,rankTime:60,rankReward:100,plantID:"4,1",plantID2:"5,0",progress:50},{rankId:36,rankType:4,rankTime:60,rankReward:100,plantID:"4,2",plantID2:"5,0",progress:60},{rankId:37,rankType:4,rankTime:60,rankReward:100,plantID:"4,2",plantID2:"5,0",progress:70},{rankId:38,rankType:2,rankTime:60,rankReward:100,plantID:"4,2",plantID2:"5,0",progress:80},{rankId:39,rankType:1,rankTime:60,rankReward:100,plantID:"5,0",plantID2:"5,0",progress:90},{rankId:40,rankType:2,rankTime:60,rankReward:100,plantID:"5,0",plantID2:"5,0",progress:100},{rankId:41,rankType:2,rankTime:60,rankReward:100,plantID:"5,1",plantID2:"6,0",progress:10},{rankId:42,rankType:4,rankTime:60,rankReward:100,plantID:"5,2",plantID2:"6,0",progress:20},{rankId:43,rankType:1,rankTime:60,rankReward:100,plantID:"5,2",plantID2:"6,0",progress:30},{rankId:44,rankType:2,rankTime:60,rankReward:100,plantID:"5,2",plantID2:"6,0",progress:40},{rankId:45,rankType:1,rankTime:60,rankReward:100,plantID:"5,3",plantID2:"6,0",progress:50},{rankId:46,rankType:1,rankTime:60,rankReward:100,plantID:"5,3",plantID2:"6,0",progress:60},{rankId:47,rankType:2,rankTime:60,rankReward:100,plantID:"5,3",plantID2:"6,0",progress:70},{rankId:48,rankType:4,rankTime:60,rankReward:100,plantID:"5,3",plantID2:"6,0",progress:80},{rankId:49,rankType:1,rankTime:60,rankReward:100,plantID:"6,0",plantID2:"6,0",progress:90},{rankId:50,rankType:2,rankTime:60,rankReward:100,plantID:"6,0",plantID2:"6,0",progress:100},{rankId:51,rankType:4,rankTime:60,rankReward:100,plantID:"6,1",plantID2:"7,0",progress:6},{rankId:52,rankType:4,rankTime:60,rankReward:100,plantID:"6,1",plantID2:"7,0",progress:12},{rankId:53,rankType:3,rankTime:60,rankReward:100,plantID:"6,1",plantID2:"7,0",progress:18},{rankId:54,rankType:1,rankTime:60,rankReward:100,plantID:"6,1",plantID2:"7,0",progress:25},{rankId:55,rankType:4,rankTime:60,rankReward:100,plantID:"6,1",plantID2:"7,0",progress:31},{rankId:56,rankType:2,rankTime:60,rankReward:100,plantID:"6,1",plantID2:"7,0",progress:37},{rankId:57,rankType:1,rankTime:60,rankReward:100,plantID:"6,2",plantID2:"7,0",progress:43},{rankId:58,rankType:2,rankTime:60,rankReward:100,plantID:"6,2",plantID2:"7,0",progress:50},{rankId:59,rankType:4,rankTime:60,rankReward:100,plantID:"6,3",plantID2:"7,0",progress:56},{rankId:60,rankType:4,rankTime:60,rankReward:100,plantID:"6,3",plantID2:"7,0",progress:62},{rankId:61,rankType:2,rankTime:60,rankReward:100,plantID:"6,3",plantID2:"7,0",progress:68},{rankId:62,rankType:3,rankTime:60,rankReward:100,plantID:"7,0",plantID2:"7,0",progress:75},{rankId:63,rankType:3,rankTime:60,rankReward:100,plantID:"7,0",plantID2:"7,0",progress:81},{rankId:64,rankType:4,rankTime:60,rankReward:100,plantID:"7,0",plantID2:"7,0",progress:87},{rankId:65,rankType:3,rankTime:60,rankReward:100,plantID:"7,0",plantID2:"7,0",progress:93},{rankId:66,rankType:2,rankTime:60,rankReward:100,plantID:"7,0",plantID2:"7,0",progress:100},{rankId:67,rankType:4,rankTime:60,rankReward:100,plantID:"7,1",plantID2:"8,0",progress:7},{rankId:68,rankType:3,rankTime:60,rankReward:100,plantID:"7,1",plantID2:"8,0",progress:14},{rankId:69,rankType:2,rankTime:60,rankReward:100,plantID:"7,1",plantID2:"8,0",progress:21},{rankId:70,rankType:3,rankTime:60,rankReward:100,plantID:"7,2",plantID2:"8,0",progress:28},{rankId:71,rankType:2,rankTime:60,rankReward:100,plantID:"7,2",plantID2:"8,0",progress:36},{rankId:72,rankType:3,rankTime:60,rankReward:100,plantID:"7,3",plantID2:"8,0",progress:43},{rankId:73,rankType:4,rankTime:60,rankReward:100,plantID:"7,3",plantID2:"8,0",progress:50},{rankId:74,rankType:2,rankTime:60,rankReward:100,plantID:"7,3",plantID2:"8,0",progress:57},{rankId:75,rankType:3,rankTime:60,rankReward:100,plantID:"8,0",plantID2:"8,0",progress:64},{rankId:76,rankType:4,rankTime:60,rankReward:100,plantID:"8,0",plantID2:"8,0",progress:71},{rankId:77,rankType:3,rankTime:60,rankReward:100,plantID:"8,0",plantID2:"8,0",progress:78},{rankId:78,rankType:1,rankTime:60,rankReward:100,plantID:"8,0",plantID2:"8,0",progress:85},{rankId:79,rankType:3,rankTime:60,rankReward:100,plantID:"8,0",plantID2:"8,0",progress:92},{rankId:80,rankType:2,rankTime:60,rankReward:100,plantID:"8,0",plantID2:"8,0",progress:100}],cc._RF.pop()},{}],RedPointManager:[function(e,t,n){"use strict";cc._RF.push(t,"64c32PWjIZMvZ2wES/HQx6e","RedPointManager");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.RedPointManager=n.RedpointType=void 0;var r,s=e("./Const"),c=e("./ResourceManager"),l=cc._decorator,d=l.ccclass;l.property,function(e){e[e.LEVELUPWEAPON=1]="LEVELUPWEAPON",e[e.BOSSCHANLLEG=2]="BOSSCHANLLEG",e[e.AcHIEVEMENT=3]="AcHIEVEMENT",e[e.DAYTASK=4]="DAYTASK",e[e.LEVELUPPET=5]="LEVELUPPET",e[e.LEVELUPSKIN=6]="LEVELUPSKIN",e[e.TEAMTASK=7]="TEAMTASK",e[e.PVPCHANLLEGE=8]="PVPCHANLLEGE",e[e.OFFLINEREWARD=9]="OFFLINEREWARD",e[e.ONLINEREWARD=10]="ONLINEREWARD",e[e.PVP=11]="PVP",e[e.DRAWCARD=12]="DRAWCARD"}(r=n.RedpointType||(n.RedpointType={}));var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var n;return i(t,e),n=t,t.updateRedPoint=function(e,t,o){n.checkIsShowRedPoint(o)},t.showRepoint=function(e,t){var n=e.getChildByName("redPointFlag");n?t?n.setPosition(t.x,t.y):n.setPosition(e.width/2-n.width,e.height/2-n.height):c.ResourceManager.loadingRes("Prefebs/redpoint",cc.Prefab,function(n,o){if(!n){var i=cc.instantiate(o);t?i.setPosition(t.x,t.y):i.setPosition(e.width/2-i.width,e.height/2-i.height),i.name="redPointFlag",i.zIndex=cc.macro.MAX_ZINDEX,e.addChild(i)}})},t.removePoint=function(e){var t=e.getChildByName("redPointFlag");t&&(t.removeFromParent(),t.destroy())},t.addRedPoint=function(e,t,o){t?o?n.showRepoint(e,new cc.Vec2(o.x,o.y)):n.showRepoint(e):n.removePoint(e)},t.checkIsShowRedPoint=function(e){switch(e){case r.LEVELUPWEAPON:return UserData.getInstance().equipManager.checkIsHasCanLevelUpOrBuy();case r.LEVELUPPET:return UserData.getInstance().wingsManager.checkIsHasCanLevelUpOrBuy();case r.LEVELUPSKIN:return UserData.getInstance().roleManager.checkIsHasCanLevelUpOrBuy();case r.BOSSCHANLLEG:return UserData.getInstance().userInfo.goods[s.AssetsType.bossChanllegeChance]>0;case r.ONLINEREWARD:return UserData.getInstance().checkHasOnline();case r.DAYTASK:return UserData.getInstance().taskManger.checkHasFinishedTask();case r.OFFLINEREWARD:return UserData.getInstance().checkIsShowGainRedPoint();case r.TEAMTASK:return UserData.getInstance().checkIsHasTeamTask();case r.PVP:return UserData.getInstance().userInfo.goods[s.AssetsType.pvpChanllegeChance]>0;case r.DRAWCARD:return UserData.getInstance().userInfo.treasurBox[0]>0||UserData.getInstance().userInfo.treasurBox[1]>0||UserData.getInstance().userInfo.treasurBox[2]>0}return!1},t.NEWGETGUNIDS=[],t.NEWGETSKINIDS=[],t.NEWGETPETIDS=[],n=a([d],t)}(cc.Component);n.RedPointManager=u,cc._RF.pop()},{"./Const":"Const","./ResourceManager":"ResourceManager"}],ResConst:[function(e,t,n){"use strict";cc._RF.push(t,"fbe0aaMlL1EM75w10aOhUSb","ResConst"),Object.defineProperty(n,"__esModule",{value:!0}),n.ResConst=void 0,n.ResConst={audio:{bg:"bgMusic",bg1:"bgMusic1",btn:"btn",fly:"fly.mp3",getReward:"getReward.mp3",selectRank:"selectRank.mp3",fail:"fail.mp3",coin:"coin.mp3",zhu1:"zhu1.mp3",zhu2:"zhu2.mp3",zhu3:"zhu3.mp3",shield:"shield.mp3",hitPig:"hitPig.mp3",useShieldDlg:"useShieldDlg.mp3",purchase:"purchase.mp3",continue1:"continue1.mp3",continue2:"continue2.mp3",continuefly:"continuefly.mp3",getrewarddlg:"getrewarddlg.mp3",pigDead:"pigDead.mp3"},altas:{map:"altas/NO",levelup:"altas/rolelevelup",gun:"altas/rolelevelup",main:"altas/game",knife:"altas/knife",mainMenu:"altas/menu",common:"altas/common",daySign:"altas/sign",draw:"altas/draw",boss:"altas/boss",notice:"altas/notice"},animation:{levelupBuilding:"altas/levelupBuilding",juhuang:"altas/juhuang",main:"altas/main",mainMenu:"altas/mainMenu"},scene:{mainMenuScene:"main",startScene:"start",KnifeScene:"KnifeScene",mapScene:"map",fruitMainScene:"fruitMainScene"},music:{}},cc._RF.pop()},{}],ResourceManager:[function(e,t,n){"use strict";cc._RF.push(t,"1862fPj11NIq4yiTdLrxcqR","ResourceManager");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.ResourceManager=n.MAINDRAGONRESOURCE=n.mainDragonResources=void 0;var a,r=e("../Utils/Const"),s=e("./ResConst"),c=e("../GameConfig");(function(e){e.enemyAssetsInfo="enemys",e.roleAssetsInfo="roleAssetsInfo",e.gunAssets="gunAssets",e.behittedEffect="dragon/bulletEffect"})(a=n.mainDragonResources||(n.mainDragonResources={})),n.MAINDRAGONRESOURCE=["enemyAssetsInfo","roleAssetsInfo","gunAssets","behitted"];var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.loadCommonRes=function(e){cc.resources.load("Prefebs/AssetPane",cc.Prefab,function(t){t||e()})},t.loadBundle=function(e){return new Promise(function(t,n){cc.assetManager.loadBundle(e,function(o,i){o?(console.warn("\u8d44\u6e90\u5305\u52a0\u8f7d\u5931\u8d25",o),n("\u8d44\u6e90\u5305"+e+"\u52a0\u8f7d\u5931\u8d25")):(console.log("\u8d44\u6e90\u5305"+e+"\u52a0\u8f7d\u6210\u529f"),t(i))})})},t.loadRankBg=function(e,t){cc.assetManager.loadRemote(c.GameConfig.RESURL+"rank/"+e+".png",function(e,n){var o=new cc.SpriteFrame(n);t(e,o)})},t.loadMainDragonEffect=function(e){cc.resources.loadDir(a.behittedEffect,function(n,o){n?console.error("\u52a0\u8f7d\u5931\u8d25"):(t[a.behittedEffect]=o,e())})},t.loadRoleById=function(){},t.loadFGUIPackage=function(e,t){fgui.UIPackage.loadPackage("fgui/"+e,function(e){e?console.error(e):t()})},t.loadSceneRes=function(e,t){switch(e){case r.SceneName.gardenScene:cc.resources.load(s.ResConst.altas.mainMenu,cc.SpriteAtlas,function(){t()});break;case r.SceneName.mainScene:break;case r.SceneName.menuScene:cc.resources.load(s.ResConst.altas.boss,cc.SpriteAtlas,function(){t()});default:t()}},t.unLoadResouce=function(e){switch(e){case r.SceneName.gardenScene:cc.resources.release(s.ResConst.altas.mainMenu,cc.SpriteAtlas);break;case r.SceneName.mainScene:break;case r.SceneName.menuScene:cc.resources.release(s.ResConst.altas.boss,cc.SpriteAtlas)}},t.loadingDir=function(){},t.loadingRes=function(e,t,n){try{this._checkIsHasLoaded(e,t)||this.shoudongLoadRes.push({url:e,type:t}),cc.resources.load(e,t,function(e,t){n(e,t),setTimeout(function(){},500)})}catch(o){console.error("\u8fd9\u91cc\u62a5\u9519\uff0c",o)}},t._checkIsHasLoaded=function(e,t){for(var n=0;n<this.shoudongLoadRes.length;n++){var o=this.shoudongLoadRes[n];if(e===o.url&&t==o.type)return!0}return!1},t.releaseAllRes=function(){for(var e=0;e<this.shoudongLoadRes.length;e++){var t=this.shoudongLoadRes[e];console.log("irelease::",t.url),c.GameConfig.channel!=r.ChannelType.qq&&c.GameConfig.channel!=r.ChannelType.meizu&&c.GameConfig.channel!=r.ChannelType.huawei&&cc.resources.release(t.url,t.type)}this.shoudongLoadRes=[]},t.loadEnemy=function(){},t.mainRes=["dragon/enemys"],t.shoudongLoadRes=[],t.assets=[],t.gunAssets={},t.mainEffectResoure={},t}(cc.Component);n.ResourceManager=l,cc._RF.pop()},{"../GameConfig":"GameConfig","../Utils/Const":"Const","./ResConst":"ResConst"}],SceneLoading:[function(e,t,n){"use strict";cc._RF.push(t,"7b9e1DKXAlL26W9JuE/BOke","SceneLoading");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.SceneLoading=void 0;var r=e("../Utils/Const"),s=e("../calc/Calc"),c=cc._decorator,l=c.ccclass,d=(c.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.start=function(){fgui.UIPackage.loadPackage("fgui/Common",function(){cc.director.loadScene(r.SceneName.mainScene)}),cc.resources.loadDir("data",function(e,t){t.forEach(function(e){s.Calc.jsonData[e.name]=e.json})}),cc.resources.load("font/commonfont",cc.Font,function(e,t){fgui.registerFont("Groboldov7",t),fgui.UIConfig.defaultFont="Groboldov7"})},a([l],t)}(cc.Component));n.SceneLoading=d,cc._RF.pop()},{"../Utils/Const":"Const","../calc/Calc":"Calc"}],ShopTips:[function(e,t,n){"use strict";cc._RF.push(t,"6127fIpKYxEeJG1LCKRVt0u","ShopTips");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.ShopTips=void 0;var r=cc._decorator,s=r.ccclass,c=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.text="hello",t}return i(t,e),t.prototype.start=function(){},t.show=function(){},a([c(cc.Label)],t.prototype,"label",void 0),a([c],t.prototype,"text",void 0),a([s],t)}(cc.Component);n.ShopTips=l,cc._RF.pop()},{}],ShouQ:[function(e,t,n){"use strict";cc._RF.push(t,"ce96cp1vVpJda4jMTZWyIym","ShouQ");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.ShouQ=void 0;var a=e("./HttpsTools"),r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.login=function(e){window.qq.login({success:function(t){console.log("res:",t.code),t.code?a.HttpsTools.login("qqLogin",function(t,n){e(n.qqData.openid,"qq"),console.log("======:,\u8bf7\u6c42QQ\u6210\u529f\u5566")},{qqCode:t.code}):console.log("\u767b\u5f55\u5931\u8d25\uff01"+t.errMsg)}})},t.prototype.initSDK=function(t){e.prototype.initSDK.call(this,t),window.qq.showShareMenu({withShareTicket:!0}),e.prototype.onShow.call(this),this._initShouQAds(),window.qq.onShareAppMessage({title:"@\u4f60\uff0c\u4e0d\u6765\u4e00\u5c40\u5207\u6c34\u679c\u5417\uff1f",imageUrlId:"kZl55wjNSd600Rmao4sTqw",shareTicket:t+"&&"+(new Date).getTime(),imageUrl:"https://mmocgame.qpic.cn/wechatgame/xQIymonI7UCvXTE9chZO0hh0LxPg3kdSSOicfvuibicuibgKibe9zblywFRr6zeWutUL4/0",query:"key1="+t+"&key2="+(new Date).getTime(),success:function(){},fail:function(){}});var n=window.qq.getUpdateManager();n.onUpdateReady(function(){window.qq.showModal({title:"\u66f4\u65b0\u63d0\u793a",content:"\u65b0\u7248\u672c\u5df2\u7ecf\u51c6\u5907\u597d\uff0c\u662f\u5426\u91cd\u542f\u5e94\u7528\uff1f",success:function(e){e.confirm&&n.applyUpdate()}})}),console.log("===\u521d\u59cb\u5316QQ\u7ed3\u675f")},t.prototype._initShouQAds=function(){var e=this;this._rewardedVideoAd=window.qq.createRewardedVideoAd({adUnitId:"adunit-3995b746e31eb596"}),this._rewardedVideoAd&&(this._rewardedVideoAd.onError(function(e){console.log(e)}),this._rewardedVideoAd.onLoad(function(){e._isCreateVidioAdSuccess=!0,console.log("====\u89c6\u9891\u8fd8\u6709\u7684")}),this._rewardedVideoAd.onClose(function(t){t&&t.isEnded||void 0===t?e._seeVideoSuccessCallBack&&(e._seeVideoSuccessCallBack(),e._seeVideoSuccessCallBack=void 0):e._seeVideoFailCallBack&&(e._seeVideoFailCallBack(),e._seeVideoFailCallBack=void 0)}));var t=window.qq.getSystemInfoSync().screenHeight,n=window.qq.getSystemInfoSync().screenWidth;this._bannerAd=window.qq.createBannerAd({adUnitId:"adunit-f6fb28580172a256",adIntervals:30,style:{left:100,top:76,width:n/2}}),this._bannerAd.onError(function(e){console.log(e)}),this._bannerAd.onLoad(function(){e._isCreateBannerAdSuccess=!0,console.log("====bnaner\u8fd8\u6709\u7684")}),this._bannerAd.onResize(function(n){console.log("banner onResize",n),e._bannerAd.style.top=t-e._bannerAd.style.realHeight-5,e._bannerAd.style.left=45}),this._interstitialAd=window.qq.createInterstitialAd({adUnitId:"adunit-67269b9c88089449"}),this._interstitialAd.onError(function(e){console.log(e)}),this._interstitialAd.onLoad(function(){e._isCreateInteAdSuccess=!0,console.log("====\u63d2\u5c4f\u8fd8\u6709\u7684")}),this._interstitialAd.onClose(function(){console.log("====\u5173\u95ed\u63d2\u5c4f")})},t.prototype.share=function(e){var t=this;window.qq.shareAppMessage({title:"@\u4f60\uff0c\u4e0d\u6765\u4e00\u5c40\u5207\u6c34\u679c\u5417\uff1f",imageUrl:"https://mmocgame.qpic.cn/wechatgame/xQIymonI7UCvXTE9chZO0hh0LxPg3kdSSOicfvuibicuibgKibe9zblywFRr6zeWutUL4/0",success:function(){e()},fail:function(){t._onShareFail()}})},t.prototype.onShow=function(){},t.prototype.showAds=function(e,t){this.showqqAds(e,t)},t.prototype.showqqAds=function(e,t){var n=this;this._rewardedVideoAd&&this._isCreateVidioAdSuccess?this._rewardedVideoAd.show().then(function(){n._seeVideoSuccessCallBack=e,n._seeVideoFailCallBack=function(){t("\u5e7f\u544a\u6ca1\u770b\u5b8c\u54e6\uff0c\u4e0d\u53d1\u4f60\u5956\u52b1\uff01")}}).catch(function(){t("\u62c9\u53d6\u5e7f\u544a\u5931\u8d25\uff01")}):t("\u6ca1\u6709\u5e7f\u544a\u7ed9\u4f60\u770b\u54af")},t}(e("./ChannelSDK").ChannelSDK);n.ShouQ=r,cc._RF.pop()},{"./ChannelSDK":"ChannelSDK","./HttpsTools":"HttpsTools"}],SoundManager:[function(e,t,n){"use strict";cc._RF.push(t,"bf685CJZqtDnqOuMIebWZrf","SoundManager"),Object.defineProperty(n,"__esModule",{value:!0}),n.SoundManager=void 0;var o=e("./ResConst"),i=e("../GameConfig"),a=e("./Const"),r=function(){function e(){}return e.playAudio=function(t){var n=this;if(e.isEffectOn&&this.bundle&&t){var o=cc.resources.get(""+t,cc.AudioClip),i=t;this.curNum[i]>2||(this.curNum[i]||(this.curNum[i]=0),this.curNum[i]++,o?(this.curNum[i]=0,cc.audioEngine.play(o,!1,1)):this.bundle.load(""+t,cc.AudioClip,function(e,o){e?console.log("\u52a0\u8f7d\u97f3\u6548\u5931\u8d25\uff1a",t):(cc.audioEngine.play(o,!1,1),n.curNum[i]=0,delete n.curNum[i])}))}},e.playAudioClip=function(t,n){e.isEffectOn&&this.bundle&&cc.audioEngine.playEffect(t,n)},e.playLoopAudio=function(t){if(e.isEffectOn&&this.bundle){var n=cc.resources.get(""+t,cc.AudioClip);console.log("===:",n),n?cc.audioEngine.play(n,!0,1):this.bundle.load(""+t,cc.AudioClip,function(e,t){e?console.error(e):cc.audioEngine.play(t,!0,1)})}},e.stopLoopAudio=function(){cc.audioEngine.stopAllEffects()},e.playMusic=function(t){var n=this;if(e.isMusicOn&&this.bundle){this.curMusic==t||this.stopMusic(),t&&(this.curMusic=t),this.curMusic||(this.curMusic=o.ResConst.audio.bg);var i=cc.resources.get(this.curMusic);i?(this.stopMusic(),cc.audioEngine.playMusic(i,!0)):this.bundle.load(""+this.curMusic,cc.AudioClip,function(e,t){e?console.log("\u52a0\u8f7d\u97f3yue\u5931\u8d25\uff1a",n.curMusic):(n.stopMusic(),console.log("res:",t),cc.audioEngine.playMusic(t,!0))})}},e.setMusicVolume=function(e){cc.audioEngine.setMusicVolume(e)},e.stopMusic=function(){a.ChannelType.oppo,i.GameConfig.channel,cc.audioEngine.isMusicPlaying()&&cc.audioEngine.stopMusic()},e.curNum={},e.isMusicOn=1,e.isEffectOn=1,e}();n.SoundManager=r,cc._RF.pop()},{"../GameConfig":"GameConfig","./Const":"Const","./ResConst":"ResConst"}],SourceManager:[function(e,t,n){"use strict";cc._RF.push(t,"cefaaQpvwlLhZcE5+wKr34o","SourceManager"),Object.defineProperty(n,"__esModule",{value:!0}),n.SourceManager=void 0;var o=function(){function e(){}return e.loadRes=function(){},e}();n.SourceManager=o,cc._RF.pop()},{}],Test:[function(e,t,n){"use strict";cc._RF.push(t,"52776X/1i1KyYC/A6Lluql/","Test");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.abc=null,t}return i(t,e),t.prototype.start=function(){var e=new cc.Vec2(this.label.node.x,this.label.node.y);cc.tween(this.label.node).bezierTo(3,e,cc.v2((e.x+this.abc.getPosition().x)/2,this.label.node.y+100),this.abc.getPosition()).start()},t.prototype.update=function(){this.abc.x+=3},a([c(cc.Label)],t.prototype,"label",void 0),a([c(cc.Node)],t.prototype,"abc",void 0),a([s],t)}(cc.Component);n.default=l,cc._RF.pop()},{}],TextureRenderUtils:[function(e,t,n){"use strict";cc._RF.push(t,"a4e23drqdVLoZkxOCYEC1gV","TextureRenderUtils");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.TextureRenderUtils=void 0;var r=cc._decorator,s=r.ccclass,c=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.camera=null,t}return i(t,e),t.prototype.init=function(){var e=new cc.RenderTexture;e.initWithSize(cc.visibleRect.width,cc.visibleRect.height,cc.gfx.RB_FMT_S8),this.camera.targetTexture=e,this.texture=e},t.prototype.createImg=function(){var e=this._canvas.toDataURL("image/png"),t=document.createElement("img");return t.src=e,t},t.prototype.createCanvas=function(e){if(void 0===e&&(e={}),!this.texture){var t=new cc.RenderTexture;t.initWithSize(e.w||cc.visibleRect.width,e.h||cc.visibleRect.height,cc.gfx.RB_FMT_S8),this.camera.targetTexture=t,this.texture=t}var n=this.texture.width,o=this.texture.height;this._canvas?this.clearCanvas():(this._canvas=document.createElement("canvas"),this._canvas.width=n,this._canvas.height=o);var i=this._canvas.getContext("2d");this.camera.render();for(var a=this.texture.readPixels(),r=4*n,s=0;s<o;s++){for(var c=o-1-s,l=i.createImageData(n,1),d=c*n*4,u=0;u<r;u++)l.data[u]=a[d+u];i.putImageData(l,0,s)}return this._canvas},t.prototype.showImage=function(e,t){var n=new cc.Texture2D;n.initWithElement(e);var o=new cc.SpriteFrame;o.setTexture(n),o.setRect(t);var i=new cc.Node;i.addComponent(cc.Sprite).spriteFrame=o,i.name="Capture",i.zIndex=cc.macro.MAX_ZINDEX,i.parent=cc.director.getScene();var a=cc.winSize.width,r=cc.winSize.height;i.x=a/2,i.y=r/2,i.on(cc.Node.EventType.TOUCH_START,function(){i.parent=null,i.destroy()}),this.captureAction(i,a,r)},t.prototype.captureAction=function(e,t,n){var o=cc.scaleTo(1,.3),i=cc.v2(t-t/6,n/4),a=cc.moveTo(1,i),r=cc.spawn(o,a);e.runAction(r);var s=cc.blink(.1,1);this.node.runAction(s)},t.prototype.clearCanvas=function(){this._canvas.getContext("2d").clearRect(0,0,this._canvas.width,this._canvas.height)},a([c(cc.Camera)],t.prototype,"camera",void 0),a([s],t)}(cc.Component);n.TextureRenderUtils=l,cc._RF.pop()},{}],Toutiao:[function(e,t,n){"use strict";cc._RF.push(t,"e5be40VTwZDo7f4tRnCqHLU","Toutiao");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.Toutiao=void 0;var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.login=function(e){var t=cc.sys.localStorage.getItem("userId");t||(t=(new Date).getTime()+"_toutiao",cc.sys.localStorage.setItem("userId",t)),e(t,"toutiao")},t.prototype.initSDK=function(t){var n=this;e.prototype.initSDK.call(this,t),e.prototype.onShow.call(this);var o=window.tt.getSystemInfoSync();"ios"==o.platform||"XIGUA"==o.appName.toUpperCase()||(window.tt.onMoreGamesModalClose(function(e){console.log("modal closed",e)}),window.tt.onNavigateToMiniProgram(function(e){console.log(e.errCode),console.log(e.errMsg),console.log(e)})),this.recorder=window.tt.getGameRecorderManager(),window.tt.getGameRecorderManager().onStart(function(){}),window.tt.getGameRecorderManager().onStop(function(e){n._isEnd&&(n._isEnd(),n._isEnd=void 0),n._isForceStop?(n.videoRes=e.videoPath,n.shareVideo()):n.videoRes=e.videoPath,n.is_record=!1}),console.log("==========12662"),console.log("==========777")},t.prototype.endRecording=function(e){window.tt&&(this._isForceStop=e,window.tt.getGameRecorderManager().stop())},t.prototype._initTTAds=function(){var e=this;this._rewardedVideoAd=window.tt.createRewardedVideoAd({adUnitId:"f7cl2bh6g7b337c2de"}),console.log("==========:",this._rewardedVideoAd),this._rewardedVideoAd&&(this._rewardedVideoAd.onError(function(e){console.log(e)}),this._rewardedVideoAd.onLoad(function(){e._isCreateVidioAdSuccess=!0,console.log("====\u89c6\u9891\u8fd8\u6709\u7684")}),this._rewardedVideoAd.onClose(function(t){t&&t.isEnded||void 0===t?e._seeVideoSuccessCallBack&&(e._seeVideoSuccessCallBack(),e._seeVideoSuccessCallBack=void 0):e._seeVideoFailCallBack&&(e._seeVideoFailCallBack(),e._seeVideoFailCallBack=void 0)}));var t=window.tt.getSystemInfoSync().screenHeight,n=window.tt.getSystemInfoSync().screenWidth;this._bannerAd=window.tt.createBannerAd({adUnitId:"2nj9r33f22d41ts8xo",adIntervals:30,style:{left:0,top:t-9*n/16-5,width:n}}),this._bannerAd.onError(function(e){console.log(e)}),this._bannerAd.onLoad(function(){e._isCreateBannerAdSuccess=!0,console.log("====bnaner\u8fd8\u6709\u7684"),e._bannerAd.style.width=n}),this._bannerAd.onResize(function(o){console.log("banner onResize",o),e._bannerAd.style.top=t-9*n/16-5,e._bannerAd.style.left=(n-o.width)/2})},t.prototype.share=function(e){var t=this;window.tt.shareAppMessage({title:"@\u4f60\uff0c\u4e0d\u6765\u4e00\u5c40\u5207\u6c34\u679c\u5417\uff1f",templateId:"eaej2f54f55h5uqj5s",query:"",success:function(){e()},fail:function(){t._onShareFail()}})},t.prototype.onShow=function(){},t.prototype._shareVideo=function(){var e=this;window.tt.shareAppMessage({channel:"video",title:"\u6b63\u7248\u4e00\u98de\u51b2\u5929",desc:"\u6253\u8d25\u5929\u4e0b\u65e0\u654c\u624b",imageUrl:"",templateId:"",query:"",extra:{videoPath:this.videoRes},success:function(){console.log("=========:",e._shareVideoSuccess),e._shareVideoSuccess&&(e._shareVideoSuccess(),e._shareVideoSuccess=void 0),console.log("==\u5206\u4eab\u89c6\u9891\u6210\u529f")},fail:function(){console.log("\u5206\u4eab\u89c6\u9891\u5931\u8d25")}})},t.prototype.beginRecord=function(e){window.tt&&(this.is_record?(new Date).getTime()-this.record_time>=3e3&&(this._isForceStop=!0,this.is_record=!1,this._isEnd=void 0,window.tt.getGameRecorderManager().stop(),e()):(this._isForceStop=!0,this._isEnd=e,this.is_record=!0,window.tt.getGameRecorderManager().start({duration:300}),this.record_time=(new Date).getTime()))},t.prototype.showBanner=function(t){window.black&&0!=window.black&&e.prototype.showBanner.call(this,t)},t.prototype.showAds=function(e,t,n){if(8==n&&window.black<=1)t("\u6b64\u5904\u4e0d\u8df3\u5e7f\u544a\u4e86");else{var o=Math.random();8==n&&2==window.black&&o<.15?t("\u6b64\u5904\u4e0d\u8df3\u5e7f\u544a\u4e86"):8==n&&3==window.black&&o<.3?t("\u6b64\u5904\u4e0d\u8df3\u5e7f\u544a\u4e86"):this.showToutiaoAds(e,t)}},t.prototype.shareVideo=function(e){var t=this;this.videoRes&&window.tt.shareAppMessage({channel:"video",title:"\u5996\u602a\u770b\u6253",desc:"\u636e\u8bf4\u50cf\u6211\u8fd9\u4e48\u5e05\u7684\u4eba\u8fd8\u67097\u4e2a",imageUrl:"",templateId:"",query:"",extra:{videoPath:this.videoRes},success:function(){e&&e(),console.log("=========:",t._shareVideoSuccess),t._shareVideoSuccess&&(t._shareVideoSuccess(),t._shareVideoSuccess=void 0),console.log("==\u5206\u4eab\u89c6\u9891\u6210\u529f"),t.videoRes=void 0},fail:function(){console.log("\u5206\u4eab\u89c6\u9891\u5931\u8d25"),t.videoRes=void 0}})},t.prototype.showToutiaoAds=function(e,t){var n=this;this._rewardedVideoAd&&this._isCreateVidioAdSuccess?this._rewardedVideoAd.show().then(function(){n._seeVideoSuccessCallBack=e,n._seeVideoFailCallBack=function(){t("\u5e7f\u544a\u6ca1\u770b\u5b8c\u54e6\uff0c\u4e0d\u53d1\u4f60\u5956\u52b1\uff01")}}).catch(function(){t("\u62c9\u53d6\u5e7f\u544a\u5931\u8d25\uff01")}):t("\u6ca1\u6709\u5e7f\u544a\u4e86\uff0c\u5c0f\u4f19\u5b50")},t}(e("./ChannelSDK").ChannelSDK);n.Toutiao=a,cc._RF.pop()},{"./ChannelSDK":"ChannelSDK"}],UserData:[function(e,t,n){"use strict";cc._RF.push(t,"facbe+W1fNAxoZb+9veNqwj","UserData"),Object.defineProperty(n,"__esModule",{value:!0}),n.UserData=void 0;var o=e("../UI/ShopTips"),i=e("../calc/Calc"),a=e("../Utils/EventsManager"),r="biezhenv2_data_2021_9_10",s=function(){function e(e){this._userInfo=e}return e.getInstance=function(){if(this._userData)return this._userData;var t;try{var n=cc.sys.localStorage.getItem(r);n?t=JSON.parse(n):(t=this.initUserData,e._isNew=1)}catch(o){t=this.initUserData}return this._userData=new e(t),t.loginAt=(new Date).getTime(),this._userData.resetDailyData(),cc.sys.localStorage.setItem(r,JSON.stringify(t)),this._userData},e.isNew=function(){return this._isNew},Object.defineProperty(e.prototype,"recoverPowerDuration",{get:function(){return 36e5},enumerable:!1,configurable:!0}),e.prototype.reducePowerNum=function(e){e||(e=1),this._userInfo.powerNum-=e,this._userInfo.powerNum<this.maxPowerNum&&!this._userInfo.powerRecoverAt&&(this._userInfo.powerRecoverAt=(new Date).getTime()),a.EventsManager.emit(a.EventsManager.CHANGEASSETSNUM),this.saveData()},e.prototype.addPowerNum=function(e){this._userInfo.powerNum+=e||1,this.saveData()},e.prototype.getIsNewPlant=function(e){return this._userInfo.isnewPlant||(this._userInfo.isnewPlant=[]),-1==this._userInfo.isnewPlant.indexOf(e)},e.prototype.pushIsNewPlant=function(e){this._userInfo.isnewPlant||(this._userInfo.isnewPlant=[]),this.getIsNewPlant(e)&&this._userInfo.isnewPlant.push(e)},e.prototype.getHangInfoByPos=function(e){if(this._userInfo.userHangData)return this._userInfo.userHangData[e];this._userInfo.userHangData={}},e.prototype.getHangCoinNum=function(e){if(!this._userInfo.userHangData)return this._userInfo.userHangData={},0;if(!this._userInfo.userHangData[e])return 0;if(!this._userInfo.userHangData[e].plantId)return 0;if(this._userInfo.userHangData[e].plantId<0)return 0;var t=i.Calc.getPlantInfo(this._userInfo.userHangData[e].plantId).products[this._userInfo.userHangData[e].skinId],n=(new Date).getTime()-this._userInfo.userHangData[e].hangAt;return n=Math.min(288e5,n),Math.floor(n/1e3/t)},e.prototype.getTotalHangCoinNum=function(){for(var e=0,t=1;t<=12;t++)e+=this.getHangCoinNum(t);return e},e.prototype.gainHangCoin=function(e,t){if(this._userInfo.userHangData){if(this._userInfo.userHangData[e]&&this._userInfo.userHangData[e].plantId&&!(this._userInfo.userHangData[e].plantId<0)){var n=i.Calc.getPlantInfo(this._userInfo.userHangData[e].plantId).products[this._userInfo.userHangData[e].skinId],o=(new Date).getTime()-this._userInfo.userHangData[e].hangAt;o=Math.min(288e5,o);var a=Math.floor(o/1e3/n);a<=0||(this._userInfo.coinNum+=a,this._userInfo.userHangData[e].hangAt=(new Date).getTime(),t(a),this.saveData())}}else this._userInfo.userHangData={}},e.prototype.getHangSqurePosId=function(){if(!this._userInfo.userHangData)return 0;for(var e=1;e<=12;e++){var t=this._userInfo.userHangData[e];if(!(t&&t.plantId>0||t&&t.state))return e}return 0},e.prototype.getHangUnlockPosId=function(){if(!this._userInfo.userHangData)return 0;for(var e=10;e<=12;e++)if((t=this._userInfo.userHangData[e])&&1==t.state)return e;for(e=7;e<=9;e++){var t;if((t=this._userInfo.userHangData[e])&&1==t.state)return e}return 0},e.prototype.auntoaddHangPlant=function(e,t,n){this._userInfo.userHangData||(this._userInfo.userHangData={});for(var o=1;o<=12;o++){var i=this._userInfo.userHangData[o];if(!(i&&i.plantId>0||i&&i.state))return this._userInfo.userHangData[o]={plantId:e,skinId:t,hangAt:(new Date).getTime(),state:0},void n(o)}},e.prototype.addHangPlantInfo=function(e,t,n){if(console.log("===\u589e\u52a0\u690d\u7269"),n=n||0,this._userInfo.userHangData||(this._userInfo.userHangData={}),!this._userInfo.userHangData[e])return this._userInfo.userHangData[e]={plantId:t,skinId:n,hangAt:(new Date).getTime(),state:0},void this.saveData();1!=this._userInfo.userHangData[e].state&&(this._userInfo.userHangData[e].plantId=t,this._userInfo.userHangData[e].skinId=n,this._userInfo.userHangData[e].hangAt=(new Date).getTime(),this.saveData())},e.prototype.recoverPowerNumByTime=function(){var e=(new Date).getTime()-this._userInfo.powerRecoverAt;if(e>this.recoverPowerDuration&&this._userInfo.powerNum<this.maxPowerNum){var t=Math.floor((e+1e3)/this.recoverPowerDuration);this._userInfo.powerNum+=t,this._userInfo.powerNum=Math.min(this.maxPowerNum,this._userInfo.powerNum),this._userInfo.powerNum<this.maxPowerNum?(this._userInfo.powerRecoverAt=(new Date).getTime(),a.EventsManager.emit(a.EventsManager.UIUPDATE)):this._userInfo.powerRecoverAt=0,this.saveData()}},Object.defineProperty(e.prototype,"maxPowerNum",{get:function(){return 10},enumerable:!1,configurable:!0}),e.prototype.checkIsInGarden=function(e,t){var n=this;if(!this._userInfo.userHangData)return this._userInfo.userHangData={},!1;t||(t=0);var o=!1;return Object.keys(this._userInfo.userHangData).forEach(function(i){if(n._userInfo.userHangData[i]&&n.userInfo.userHangData[i].plantId==e&&n.userInfo.userHangData[i].skinId==t)return o=!0,!0}),o},e.prototype.checkIsInGardenPos=function(e,t){var n=this;if(!this._userInfo.userHangData)return this._userInfo.userHangData={},0;t||(t=0);var o=0;return Object.keys(this._userInfo.userHangData).forEach(function(i){if(n._userInfo.userHangData[i]&&n.userInfo.userHangData[i].plantId==e&&n.userInfo.userHangData[i].skinId==t)return o=Number(i)}),o},e.prototype.getSurpriseInfo=function(e){return this._userInfo.surpriseEgg||(this._userInfo.surpriseEgg=[]),0|this._userInfo.surpriseEgg[e]},e.prototype.setSurpriseInfo=function(e,t){this._userInfo.surpriseEgg||(this._userInfo.surpriseEgg=[]),this._userInfo.surpriseEgg[e]=t,this.saveData()},Object.defineProperty(e,"initUserData",{get:function(){return{userId:"biezhen_"+(new Date).getTime()+Math.random().toString(16).substr(2)+Math.floor(1e5*Math.random()),passedRank:0,coinNum:2e3,curKeyGetProgress:0,curSelectId:1,curSelectskinId:[0,0,0,0,0,0],keysNum:0,userPlantInfo:{},skinProgress:0,signAt:0,signTimes:0,drawTimes:0,gardenBgIndex:[0],loginAt:(new Date).getTime(),videoShowTimes:{},tryUsedTimes:[],userHangData:{10:{state:1},11:{state:1},12:{state:1},7:{state:1},8:{state:1},9:{state:1}},powerNum:10,powerRecoverAt:0}},enumerable:!1,configurable:!0}),e.prototype.checkUnlockGardenBgIndex=function(e){return this._userInfo.gardenBgIndex||(this._userInfo.gardenBgIndex=[0]),0==e||-1!=this._userInfo.gardenBgIndex.indexOf(e)},e.prototype.setGardenBgIndex=function(e){this._userInfo.gardenBgIndex||(this._userInfo.gardenBgIndex=[0]),-1==this._userInfo.gardenBgIndex.indexOf(e)&&this._userInfo.gardenBgIndex.push(e)},e.prototype.getSkinTryUsedTimes=function(e){return this._userInfo.tryUsedTimes||(this._userInfo.tryUsedTimes=[]),0|this._userInfo.tryUsedTimes[e]},e.prototype.resetRoleSkinId=function(){this._userInfo.tryUsedTimes&&this._userInfo.tryUsedTimes[this._userInfo.roleSkinId]<3&&(this._userInfo.roleSkinId=0)},e.prototype.addTrySkinTryUsedTimes=function(e){this._userInfo.tryUsedTimes||(this._userInfo.tryUsedTimes=[]),this._userInfo.tryUsedTimes[e]||(this._userInfo.tryUsedTimes[e]=0),this._userInfo.tryUsedTimes[e]++},e.prototype.addSkinProgress=function(){this._userInfo.skinProgress||(this._userInfo.skinProgress=0),this._userInfo.skinProgress++},e.prototype.getAdShowTimes=function(e){return this._userInfo.videoShowTimes||(this._userInfo.videoShowTimes={}),this._userInfo.videoShowTimes[e]||(this._userInfo.videoShowTimes[e]=0),this._userInfo.videoShowTimes[e]},e.prototype.addAdShowTimes=function(e){this._userInfo.videoShowTimes||(this._userInfo.videoShowTimes={}),this._userInfo.videoShowTimes[e]||(this._userInfo.videoShowTimes[e]=0),this._userInfo.videoShowTimes[e]++,this.saveData()},e.prototype.addSqureVideoTimes=function(e){this._userInfo.squreVideoShowTimes||(this._userInfo.squreVideoShowTimes=[]),this._userInfo.squreVideoShowTimes[e]||(this._userInfo.squreVideoShowTimes[e]=0),this._userInfo.squreVideoShowTimes[e]++},e.prototype.getSqureVideTimes=function(e){return this._userInfo.squreVideoShowTimes||(this._userInfo.squreVideoShowTimes=[]),this._userInfo.squreVideoShowTimes[e]||(this._userInfo.squreVideoShowTimes[e]=0),console.log("=====:",this._userInfo.squreVideoShowTimes[e]),this._userInfo.squreVideoShowTimes[e]},e.prototype.setIsTeach=function(e){this._userInfo.teachIds||(this._userInfo.teachIds=[]),console.log("setIsTEached\uff1a",e),this._userInfo.teachIds.push(e),this.saveData()},e.prototype.getIsTeach=function(e){return this._userInfo.teachIds||(this._userInfo.teachIds=[]),-1!=this._userInfo.teachIds.indexOf(e)},e.prototype.addStarNum=function(e,t){this._userInfo.rankStarNum||(this._userInfo.rankStarNum=[]),this._userInfo.rankStarNum[e]?t>=this._userInfo.rankStarNum[e]&&(this._userInfo.rankStarNum[e]=t):this._userInfo.rankStarNum[e]=t},e.prototype.getStarNum=function(e){return this._userInfo.rankStarNum?this._userInfo.rankStarNum[e]:0},e.prototype.getSkinProgress=function(){return this._userInfo.skinProgress?this._userInfo.skinProgress:0},e.prototype.resetSkinProgress=function(){this._userInfo.skinProgress=0},e.prototype.draw=function(){this._userInfo.drawTimes||(this._userInfo.drawTimes=0),this._userInfo.drawTimes++,this.saveData()},e.prototype.getDrawTimes=function(){return 0|this._userInfo.drawTimes},e.prototype.resetDailyData=function(){e.getInstance().recoverPowerNumByTime(),(new Date).getDate()!=new Date(this._userInfo.lastLoginAt).getDate()?(this._userInfo.lastLoginAt=(new Date).getTime(),this._userInfo.isDoubleGet=0,this._userInfo.curDayPlayRanNum=0,this._userInfo.drawTimes=0,this._userInfo.videoShowTimes={},console.log("\u91cd\u7f6e\u4eca\u5929\u6570\u636e"),this.saveData()):console.log("\u540c\u4e00\u5929\u4e0d\u91cd\u7f6e")},e.getUnlockSkinInfo=function(){for(var t={},n=1;n<=5;n++){console.log("===Calc:\u201d",i.Calc);var o=i.Calc.getPlantInfo(n);if(e.getInstance().userInfo.userPlantInfo[n])for(var a=0;a<o.skinAniNames.length;a++)(!e.getInstance().userInfo.userPlantInfo[n][a]||e.getInstance().userInfo.userPlantInfo[n][a]<2)&&(t[n]||(t[n]=[]),t[n].push(a));else t[n]=[0,1,2,3]}return console.log("unloc",t),t},e.getUnPurchaseSkinInfo=function(){for(var t={},n=1;n<=10;n++){var o=i.Calc.getPlantInfo(n);if(console.log("plant:",o.skinAniNames),e.getInstance().userInfo.userPlantInfo[n])for(var a=0;a<o.skinAniNames.length;a++)1==e.getInstance().userInfo.userPlantInfo[n][a]&&(t[n]||(t[n]=[]),t[n].push(a))}return console.log("unloc",t),t},e.getRandomPlantSkin=function(){var e=this.getUnlockSkinInfo(),t=Object.keys(e),n=Math.floor(Math.random()*t.length),o=(n+1)%t.length,i=[];return i.push({plantId:Number(t[n]),skinId:Math.floor(e[t[n]].length*Math.random())},{plantId:Number(t[o]),skinId:Math.floor(e[t[o]].length*Math.random())}),i},e.getRandomUnPlantSkin=function(){var e=this.getUnPurchaseSkinInfo(),t=Object.keys(e),n=[],o=Math.floor(t.length*Math.random()),i=Number(t[o]),a=e[i][0];n.push({plantId:i,skinId:a});var r=Math.floor(t.length*Math.random());o==r&&t.length>1&&(r=0!=r?r-1:r+1);var s,c=Number(t[r]);return s=c==i?e[i].length>1?e[i][1]:e[i][0]:e[c][0],n.push({plantId:c,skinId:s}),n},e.prototype.signDouble=function(e){this._userInfo.isDoubleGet=1,e(),this.saveData()},e.prototype.sign=function(e){this.checkIsSigned()||(this._userInfo.signAt=(new Date).getTime(),this._userInfo.signTimes++,this._userInfo.signTimes=Math.min(7,this._userInfo.signTimes),e(),this.saveData())},e.prototype.getSign1Time=function(){return e.getInstance()._userInfo.signTimes1||(e.getInstance()._userInfo.signTimes1=0),e.getInstance()._userInfo.signTimes1},e.prototype.sign1=function(){this.checkIsSigned1()||(this._userInfo.signTimes1||(this._userInfo.signTimes1=0),this._userInfo.signAt1=(new Date).getTime(),this._userInfo.signTimes1++,this._userInfo.signTimes1=Math.min(21,this._userInfo.signTimes1),this.saveData())},e.prototype.checkIsSigned=function(){return new Date(this._userInfo.signAt).getDate()==(new Date).getDate()},e.prototype.checkIsSigned1=function(){return new Date(this._userInfo.signAt1).getDate()==(new Date).getDate()},e.prototype.saveData=function(){cc.sys.localStorage.setItem(r,JSON.stringify(this._userInfo))},e.prototype.addKeysNumProgress=function(){if(!(this._userInfo.keysNum>=3))return this._userInfo.curKeyGetProgress++,this.userInfo.curKeyGetProgress>=2?(this._userInfo.keysNum++,this._userInfo.curKeyGetProgress=0,this.saveData(),this._userInfo.keysNum):0},e.prototype.useKeyNum=function(){this._userInfo.keysNum<=0||(this._userInfo.keysNum--,this.saveData())},e.prototype.addCoinNum=function(e){this._userInfo.coinNum||(this._userInfo.coinNum=0),console.log("===addCoinNum:",e),this._userInfo.coinNum+=e,this._userInfo.coinNum=Math.max(0,this._userInfo.coinNum),this.saveData()},e.prototype.addPassedRank=function(){this.saveData()},e.prototype.setPassedRank=function(e){this._userInfo.passedRank<=e&&(this._userInfo.curDayPlayRanNum||(this._userInfo.curDayPlayRanNum=0),this._userInfo.curDayPlayRanNum++),this._userInfo.passedRank=this._userInfo.passedRank>e?this._userInfo.passedRank:e,this.saveData()},Object.defineProperty(e.prototype,"userInfo",{get:function(){return this._userInfo},enumerable:!1,configurable:!0}),e.prototype.checkIsPlantUnlock=function(e){return this._userInfo.userPlantInfo[e]?this._userInfo.userPlantInfo[e][0]:0},e.prototype.checkIsGotSkinPlant=function(e,t){return this._userInfo.userPlantInfo[e]?0==e?2:this._userInfo.userPlantInfo[e][t]:0},e.prototype.unlockRank=function(){this._userInfo.curDayPlayRanNum=0,this.saveData()},e.prototype.unlockPlant=function(e){this._userInfo.userPlantInfo[e],this._userInfo.userPlantInfo[e]=[1],this.saveData()},e.prototype.purchasePlant=function(e,t){if(this._userInfo.userPlantInfo[e]&&2!=this._userInfo.userPlantInfo[e][0]){if(this._userInfo.userPlantInfo[e][0]=2,1!=e)for(var n=1;n<=5;n++)2!=this._userInfo.userPlantInfo[e][n]&&(this._userInfo.userPlantInfo[e][n]=1);else for(n=1;n<=3;n++)2!=this._userInfo.userPlantInfo[e][n]&&(this._userInfo.userPlantInfo[e][n]=1);t&&t(),this._userInfo.curSelectId=e,this.saveData()}},e.prototype.unlockSkin=function(e,t,n){this._userInfo.userPlantInfo[e]||(this._userInfo.userPlantInfo[e]=[2]),2!=this._userInfo.userPlantInfo[e][t]&&(console.log("\u89e3\u9501\u76ae\u80a4%d  %d",e,t),this._userInfo.userPlantInfo[e][t]=1),console.log("====:",this._userInfo.userPlantInfo[e][t]),n&&n(),this.saveData()},e.prototype.purchaseSkin=function(e,t,n){this._userInfo.userPlantInfo[e]?2==this._userInfo.userPlantInfo[e][0]?(console.log("\u8d2d\u4e70\u76ae\u80a4"),this._userInfo.userPlantInfo[e][t]=2,n&&n(),this.saveData()):o.ShopTips.show("\u8bf7\u5148\u8d2d\u4e70\u690d\u7269~"):console.error("\u672a\u67e5\u627e\u5230\u690d\u7269\u4fe1\u606f",e)},e.prototype.selectPlant=function(e){this._userInfo.curSelectId=e,this.saveData()},e.prototype.selectRoleSkin=function(e){this._userInfo.roleSkinId=e},e.prototype.selectSkin=function(e,t){this._userInfo.curSelectskinId[e]=t,this.saveData()},e.dataName="biezhen_data",e._isNew=0,e}();n.UserData=s,cc._RF.pop()},{"../UI/ShopTips":void 0,"../Utils/EventsManager":"EventsManager","../calc/Calc":"Calc"}],Utils:[function(e,t,n){"use strict";cc._RF.push(t,"fb88e8k5dBMYb+fyth8e/VY","Utils"),Object.defineProperty(n,"__esModule",{value:!0}),n.Utils=void 0;var o=e("./Const"),i=e("../GameConfig"),a=function(){function e(){}return e.getIconURLByReward=function(e){switch(e.type){case o.UserGoodsType.consume:case o.UserGoodsType.gun:}return""},e.getReadableStrForBigNum=function(e){return e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(console.log("=====:",e),Math.round(e/1e3)+"k"):String(e)},e.normalFomateTime=function(e,t){var n=Math.floor(e/1e3/60/60),i=Math.floor(e/1e3/60%60),a=Math.floor(e/1e3%60),r=(n>=10?"":"0")+n,s=(i>=10?"":"0")+i,c=(a>=10?"":"0")+a;switch(t){case o.timeFomationType.hourMin:return r+":"+s;case o.timeFomationType.minSe:return s+":"+c}return r+":"+s+":"+c},e.addLabelAdTips=function(e,t){if(!e.getChildByName("adTip")){var n=new cc.Node,o=n.addComponent(cc.Label);o.string="\u8bbf\u95ee\u5e7f\u544a",n.opacity=100,n.name="adTip",o.fontSize=20,t&&n.setPosition(t),e.addChild(n)}},e.addImageAdTips=function(e,t,n){var o=e.getChildByName("adTip");if(o)return console.log("\u5df2\u6709\u89c6\u9891\u6807\u8bb0"),void(o.active=!0);cc.resources.load("Prefebs/fangwen",cc.Prefab,function(o,i){if(!o){var a=cc.instantiate(i);a.opacity=100,a.name="adTip",t&&a.setPosition(t),n&&a.setContentSize(n),e.addChild(a)}})},e.removeAdTips=function(e){var t=e.getChildByName("adTip");t&&(console.log("\u8bf7\u51fa\u89c6\u9891\u6807\u8bb0"),t.active=!1,e.removeChild(t,!0))},e.showPopUIDLG=function(e,t,n,o){e.center(),e.pivotY=.5,e.pivotX=.5,n?(e.node.setPosition(i.GameConfig.gameRealWidth/2,i.GameConfig.gameHeight/2),cc.director.getScene().addChild(e.node)):(fgui.GRoot.inst.showPopup(e),e.setPosition(0,0)),1==t?(e.x=-750,fgui.GTween.to2(-750,0,0,0,.3).setTarget(e,e.setPosition).setEase(fgui.EaseType.BackOut).onComplete(function(){o&&o()})):fgui.GTween.to2(.1,.1,1,1,.1).setTarget(e,e.setScale).setEase(fgui.EaseType.BounceOut).onComplete(function(){o&&o()})},e.setShipinAlpha=function(e,t){e.getChild("shipin")&&(e.getChild("shipin").asCom.alpha=t)},e.generateBg=function(e,t){var n=new cc.Node;if(n.setContentSize(750,1700),1==t){var o=n.addComponent(cc.Sprite);return cc.resources.load("mainUI/"+e,cc.SpriteFrame,function(e,t){e||(o.spriteFrame=t)}),n.setScale(1.1,1.1),n}var i=new cc.Node,a=i.addComponent(cc.Sprite);cc.resources.load("mainUI/"+e+"0",cc.SpriteFrame,function(e,t){e||(a.spriteFrame=t)}),i.anchorY=0;var r=new cc.Node,s=r.addComponent(cc.Sprite);return cc.resources.load("mainUI/"+e+"1",cc.SpriteFrame,function(e,t){e||(s.spriteFrame=t)}),r.anchorY=1,r.setScale(1.1,1.1),i.setScale(1.1,1.1),i.setPosition(0,0),r.setPosition(0,0),n.addChild(i),n.addChild(r),n},e.getRewardIconURLInfo=function(e){return{icon:void 0,bg:void 0,rare:"",isFragment:this._isFragment(e.type)?1:0}},e.generalBtnClick=function(e,t){console.log("====\u70b9\u51fb\uff1a",e.name);var n=e.node,o=n.scaleX;n.anchorX=.5,n.anchorY=.5,n.off(cc.Node.EventType.TOUCH_START),n.off(cc.Node.EventType.TOUCH_END),n.off(cc.Node.EventType.TOUCH_CANCEL),n.on(cc.Node.EventType.TOUCH_START,function(){n.setScale(o+.1,o+.1)}),n.on(cc.Node.EventType.TOUCH_END,function(e){n.setScale(o,o),t({event:e})}),n.on(cc.Node.EventType.TOUCH_CANCEL,function(){n.setScale(o,o)})},e.generateDragon=function(e,t,n,o){var i=new cc.Node,a=i.addComponent(dragonBones.ArmatureDisplay);return cc.resources.loadDir(e,function(e,i){if(e)console.error(e);else{for(var r=0;r<i.length;r++)i[r]instanceof dragonBones.DragonBonesAsset&&(a.dragonAsset=i[r]),i[r]instanceof dragonBones.DragonBonesAtlasAsset&&(a.dragonAtlasAsset=i[r]);a.armatureName=t||"Armature",a.playAnimation(n||"newAnimation",o||0)}}),i},e.loadDragon=function(e,t,n,o,i){cc.resources.loadDir(t,function(t,a){if(t)console.error(t);else{console.log("assets:",a);for(var r=0;r<a.length;r++)a[r]instanceof dragonBones.DragonBonesAsset&&(e.dragonAsset=a[r]),a[r]instanceof dragonBones.DragonBonesAtlasAsset&&(e.dragonAtlasAsset=a[r]);e.armatureName=n||e.getArmatureNames()[0],console.log(e.getArmatureNames()),e.playAnimation(o||"newAnimation",i||0)}})},e.generateImage=function(e){var t=new cc.Node,n=t.addComponent(cc.Sprite);return cc.resources.load(e,cc.SpriteFrame,function(e,t){e||(n.spriteFrame=t)}),t},e.loadImage=function(e,t){var n=e.getComponent(cc.Sprite);if(n)return cc.resources.load(t,cc.SpriteFrame,function(e,t){e||(n.spriteFrame=t)}),e;console.error("\u4e0b\u8f7d\u56fe\u7247\u5931\u8d25")},e._isFragment=function(e){return e==o.UserGoodsType.guuFragment||e==o.UserGoodsType.roleFragment||e==o.UserGoodsType.runeFragment||e==o.UserGoodsType.skinFragment||e==o.UserGoodsType.wingFragment},e.getRewardMulti=function(e,t){return{type:e.type,id:e.id,value:e.value*t}},e.getRewardsMulti=function(e,t){for(var n=[],o=0;o<e.length;o++)n.push(this.getRewardMulti(e[o],t));return n},e.getSSRName=function(e){switch(e){case o.RareType.white:return"R";case o.RareType.green:return"SR";case o.RareType.blue:return"SSR";case o.RareType.purple:return"UR";case o.RareType.gold:return"UR+"}},e}();n.Utils=a,cc._RF.pop()},{"../GameConfig":"GameConfig","./Const":"Const"}],WeChat:[function(e,t,n){"use strict";cc._RF.push(t,"9eaac+FNfFLdImF3BeBdFp9","WeChat");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.WeChat=void 0;var a=e("./HttpsTools"),r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.login=function(e){window.wx.login({success:function(t){var n=this;console.log("wxres:",t.code),t.code?a.HttpsTools.login("wxLogin",function(t,o){e(o.wxData.openid,"wx"),n._name=o.wxData.openid,console.log("======:,\u8bf7\u6c42QQ\u6210\u529f\u5566")},{wxCode:t.code}):console.log("\u767b\u5f55\u5931\u8d25\uff01"+t.errMsg)}})},t.prototype.showInterstitialAd=function(t){window.black&&(1==window.black&&Math.random()<.3||2==window.black&&Math.random()<.6||e.prototype.showInterstitialAd.call(this,t))},t.prototype.initSDK=function(t){e.prototype.initSDK.call(this,t),window.wx.showShareMenu({withShareTicket:!0}),e.prototype.onShow.call(this),this._initShouQAds(),window.wx.onShareAppMessage({title:"@\u4f60\uff0c\u4e0d\u6765\u4e00\u5c40\u5207\u6c34\u679c\u5417\uff1f",imageUrlId:"kZl55wjNSd600Rmao4sTqw",shareTicket:t+"&&"+(new Date).getTime(),imageUrl:"https://mmocgame.qpic.cn/wechatgame/xQIymonI7UCvXTE9chZO0hh0LxPg3kdSSOicfvuibicuibgKibe9zblywFRr6zeWutUL4/0",query:"key1="+t+"&key2="+(new Date).getTime(),success:function(){},fail:function(){}});var n=window.wx.getUpdateManager();n.onUpdateReady(function(){window.wx.showModal({title:"\u66f4\u65b0\u63d0\u793a",content:"\u65b0\u7248\u672c\u5df2\u7ecf\u51c6\u5907\u597d\uff0c\u662f\u5426\u91cd\u542f\u5e94\u7528\uff1f",success:function(e){e.confirm&&n.applyUpdate()}})}),console.log("===\u521d\u59cb\u5316QQ\u7ed3\u675f")},t.prototype._initShouQAds=function(){var e=this;this._rewardedVideoAd=window.wx.createRewardedVideoAd({adUnitId:"adunit-3995b746e31eb596"}),this._rewardedVideoAd&&(this._rewardedVideoAd.onError(function(e){console.log(e)}),this._rewardedVideoAd.onLoad(function(){e._isCreateVidioAdSuccess=!0,console.log("====\u89c6\u9891\u8fd8\u6709\u7684")}),this._rewardedVideoAd.onClose(function(t){t&&t.isEnded||void 0===t?e._seeVideoSuccessCallBack&&(e._seeVideoSuccessCallBack(),e._seeVideoSuccessCallBack=void 0):e._seeVideoFailCallBack&&(e._seeVideoFailCallBack(),e._seeVideoFailCallBack=void 0)}));var t=window.wx.getSystemInfoSync().screenHeight,n=window.wx.getSystemInfoSync().screenWidth;this._bannerAd=window.wx.createBannerAd({adUnitId:"adunit-f6fb28580172a256",adIntervals:30,style:{left:100,top:76,width:n/2}}),this._bannerAd.onError(function(e){console.log(e)}),this._bannerAd.onLoad(function(){e._isCreateBannerAdSuccess=!0,console.log("====bnaner\u8fd8\u6709\u7684")}),this._bannerAd.onResize(function(n){console.log("banner onResize",n),e._bannerAd.style.top=t-e._bannerAd.style.realHeight-5,e._bannerAd.style.left=45}),this._interstitialAd=window.wx.createInterstitialAd({adUnitId:"adunit-67269b9c88089449"}),this._interstitialAd.onError(function(e){console.log(e)}),this._interstitialAd.onLoad(function(){e._isCreateInteAdSuccess=!0,console.log("====\u63d2\u5c4f\u8fd8\u6709\u7684")}),this._interstitialAd.onClose(function(){console.log("====\u5173\u95ed\u63d2\u5c4f")})},t.prototype.share=function(e){var t=this;window.wx.shareAppMessage({title:"@\u4f60\uff0c\u4e0d\u6765\u4e00\u5c40\u5207\u6c34\u679c\u5417\uff1f",imageUrl:"https://mmocgame.qpic.cn/wechatgame/xQIymonI7UCvXTE9chZO0hh0LxPg3kdSSOicfvuibicuibgKibe9zblywFRr6zeWutUL4/0",success:function(){e()},fail:function(){t._onShareFail()}})},t.prototype.onShow=function(){var t=this;e.prototype.onShow.call(this),window.wx.onShow(function(e){console.log("========onShow:",e),t.shareAt&&(console.log("==shareSucess"),(new Date).getTime()-t.shareAt>2e3&&Math.random()<1?t._shareSuccessCallBack&&(t._shareSuccessCallBack(),t._shareFailCallBack=void 0,t._shareSuccessCallBack=void 0,t.shareAt=0):t._shareFailCallBack&&(t._shareFailCallBack(),t._shareFailCallBack=void 0,t._shareSuccessCallBack=void 0,t.shareAt=0))})},t.prototype.showAds=function(e,t){this.showqqAds(e,t)},t.prototype.showqqAds=function(e,t,n){var o=this;if(n){if(!this._rewardedVideoAd||!this._isCreateVidioAdSuccess)return this._shareFailCallBack=function(){t("\u5206\u4eab\u5931\u8d25\uff0c\u8bf7\u91cd\u65b0\u8bd5\u4e0b\u5462")},void window.wx.shareAppMessage({title:"@\u4f60\uff0c\u4e0d\u6765\u4e00\u5c40\u5207\u6c34\u679c\u5417\uff1f",imageUrlId:"kZl55wjNSd600Rmao4sTqw",imageUrl:"https://mmocgame.qpic.cn/wechatgame/xQIymonI7UCvXTE9chZO0hh0LxPg3kdSSOicfvuibicuibgKibe9zblywFRr6zeWutUL4/0",query:"key1="+this._name+"&key2="+(new Date).getTime(),success:function(){e()},fail:function(){t("\u5206\u4eab\u5931\u8d25\uff0c\u8bf7\u91cd\u65b0\u8bd5\u4e0b\u5462")}});this._rewardedVideoAd.show().then(function(){o._seeVideoSuccessCallBack=e,o._seeVideoFailCallBack=function(){t("\u5e7f\u544a\u6ca1\u770b\u5b8c\u54e6\uff0c\u4e0d\u53d1\u4f60\u5956\u52b1\uff01")}}).catch(function(){t("\u62c9\u53d6\u5e7f\u544a\u5931\u8d25\uff01"),window.wx.shareAppMessage({title:"@\u4f60\uff0c\u4e0d\u6765\u4e00\u5c40\u5207\u6c34\u679c\u5417\uff1f",imageUrlId:"kZl55wjNSd600Rmao4sTqw",imageUrl:"https://mmocgame.qpic.cn/wechatgame/xQIymonI7UCvXTE9chZO0hh0LxPg3kdSSOicfvuibicuibgKibe9zblywFRr6zeWutUL4/0",query:"key1="+o._name+"&key2="+(new Date).getTime(),success:function(){e()},fail:function(){t("\u5206\u4eab\u5931\u8d25\uff0c\u8bf7\u91cd\u65b0\u8bd5\u4e0b\u5462")}})})}else window.wx.shareAppMessage({title:"@\u4f60\uff0c\u4e0d\u6765\u4e00\u5c40\u5207\u6c34\u679c\u5417\uff1f",imageUrlId:"kZl55wjNSd600Rmao4sTqw",imageUrl:"https://mmocgame.qpic.cn/wechatgame/xQIymonI7UCvXTE9chZO0hh0LxPg3kdSSOicfvuibicuibgKibe9zblywFRr6zeWutUL4/0",query:"key1="+this._name+"&key2="+(new Date).getTime(),success:function(){e()},fail:function(){t("\u5206\u4eab\u5931\u8d25\uff0c\u8bf7\u91cd\u65b0\u8bd5\u4e0b\u5462")}})},t}(e("./ChannelSDK").ChannelSDK);n.WeChat=r,cc._RF.pop()},{"./ChannelSDK":"ChannelSDK","./HttpsTools":"HttpsTools"}],Xiaomi:[function(e,t,n){"use strict";cc._RF.push(t,"ba888SQX7pMH43iULha4saz","Xiaomi");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.Xiaomi=void 0;var a=e("./ChannelSDK"),r=e("./SoundManager"),s=e("../GameConfig"),c=e("./Const"),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.login=function(e){window.qg.login({success:function(){e("code","xiaomi")},fail:function(){},complete:function(){}})},t.prototype.initSDK=function(t){e.prototype.initSDK.call(this,t),s.GameConfig.channel,c.ChannelType.xiaomi,this._initxiaomiAds(),console.log("===\u5c0f\u7c73\u521d\u59cb\u5316")},t.prototype._initxiaomiAds=function(){var e=this;this._rewardedVideoAd=window.qg.createRewardedVideoAd({adUnitId:"12345"}),this._rewardedVideoAd.onError(function(){}),this._rewardedVideoAd.onLoad(function(){e._isCreateVidioAdSuccess=!0}),this._rewardedVideoAd.onClose(function(t){t&&t.isEnded||void 0===t?e._seeVideoSuccessCallBack&&(e._seeVideoSuccessCallBack(),e._seeVideoSuccessCallBack=void 0):e._seeVideoFailCallBack&&(e._seeVideoFailCallBack(),e._seeVideoFailCallBack=void 0),r.SoundManager.playMusic()}),this._interstitialAd=window.qg.createInterstitialAd({adUnitId:"12345"}),this._interstitialAd.onLoad(function(){e._isCreateInteAdSuccess=!0}),this._bannerAd=window.qg.createBannerAd({adUnitId:"12345"}),this._bannerAd.onLoad(function(){e._isCreateBannerAdSuccess=!0}),this._bannerAd.onResize(function(){e._bannerAd.style.left=20,e._bannerAd.style.left.top=window.qq.getSystemInfoSync().screenHeight-100+.1}),this._bannerAd.onError(function(){}),this._bannerAd.style.width=300},t.prototype.onShow=function(){},t.prototype.showAds=function(e,t){this.showbadiduAds(e,t)},t.prototype.showBanner=function(){this._bannerAd&&(this._isCreateBannerAdSuccess?this._bannerAd.show():this._bannerAd.load&&this._bannerAd.load())},t.prototype.showInterstitialAd=function(){this._interstitialAd&&(this._isCreateInteAdSuccess||!this._interstitialAd.load?this._interstitialAd.show():this._interstitialAd.load())},t.prototype.showbadiduAds=function(e,t){var n=this;if(this._rewardedVideoAd)return this._isCreateVidioAdSuccess?void this._rewardedVideoAd.show().then(function(){n._seeVideoSuccessCallBack=e,n._seeVideoFailCallBack=function(){t("\u5e7f\u544a\u6ca1\u770b\u5b8c\u54e6\uff0c\u4e0d\u53d1\u4f60\u5956\u52b1\uff01")}}).catch(function(){t("\u62c9\u53d6\u5e7f\u544a\u5931\u8d25\uff01"),r.SoundManager.playMusic()}):(t("\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25"),void this._rewardedVideoAd.load());t("\u6ca1\u6709\u5e7f\u544a\u4fe1\u606f\u5462")},t}(a.ChannelSDK);n.Xiaomi=l,cc._RF.pop()},{"../GameConfig":"GameConfig","./ChannelSDK":"ChannelSDK","./Const":"Const","./SoundManager":"SoundManager"}],htSdk:[function(e,t,n){"use strict";cc._RF.push(t,"6ca2cOcKTdJ7rmCPX3jX5HP","htSdk"),function(e,t){for(var n in t)e[n]=t[n]}(n,function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.lerr=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];e.unshift("====>"),console.error.apply(window,e)},e.llog=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];e.unshift("====>"),console.log.apply(window,e)},e.twoInt=function(e){return e<10?"0"+e:e},e.todayStr=function(){var t=new Date;return""+t.getFullYear()+e.twoInt(t.getMonth()+1)+e.twoInt(t.getDate())},e.randomInt=function(e,t){return Math.floor(Math.random()*(t-e+1)+e)},e.saveData=function(e,t){var n=window.localStorage;n&&n.setItem("kcSdk_"+e,t)},e.loadData=function(e){var t=window.localStorage;if(t){var n=t.getItem("kcSdk_"+e);if(n)return n}return null},e.encodeUTF8=function(e){var t,n,o,i=[];for(t=0;t<e.length;t++)(n=e.charCodeAt(t))<128?i.push(n):n<2048?i.push(192+(n>>6&31),128+(63&n)):((o=55296^n)>>10==0?(n=(o<<10)+(56320^e.charCodeAt(++t))+65536,i.push(240+(n>>18&7),128+(n>>12&63))):i.push(224+(n>>12&15)),i.push(128+(n>>6&63),128+(63&n)));return i},e.s=function(t){var n,o,i,a=new Uint8Array(e.encodeUTF8(t)),r=16+(a.length+8>>>6<<4);for((t=new Uint8Array(r<<2)).set(new Uint8Array(a.buffer)),t=new Uint32Array(t.buffer),i=new DataView(t.buffer),n=0;n<r;n++)t[n]=i.getUint32(n<<2);t[a.length>>2]|=128<<24-8*(3&a.length),t[r-1]=a.length<<3;var s=[],c=[function(){return u[1]&u[2]|~u[1]&u[3]},function(){return u[1]^u[2]^u[3]},function(){return u[1]&u[2]|u[1]&u[3]|u[2]&u[3]},function(){return u[1]^u[2]^u[3]}],l=function(e,t){return e<<t|e>>>32-t},d=[1518500249,1859775393,-1894007588,-899497514],u=[1732584193,-271733879,null,null,-1009589776];for(u[2]=~u[0],u[3]=~u[1],n=0;n<t.length;n+=16){var h=u.slice(0);for(o=0;o<80;o++)s[o]=o<16?t[n+o]:l(s[o-3]^s[o-8]^s[o-14]^s[o-16],1),i=l(u[0],5)+c[o/20|0]()+u[4]+s[o]+d[o/20|0]|0,u[1]=l(u[1],30),u.pop(),u.unshift(i);for(o=0;o<5;o++)u[o]=u[o]+h[o]|0}for(i=new DataView(new Uint32Array(u).buffer),n=0;n<5;n++)u[n]=i.getUint32(n<<2);return Array.prototype.map.call(new Uint8Array(new Uint32Array(u).buffer),function(e){return(e<16?"0":"")+e.toString(16)}).join("")},e.b=function(e){var t=[];for(var n in e)t.push(n);t=t.sort();for(var o="",i=0;i<t.length;i++){var a=e[t[i]];"object"==typeof a&&(a=this.b(a)),o+=t[i]+a}return o},e.a=function(t,n,o){var i=[];for(var a in t)null!==t[a]&&void 0!==t[a]?i.push(a):delete t[a];i=i.sort();var r=e.b(t);return n&&(r+=n),r+=o||"pH0Xhyenu2e1zdUg",e.s(r)},e.jax=function(t,n,o){o||(o=function(t){if(t)return e.lerr(t)});var i=new XMLHttpRequest,a=(new Date).getTime();n.s=e.a(n,a),i.open("POST",t,!0),i.setRequestHeader("Content-Type","application/json; charset=utf-8"),i.setRequestHeader("ts",""+a);var r=JSON.stringify(n);i.send(r),i.onload=function(){if(200==i.status){var t={jaxERR:""+i.responseText};try{t=JSON.parse(i.responseText)}catch(t){return e.lerr(t),o(null,{re:"1111",err:"jsonErr:"+i.responseText})}return o(null,t)}return o(null,{re:"9"+i.status})}},e}();t.jax=n.jax,t.llog=n.llog,t.lerr=n.lerr,t.saveData=n.saveData,t.loadData=n.loadData,t.randomInt=n.randomInt,t.todayStr=n.todayStr},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=function(){function e(){this.version="2.0.0",this.navGap=3e3,this.lastNavT=0,this.htHost="https://dk.gametdd.com/htApi/ht_api/",this.picType="jpg"}return e.instance=function(){return e.me?e.me:(e.me=new e,e.me)},e.prototype.getUid=function(){return e.Uid?e.Uid:(e.Uid=o.loadData("uid"),e.Uid||"null")},e.prototype.getOpenId=function(){return e.openId?e.openId:(e.openId=o.loadData("openId"),e.openId||"null")},e.prototype.setUid=function(t){t&&(e.Uid=t,o.saveData("uid",t))},e.prototype.setOpenId=function(t){t&&(e.openId=t,o.saveData("openId",t))},e.prototype.jht=function(t,n,i){e.Gid?(n.v=this.version,o.jax(this.htHost+t,n,function(e,t){return e||!t?(o.llog("jhtERR",e),i(e||new Error("no re"))):0!==t.re?(o.llog("jht FAILED!"+JSON.stringify(t)),i(new Error("err:"+t.re))):void i(null,t)})):o.llog("htSdk \u672a\u521d\u59cb\u5316!!jht")},e.prototype.init=function(t,n,i){var a=this;if(o.llog("HTS init v:"+this.version+","+t+","+!!n),!t)return o.llog("HTS no gid."),i(new Error("htSdk \u65e0gid"));e.Gid=t;var r=o.loadData("htHost");r&&(this.htHost=r);var s=o.loadData("picType");s&&(this.picType=s);var c={gid:t,uid:this.getUid(),openId:this.getOpenId()};o.llog("hts init start..."+this.picType+","+this.htHost),this.jht("init2",c,function(t,r){if(t)i(t);else if(o.llog("hts init done:"+r.re),a.setUid(r.uid),r.iconPre&&(e.IconPre=r.iconPre),r.picType&&(a.picType=r.picType,o.saveData("picType",r.picType)),r.navGap&&(a.navGap=r.navGap),i(null,"ok"),r.htHost&&r.htHost!==a.htHost&&(a.htHost=r.htHost,o.saveData("htHost",r.htHost)),n||(n=window.wx),n&&n.getLaunchOptionsSync){var s=n.getLaunchOptionsSync();a.jumpFrom(s.query)}})},e.prototype.getBox=function(t,n){var i=this;if(!e.IconPre||!e.Gid)return o.llog("htSdk \u672a\u521d\u59cb\u5316!!"+e.IconPre),n(new Error("htSdk \u672a\u521d\u59cb\u5316 getBox"));var a={bid:t};this.jht("getBox",a,function(o,a){if(o)return n(o);if(!a.arr||a.arr.length<=0)return n(new Error("\u670d\u52a1\u914d\u7f6e\u6709\u8befbid:"+t));for(var r=[],s=0;s<a.arr.length;s++){for(var c=a.arr[s],l=[],d=0;d<c.length;d++){var u=c[d].split("@"),h="",p="";u.length>=4&&"0"!==u[3]&&(h="_"+u[3]),u.length>=5&&(p=u[4]),l.push({jumpKey:u[1],mid:u[0],iconUrl:e.IconPre+u[0]+h+"."+i.picType,txt:u[2],mark:p})}r.push(l)}n(null,r)})},e.prototype.jumpTo=function(t,n,i){var a=this;if(e.Gid){var r=(new Date).getTime();if(r-this.lastNavT<this.navGap)o.llog("jumpTo too");else{this.lastNavT=r;var s={gid:e.Gid,uid:this.getUid(),bid:t,mid:n};t?n?(i&&(s.fail="true"),o.llog("jumpTo",JSON.stringify(s)),this.jht("jumpTo",s,function(e,t){e||a.setUid(t.uid)})):o.llog("jumpTo \u65e0mid"):o.llog("jumpTo \u65e0bid")}}else o.llog("htSdk \u672a\u521d\u59cb\u5316!! jumpTo")},e.prototype.jumpFail=function(e,t){this.jumpTo(e,t,!0)},e.prototype.navigateToMiniProgram=function(t,n){if(e.Gid)if(n||(n=window.wx),n){var i="hts_gid="+e.Gid,a=o.loadData("hts_link");a&&a.length>5&&(i+="&hts_link="+a),t.path&&t.path.length>0?t.path+="&"+i:t.path="?"+i,n.navigateToMiniProgram(t)}else o.llog("navigateToMiniProgram \u65e0channelObj");else o.llog("htSdk \u672a\u521d\u59cb\u5316!!navigateToMiniProgram")},e.prototype.jumpFrom=function(t){var n=this;if(e.Gid)if(t)if(o.llog("query",t),t.hts_gid){var i={query:t,gid:e.Gid,uid:this.getUid(),openId:this.getOpenId()};o.llog("jumpFrom",JSON.stringify(i)),this.jht("jumpFrom",i,function(e,t){e||(t.hts_link&&o.saveData("hts_link",t.hts_link),t.uid&&n.setUid(t.uid))})}else o.llog("jumpFrom no hts_gid:",t);else o.llog("jumpFrom query is empty!",t);else o.llog("htSdk \u672a\u521d\u59cb\u5316!!jumpFrom")},e.prototype.bindOpenId=function(t,n){this.jht("bindOpenId",{openId:t,gid:e.Gid,uid:this.getUid()},n),this.setOpenId(t)},e.prototype.codeForOpenId=function(t,n){var i=this;this.jht("codeForOpenId",{code:t,uid:this.getUid(),gid:e.Gid},function(e,t){if(e)return o.lerr(e),n(e);t.data?(t.data.openid&&i.setOpenId(t.data.openid),n(null,t.data)):n(),t.uid&&i.setUid(t.uid)})},e.prototype.stageLog=function(t,n,i){this.jht("stageLog",{eventName:t,stageId:n,openId:this.getOpenId(),gid:e.Gid,uid:this.getUid(),userProps:i},function(e){if(e)return o.lerr(e)})},e.prototype.stageStart=function(e,t){this.stageLog("start",e,t)},e.prototype.stageFail=function(e,t){this.stageLog("fail",e,t)},e.prototype.stageComplet=function(e,t){this.stageLog("complet",e,t)},e.prototype.userUpdate=function(t){this.jht("userUpdate",{openId:this.getOpenId(),gid:e.Gid,uid:this.getUid(),userProps:t},function(e){if(e)return o.lerr(e)})},e.prototype.eventReport=function(t,n,i){this.jht("eventReport",{eventName:t,eventProp:n,openId:this.getOpenId(),gid:e.Gid,uid:this.getUid(),userProps:i},function(e){if(e)return o.lerr(e)})},e.prototype.getSharePic=function(e,t){this.jht("getSharePic",{game:e},t)},e.prototype.shareTo=function(e){this.jht("shareTo",{wxPicId:e},function(t){t?o.lerr(t):o.llog("shareTo OK,"+e)})},e.prototype.shareFrom=function(e){this.jht("shareFrom",{wxPicId:e},function(t){t?o.lerr(t):o.llog("shareFrom OK,"+e)})},e.prototype.jreq=function(e,t,n){o.jax(e,t,n)},e}();t.default=i.instance()}])),cc._RF.pop()},{}]},{},["UserData","GameConfig","Test","BaseScene","GameUI","NativeAdReward","NativePrebs","CardPrfebs","SceneLoading","Baidu","ChannelHelper","ChannelSDK","Const","EventsManager","HttpsTools","Huawei","Liantong","LoadingUtils","Log","Meizu","PoolMananger","RedPointManager","ResConst","ResourceManager","ShopTips","ShouQ","SoundManager","SourceManager","TextureRenderUtils","Toutiao","Utils","WeChat","Xiaomi","Calc","PlantInfoData","RankData11","PlayHitNumEffect","Hts","KdSdk","Kds","htSdk","BullectCreateManger","GameControl","GameData","Bastion","Bullet","Enemy","Plant","PlantSpecialControl","Burst","HitEffect","LaserBullet","LightingFight"]);